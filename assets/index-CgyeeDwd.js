(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function i(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(c){if(c.ep)return;c.ep=!0;const f=i(c);fetch(c.href,f)}})();function jy(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var tf={exports:{}},hr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function a_(){if(o0)return hr;o0=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(r,c,f){var h=null;if(f!==void 0&&(h=""+f),c.key!==void 0&&(h=""+c.key),"key"in c){f={};for(var p in c)p!=="key"&&(f[p]=c[p])}else f=c;return c=f.ref,{$$typeof:l,type:r,key:h,ref:c!==void 0?c:null,props:f}}return hr.Fragment=n,hr.jsx=i,hr.jsxs=i,hr}var c0;function r_(){return c0||(c0=1,tf.exports=a_()),tf.exports}var u=r_(),nf={exports:{}},de={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function o_(){if(u0)return de;u0=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),v=Symbol.iterator;function k(w){return w===null||typeof w!="object"?null:(w=v&&w[v]||w["@@iterator"],typeof w=="function"?w:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,xe={};function J(w,U,P){this.props=w,this.context=U,this.refs=xe,this.updater=P||V}J.prototype.isReactComponent={},J.prototype.setState=function(w,U){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,U,"setState")},J.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function he(){}he.prototype=J.prototype;function ge(w,U,P){this.props=w,this.context=U,this.refs=xe,this.updater=P||V}var ae=ge.prototype=new he;ae.constructor=ge,K(ae,J.prototype),ae.isPureReactComponent=!0;var at=Array.isArray;function Qe(){}var ce={H:null,A:null,T:null,S:null},Ae=Object.prototype.hasOwnProperty;function pt(w,U,P){var Z=P.ref;return{$$typeof:l,type:w,key:U,ref:Z!==void 0?Z:null,props:P}}function _t(w,U){return pt(w.type,U,w.props)}function gt(w){return typeof w=="object"&&w!==null&&w.$$typeof===l}function Ie(w){var U={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(P){return U[P]})}var Jt=/\/+/g;function St(w,U){return typeof w=="object"&&w!==null&&w.key!=null?Ie(""+w.key):U.toString(36)}function ne(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(Qe,Qe):(w.status="pending",w.then(function(U){w.status==="pending"&&(w.status="fulfilled",w.value=U)},function(U){w.status==="pending"&&(w.status="rejected",w.reason=U)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function z(w,U,P,Z,ie){var me=typeof w;(me==="undefined"||me==="boolean")&&(w=null);var fe=!1;if(w===null)fe=!0;else switch(me){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(w.$$typeof){case l:case n:fe=!0;break;case N:return fe=w._init,z(fe(w._payload),U,P,Z,ie)}}if(fe)return ie=ie(w),fe=Z===""?"."+St(w,0):Z,at(ie)?(P="",fe!=null&&(P=fe.replace(Jt,"$&/")+"/"),z(ie,U,P,"",function(qn){return qn})):ie!=null&&(gt(ie)&&(ie=_t(ie,P+(ie.key==null||w&&w.key===ie.key?"":(""+ie.key).replace(Jt,"$&/")+"/")+fe)),U.push(ie)),1;fe=0;var lt=Z===""?".":Z+":";if(at(w))for(var Fe=0;Fe<w.length;Fe++)Z=w[Fe],me=lt+St(Z,Fe),fe+=z(Z,U,P,me,ie);else if(Fe=k(w),typeof Fe=="function")for(w=Fe.call(w),Fe=0;!(Z=w.next()).done;)Z=Z.value,me=lt+St(Z,Fe++),fe+=z(Z,U,P,me,ie);else if(me==="object"){if(typeof w.then=="function")return z(ne(w),U,P,Z,ie);throw U=String(w),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return fe}function G(w,U,P){if(w==null)return w;var Z=[],ie=0;return z(w,Z,"","",function(me){return U.call(P,me,ie++)}),Z}function F(w){if(w._status===-1){var U=w._result;U=U(),U.then(function(P){(w._status===0||w._status===-1)&&(w._status=1,w._result=P)},function(P){(w._status===0||w._status===-1)&&(w._status=2,w._result=P)}),w._status===-1&&(w._status=0,w._result=U)}if(w._status===1)return w._result.default;throw w._result}var we=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},ve={map:G,forEach:function(w,U,P){G(w,function(){U.apply(this,arguments)},P)},count:function(w){var U=0;return G(w,function(){U++}),U},toArray:function(w){return G(w,function(U){return U})||[]},only:function(w){if(!gt(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return de.Activity=_,de.Children=ve,de.Component=J,de.Fragment=i,de.Profiler=c,de.PureComponent=ge,de.StrictMode=r,de.Suspense=y,de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,de.__COMPILER_RUNTIME={__proto__:null,c:function(w){return ce.H.useMemoCache(w)}},de.cache=function(w){return function(){return w.apply(null,arguments)}},de.cacheSignal=function(){return null},de.cloneElement=function(w,U,P){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var Z=K({},w.props),ie=w.key;if(U!=null)for(me in U.key!==void 0&&(ie=""+U.key),U)!Ae.call(U,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&U.ref===void 0||(Z[me]=U[me]);var me=arguments.length-2;if(me===1)Z.children=P;else if(1<me){for(var fe=Array(me),lt=0;lt<me;lt++)fe[lt]=arguments[lt+2];Z.children=fe}return pt(w.type,ie,Z)},de.createContext=function(w){return w={$$typeof:h,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:f,_context:w},w},de.createElement=function(w,U,P){var Z,ie={},me=null;if(U!=null)for(Z in U.key!==void 0&&(me=""+U.key),U)Ae.call(U,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ie[Z]=U[Z]);var fe=arguments.length-2;if(fe===1)ie.children=P;else if(1<fe){for(var lt=Array(fe),Fe=0;Fe<fe;Fe++)lt[Fe]=arguments[Fe+2];ie.children=lt}if(w&&w.defaultProps)for(Z in fe=w.defaultProps,fe)ie[Z]===void 0&&(ie[Z]=fe[Z]);return pt(w,me,ie)},de.createRef=function(){return{current:null}},de.forwardRef=function(w){return{$$typeof:p,render:w}},de.isValidElement=gt,de.lazy=function(w){return{$$typeof:N,_payload:{_status:-1,_result:w},_init:F}},de.memo=function(w,U){return{$$typeof:g,type:w,compare:U===void 0?null:U}},de.startTransition=function(w){var U=ce.T,P={};ce.T=P;try{var Z=w(),ie=ce.S;ie!==null&&ie(P,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(Qe,we)}catch(me){we(me)}finally{U!==null&&P.types!==null&&(U.types=P.types),ce.T=U}},de.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},de.use=function(w){return ce.H.use(w)},de.useActionState=function(w,U,P){return ce.H.useActionState(w,U,P)},de.useCallback=function(w,U){return ce.H.useCallback(w,U)},de.useContext=function(w){return ce.H.useContext(w)},de.useDebugValue=function(){},de.useDeferredValue=function(w,U){return ce.H.useDeferredValue(w,U)},de.useEffect=function(w,U){return ce.H.useEffect(w,U)},de.useEffectEvent=function(w){return ce.H.useEffectEvent(w)},de.useId=function(){return ce.H.useId()},de.useImperativeHandle=function(w,U,P){return ce.H.useImperativeHandle(w,U,P)},de.useInsertionEffect=function(w,U){return ce.H.useInsertionEffect(w,U)},de.useLayoutEffect=function(w,U){return ce.H.useLayoutEffect(w,U)},de.useMemo=function(w,U){return ce.H.useMemo(w,U)},de.useOptimistic=function(w,U){return ce.H.useOptimistic(w,U)},de.useReducer=function(w,U,P){return ce.H.useReducer(w,U,P)},de.useRef=function(w){return ce.H.useRef(w)},de.useState=function(w){return ce.H.useState(w)},de.useSyncExternalStore=function(w,U,P){return ce.H.useSyncExternalStore(w,U,P)},de.useTransition=function(){return ce.H.useTransition()},de.version="19.2.3",de}var d0;function Yf(){return d0||(d0=1,nf.exports=o_()),nf.exports}var O=Yf();const Ir=jy(O);var sf={exports:{}},mr={},lf={exports:{}},af={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function c_(){return f0||(f0=1,(function(l){function n(z,G){var F=z.length;z.push(G);e:for(;0<F;){var we=F-1>>>1,ve=z[we];if(0<c(ve,G))z[we]=G,z[F]=ve,F=we;else break e}}function i(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var G=z[0],F=z.pop();if(F!==G){z[0]=F;e:for(var we=0,ve=z.length,w=ve>>>1;we<w;){var U=2*(we+1)-1,P=z[U],Z=U+1,ie=z[Z];if(0>c(P,F))Z<ve&&0>c(ie,P)?(z[we]=ie,z[Z]=F,we=Z):(z[we]=P,z[U]=F,we=U);else if(Z<ve&&0>c(ie,F))z[we]=ie,z[Z]=F,we=Z;else break e}}return G}function c(z,G){var F=z.sortIndex-G.sortIndex;return F!==0?F:z.id-G.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;l.unstable_now=function(){return f.now()}}else{var h=Date,p=h.now();l.unstable_now=function(){return h.now()-p}}var y=[],g=[],N=1,_=null,v=3,k=!1,V=!1,K=!1,xe=!1,J=typeof setTimeout=="function"?setTimeout:null,he=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;function ae(z){for(var G=i(g);G!==null;){if(G.callback===null)r(g);else if(G.startTime<=z)r(g),G.sortIndex=G.expirationTime,n(y,G);else break;G=i(g)}}function at(z){if(K=!1,ae(z),!V)if(i(y)!==null)V=!0,Qe||(Qe=!0,Ie());else{var G=i(g);G!==null&&ne(at,G.startTime-z)}}var Qe=!1,ce=-1,Ae=5,pt=-1;function _t(){return xe?!0:!(l.unstable_now()-pt<Ae)}function gt(){if(xe=!1,Qe){var z=l.unstable_now();pt=z;var G=!0;try{e:{V=!1,K&&(K=!1,he(ce),ce=-1),k=!0;var F=v;try{t:{for(ae(z),_=i(y);_!==null&&!(_.expirationTime>z&&_t());){var we=_.callback;if(typeof we=="function"){_.callback=null,v=_.priorityLevel;var ve=we(_.expirationTime<=z);if(z=l.unstable_now(),typeof ve=="function"){_.callback=ve,ae(z),G=!0;break t}_===i(y)&&r(y),ae(z)}else r(y);_=i(y)}if(_!==null)G=!0;else{var w=i(g);w!==null&&ne(at,w.startTime-z),G=!1}}break e}finally{_=null,v=F,k=!1}G=void 0}}finally{G?Ie():Qe=!1}}}var Ie;if(typeof ge=="function")Ie=function(){ge(gt)};else if(typeof MessageChannel<"u"){var Jt=new MessageChannel,St=Jt.port2;Jt.port1.onmessage=gt,Ie=function(){St.postMessage(null)}}else Ie=function(){J(gt,0)};function ne(z,G){ce=J(function(){z(l.unstable_now())},G)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(z){z.callback=null},l.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ae=0<z?Math.floor(1e3/z):5},l.unstable_getCurrentPriorityLevel=function(){return v},l.unstable_next=function(z){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var F=v;v=G;try{return z()}finally{v=F}},l.unstable_requestPaint=function(){xe=!0},l.unstable_runWithPriority=function(z,G){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var F=v;v=z;try{return G()}finally{v=F}},l.unstable_scheduleCallback=function(z,G,F){var we=l.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?we+F:we):F=we,z){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=F+ve,z={id:N++,callback:G,priorityLevel:z,startTime:F,expirationTime:ve,sortIndex:-1},F>we?(z.sortIndex=F,n(g,z),i(y)===null&&z===i(g)&&(K?(he(ce),ce=-1):K=!0,ne(at,F-we))):(z.sortIndex=ve,n(y,z),V||k||(V=!0,Qe||(Qe=!0,Ie()))),z},l.unstable_shouldYield=_t,l.unstable_wrapCallback=function(z){var G=v;return function(){var F=v;v=G;try{return z.apply(this,arguments)}finally{v=F}}}})(af)),af}var h0;function u_(){return h0||(h0=1,lf.exports=c_()),lf.exports}var rf={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function d_(){if(m0)return Yt;m0=1;var l=Yf();function n(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var N=2;N<arguments.length;N++)g+="&args[]="+encodeURIComponent(arguments[N])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(y,g,N){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:_==null?null:""+_,children:y,containerInfo:g,implementation:N}}var h=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Yt.createPortal=function(y,g){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return f(y,g,null,N)},Yt.flushSync=function(y){var g=h.T,N=r.p;try{if(h.T=null,r.p=2,y)return y()}finally{h.T=g,r.p=N,r.d.f()}},Yt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(y,g))},Yt.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Yt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var N=g.as,_=p(N,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;N==="style"?r.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:k}):N==="script"&&r.d.X(y,{crossOrigin:_,integrity:v,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Yt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var N=p(g.as,g.crossOrigin);r.d.M(y,{crossOrigin:N,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(y)},Yt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var N=g.as,_=p(N,g.crossOrigin);r.d.L(y,N,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Yt.preloadModule=function(y,g){if(typeof y=="string")if(g){var N=p(g.as,g.crossOrigin);r.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:N,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(y)},Yt.requestFormReset=function(y){r.d.r(y)},Yt.unstable_batchedUpdates=function(y,g){return y(g)},Yt.useFormState=function(y,g,N){return h.H.useFormState(y,g,N)},Yt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Yt.version="19.2.3",Yt}var p0;function f_(){if(p0)return rf.exports;p0=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),rf.exports=d_(),rf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function h_(){if(g0)return mr;g0=1;var l=u_(),n=Yf(),i=f_();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(r(188))}function g(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var s=e,a=t;;){var o=s.return;if(o===null)break;var d=o.alternate;if(d===null){if(a=o.return,a!==null){s=a;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===s)return y(o),e;if(d===a)return y(o),t;d=d.sibling}throw Error(r(188))}if(s.return!==a.return)s=o,a=d;else{for(var m=!1,x=o.child;x;){if(x===s){m=!0,s=o,a=d;break}if(x===a){m=!0,a=o,s=d;break}x=x.sibling}if(!m){for(x=d.child;x;){if(x===s){m=!0,s=d,a=o;break}if(x===a){m=!0,a=d,s=o;break}x=x.sibling}if(!m)throw Error(r(189))}}if(s.alternate!==a)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:t}function N(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=N(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,v=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),xe=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),he=Symbol.for("react.consumer"),ge=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),Qe=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),pt=Symbol.for("react.activity"),_t=Symbol.for("react.memo_cache_sentinel"),gt=Symbol.iterator;function Ie(e){return e===null||typeof e!="object"?null:(e=gt&&e[gt]||e["@@iterator"],typeof e=="function"?e:null)}var Jt=Symbol.for("react.client.reference");function St(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Jt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case K:return"Fragment";case J:return"Profiler";case xe:return"StrictMode";case at:return"Suspense";case Qe:return"SuspenseList";case pt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case V:return"Portal";case ge:return e.displayName||"Context";case he:return(e._context.displayName||"Context")+".Consumer";case ae:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ce:return t=e.displayName||null,t!==null?t:St(e.type)||"Memo";case Ae:t=e._payload,e=e._init;try{return St(e(t))}catch{}}return null}var ne=Array.isArray,z=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},we=[],ve=-1;function w(e){return{current:e}}function U(e){0>ve||(e.current=we[ve],we[ve]=null,ve--)}function P(e,t){ve++,we[ve]=e.current,e.current=t}var Z=w(null),ie=w(null),me=w(null),fe=w(null);function lt(e,t){switch(P(me,t),P(ie,e),P(Z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Mg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Mg(t),e=kg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(Z),P(Z,e)}function Fe(){U(Z),U(ie),U(me)}function qn(e){e.memoizedState!==null&&P(fe,e);var t=Z.current,s=kg(t,e.type);t!==s&&(P(ie,e),P(Z,s))}function Ms(e){ie.current===e&&(U(Z),U(ie)),fe.current===e&&(U(fe),cr._currentValue=F)}var Yn,ts;function Pt(e){if(Yn===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Yn=t&&t[1]||"",ts=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yn+e+ts}var Be=!1;function $(e,t){if(!e||Be)return"";Be=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(M){var D=M}Reflect.construct(e,[],B)}else{try{B.call()}catch(M){D=M}e.call(B.prototype)}}else{try{throw Error()}catch(M){D=M}(B=e())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(M){if(M&&D&&typeof M.stack=="string")return[M.stack,D.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=a.DetermineComponentFrameRoot(),m=d[0],x=d[1];if(m&&x){var S=m.split(`
`),A=x.split(`
`);for(o=a=0;a<S.length&&!S[a].includes("DetermineComponentFrameRoot");)a++;for(;o<A.length&&!A[o].includes("DetermineComponentFrameRoot");)o++;if(a===S.length||o===A.length)for(a=S.length-1,o=A.length-1;1<=a&&0<=o&&S[a]!==A[o];)o--;for(;1<=a&&0<=o;a--,o--)if(S[a]!==A[o]){if(a!==1||o!==1)do if(a--,o--,0>o||S[a]!==A[o]){var L=`
`+S[a].replace(" at new "," at ");return e.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",e.displayName)),L}while(1<=a&&0<=o);break}}}finally{Be=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Pt(s):""}function ft(e,t){switch(e.tag){case 26:case 27:case 5:return Pt(e.type);case 16:return Pt("Lazy");case 13:return e.child!==t&&t!==null?Pt("Suspense Fallback"):Pt("Suspense");case 19:return Pt("SuspenseList");case 0:case 15:return $(e.type,!1);case 11:return $(e.type.render,!1);case 1:return $(e.type,!0);case 31:return Pt("Activity");default:return""}}function Le(e){try{var t="",s=null;do t+=ft(e,s),s=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var An=Object.prototype.hasOwnProperty,Nt=l.unstable_scheduleCallback,yn=l.unstable_cancelCallback,ti=l.unstable_shouldYield,ma=l.unstable_requestPaint,Qt=l.unstable_now,tu=l.unstable_getCurrentPriorityLevel,Zr=l.unstable_ImmediatePriority,Kr=l.unstable_UserBlockingPriority,ns=l.unstable_NormalPriority,ni=l.unstable_LowPriority,xl=l.unstable_IdlePriority,pa=l.log,ga=l.unstable_setDisableYieldValue,ks=null,nt=null;function Xt(e){if(typeof pa=="function"&&ga(e),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(ks,e)}catch{}}var Ft=Math.clz32?Math.clz32:Wr,nu=Math.log,Rh=Math.LN2;function Wr(e){return e>>>=0,e===0?32:31-(nu(e)/Rh|0)|0}var Rs=256,si=262144,li=4194304;function ss(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Os(e,t,s){var a=e.pendingLanes;if(a===0)return 0;var o=0,d=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var x=a&134217727;return x!==0?(a=x&~d,a!==0?o=ss(a):(m&=x,m!==0?o=ss(m):s||(s=x&~e,s!==0&&(o=ss(s))))):(x=a&~d,x!==0?o=ss(x):m!==0?o=ss(m):s||(s=a&~e,s!==0&&(o=ss(s)))),o===0?0:t!==0&&t!==o&&(t&d)===0&&(d=o&-o,s=t&-t,d>=s||d===32&&(s&4194048)!==0)?t:o}function Ct(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ya(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rn(){var e=li;return li<<=1,(li&62914560)===0&&(li=4194304),e}function ii(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function ls(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oh(e,t,s,a,o,d){var m=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var x=e.entanglements,S=e.expirationTimes,A=e.hiddenUpdates;for(s=m&~s;0<s;){var L=31-Ft(s),B=1<<L;x[L]=0,S[L]=-1;var D=A[L];if(D!==null)for(A[L]=null,L=0;L<D.length;L++){var M=D[L];M!==null&&(M.lane&=-536870913)}s&=~B}a!==0&&ai(e,a,0),d!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=d&~(m&~t))}function ai(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Ft(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|s&261930}function is(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var a=31-Ft(s),o=1<<a;o&t|e[a]&t&&(e[a]|=t),s&=~o}}function Jr(e,t){var s=t&-t;return s=(s&42)!==0?1:zs(s),(s&(e.suspendedLanes|t))!==0?0:s}function zs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ri(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function eo(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:t0(e.type))}function xa(e,t){var s=G.p;try{return G.p=e,t()}finally{G.p=s}}var Dn=Math.random().toString(36).slice(2),wt="__reactFiber$"+Dn,Je="__reactProps$"+Dn,Gn="__reactContainer$"+Dn,as="__reactEvents$"+Dn,vl="__reactListeners$"+Dn,zh="__reactHandles$"+Dn,va="__reactResources$"+Dn,oi="__reactMarker$"+Dn;function ci(e){delete e[wt],delete e[Je],delete e[as],delete e[vl],delete e[zh]}function bl(e){var t=e[wt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Gn]||s[wt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Hg(e);e!==null;){if(s=e[wt])return s;e=Hg(e)}return t}e=s,s=e.parentNode}return null}function _l(e){if(e=e[wt]||e[Gn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Sl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Ls(e){var t=e[va];return t||(t=e[va]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function it(e){e[oi]=!0}var ba=new Set,ui={};function Vn(e,t){Pn(e,t),Pn(e+"Capture",t)}function Pn(e,t){for(ui[e]=t,e=0;e<t.length;e++)ba.add(t[e])}var to=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),di={},_a={};function no(e){return An.call(_a,e)?!0:An.call(di,e)?!1:to.test(e)?_a[e]=!0:(di[e]=!0,!1)}function Nl(e,t,s){if(no(t))if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+s)}}function Cl(e,t,s){if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+s)}}function Mn(e,t,s,a){if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(t,s,""+a)}}function It(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function so(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lo(e,t,s){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var o=a.get,d=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){s=""+m,d.call(this,m)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(m){s=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function on(e){if(!e._valueTracker){var t=so(e)?"checked":"value";e._valueTracker=lo(e,t,""+e[t])}}function fi(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),a="";return e&&(a=so(e)?e.checked?"true":"false":e.value),e=a,e!==s?(t.setValue(e),!0):!1}function xn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hi=/[\n"\\]/g;function Rt(e){return e.replace(hi,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function $s(e,t,s,a,o,d,m,x){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+It(t)):e.value!==""+It(t)&&(e.value=""+It(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?wl(e,m,It(t)):s!=null?wl(e,m,It(s)):a!=null&&e.removeAttribute("value"),o==null&&d!=null&&(e.defaultChecked=!!d),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+It(x):e.removeAttribute("name")}function Sa(e,t,s,a,o,d,m,x){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){on(e);return}s=s!=null?""+It(s):"",t=t!=null?""+It(t):s,x||t===e.value||(e.value=t),e.defaultValue=t}a=a??o,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=x?e.checked:!!a,e.defaultChecked=!!a,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),on(e)}function wl(e,t,s){t==="number"&&xn(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function rs(e,t,s,a){if(e=e.options,t){t={};for(var o=0;o<s.length;o++)t["$"+s[o]]=!0;for(s=0;s<e.length;s++)o=t.hasOwnProperty("$"+e[s].value),e[s].selected!==o&&(e[s].selected=o),o&&a&&(e[s].defaultSelected=!0)}else{for(s=""+It(s),t=null,o=0;o<e.length;o++){if(e[o].value===s){e[o].selected=!0,a&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function b(e,t,s){if(t!=null&&(t=""+It(t),t!==e.value&&(e.value=t),s==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=s!=null?""+It(s):""}function io(e,t,s,a){if(t==null){if(a!=null){if(s!=null)throw Error(r(92));if(ne(a)){if(1<a.length)throw Error(r(93));a=a[0]}s=a}s==null&&(s=""),t=s}s=It(t),e.defaultValue=s,a=e.textContent,a===s&&a!==""&&a!==null&&(e.value=a),on(e)}function kn(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var De=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function El(e,t,s){var a=t.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,s):typeof s!="number"||s===0||De.has(t)?t==="float"?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function jl(e,t,s){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,s!=null){for(var a in s)!s.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var o in t)a=t[o],t.hasOwnProperty(o)&&s[o]!==a&&El(e,o,a)}else for(var d in t)t.hasOwnProperty(d)&&El(e,d,t[d])}function Na(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ao=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),su=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Us(e){return su.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Rn(){}var Ca=null;function mi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hs=null,Is=null;function ro(e){var t=_l(e);if(t&&(e=t.stateNode)){var s=e[Je]||null;e:switch(e=t.stateNode,t.type){case"input":if($s(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Rt(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var a=s[t];if(a!==e&&a.form===e.form){var o=a[Je]||null;if(!o)throw Error(r(90));$s(a,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<s.length;t++)a=s[t],a.form===e.form&&fi(a)}break e;case"textarea":b(e,s.value,s.defaultValue);break e;case"select":t=s.value,t!=null&&rs(e,!!s.multiple,t,!1)}}}var wa=!1;function oo(e,t,s){if(wa)return e(t,s);wa=!0;try{var a=e(t);return a}finally{if(wa=!1,(Hs!==null||Is!==null)&&(Po(),Hs&&(t=Hs,e=Is,Is=Hs=null,ro(t),e)))for(t=0;t<e.length;t++)ro(e[t])}}function Tl(e,t){var s=e.stateNode;if(s===null)return null;var a=s[Je]||null;if(a===null)return null;s=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,t,typeof s));return s}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ea=!1;if(On)try{var Al={};Object.defineProperty(Al,"passive",{get:function(){Ea=!0}}),window.addEventListener("test",Al,Al),window.removeEventListener("test",Al,Al)}catch{Ea=!1}var Qn=null,ja=null,pi=null;function cn(){if(pi)return pi;var e,t=ja,s=t.length,a,o="value"in Qn?Qn.value:Qn.textContent,d=o.length;for(e=0;e<s&&t[e]===o[e];e++);var m=s-e;for(a=1;a<=m&&t[s-a]===o[d-a];a++);return pi=o.slice(e,1<a?1-a:void 0)}function gi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yi(){return!0}function co(){return!1}function Bt(e){function t(s,a,o,d,m){this._reactName=s,this._targetInst=o,this.type=a,this.nativeEvent=d,this.target=m,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(s=e[x],this[x]=s?s(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?yi:co,this.isPropagationStopped=co,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=yi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=yi)},persist:function(){},isPersistent:yi}),t}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=Bt(os),Dl=_({},os,{view:0,detail:0}),lu=Bt(Dl),Ta,Aa,Ml,vi=_({},Dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:au,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ml&&(Ml&&e.type==="mousemove"?(Ta=e.screenX-Ml.screenX,Aa=e.screenY-Ml.screenY):Aa=Ta=0,Ml=e),Ta)},movementY:function(e){return"movementY"in e?e.movementY:Aa}}),iu=Bt(vi),C=_({},vi,{dataTransfer:0}),q=Bt(C),R=_({},Dl,{relatedTarget:0}),I=Bt(R),Y=_({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),te=Bt(Y),X=_({},os,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qe=Bt(X),se=_({},os,{data:0}),rt=Bt(se),At={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zn[e])?!!t[e]:!1}function au(){return gv}var yv=_({},Dl,{key:function(e){if(e.key){var t=At[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qt[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:au,charCode:function(e){return e.type==="keypress"?gi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xv=Bt(yv),vv=_({},vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lh=Bt(vv),bv=_({},Dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:au}),_v=Bt(bv),Sv=_({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nv=Bt(Sv),Cv=_({},vi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wv=Bt(Cv),Ev=_({},os,{newState:0,oldState:0}),jv=Bt(Ev),Tv=[9,13,27,32],ru=On&&"CompositionEvent"in window,Da=null;On&&"documentMode"in document&&(Da=document.documentMode);var Av=On&&"TextEvent"in window&&!Da,$h=On&&(!ru||Da&&8<Da&&11>=Da),Uh=" ",Hh=!1;function Ih(e,t){switch(e){case"keyup":return Tv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bi=!1;function Dv(e,t){switch(e){case"compositionend":return Bh(t);case"keypress":return t.which!==32?null:(Hh=!0,Uh);case"textInput":return e=t.data,e===Uh&&Hh?null:e;default:return null}}function Mv(e,t){if(bi)return e==="compositionend"||!ru&&Ih(e,t)?(e=cn(),pi=ja=Qn=null,bi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $h&&t.locale!=="ko"?null:t.data;default:return null}}var kv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kv[e.type]:t==="textarea"}function Yh(e,t,s,a){Hs?Is?Is.push(a):Is=[a]:Hs=a,t=Jo(t,"onChange"),0<t.length&&(s=new xi("onChange","change",null,s,a),e.push({event:s,listeners:t}))}var Ma=null,ka=null;function Rv(e){wg(e,0)}function uo(e){var t=Sl(e);if(fi(t))return e}function Gh(e,t){if(e==="change")return t}var Vh=!1;if(On){var ou;if(On){var cu="oninput"in document;if(!cu){var Ph=document.createElement("div");Ph.setAttribute("oninput","return;"),cu=typeof Ph.oninput=="function"}ou=cu}else ou=!1;Vh=ou&&(!document.documentMode||9<document.documentMode)}function Qh(){Ma&&(Ma.detachEvent("onpropertychange",Xh),ka=Ma=null)}function Xh(e){if(e.propertyName==="value"&&uo(ka)){var t=[];Yh(t,ka,e,mi(e)),oo(Rv,t)}}function Ov(e,t,s){e==="focusin"?(Qh(),Ma=t,ka=s,Ma.attachEvent("onpropertychange",Xh)):e==="focusout"&&Qh()}function zv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uo(ka)}function Lv(e,t){if(e==="click")return uo(t)}function $v(e,t){if(e==="input"||e==="change")return uo(t)}function Uv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var un=typeof Object.is=="function"?Object.is:Uv;function Ra(e,t){if(un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var o=s[a];if(!An.call(t,o)||!un(e[o],t[o]))return!1}return!0}function Fh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zh(e,t){var s=Fh(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=t&&a>=t)return{node:s,offset:t-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Fh(s)}}function Kh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=xn(e.document);t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=xn(e.document)}return t}function uu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Hv=On&&"documentMode"in document&&11>=document.documentMode,_i=null,du=null,Oa=null,fu=!1;function Jh(e,t,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;fu||_i==null||_i!==xn(a)||(a=_i,"selectionStart"in a&&uu(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Oa&&Ra(Oa,a)||(Oa=a,a=Jo(du,"onSelect"),0<a.length&&(t=new xi("onSelect","select",null,t,s),e.push({event:t,listeners:a}),t.target=_i)))}function kl(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Si={animationend:kl("Animation","AnimationEnd"),animationiteration:kl("Animation","AnimationIteration"),animationstart:kl("Animation","AnimationStart"),transitionrun:kl("Transition","TransitionRun"),transitionstart:kl("Transition","TransitionStart"),transitioncancel:kl("Transition","TransitionCancel"),transitionend:kl("Transition","TransitionEnd")},hu={},em={};On&&(em=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);function Rl(e){if(hu[e])return hu[e];if(!Si[e])return e;var t=Si[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in em)return hu[e]=t[s];return e}var tm=Rl("animationend"),nm=Rl("animationiteration"),sm=Rl("animationstart"),Iv=Rl("transitionrun"),Bv=Rl("transitionstart"),qv=Rl("transitioncancel"),lm=Rl("transitionend"),im=new Map,mu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mu.push("scrollEnd");function Ln(e,t){im.set(e,t),Vn(t,[e])}var fo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},vn=[],Ni=0,pu=0;function ho(){for(var e=Ni,t=pu=Ni=0;t<e;){var s=vn[t];vn[t++]=null;var a=vn[t];vn[t++]=null;var o=vn[t];vn[t++]=null;var d=vn[t];if(vn[t++]=null,a!==null&&o!==null){var m=a.pending;m===null?o.next=o:(o.next=m.next,m.next=o),a.pending=o}d!==0&&am(s,o,d)}}function mo(e,t,s,a){vn[Ni++]=e,vn[Ni++]=t,vn[Ni++]=s,vn[Ni++]=a,pu|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function gu(e,t,s,a){return mo(e,t,s,a),po(e)}function Ol(e,t){return mo(e,null,null,t),po(e)}function am(e,t,s){e.lanes|=s;var a=e.alternate;a!==null&&(a.lanes|=s);for(var o=!1,d=e.return;d!==null;)d.childLanes|=s,a=d.alternate,a!==null&&(a.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(o=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,o&&t!==null&&(o=31-Ft(s),e=d.hiddenUpdates,a=e[o],a===null?e[o]=[t]:a.push(t),t.lane=s|536870912),d):null}function po(e){if(50<nr)throw nr=0,wd=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ci={};function Yv(e,t,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,t,s,a){return new Yv(e,t,s,a)}function yu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cs(e,t){var s=e.alternate;return s===null?(s=dn(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function rm(e,t){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function go(e,t,s,a,o,d){var m=0;if(a=e,typeof e=="function")yu(e)&&(m=1);else if(typeof e=="string")m=Xb(e,s,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case pt:return e=dn(31,s,t,o),e.elementType=pt,e.lanes=d,e;case K:return zl(s.children,o,d,t);case xe:m=8,o|=24;break;case J:return e=dn(12,s,t,o|2),e.elementType=J,e.lanes=d,e;case at:return e=dn(13,s,t,o),e.elementType=at,e.lanes=d,e;case Qe:return e=dn(19,s,t,o),e.elementType=Qe,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ge:m=10;break e;case he:m=9;break e;case ae:m=11;break e;case ce:m=14;break e;case Ae:m=16,a=null;break e}m=29,s=Error(r(130,e===null?"null":typeof e,"")),a=null}return t=dn(m,s,t,o),t.elementType=e,t.type=a,t.lanes=d,t}function zl(e,t,s,a){return e=dn(7,e,a,t),e.lanes=s,e}function xu(e,t,s){return e=dn(6,e,null,t),e.lanes=s,e}function om(e){var t=dn(18,null,null,0);return t.stateNode=e,t}function vu(e,t,s){return t=dn(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var cm=new WeakMap;function bn(e,t){if(typeof e=="object"&&e!==null){var s=cm.get(e);return s!==void 0?s:(t={value:e,source:t,stack:Le(t)},cm.set(e,t),t)}return{value:e,source:t,stack:Le(t)}}var wi=[],Ei=0,yo=null,za=0,_n=[],Sn=0,Bs=null,Xn=1,Fn="";function us(e,t){wi[Ei++]=za,wi[Ei++]=yo,yo=e,za=t}function um(e,t,s){_n[Sn++]=Xn,_n[Sn++]=Fn,_n[Sn++]=Bs,Bs=e;var a=Xn;e=Fn;var o=32-Ft(a)-1;a&=~(1<<o),s+=1;var d=32-Ft(t)+o;if(30<d){var m=o-o%5;d=(a&(1<<m)-1).toString(32),a>>=m,o-=m,Xn=1<<32-Ft(t)+o|s<<o|a,Fn=d+e}else Xn=1<<d|s<<o|a,Fn=e}function bu(e){e.return!==null&&(us(e,1),um(e,1,0))}function _u(e){for(;e===yo;)yo=wi[--Ei],wi[Ei]=null,za=wi[--Ei],wi[Ei]=null;for(;e===Bs;)Bs=_n[--Sn],_n[Sn]=null,Fn=_n[--Sn],_n[Sn]=null,Xn=_n[--Sn],_n[Sn]=null}function dm(e,t){_n[Sn++]=Xn,_n[Sn++]=Fn,_n[Sn++]=Bs,Xn=t.id,Fn=t.overflow,Bs=e}var Ot=null,et=null,Te=!1,qs=null,Nn=!1,Su=Error(r(519));function Ys(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw La(bn(t,e)),Su}function fm(e){var t=e.stateNode,s=e.type,a=e.memoizedProps;switch(t[wt]=e,t[Je]=a,s){case"dialog":Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":case"embed":Ne("load",t);break;case"video":case"audio":for(s=0;s<lr.length;s++)Ne(lr[s],t);break;case"source":Ne("error",t);break;case"img":case"image":case"link":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"input":Ne("invalid",t),Sa(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Ne("invalid",t);break;case"textarea":Ne("invalid",t),io(t,a.value,a.defaultValue,a.children)}s=a.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||t.textContent===""+s||a.suppressHydrationWarning===!0||Ag(t.textContent,s)?(a.popover!=null&&(Ne("beforetoggle",t),Ne("toggle",t)),a.onScroll!=null&&Ne("scroll",t),a.onScrollEnd!=null&&Ne("scrollend",t),a.onClick!=null&&(t.onclick=Rn),t=!0):t=!1,t||Ys(e,!0)}function hm(e){for(Ot=e.return;Ot;)switch(Ot.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:Ot=Ot.return}}function ji(e){if(e!==Ot)return!1;if(!Te)return hm(e),Te=!0,!1;var t=e.tag,s;if((s=t!==3&&t!==27)&&((s=t===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Id(e.type,e.memoizedProps)),s=!s),s&&et&&Ys(e),hm(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));et=Ug(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));et=Ug(e)}else t===27?(t=et,sl(e.type)?(e=Vd,Vd=null,et=e):et=t):et=Ot?wn(e.stateNode.nextSibling):null;return!0}function Ll(){et=Ot=null,Te=!1}function Nu(){var e=qs;return e!==null&&(sn===null?sn=e:sn.push.apply(sn,e),qs=null),e}function La(e){qs===null?qs=[e]:qs.push(e)}var Cu=w(null),$l=null,ds=null;function Gs(e,t,s){P(Cu,t._currentValue),t._currentValue=s}function fs(e){e._currentValue=Cu.current,U(Cu)}function wu(e,t,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===s)break;e=e.return}}function Eu(e,t,s,a){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){var m=o.child;d=d.firstContext;e:for(;d!==null;){var x=d;d=o;for(var S=0;S<t.length;S++)if(x.context===t[S]){d.lanes|=s,x=d.alternate,x!==null&&(x.lanes|=s),wu(d.return,s,e),a||(m=null);break e}d=x.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(r(341));m.lanes|=s,d=m.alternate,d!==null&&(d.lanes|=s),wu(m,s,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function Ti(e,t,s,a){e=null;for(var o=t,d=!1;o!==null;){if(!d){if((o.flags&524288)!==0)d=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(r(387));if(m=m.memoizedProps,m!==null){var x=o.type;un(o.pendingProps.value,m.value)||(e!==null?e.push(x):e=[x])}}else if(o===fe.current){if(m=o.alternate,m===null)throw Error(r(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(cr):e=[cr])}o=o.return}e!==null&&Eu(t,e,s,a),t.flags|=262144}function xo(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ul(e){$l=e,ds=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function zt(e){return mm($l,e)}function vo(e,t){return $l===null&&Ul(e),mm(e,t)}function mm(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},ds===null){if(e===null)throw Error(r(308));ds=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ds=ds.next=t;return s}var Gv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(s,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(s){return s()})}},Vv=l.unstable_scheduleCallback,Pv=l.unstable_NormalPriority,yt={$$typeof:ge,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ju(){return{controller:new Gv,data:new Map,refCount:0}}function $a(e){e.refCount--,e.refCount===0&&Vv(Pv,function(){e.controller.abort()})}var Ua=null,Tu=0,Ai=0,Di=null;function Qv(e,t){if(Ua===null){var s=Ua=[];Tu=0,Ai=Md(),Di={status:"pending",value:void 0,then:function(a){s.push(a)}}}return Tu++,t.then(pm,pm),t}function pm(){if(--Tu===0&&Ua!==null){Di!==null&&(Di.status="fulfilled");var e=Ua;Ua=null,Ai=0,Di=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Xv(e,t){var s=[],a={status:"pending",value:null,reason:null,then:function(o){s.push(o)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var o=0;o<s.length;o++)(0,s[o])(t)},function(o){for(a.status="rejected",a.reason=o,o=0;o<s.length;o++)(0,s[o])(void 0)}),a}var gm=z.S;z.S=function(e,t){Jp=Qt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Qv(e,t),gm!==null&&gm(e,t)};var Hl=w(null);function Au(){var e=Hl.current;return e!==null?e:Xe.pooledCache}function bo(e,t){t===null?P(Hl,Hl.current):P(Hl,t.pool)}function ym(){var e=Au();return e===null?null:{parent:yt._currentValue,pool:e}}var Mi=Error(r(460)),Du=Error(r(474)),_o=Error(r(542)),So={then:function(){}};function xm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function vm(e,t,s){switch(s=e[s],s===void 0?e.push(t):s!==t&&(t.then(Rn,Rn),t=s),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_m(e),e;default:if(typeof t.status=="string")t.then(Rn,Rn);else{if(e=Xe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=a}},function(a){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_m(e),e}throw Bl=t,Mi}}function Il(e){try{var t=e._init;return t(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Bl=s,Mi):s}}var Bl=null;function bm(){if(Bl===null)throw Error(r(459));var e=Bl;return Bl=null,e}function _m(e){if(e===Mi||e===_o)throw Error(r(483))}var ki=null,Ha=0;function No(e){var t=Ha;return Ha+=1,ki===null&&(ki=[]),vm(ki,e,t)}function Ia(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Co(e,t){throw t.$$typeof===v?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Sm(e){function t(j,E){if(e){var T=j.deletions;T===null?(j.deletions=[E],j.flags|=16):T.push(E)}}function s(j,E){if(!e)return null;for(;E!==null;)t(j,E),E=E.sibling;return null}function a(j){for(var E=new Map;j!==null;)j.key!==null?E.set(j.key,j):E.set(j.index,j),j=j.sibling;return E}function o(j,E){return j=cs(j,E),j.index=0,j.sibling=null,j}function d(j,E,T){return j.index=T,e?(T=j.alternate,T!==null?(T=T.index,T<E?(j.flags|=67108866,E):T):(j.flags|=67108866,E)):(j.flags|=1048576,E)}function m(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function x(j,E,T,H){return E===null||E.tag!==6?(E=xu(T,j.mode,H),E.return=j,E):(E=o(E,T),E.return=j,E)}function S(j,E,T,H){var le=T.type;return le===K?L(j,E,T.props.children,H,T.key):E!==null&&(E.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Ae&&Il(le)===E.type)?(E=o(E,T.props),Ia(E,T),E.return=j,E):(E=go(T.type,T.key,T.props,null,j.mode,H),Ia(E,T),E.return=j,E)}function A(j,E,T,H){return E===null||E.tag!==4||E.stateNode.containerInfo!==T.containerInfo||E.stateNode.implementation!==T.implementation?(E=vu(T,j.mode,H),E.return=j,E):(E=o(E,T.children||[]),E.return=j,E)}function L(j,E,T,H,le){return E===null||E.tag!==7?(E=zl(T,j.mode,H,le),E.return=j,E):(E=o(E,T),E.return=j,E)}function B(j,E,T){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=xu(""+E,j.mode,T),E.return=j,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case k:return T=go(E.type,E.key,E.props,null,j.mode,T),Ia(T,E),T.return=j,T;case V:return E=vu(E,j.mode,T),E.return=j,E;case Ae:return E=Il(E),B(j,E,T)}if(ne(E)||Ie(E))return E=zl(E,j.mode,T,null),E.return=j,E;if(typeof E.then=="function")return B(j,No(E),T);if(E.$$typeof===ge)return B(j,vo(j,E),T);Co(j,E)}return null}function D(j,E,T,H){var le=E!==null?E.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return le!==null?null:x(j,E,""+T,H);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case k:return T.key===le?S(j,E,T,H):null;case V:return T.key===le?A(j,E,T,H):null;case Ae:return T=Il(T),D(j,E,T,H)}if(ne(T)||Ie(T))return le!==null?null:L(j,E,T,H,null);if(typeof T.then=="function")return D(j,E,No(T),H);if(T.$$typeof===ge)return D(j,E,vo(j,T),H);Co(j,T)}return null}function M(j,E,T,H,le){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return j=j.get(T)||null,x(E,j,""+H,le);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case k:return j=j.get(H.key===null?T:H.key)||null,S(E,j,H,le);case V:return j=j.get(H.key===null?T:H.key)||null,A(E,j,H,le);case Ae:return H=Il(H),M(j,E,T,H,le)}if(ne(H)||Ie(H))return j=j.get(T)||null,L(E,j,H,le,null);if(typeof H.then=="function")return M(j,E,T,No(H),le);if(H.$$typeof===ge)return M(j,E,T,vo(E,H),le);Co(E,H)}return null}function W(j,E,T,H){for(var le=null,Me=null,ee=E,ye=E=0,je=null;ee!==null&&ye<T.length;ye++){ee.index>ye?(je=ee,ee=null):je=ee.sibling;var ke=D(j,ee,T[ye],H);if(ke===null){ee===null&&(ee=je);break}e&&ee&&ke.alternate===null&&t(j,ee),E=d(ke,E,ye),Me===null?le=ke:Me.sibling=ke,Me=ke,ee=je}if(ye===T.length)return s(j,ee),Te&&us(j,ye),le;if(ee===null){for(;ye<T.length;ye++)ee=B(j,T[ye],H),ee!==null&&(E=d(ee,E,ye),Me===null?le=ee:Me.sibling=ee,Me=ee);return Te&&us(j,ye),le}for(ee=a(ee);ye<T.length;ye++)je=M(ee,j,ye,T[ye],H),je!==null&&(e&&je.alternate!==null&&ee.delete(je.key===null?ye:je.key),E=d(je,E,ye),Me===null?le=je:Me.sibling=je,Me=je);return e&&ee.forEach(function(ol){return t(j,ol)}),Te&&us(j,ye),le}function re(j,E,T,H){if(T==null)throw Error(r(151));for(var le=null,Me=null,ee=E,ye=E=0,je=null,ke=T.next();ee!==null&&!ke.done;ye++,ke=T.next()){ee.index>ye?(je=ee,ee=null):je=ee.sibling;var ol=D(j,ee,ke.value,H);if(ol===null){ee===null&&(ee=je);break}e&&ee&&ol.alternate===null&&t(j,ee),E=d(ol,E,ye),Me===null?le=ol:Me.sibling=ol,Me=ol,ee=je}if(ke.done)return s(j,ee),Te&&us(j,ye),le;if(ee===null){for(;!ke.done;ye++,ke=T.next())ke=B(j,ke.value,H),ke!==null&&(E=d(ke,E,ye),Me===null?le=ke:Me.sibling=ke,Me=ke);return Te&&us(j,ye),le}for(ee=a(ee);!ke.done;ye++,ke=T.next())ke=M(ee,j,ye,ke.value,H),ke!==null&&(e&&ke.alternate!==null&&ee.delete(ke.key===null?ye:ke.key),E=d(ke,E,ye),Me===null?le=ke:Me.sibling=ke,Me=ke);return e&&ee.forEach(function(i_){return t(j,i_)}),Te&&us(j,ye),le}function Ve(j,E,T,H){if(typeof T=="object"&&T!==null&&T.type===K&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case k:e:{for(var le=T.key;E!==null;){if(E.key===le){if(le=T.type,le===K){if(E.tag===7){s(j,E.sibling),H=o(E,T.props.children),H.return=j,j=H;break e}}else if(E.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Ae&&Il(le)===E.type){s(j,E.sibling),H=o(E,T.props),Ia(H,T),H.return=j,j=H;break e}s(j,E);break}else t(j,E);E=E.sibling}T.type===K?(H=zl(T.props.children,j.mode,H,T.key),H.return=j,j=H):(H=go(T.type,T.key,T.props,null,j.mode,H),Ia(H,T),H.return=j,j=H)}return m(j);case V:e:{for(le=T.key;E!==null;){if(E.key===le)if(E.tag===4&&E.stateNode.containerInfo===T.containerInfo&&E.stateNode.implementation===T.implementation){s(j,E.sibling),H=o(E,T.children||[]),H.return=j,j=H;break e}else{s(j,E);break}else t(j,E);E=E.sibling}H=vu(T,j.mode,H),H.return=j,j=H}return m(j);case Ae:return T=Il(T),Ve(j,E,T,H)}if(ne(T))return W(j,E,T,H);if(Ie(T)){if(le=Ie(T),typeof le!="function")throw Error(r(150));return T=le.call(T),re(j,E,T,H)}if(typeof T.then=="function")return Ve(j,E,No(T),H);if(T.$$typeof===ge)return Ve(j,E,vo(j,T),H);Co(j,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,E!==null&&E.tag===6?(s(j,E.sibling),H=o(E,T),H.return=j,j=H):(s(j,E),H=xu(T,j.mode,H),H.return=j,j=H),m(j)):s(j,E)}return function(j,E,T,H){try{Ha=0;var le=Ve(j,E,T,H);return ki=null,le}catch(ee){if(ee===Mi||ee===_o)throw ee;var Me=dn(29,ee,null,j.mode);return Me.lanes=H,Me.return=j,Me}finally{}}}var ql=Sm(!0),Nm=Sm(!1),Vs=!1;function Mu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ku(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ps(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Qs(e,t,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Oe&2)!==0){var o=a.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),a.pending=t,t=po(e),am(e,null,s),t}return mo(e,a,t,s),po(e)}function Ba(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,is(e,s)}}function Ru(e,t){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var o=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var m={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?o=d=m:d=d.next=m,s=s.next}while(s!==null);d===null?o=d=t:d=d.next=t}else o=d=t;s={baseState:a.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:a.shared,callbacks:a.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var Ou=!1;function qa(){if(Ou){var e=Di;if(e!==null)throw e}}function Ya(e,t,s,a){Ou=!1;var o=e.updateQueue;Vs=!1;var d=o.firstBaseUpdate,m=o.lastBaseUpdate,x=o.shared.pending;if(x!==null){o.shared.pending=null;var S=x,A=S.next;S.next=null,m===null?d=A:m.next=A,m=S;var L=e.alternate;L!==null&&(L=L.updateQueue,x=L.lastBaseUpdate,x!==m&&(x===null?L.firstBaseUpdate=A:x.next=A,L.lastBaseUpdate=S))}if(d!==null){var B=o.baseState;m=0,L=A=S=null,x=d;do{var D=x.lane&-536870913,M=D!==x.lane;if(M?(Ee&D)===D:(a&D)===D){D!==0&&D===Ai&&(Ou=!0),L!==null&&(L=L.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var W=e,re=x;D=t;var Ve=s;switch(re.tag){case 1:if(W=re.payload,typeof W=="function"){B=W.call(Ve,B,D);break e}B=W;break e;case 3:W.flags=W.flags&-65537|128;case 0:if(W=re.payload,D=typeof W=="function"?W.call(Ve,B,D):W,D==null)break e;B=_({},B,D);break e;case 2:Vs=!0}}D=x.callback,D!==null&&(e.flags|=64,M&&(e.flags|=8192),M=o.callbacks,M===null?o.callbacks=[D]:M.push(D))}else M={lane:D,tag:x.tag,payload:x.payload,callback:x.callback,next:null},L===null?(A=L=M,S=B):L=L.next=M,m|=D;if(x=x.next,x===null){if(x=o.shared.pending,x===null)break;M=x,x=M.next,M.next=null,o.lastBaseUpdate=M,o.shared.pending=null}}while(!0);L===null&&(S=B),o.baseState=S,o.firstBaseUpdate=A,o.lastBaseUpdate=L,d===null&&(o.shared.lanes=0),Ws|=m,e.lanes=m,e.memoizedState=B}}function Cm(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function wm(e,t){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Cm(s[e],t)}var Ri=w(null),wo=w(0);function Em(e,t){e=_s,P(wo,e),P(Ri,t),_s=e|t.baseLanes}function zu(){P(wo,_s),P(Ri,Ri.current)}function Lu(){_s=wo.current,U(Ri),U(wo)}var fn=w(null),Cn=null;function Xs(e){var t=e.alternate;P(ht,ht.current&1),P(fn,e),Cn===null&&(t===null||Ri.current!==null||t.memoizedState!==null)&&(Cn=e)}function $u(e){P(ht,ht.current),P(fn,e),Cn===null&&(Cn=e)}function jm(e){e.tag===22?(P(ht,ht.current),P(fn,e),Cn===null&&(Cn=e)):Fs()}function Fs(){P(ht,ht.current),P(fn,fn.current)}function hn(e){U(fn),Cn===e&&(Cn=null),U(ht)}var ht=w(0);function Eo(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Yd(s)||Gd(s)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hs=0,pe=null,Ye=null,xt=null,jo=!1,Oi=!1,Yl=!1,To=0,Ga=0,zi=null,Fv=0;function ot(){throw Error(r(321))}function Uu(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!un(e[s],t[s]))return!1;return!0}function Hu(e,t,s,a,o,d){return hs=d,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?up:ed,Yl=!1,d=s(a,o),Yl=!1,Oi&&(d=Am(t,s,a,o)),Tm(e),d}function Tm(e){z.H=Qa;var t=Ye!==null&&Ye.next!==null;if(hs=0,xt=Ye=pe=null,jo=!1,Ga=0,zi=null,t)throw Error(r(300));e===null||vt||(e=e.dependencies,e!==null&&xo(e)&&(vt=!0))}function Am(e,t,s,a){pe=e;var o=0;do{if(Oi&&(zi=null),Ga=0,Oi=!1,25<=o)throw Error(r(301));if(o+=1,xt=Ye=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}z.H=dp,d=t(s,a)}while(Oi);return d}function Zv(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?Va(t):t,e=e.useState()[0],(Ye!==null?Ye.memoizedState:null)!==e&&(pe.flags|=1024),t}function Iu(){var e=To!==0;return To=0,e}function Bu(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function qu(e){if(jo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}jo=!1}hs=0,xt=Ye=pe=null,Oi=!1,Ga=To=0,zi=null}function Zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?pe.memoizedState=xt=e:xt=xt.next=e,xt}function mt(){if(Ye===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=xt===null?pe.memoizedState:xt.next;if(t!==null)xt=t,Ye=e;else{if(e===null)throw pe.alternate===null?Error(r(467)):Error(r(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},xt===null?pe.memoizedState=xt=e:xt=xt.next=e}return xt}function Ao(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Va(e){var t=Ga;return Ga+=1,zi===null&&(zi=[]),e=vm(zi,e,t),t=pe,(xt===null?t.memoizedState:xt.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?up:ed),e}function Do(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Va(e);if(e.$$typeof===ge)return zt(e)}throw Error(r(438,String(e)))}function Yu(e){var t=null,s=pe.updateQueue;if(s!==null&&(t=s.memoCache),t==null){var a=pe.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),s===null&&(s=Ao(),pe.updateQueue=s),s.memoCache=t,s=t.data[t.index],s===void 0)for(s=t.data[t.index]=Array(e),a=0;a<e;a++)s[a]=_t;return t.index++,s}function ms(e,t){return typeof t=="function"?t(e):t}function Mo(e){var t=mt();return Gu(t,Ye,e)}function Gu(e,t,s){var a=e.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=s;var o=e.baseQueue,d=a.pending;if(d!==null){if(o!==null){var m=o.next;o.next=d.next,d.next=m}t.baseQueue=o=d,a.pending=null}if(d=e.baseState,o===null)e.memoizedState=d;else{t=o.next;var x=m=null,S=null,A=t,L=!1;do{var B=A.lane&-536870913;if(B!==A.lane?(Ee&B)===B:(hs&B)===B){var D=A.revertLane;if(D===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),B===Ai&&(L=!0);else if((hs&D)===D){A=A.next,D===Ai&&(L=!0);continue}else B={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},S===null?(x=S=B,m=d):S=S.next=B,pe.lanes|=D,Ws|=D;B=A.action,Yl&&s(d,B),d=A.hasEagerState?A.eagerState:s(d,B)}else D={lane:B,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},S===null?(x=S=D,m=d):S=S.next=D,pe.lanes|=B,Ws|=B;A=A.next}while(A!==null&&A!==t);if(S===null?m=d:S.next=x,!un(d,e.memoizedState)&&(vt=!0,L&&(s=Di,s!==null)))throw s;e.memoizedState=d,e.baseState=m,e.baseQueue=S,a.lastRenderedState=d}return o===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Vu(e){var t=mt(),s=t.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var a=s.dispatch,o=s.pending,d=t.memoizedState;if(o!==null){s.pending=null;var m=o=o.next;do d=e(d,m.action),m=m.next;while(m!==o);un(d,t.memoizedState)||(vt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),s.lastRenderedState=d}return[d,a]}function Dm(e,t,s){var a=pe,o=mt(),d=Te;if(d){if(s===void 0)throw Error(r(407));s=s()}else s=t();var m=!un((Ye||o).memoizedState,s);if(m&&(o.memoizedState=s,vt=!0),o=o.queue,Xu(Rm.bind(null,a,o,e),[e]),o.getSnapshot!==t||m||xt!==null&&xt.memoizedState.tag&1){if(a.flags|=2048,Li(9,{destroy:void 0},km.bind(null,a,o,s,t),null),Xe===null)throw Error(r(349));d||(hs&127)!==0||Mm(a,t,s)}return s}function Mm(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=pe.updateQueue,t===null?(t=Ao(),pe.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function km(e,t,s,a){t.value=s,t.getSnapshot=a,Om(t)&&zm(e)}function Rm(e,t,s){return s(function(){Om(t)&&zm(e)})}function Om(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!un(e,s)}catch{return!0}}function zm(e){var t=Ol(e,2);t!==null&&ln(t,e,2)}function Pu(e){var t=Zt();if(typeof e=="function"){var s=e;if(e=s(),Yl){Xt(!0);try{s()}finally{Xt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:e},t}function Lm(e,t,s,a){return e.baseState=s,Gu(e,Ye,typeof a=="function"?a:ms)}function Kv(e,t,s,a,o){if(Oo(e))throw Error(r(485));if(e=t.action,e!==null){var d={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){d.listeners.push(m)}};z.T!==null?s(!0):d.isTransition=!1,a(d),s=t.pending,s===null?(d.next=t.pending=d,$m(t,d)):(d.next=s.next,t.pending=s.next=d)}}function $m(e,t){var s=t.action,a=t.payload,o=e.state;if(t.isTransition){var d=z.T,m={};z.T=m;try{var x=s(o,a),S=z.S;S!==null&&S(m,x),Um(e,t,x)}catch(A){Qu(e,t,A)}finally{d!==null&&m.types!==null&&(d.types=m.types),z.T=d}}else try{d=s(o,a),Um(e,t,d)}catch(A){Qu(e,t,A)}}function Um(e,t,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(a){Hm(e,t,a)},function(a){return Qu(e,t,a)}):Hm(e,t,s)}function Hm(e,t,s){t.status="fulfilled",t.value=s,Im(t),e.state=s,t=e.pending,t!==null&&(s=t.next,s===t?e.pending=null:(s=s.next,t.next=s,$m(e,s)))}function Qu(e,t,s){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=s,Im(t),t=t.next;while(t!==a)}e.action=null}function Im(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Bm(e,t){return t}function qm(e,t){if(Te){var s=Xe.formState;if(s!==null){e:{var a=pe;if(Te){if(et){t:{for(var o=et,d=Nn;o.nodeType!==8;){if(!d){o=null;break t}if(o=wn(o.nextSibling),o===null){o=null;break t}}d=o.data,o=d==="F!"||d==="F"?o:null}if(o){et=wn(o.nextSibling),a=o.data==="F!";break e}}Ys(a)}a=!1}a&&(t=s[0])}}return s=Zt(),s.memoizedState=s.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bm,lastRenderedState:t},s.queue=a,s=rp.bind(null,pe,a),a.dispatch=s,a=Pu(!1),d=Ju.bind(null,pe,!1,a.queue),a=Zt(),o={state:t,dispatch:null,action:e,pending:null},a.queue=o,s=Kv.bind(null,pe,o,d,s),o.dispatch=s,a.memoizedState=e,[t,s,!1]}function Ym(e){var t=mt();return Gm(t,Ye,e)}function Gm(e,t,s){if(t=Gu(e,t,Bm)[0],e=Mo(ms)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Va(t)}catch(m){throw m===Mi?_o:m}else a=t;t=mt();var o=t.queue,d=o.dispatch;return s!==t.memoizedState&&(pe.flags|=2048,Li(9,{destroy:void 0},Wv.bind(null,o,s),null)),[a,d,e]}function Wv(e,t){e.action=t}function Vm(e){var t=mt(),s=Ye;if(s!==null)return Gm(t,s,e);mt(),t=t.memoizedState,s=mt();var a=s.queue.dispatch;return s.memoizedState=e,[t,a,!1]}function Li(e,t,s,a){return e={tag:e,create:s,deps:a,inst:t,next:null},t=pe.updateQueue,t===null&&(t=Ao(),pe.updateQueue=t),s=t.lastEffect,s===null?t.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,t.lastEffect=e),e}function Pm(){return mt().memoizedState}function ko(e,t,s,a){var o=Zt();pe.flags|=e,o.memoizedState=Li(1|t,{destroy:void 0},s,a===void 0?null:a)}function Ro(e,t,s,a){var o=mt();a=a===void 0?null:a;var d=o.memoizedState.inst;Ye!==null&&a!==null&&Uu(a,Ye.memoizedState.deps)?o.memoizedState=Li(t,d,s,a):(pe.flags|=e,o.memoizedState=Li(1|t,d,s,a))}function Qm(e,t){ko(8390656,8,e,t)}function Xu(e,t){Ro(2048,8,e,t)}function Jv(e){pe.flags|=4;var t=pe.updateQueue;if(t===null)t=Ao(),pe.updateQueue=t,t.events=[e];else{var s=t.events;s===null?t.events=[e]:s.push(e)}}function Xm(e){var t=mt().memoizedState;return Jv({ref:t,nextImpl:e}),function(){if((Oe&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Fm(e,t){return Ro(4,2,e,t)}function Zm(e,t){return Ro(4,4,e,t)}function Km(e,t){if(typeof t=="function"){e=e();var s=t(e);return function(){typeof s=="function"?s():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Wm(e,t,s){s=s!=null?s.concat([e]):null,Ro(4,4,Km.bind(null,t,e),s)}function Fu(){}function Jm(e,t){var s=mt();t=t===void 0?null:t;var a=s.memoizedState;return t!==null&&Uu(t,a[1])?a[0]:(s.memoizedState=[e,t],e)}function ep(e,t){var s=mt();t=t===void 0?null:t;var a=s.memoizedState;if(t!==null&&Uu(t,a[1]))return a[0];if(a=e(),Yl){Xt(!0);try{e()}finally{Xt(!1)}}return s.memoizedState=[a,t],a}function Zu(e,t,s){return s===void 0||(hs&1073741824)!==0&&(Ee&261930)===0?e.memoizedState=t:(e.memoizedState=s,e=tg(),pe.lanes|=e,Ws|=e,s)}function tp(e,t,s,a){return un(s,t)?s:Ri.current!==null?(e=Zu(e,s,a),un(e,t)||(vt=!0),e):(hs&42)===0||(hs&1073741824)!==0&&(Ee&261930)===0?(vt=!0,e.memoizedState=s):(e=tg(),pe.lanes|=e,Ws|=e,t)}function np(e,t,s,a,o){var d=G.p;G.p=d!==0&&8>d?d:8;var m=z.T,x={};z.T=x,Ju(e,!1,t,s);try{var S=o(),A=z.S;if(A!==null&&A(x,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var L=Xv(S,a);Pa(e,t,L,gn(e))}else Pa(e,t,a,gn(e))}catch(B){Pa(e,t,{then:function(){},status:"rejected",reason:B},gn())}finally{G.p=d,m!==null&&x.types!==null&&(m.types=x.types),z.T=m}}function eb(){}function Ku(e,t,s,a){if(e.tag!==5)throw Error(r(476));var o=sp(e).queue;np(e,o,t,F,s===null?eb:function(){return lp(e),s(a)})}function sp(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:F},next:null};var s={};return t.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:s},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function lp(e){var t=sp(e);t.next===null&&(t=e.alternate.memoizedState),Pa(e,t.next.queue,{},gn())}function Wu(){return zt(cr)}function ip(){return mt().memoizedState}function ap(){return mt().memoizedState}function tb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var s=gn();e=Ps(s);var a=Qs(t,e,s);a!==null&&(ln(a,t,s),Ba(a,t,s)),t={cache:ju()},e.payload=t;return}t=t.return}}function nb(e,t,s){var a=gn();s={lane:a,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Oo(e)?op(t,s):(s=gu(e,t,s,a),s!==null&&(ln(s,e,a),cp(s,t,a)))}function rp(e,t,s){var a=gn();Pa(e,t,s,a)}function Pa(e,t,s,a){var o={lane:a,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Oo(e))op(t,o);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var m=t.lastRenderedState,x=d(m,s);if(o.hasEagerState=!0,o.eagerState=x,un(x,m))return mo(e,t,o,0),Xe===null&&ho(),!1}catch{}finally{}if(s=gu(e,t,o,a),s!==null)return ln(s,e,a),cp(s,t,a),!0}return!1}function Ju(e,t,s,a){if(a={lane:2,revertLane:Md(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Oo(e)){if(t)throw Error(r(479))}else t=gu(e,s,a,2),t!==null&&ln(t,e,2)}function Oo(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function op(e,t){Oi=jo=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function cp(e,t,s){if((s&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,is(e,s)}}var Qa={readContext:zt,use:Do,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useLayoutEffect:ot,useInsertionEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useSyncExternalStore:ot,useId:ot,useHostTransitionStatus:ot,useFormState:ot,useActionState:ot,useOptimistic:ot,useMemoCache:ot,useCacheRefresh:ot};Qa.useEffectEvent=ot;var up={readContext:zt,use:Do,useCallback:function(e,t){return Zt().memoizedState=[e,t===void 0?null:t],e},useContext:zt,useEffect:Qm,useImperativeHandle:function(e,t,s){s=s!=null?s.concat([e]):null,ko(4194308,4,Km.bind(null,t,e),s)},useLayoutEffect:function(e,t){return ko(4194308,4,e,t)},useInsertionEffect:function(e,t){ko(4,2,e,t)},useMemo:function(e,t){var s=Zt();t=t===void 0?null:t;var a=e();if(Yl){Xt(!0);try{e()}finally{Xt(!1)}}return s.memoizedState=[a,t],a},useReducer:function(e,t,s){var a=Zt();if(s!==void 0){var o=s(t);if(Yl){Xt(!0);try{s(t)}finally{Xt(!1)}}}else o=t;return a.memoizedState=a.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},a.queue=e,e=e.dispatch=nb.bind(null,pe,e),[a.memoizedState,e]},useRef:function(e){var t=Zt();return e={current:e},t.memoizedState=e},useState:function(e){e=Pu(e);var t=e.queue,s=rp.bind(null,pe,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:Fu,useDeferredValue:function(e,t){var s=Zt();return Zu(s,e,t)},useTransition:function(){var e=Pu(!1);return e=np.bind(null,pe,e.queue,!0,!1),Zt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var a=pe,o=Zt();if(Te){if(s===void 0)throw Error(r(407));s=s()}else{if(s=t(),Xe===null)throw Error(r(349));(Ee&127)!==0||Mm(a,t,s)}o.memoizedState=s;var d={value:s,getSnapshot:t};return o.queue=d,Qm(Rm.bind(null,a,d,e),[e]),a.flags|=2048,Li(9,{destroy:void 0},km.bind(null,a,d,s,t),null),s},useId:function(){var e=Zt(),t=Xe.identifierPrefix;if(Te){var s=Fn,a=Xn;s=(a&~(1<<32-Ft(a)-1)).toString(32)+s,t="_"+t+"R_"+s,s=To++,0<s&&(t+="H"+s.toString(32)),t+="_"}else s=Fv++,t="_"+t+"r_"+s.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Wu,useFormState:qm,useActionState:qm,useOptimistic:function(e){var t=Zt();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=Ju.bind(null,pe,!0,s),s.dispatch=t,[e,t]},useMemoCache:Yu,useCacheRefresh:function(){return Zt().memoizedState=tb.bind(null,pe)},useEffectEvent:function(e){var t=Zt(),s={impl:e};return t.memoizedState=s,function(){if((Oe&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},ed={readContext:zt,use:Do,useCallback:Jm,useContext:zt,useEffect:Xu,useImperativeHandle:Wm,useInsertionEffect:Fm,useLayoutEffect:Zm,useMemo:ep,useReducer:Mo,useRef:Pm,useState:function(){return Mo(ms)},useDebugValue:Fu,useDeferredValue:function(e,t){var s=mt();return tp(s,Ye.memoizedState,e,t)},useTransition:function(){var e=Mo(ms)[0],t=mt().memoizedState;return[typeof e=="boolean"?e:Va(e),t]},useSyncExternalStore:Dm,useId:ip,useHostTransitionStatus:Wu,useFormState:Ym,useActionState:Ym,useOptimistic:function(e,t){var s=mt();return Lm(s,Ye,e,t)},useMemoCache:Yu,useCacheRefresh:ap};ed.useEffectEvent=Xm;var dp={readContext:zt,use:Do,useCallback:Jm,useContext:zt,useEffect:Xu,useImperativeHandle:Wm,useInsertionEffect:Fm,useLayoutEffect:Zm,useMemo:ep,useReducer:Vu,useRef:Pm,useState:function(){return Vu(ms)},useDebugValue:Fu,useDeferredValue:function(e,t){var s=mt();return Ye===null?Zu(s,e,t):tp(s,Ye.memoizedState,e,t)},useTransition:function(){var e=Vu(ms)[0],t=mt().memoizedState;return[typeof e=="boolean"?e:Va(e),t]},useSyncExternalStore:Dm,useId:ip,useHostTransitionStatus:Wu,useFormState:Vm,useActionState:Vm,useOptimistic:function(e,t){var s=mt();return Ye!==null?Lm(s,Ye,e,t):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Yu,useCacheRefresh:ap};dp.useEffectEvent=Xm;function td(e,t,s,a){t=e.memoizedState,s=s(a,t),s=s==null?t:_({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var nd={enqueueSetState:function(e,t,s){e=e._reactInternals;var a=gn(),o=Ps(a);o.payload=t,s!=null&&(o.callback=s),t=Qs(e,o,a),t!==null&&(ln(t,e,a),Ba(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var a=gn(),o=Ps(a);o.tag=1,o.payload=t,s!=null&&(o.callback=s),t=Qs(e,o,a),t!==null&&(ln(t,e,a),Ba(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=gn(),a=Ps(s);a.tag=2,t!=null&&(a.callback=t),t=Qs(e,a,s),t!==null&&(ln(t,e,s),Ba(t,e,s))}};function fp(e,t,s,a,o,d,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,d,m):t.prototype&&t.prototype.isPureReactComponent?!Ra(s,a)||!Ra(o,d):!0}function hp(e,t,s,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,a),t.state!==e&&nd.enqueueReplaceState(t,t.state,null)}function Gl(e,t){var s=t;if("ref"in t){s={};for(var a in t)a!=="ref"&&(s[a]=t[a])}if(e=e.defaultProps){s===t&&(s=_({},s));for(var o in e)s[o]===void 0&&(s[o]=e[o])}return s}function mp(e){fo(e)}function pp(e){console.error(e)}function gp(e){fo(e)}function zo(e,t){try{var s=e.onUncaughtError;s(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function yp(e,t,s){try{var a=e.onCaughtError;a(s.value,{componentStack:s.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function sd(e,t,s){return s=Ps(s),s.tag=3,s.payload={element:null},s.callback=function(){zo(e,t)},s}function xp(e){return e=Ps(e),e.tag=3,e}function vp(e,t,s,a){var o=s.type.getDerivedStateFromError;if(typeof o=="function"){var d=a.value;e.payload=function(){return o(d)},e.callback=function(){yp(t,s,a)}}var m=s.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){yp(t,s,a),typeof o!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var x=a.stack;this.componentDidCatch(a.value,{componentStack:x!==null?x:""})})}function sb(e,t,s,a,o){if(s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=s.alternate,t!==null&&Ti(t,s,o,!0),s=fn.current,s!==null){switch(s.tag){case 31:case 13:return Cn===null?Qo():s.alternate===null&&ct===0&&(ct=3),s.flags&=-257,s.flags|=65536,s.lanes=o,a===So?s.flags|=16384:(t=s.updateQueue,t===null?s.updateQueue=new Set([a]):t.add(a),Td(e,a,o)),!1;case 22:return s.flags|=65536,a===So?s.flags|=16384:(t=s.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},s.updateQueue=t):(s=t.retryQueue,s===null?t.retryQueue=new Set([a]):s.add(a)),Td(e,a,o)),!1}throw Error(r(435,s.tag))}return Td(e,a,o),Qo(),!1}if(Te)return t=fn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,a!==Su&&(e=Error(r(422),{cause:a}),La(bn(e,s)))):(a!==Su&&(t=Error(r(423),{cause:a}),La(bn(t,s))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,a=bn(a,s),o=sd(e.stateNode,a,o),Ru(e,o),ct!==4&&(ct=2)),!1;var d=Error(r(520),{cause:a});if(d=bn(d,s),tr===null?tr=[d]:tr.push(d),ct!==4&&(ct=2),t===null)return!0;a=bn(a,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=o&-o,s.lanes|=e,e=sd(s.stateNode,a,e),Ru(s,e),!1;case 1:if(t=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Js===null||!Js.has(d))))return s.flags|=65536,o&=-o,s.lanes|=o,o=xp(o),vp(o,e,s,a),Ru(s,o),!1}s=s.return}while(s!==null);return!1}var ld=Error(r(461)),vt=!1;function Lt(e,t,s,a){t.child=e===null?Nm(t,null,s,a):ql(t,e.child,s,a)}function bp(e,t,s,a,o){s=s.render;var d=t.ref;if("ref"in a){var m={};for(var x in a)x!=="ref"&&(m[x]=a[x])}else m=a;return Ul(t),a=Hu(e,t,s,m,d,o),x=Iu(),e!==null&&!vt?(Bu(e,t,o),ps(e,t,o)):(Te&&x&&bu(t),t.flags|=1,Lt(e,t,a,o),t.child)}function _p(e,t,s,a,o){if(e===null){var d=s.type;return typeof d=="function"&&!yu(d)&&d.defaultProps===void 0&&s.compare===null?(t.tag=15,t.type=d,Sp(e,t,d,a,o)):(e=go(s.type,null,a,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!fd(e,o)){var m=d.memoizedProps;if(s=s.compare,s=s!==null?s:Ra,s(m,a)&&e.ref===t.ref)return ps(e,t,o)}return t.flags|=1,e=cs(d,a),e.ref=t.ref,e.return=t,t.child=e}function Sp(e,t,s,a,o){if(e!==null){var d=e.memoizedProps;if(Ra(d,a)&&e.ref===t.ref)if(vt=!1,t.pendingProps=a=d,fd(e,o))(e.flags&131072)!==0&&(vt=!0);else return t.lanes=e.lanes,ps(e,t,o)}return id(e,t,s,a,o)}function Np(e,t,s,a){var o=a.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,e!==null){for(a=t.child=e.child,o=0;a!==null;)o=o|a.lanes|a.childLanes,a=a.sibling;a=o&~d}else a=0,t.child=null;return Cp(e,t,d,s,a)}if((s&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&bo(t,d!==null?d.cachePool:null),d!==null?Em(t,d):zu(),jm(t);else return a=t.lanes=536870912,Cp(e,t,d!==null?d.baseLanes|s:s,s,a)}else d!==null?(bo(t,d.cachePool),Em(t,d),Fs(),t.memoizedState=null):(e!==null&&bo(t,null),zu(),Fs());return Lt(e,t,o,s),t.child}function Xa(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Cp(e,t,s,a,o){var d=Au();return d=d===null?null:{parent:yt._currentValue,pool:d},t.memoizedState={baseLanes:s,cachePool:d},e!==null&&bo(t,null),zu(),jm(t),e!==null&&Ti(e,t,a,!0),t.childLanes=o,null}function Lo(e,t){return t=Uo({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function wp(e,t,s){return ql(t,e.child,null,s),e=Lo(t,t.pendingProps),e.flags|=2,hn(t),t.memoizedState=null,e}function lb(e,t,s){var a=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Te){if(a.mode==="hidden")return e=Lo(t,a),t.lanes=536870912,Xa(null,e);if($u(t),(e=et)?(e=$g(e,Nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Bs!==null?{id:Xn,overflow:Fn}:null,retryLane:536870912,hydrationErrors:null},s=om(e),s.return=t,t.child=s,Ot=t,et=null)):e=null,e===null)throw Ys(t);return t.lanes=536870912,null}return Lo(t,a)}var d=e.memoizedState;if(d!==null){var m=d.dehydrated;if($u(t),o)if(t.flags&256)t.flags&=-257,t=wp(e,t,s);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(vt||Ti(e,t,s,!1),o=(s&e.childLanes)!==0,vt||o){if(a=Xe,a!==null&&(m=Jr(a,s),m!==0&&m!==d.retryLane))throw d.retryLane=m,Ol(e,m),ln(a,e,m),ld;Qo(),t=wp(e,t,s)}else e=d.treeContext,et=wn(m.nextSibling),Ot=t,Te=!0,qs=null,Nn=!1,e!==null&&dm(t,e),t=Lo(t,a),t.flags|=4096;return t}return e=cs(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function $o(e,t){var s=t.ref;if(s===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(t.flags|=4194816)}}function id(e,t,s,a,o){return Ul(t),s=Hu(e,t,s,a,void 0,o),a=Iu(),e!==null&&!vt?(Bu(e,t,o),ps(e,t,o)):(Te&&a&&bu(t),t.flags|=1,Lt(e,t,s,o),t.child)}function Ep(e,t,s,a,o,d){return Ul(t),t.updateQueue=null,s=Am(t,a,s,o),Tm(e),a=Iu(),e!==null&&!vt?(Bu(e,t,d),ps(e,t,d)):(Te&&a&&bu(t),t.flags|=1,Lt(e,t,s,d),t.child)}function jp(e,t,s,a,o){if(Ul(t),t.stateNode===null){var d=Ci,m=s.contextType;typeof m=="object"&&m!==null&&(d=zt(m)),d=new s(a,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=nd,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=a,d.state=t.memoizedState,d.refs={},Mu(t),m=s.contextType,d.context=typeof m=="object"&&m!==null?zt(m):Ci,d.state=t.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(td(t,s,m,a),d.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(m=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),m!==d.state&&nd.enqueueReplaceState(d,d.state,null),Ya(t,a,d,o),qa(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){d=t.stateNode;var x=t.memoizedProps,S=Gl(s,x);d.props=S;var A=d.context,L=s.contextType;m=Ci,typeof L=="object"&&L!==null&&(m=zt(L));var B=s.getDerivedStateFromProps;L=typeof B=="function"||typeof d.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,L||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x||A!==m)&&hp(t,d,a,m),Vs=!1;var D=t.memoizedState;d.state=D,Ya(t,a,d,o),qa(),A=t.memoizedState,x||D!==A||Vs?(typeof B=="function"&&(td(t,s,B,a),A=t.memoizedState),(S=Vs||fp(t,s,S,a,D,A,m))?(L||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=A),d.props=a,d.state=A,d.context=m,a=S):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{d=t.stateNode,ku(e,t),m=t.memoizedProps,L=Gl(s,m),d.props=L,B=t.pendingProps,D=d.context,A=s.contextType,S=Ci,typeof A=="object"&&A!==null&&(S=zt(A)),x=s.getDerivedStateFromProps,(A=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==B||D!==S)&&hp(t,d,a,S),Vs=!1,D=t.memoizedState,d.state=D,Ya(t,a,d,o),qa();var M=t.memoizedState;m!==B||D!==M||Vs||e!==null&&e.dependencies!==null&&xo(e.dependencies)?(typeof x=="function"&&(td(t,s,x,a),M=t.memoizedState),(L=Vs||fp(t,s,L,a,D,M,S)||e!==null&&e.dependencies!==null&&xo(e.dependencies))?(A||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(a,M,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(a,M,S)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=M),d.props=a,d.state=M,d.context=S,a=L):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),a=!1)}return d=a,$o(e,t),a=(t.flags&128)!==0,d||a?(d=t.stateNode,s=a&&typeof s.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&a?(t.child=ql(t,e.child,null,o),t.child=ql(t,null,s,o)):Lt(e,t,s,o),t.memoizedState=d.state,e=t.child):e=ps(e,t,o),e}function Tp(e,t,s,a){return Ll(),t.flags|=256,Lt(e,t,s,a),t.child}var ad={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rd(e){return{baseLanes:e,cachePool:ym()}}function od(e,t,s){return e=e!==null?e.childLanes&~s:0,t&&(e|=pn),e}function Ap(e,t,s){var a=t.pendingProps,o=!1,d=(t.flags&128)!==0,m;if((m=d)||(m=e!==null&&e.memoizedState===null?!1:(ht.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Te){if(o?Xs(t):Fs(),(e=et)?(e=$g(e,Nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Bs!==null?{id:Xn,overflow:Fn}:null,retryLane:536870912,hydrationErrors:null},s=om(e),s.return=t,t.child=s,Ot=t,et=null)):e=null,e===null)throw Ys(t);return Gd(e)?t.lanes=32:t.lanes=536870912,null}var x=a.children;return a=a.fallback,o?(Fs(),o=t.mode,x=Uo({mode:"hidden",children:x},o),a=zl(a,o,s,null),x.return=t,a.return=t,x.sibling=a,t.child=x,a=t.child,a.memoizedState=rd(s),a.childLanes=od(e,m,s),t.memoizedState=ad,Xa(null,a)):(Xs(t),cd(t,x))}var S=e.memoizedState;if(S!==null&&(x=S.dehydrated,x!==null)){if(d)t.flags&256?(Xs(t),t.flags&=-257,t=ud(e,t,s)):t.memoizedState!==null?(Fs(),t.child=e.child,t.flags|=128,t=null):(Fs(),x=a.fallback,o=t.mode,a=Uo({mode:"visible",children:a.children},o),x=zl(x,o,s,null),x.flags|=2,a.return=t,x.return=t,a.sibling=x,t.child=a,ql(t,e.child,null,s),a=t.child,a.memoizedState=rd(s),a.childLanes=od(e,m,s),t.memoizedState=ad,t=Xa(null,a));else if(Xs(t),Gd(x)){if(m=x.nextSibling&&x.nextSibling.dataset,m)var A=m.dgst;m=A,a=Error(r(419)),a.stack="",a.digest=m,La({value:a,source:null,stack:null}),t=ud(e,t,s)}else if(vt||Ti(e,t,s,!1),m=(s&e.childLanes)!==0,vt||m){if(m=Xe,m!==null&&(a=Jr(m,s),a!==0&&a!==S.retryLane))throw S.retryLane=a,Ol(e,a),ln(m,e,a),ld;Yd(x)||Qo(),t=ud(e,t,s)}else Yd(x)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,et=wn(x.nextSibling),Ot=t,Te=!0,qs=null,Nn=!1,e!==null&&dm(t,e),t=cd(t,a.children),t.flags|=4096);return t}return o?(Fs(),x=a.fallback,o=t.mode,S=e.child,A=S.sibling,a=cs(S,{mode:"hidden",children:a.children}),a.subtreeFlags=S.subtreeFlags&65011712,A!==null?x=cs(A,x):(x=zl(x,o,s,null),x.flags|=2),x.return=t,a.return=t,a.sibling=x,t.child=a,Xa(null,a),a=t.child,x=e.child.memoizedState,x===null?x=rd(s):(o=x.cachePool,o!==null?(S=yt._currentValue,o=o.parent!==S?{parent:S,pool:S}:o):o=ym(),x={baseLanes:x.baseLanes|s,cachePool:o}),a.memoizedState=x,a.childLanes=od(e,m,s),t.memoizedState=ad,Xa(e.child,a)):(Xs(t),s=e.child,e=s.sibling,s=cs(s,{mode:"visible",children:a.children}),s.return=t,s.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=s,t.memoizedState=null,s)}function cd(e,t){return t=Uo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Uo(e,t){return e=dn(22,e,null,t),e.lanes=0,e}function ud(e,t,s){return ql(t,e.child,null,s),e=cd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dp(e,t,s){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),wu(e.return,t,s)}function dd(e,t,s,a,o,d){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:o,treeForkCount:d}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=a,m.tail=s,m.tailMode=o,m.treeForkCount=d)}function Mp(e,t,s){var a=t.pendingProps,o=a.revealOrder,d=a.tail;a=a.children;var m=ht.current,x=(m&2)!==0;if(x?(m=m&1|2,t.flags|=128):m&=1,P(ht,m),Lt(e,t,a,s),a=Te?za:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dp(e,s,t);else if(e.tag===19)Dp(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(s=t.child,o=null;s!==null;)e=s.alternate,e!==null&&Eo(e)===null&&(o=s),s=s.sibling;s=o,s===null?(o=t.child,t.child=null):(o=s.sibling,s.sibling=null),dd(t,!1,o,s,d,a);break;case"backwards":case"unstable_legacy-backwards":for(s=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Eo(e)===null){t.child=o;break}e=o.sibling,o.sibling=s,s=o,o=e}dd(t,!0,s,null,d,a);break;case"together":dd(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function ps(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Ws|=t.lanes,(s&t.childLanes)===0)if(e!==null){if(Ti(e,t,s,!1),(s&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,s=cs(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=cs(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function fd(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&xo(e)))}function ib(e,t,s){switch(t.tag){case 3:lt(t,t.stateNode.containerInfo),Gs(t,yt,e.memoizedState.cache),Ll();break;case 27:case 5:qn(t);break;case 4:lt(t,t.stateNode.containerInfo);break;case 10:Gs(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,$u(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Xs(t),t.flags|=128,null):(s&t.child.childLanes)!==0?Ap(e,t,s):(Xs(t),e=ps(e,t,s),e!==null?e.sibling:null);Xs(t);break;case 19:var o=(e.flags&128)!==0;if(a=(s&t.childLanes)!==0,a||(Ti(e,t,s,!1),a=(s&t.childLanes)!==0),o){if(a)return Mp(e,t,s);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),P(ht,ht.current),a)break;return null;case 22:return t.lanes=0,Np(e,t,s,t.pendingProps);case 24:Gs(t,yt,e.memoizedState.cache)}return ps(e,t,s)}function kp(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps)vt=!0;else{if(!fd(e,s)&&(t.flags&128)===0)return vt=!1,ib(e,t,s);vt=(e.flags&131072)!==0}else vt=!1,Te&&(t.flags&1048576)!==0&&um(t,za,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Il(t.elementType),t.type=e,typeof e=="function")yu(e)?(a=Gl(e,a),t.tag=1,t=jp(null,t,e,a,s)):(t.tag=0,t=id(null,t,e,a,s));else{if(e!=null){var o=e.$$typeof;if(o===ae){t.tag=11,t=bp(null,t,e,a,s);break e}else if(o===ce){t.tag=14,t=_p(null,t,e,a,s);break e}}throw t=St(e)||e,Error(r(306,t,""))}}return t;case 0:return id(e,t,t.type,t.pendingProps,s);case 1:return a=t.type,o=Gl(a,t.pendingProps),jp(e,t,a,o,s);case 3:e:{if(lt(t,t.stateNode.containerInfo),e===null)throw Error(r(387));a=t.pendingProps;var d=t.memoizedState;o=d.element,ku(e,t),Ya(t,a,null,s);var m=t.memoizedState;if(a=m.cache,Gs(t,yt,a),a!==d.cache&&Eu(t,[yt],s,!0),qa(),a=m.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=Tp(e,t,a,s);break e}else if(a!==o){o=bn(Error(r(424)),t),La(o),t=Tp(e,t,a,s);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(et=wn(e.firstChild),Ot=t,Te=!0,qs=null,Nn=!0,s=Nm(t,null,a,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ll(),a===o){t=ps(e,t,s);break e}Lt(e,t,a,s)}t=t.child}return t;case 26:return $o(e,t),e===null?(s=Yg(t.type,null,t.pendingProps,null))?t.memoizedState=s:Te||(s=t.type,e=t.pendingProps,a=ec(me.current).createElement(s),a[wt]=t,a[Je]=e,$t(a,s,e),it(a),t.stateNode=a):t.memoizedState=Yg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return qn(t),e===null&&Te&&(a=t.stateNode=Ig(t.type,t.pendingProps,me.current),Ot=t,Nn=!0,o=et,sl(t.type)?(Vd=o,et=wn(a.firstChild)):et=o),Lt(e,t,t.pendingProps.children,s),$o(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Te&&((o=a=et)&&(a=zb(a,t.type,t.pendingProps,Nn),a!==null?(t.stateNode=a,Ot=t,et=wn(a.firstChild),Nn=!1,o=!0):o=!1),o||Ys(t)),qn(t),o=t.type,d=t.pendingProps,m=e!==null?e.memoizedProps:null,a=d.children,Id(o,d)?a=null:m!==null&&Id(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=Hu(e,t,Zv,null,null,s),cr._currentValue=o),$o(e,t),Lt(e,t,a,s),t.child;case 6:return e===null&&Te&&((e=s=et)&&(s=Lb(s,t.pendingProps,Nn),s!==null?(t.stateNode=s,Ot=t,et=null,e=!0):e=!1),e||Ys(t)),null;case 13:return Ap(e,t,s);case 4:return lt(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ql(t,null,a,s):Lt(e,t,a,s),t.child;case 11:return bp(e,t,t.type,t.pendingProps,s);case 7:return Lt(e,t,t.pendingProps,s),t.child;case 8:return Lt(e,t,t.pendingProps.children,s),t.child;case 12:return Lt(e,t,t.pendingProps.children,s),t.child;case 10:return a=t.pendingProps,Gs(t,t.type,a.value),Lt(e,t,a.children,s),t.child;case 9:return o=t.type._context,a=t.pendingProps.children,Ul(t),o=zt(o),a=a(o),t.flags|=1,Lt(e,t,a,s),t.child;case 14:return _p(e,t,t.type,t.pendingProps,s);case 15:return Sp(e,t,t.type,t.pendingProps,s);case 19:return Mp(e,t,s);case 31:return lb(e,t,s);case 22:return Np(e,t,s,t.pendingProps);case 24:return Ul(t),a=zt(yt),e===null?(o=Au(),o===null&&(o=Xe,d=ju(),o.pooledCache=d,d.refCount++,d!==null&&(o.pooledCacheLanes|=s),o=d),t.memoizedState={parent:a,cache:o},Mu(t),Gs(t,yt,o)):((e.lanes&s)!==0&&(ku(e,t),Ya(t,null,null,s),qa()),o=e.memoizedState,d=t.memoizedState,o.parent!==a?(o={parent:a,cache:a},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Gs(t,yt,a)):(a=d.cache,Gs(t,yt,a),a!==o.cache&&Eu(t,[yt],s,!0))),Lt(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function gs(e){e.flags|=4}function hd(e,t,s,a,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(ig())e.flags|=8192;else throw Bl=So,Du}else e.flags&=-16777217}function Rp(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Xg(t))if(ig())e.flags|=8192;else throw Bl=So,Du}function Ho(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?rn():536870912,e.lanes|=t,Ii|=t)}function Fa(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(t)for(var o=e.child;o!==null;)s|=o.lanes|o.childLanes,a|=o.subtreeFlags&65011712,a|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)s|=o.lanes|o.childLanes,a|=o.subtreeFlags,a|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=a,e.childLanes=s,t}function ab(e,t,s){var a=t.pendingProps;switch(_u(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return tt(t),null;case 3:return s=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),fs(yt),Fe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ji(t)?gs(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Nu())),tt(t),null;case 26:var o=t.type,d=t.memoizedState;return e===null?(gs(t),d!==null?(tt(t),Rp(t,d)):(tt(t),hd(t,o,null,a,s))):d?d!==e.memoizedState?(gs(t),tt(t),Rp(t,d)):(tt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&gs(t),tt(t),hd(t,o,e,a,s)),null;case 27:if(Ms(t),s=me.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&gs(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return tt(t),null}e=Z.current,ji(t)?fm(t):(e=Ig(o,a,s),t.stateNode=e,gs(t))}return tt(t),null;case 5:if(Ms(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&gs(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return tt(t),null}if(d=Z.current,ji(t))fm(t);else{var m=ec(me.current);switch(d){case 1:d=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:d=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":d=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":d=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":d=m.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof a.is=="string"?m.createElement("select",{is:a.is}):m.createElement("select"),a.multiple?d.multiple=!0:a.size&&(d.size=a.size);break;default:d=typeof a.is=="string"?m.createElement(o,{is:a.is}):m.createElement(o)}}d[wt]=t,d[Je]=a;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)d.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=d;e:switch($t(d,o,a),o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&gs(t)}}return tt(t),hd(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,s),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&gs(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(r(166));if(e=me.current,ji(t)){if(e=t.stateNode,s=t.memoizedProps,a=null,o=Ot,o!==null)switch(o.tag){case 27:case 5:a=o.memoizedProps}e[wt]=t,e=!!(e.nodeValue===s||a!==null&&a.suppressHydrationWarning===!0||Ag(e.nodeValue,s)),e||Ys(t,!0)}else e=ec(e).createTextNode(a),e[wt]=t,t.stateNode=e}return tt(t),null;case 31:if(s=t.memoizedState,e===null||e.memoizedState!==null){if(a=ji(t),s!==null){if(e===null){if(!a)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[wt]=t}else Ll(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;tt(t),e=!1}else s=Nu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return t.flags&256?(hn(t),t):(hn(t),null);if((t.flags&128)!==0)throw Error(r(558))}return tt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=ji(t),a!==null&&a.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[wt]=t}else Ll(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;tt(t),o=!1}else o=Nu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(hn(t),t):(hn(t),null)}return hn(t),(t.flags&128)!==0?(t.lanes=s,t):(s=a!==null,e=e!==null&&e.memoizedState!==null,s&&(a=t.child,o=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(o=a.alternate.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==o&&(a.flags|=2048)),s!==e&&s&&(t.child.flags|=8192),Ho(t,t.updateQueue),tt(t),null);case 4:return Fe(),e===null&&zd(t.stateNode.containerInfo),tt(t),null;case 10:return fs(t.type),tt(t),null;case 19:if(U(ht),a=t.memoizedState,a===null)return tt(t),null;if(o=(t.flags&128)!==0,d=a.rendering,d===null)if(o)Fa(a,!1);else{if(ct!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Eo(e),d!==null){for(t.flags|=128,Fa(a,!1),e=d.updateQueue,t.updateQueue=e,Ho(t,e),t.subtreeFlags=0,e=s,s=t.child;s!==null;)rm(s,e),s=s.sibling;return P(ht,ht.current&1|2),Te&&us(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Qt()>Go&&(t.flags|=128,o=!0,Fa(a,!1),t.lanes=4194304)}else{if(!o)if(e=Eo(d),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Ho(t,e),Fa(a,!0),a.tail===null&&a.tailMode==="hidden"&&!d.alternate&&!Te)return tt(t),null}else 2*Qt()-a.renderingStartTime>Go&&s!==536870912&&(t.flags|=128,o=!0,Fa(a,!1),t.lanes=4194304);a.isBackwards?(d.sibling=t.child,t.child=d):(e=a.last,e!==null?e.sibling=d:t.child=d,a.last=d)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Qt(),e.sibling=null,s=ht.current,P(ht,o?s&1|2:s&1),Te&&us(t,a.treeForkCount),e):(tt(t),null);case 22:case 23:return hn(t),Lu(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(s&536870912)!==0&&(t.flags&128)===0&&(tt(t),t.subtreeFlags&6&&(t.flags|=8192)):tt(t),s=t.updateQueue,s!==null&&Ho(t,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==s&&(t.flags|=2048),e!==null&&U(Hl),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),fs(yt),tt(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function rb(e,t){switch(_u(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fs(yt),Fe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ms(t),null;case 31:if(t.memoizedState!==null){if(hn(t),t.alternate===null)throw Error(r(340));Ll()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(hn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Ll()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return U(ht),null;case 4:return Fe(),null;case 10:return fs(t.type),null;case 22:case 23:return hn(t),Lu(),e!==null&&U(Hl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return fs(yt),null;case 25:return null;default:return null}}function Op(e,t){switch(_u(t),t.tag){case 3:fs(yt),Fe();break;case 26:case 27:case 5:Ms(t);break;case 4:Fe();break;case 31:t.memoizedState!==null&&hn(t);break;case 13:hn(t);break;case 19:U(ht);break;case 10:fs(t.type);break;case 22:case 23:hn(t),Lu(),e!==null&&U(Hl);break;case 24:fs(yt)}}function Za(e,t){try{var s=t.updateQueue,a=s!==null?s.lastEffect:null;if(a!==null){var o=a.next;s=o;do{if((s.tag&e)===e){a=void 0;var d=s.create,m=s.inst;a=d(),m.destroy=a}s=s.next}while(s!==o)}}catch(x){Ue(t,t.return,x)}}function Zs(e,t,s){try{var a=t.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var d=o.next;a=d;do{if((a.tag&e)===e){var m=a.inst,x=m.destroy;if(x!==void 0){m.destroy=void 0,o=t;var S=s,A=x;try{A()}catch(L){Ue(o,S,L)}}}a=a.next}while(a!==d)}}catch(L){Ue(t,t.return,L)}}function zp(e){var t=e.updateQueue;if(t!==null){var s=e.stateNode;try{wm(t,s)}catch(a){Ue(e,e.return,a)}}}function Lp(e,t,s){s.props=Gl(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(a){Ue(e,t,a)}}function Ka(e,t){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof s=="function"?e.refCleanup=s(a):s.current=a}}catch(o){Ue(e,t,o)}}function Zn(e,t){var s=e.ref,a=e.refCleanup;if(s!==null)if(typeof a=="function")try{a()}catch(o){Ue(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(o){Ue(e,t,o)}else s.current=null}function $p(e){var t=e.type,s=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&a.focus();break e;case"img":s.src?a.src=s.src:s.srcSet&&(a.srcset=s.srcSet)}}catch(o){Ue(e,e.return,o)}}function md(e,t,s){try{var a=e.stateNode;Ab(a,e.type,s,t),a[Je]=t}catch(o){Ue(e,e.return,o)}}function Up(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&sl(e.type)||e.tag===4}function pd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Up(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&sl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gd(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,t):(t=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,t.appendChild(e),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Rn));else if(a!==4&&(a===27&&sl(e.type)&&(s=e.stateNode,t=null),e=e.child,e!==null))for(gd(e,t,s),e=e.sibling;e!==null;)gd(e,t,s),e=e.sibling}function Io(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(a!==4&&(a===27&&sl(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Io(e,t,s),e=e.sibling;e!==null;)Io(e,t,s),e=e.sibling}function Hp(e){var t=e.stateNode,s=e.memoizedProps;try{for(var a=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);$t(t,a,s),t[wt]=e,t[Je]=s}catch(d){Ue(e,e.return,d)}}var ys=!1,bt=!1,yd=!1,Ip=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function ob(e,t){if(e=e.containerInfo,Ud=rc,e=Wh(e),uu(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var o=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var m=0,x=-1,S=-1,A=0,L=0,B=e,D=null;t:for(;;){for(var M;B!==s||o!==0&&B.nodeType!==3||(x=m+o),B!==d||a!==0&&B.nodeType!==3||(S=m+a),B.nodeType===3&&(m+=B.nodeValue.length),(M=B.firstChild)!==null;)D=B,B=M;for(;;){if(B===e)break t;if(D===s&&++A===o&&(x=m),D===d&&++L===a&&(S=m),(M=B.nextSibling)!==null)break;B=D,D=B.parentNode}B=M}s=x===-1||S===-1?null:{start:x,end:S}}else s=null}s=s||{start:0,end:0}}else s=null;for(Hd={focusedElem:e,selectionRange:s},rc=!1,Dt=t;Dt!==null;)if(t=Dt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Dt=e;else for(;Dt!==null;){switch(t=Dt,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)o=e[s],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=t,o=d.memoizedProps,d=d.memoizedState,a=s.stateNode;try{var W=Gl(s.type,o);e=a.getSnapshotBeforeUpdate(W,d),a.__reactInternalSnapshotBeforeUpdate=e}catch(re){Ue(s,s.return,re)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,s=e.nodeType,s===9)qd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":qd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Dt=e;break}Dt=t.return}}function Bp(e,t,s){var a=s.flags;switch(s.tag){case 0:case 11:case 15:vs(e,s),a&4&&Za(5,s);break;case 1:if(vs(e,s),a&4)if(e=s.stateNode,t===null)try{e.componentDidMount()}catch(m){Ue(s,s.return,m)}else{var o=Gl(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Ue(s,s.return,m)}}a&64&&zp(s),a&512&&Ka(s,s.return);break;case 3:if(vs(e,s),a&64&&(e=s.updateQueue,e!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{wm(e,t)}catch(m){Ue(s,s.return,m)}}break;case 27:t===null&&a&4&&Hp(s);case 26:case 5:vs(e,s),t===null&&a&4&&$p(s),a&512&&Ka(s,s.return);break;case 12:vs(e,s);break;case 31:vs(e,s),a&4&&Gp(e,s);break;case 13:vs(e,s),a&4&&Vp(e,s),a&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=yb.bind(null,s),$b(e,s))));break;case 22:if(a=s.memoizedState!==null||ys,!a){t=t!==null&&t.memoizedState!==null||bt,o=ys;var d=bt;ys=a,(bt=t)&&!d?bs(e,s,(s.subtreeFlags&8772)!==0):vs(e,s),ys=o,bt=d}break;case 30:break;default:vs(e,s)}}function qp(e){var t=e.alternate;t!==null&&(e.alternate=null,qp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ci(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var st=null,en=!1;function xs(e,t,s){for(s=s.child;s!==null;)Yp(e,t,s),s=s.sibling}function Yp(e,t,s){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(ks,s)}catch{}switch(s.tag){case 26:bt||Zn(s,t),xs(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:bt||Zn(s,t);var a=st,o=en;sl(s.type)&&(st=s.stateNode,en=!1),xs(e,t,s),ar(s.stateNode),st=a,en=o;break;case 5:bt||Zn(s,t);case 6:if(a=st,o=en,st=null,xs(e,t,s),st=a,en=o,st!==null)if(en)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(s.stateNode)}catch(d){Ue(s,t,d)}else try{st.removeChild(s.stateNode)}catch(d){Ue(s,t,d)}break;case 18:st!==null&&(en?(e=st,zg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Xi(e)):zg(st,s.stateNode));break;case 4:a=st,o=en,st=s.stateNode.containerInfo,en=!0,xs(e,t,s),st=a,en=o;break;case 0:case 11:case 14:case 15:Zs(2,s,t),bt||Zs(4,s,t),xs(e,t,s);break;case 1:bt||(Zn(s,t),a=s.stateNode,typeof a.componentWillUnmount=="function"&&Lp(s,t,a)),xs(e,t,s);break;case 21:xs(e,t,s);break;case 22:bt=(a=bt)||s.memoizedState!==null,xs(e,t,s),bt=a;break;default:xs(e,t,s)}}function Gp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Xi(e)}catch(s){Ue(t,t.return,s)}}}function Vp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xi(e)}catch(s){Ue(t,t.return,s)}}function cb(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ip),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ip),t;default:throw Error(r(435,e.tag))}}function Bo(e,t){var s=cb(e);t.forEach(function(a){if(!s.has(a)){s.add(a);var o=xb.bind(null,e,a);a.then(o,o)}})}function tn(e,t){var s=t.deletions;if(s!==null)for(var a=0;a<s.length;a++){var o=s[a],d=e,m=t,x=m;e:for(;x!==null;){switch(x.tag){case 27:if(sl(x.type)){st=x.stateNode,en=!1;break e}break;case 5:st=x.stateNode,en=!1;break e;case 3:case 4:st=x.stateNode.containerInfo,en=!0;break e}x=x.return}if(st===null)throw Error(r(160));Yp(d,m,o),st=null,en=!1,d=o.alternate,d!==null&&(d.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Pp(t,e),t=t.sibling}var $n=null;function Pp(e,t){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:tn(t,e),nn(e),a&4&&(Zs(3,e,e.return),Za(3,e),Zs(5,e,e.return));break;case 1:tn(t,e),nn(e),a&512&&(bt||s===null||Zn(s,s.return)),a&64&&ys&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?a:s.concat(a))));break;case 26:var o=$n;if(tn(t,e),nn(e),a&512&&(bt||s===null||Zn(s,s.return)),a&4){var d=s!==null?s.memoizedState:null;if(a=e.memoizedState,s===null)if(a===null)if(e.stateNode===null){e:{a=e.type,s=e.memoizedProps,o=o.ownerDocument||o;t:switch(a){case"title":d=o.getElementsByTagName("title")[0],(!d||d[oi]||d[wt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=o.createElement(a),o.head.insertBefore(d,o.querySelector("head > title"))),$t(d,a,s),d[wt]=e,it(d),a=d;break e;case"link":var m=Pg("link","href",o).get(a+(s.href||""));if(m){for(var x=0;x<m.length;x++)if(d=m[x],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){m.splice(x,1);break t}}d=o.createElement(a),$t(d,a,s),o.head.appendChild(d);break;case"meta":if(m=Pg("meta","content",o).get(a+(s.content||""))){for(x=0;x<m.length;x++)if(d=m[x],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){m.splice(x,1);break t}}d=o.createElement(a),$t(d,a,s),o.head.appendChild(d);break;default:throw Error(r(468,a))}d[wt]=e,it(d),a=d}e.stateNode=a}else Qg(o,e.type,e.stateNode);else e.stateNode=Vg(o,a,e.memoizedProps);else d!==a?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,a===null?Qg(o,e.type,e.stateNode):Vg(o,a,e.memoizedProps)):a===null&&e.stateNode!==null&&md(e,e.memoizedProps,s.memoizedProps)}break;case 27:tn(t,e),nn(e),a&512&&(bt||s===null||Zn(s,s.return)),s!==null&&a&4&&md(e,e.memoizedProps,s.memoizedProps);break;case 5:if(tn(t,e),nn(e),a&512&&(bt||s===null||Zn(s,s.return)),e.flags&32){o=e.stateNode;try{kn(o,"")}catch(W){Ue(e,e.return,W)}}a&4&&e.stateNode!=null&&(o=e.memoizedProps,md(e,o,s!==null?s.memoizedProps:o)),a&1024&&(yd=!0);break;case 6:if(tn(t,e),nn(e),a&4){if(e.stateNode===null)throw Error(r(162));a=e.memoizedProps,s=e.stateNode;try{s.nodeValue=a}catch(W){Ue(e,e.return,W)}}break;case 3:if(sc=null,o=$n,$n=tc(t.containerInfo),tn(t,e),$n=o,nn(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{Xi(t.containerInfo)}catch(W){Ue(e,e.return,W)}yd&&(yd=!1,Qp(e));break;case 4:a=$n,$n=tc(e.stateNode.containerInfo),tn(t,e),nn(e),$n=a;break;case 12:tn(t,e),nn(e);break;case 31:tn(t,e),nn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Bo(e,a)));break;case 13:tn(t,e),nn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Yo=Qt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Bo(e,a)));break;case 22:o=e.memoizedState!==null;var S=s!==null&&s.memoizedState!==null,A=ys,L=bt;if(ys=A||o,bt=L||S,tn(t,e),bt=L,ys=A,nn(e),a&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(s===null||S||ys||bt||Vl(e)),s=null,t=e;;){if(t.tag===5||t.tag===26){if(s===null){S=s=t;try{if(d=S.stateNode,o)m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{x=S.stateNode;var B=S.memoizedProps.style,D=B!=null&&B.hasOwnProperty("display")?B.display:null;x.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(W){Ue(S,S.return,W)}}}else if(t.tag===6){if(s===null){S=t;try{S.stateNode.nodeValue=o?"":S.memoizedProps}catch(W){Ue(S,S.return,W)}}}else if(t.tag===18){if(s===null){S=t;try{var M=S.stateNode;o?Lg(M,!0):Lg(S.stateNode,!1)}catch(W){Ue(S,S.return,W)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(s=a.retryQueue,s!==null&&(a.retryQueue=null,Bo(e,s))));break;case 19:tn(t,e),nn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Bo(e,a)));break;case 30:break;case 21:break;default:tn(t,e),nn(e)}}function nn(e){var t=e.flags;if(t&2){try{for(var s,a=e.return;a!==null;){if(Up(a)){s=a;break}a=a.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var o=s.stateNode,d=pd(e);Io(e,d,o);break;case 5:var m=s.stateNode;s.flags&32&&(kn(m,""),s.flags&=-33);var x=pd(e);Io(e,x,m);break;case 3:case 4:var S=s.stateNode.containerInfo,A=pd(e);gd(e,A,S);break;default:throw Error(r(161))}}catch(L){Ue(e,e.return,L)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Qp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function vs(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Bp(e,t.alternate,t),t=t.sibling}function Vl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Zs(4,t,t.return),Vl(t);break;case 1:Zn(t,t.return);var s=t.stateNode;typeof s.componentWillUnmount=="function"&&Lp(t,t.return,s),Vl(t);break;case 27:ar(t.stateNode);case 26:case 5:Zn(t,t.return),Vl(t);break;case 22:t.memoizedState===null&&Vl(t);break;case 30:Vl(t);break;default:Vl(t)}e=e.sibling}}function bs(e,t,s){for(s=s&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,o=e,d=t,m=d.flags;switch(d.tag){case 0:case 11:case 15:bs(o,d,s),Za(4,d);break;case 1:if(bs(o,d,s),a=d,o=a.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(A){Ue(a,a.return,A)}if(a=d,o=a.updateQueue,o!==null){var x=a.stateNode;try{var S=o.shared.hiddenCallbacks;if(S!==null)for(o.shared.hiddenCallbacks=null,o=0;o<S.length;o++)Cm(S[o],x)}catch(A){Ue(a,a.return,A)}}s&&m&64&&zp(d),Ka(d,d.return);break;case 27:Hp(d);case 26:case 5:bs(o,d,s),s&&a===null&&m&4&&$p(d),Ka(d,d.return);break;case 12:bs(o,d,s);break;case 31:bs(o,d,s),s&&m&4&&Gp(o,d);break;case 13:bs(o,d,s),s&&m&4&&Vp(o,d);break;case 22:d.memoizedState===null&&bs(o,d,s),Ka(d,d.return);break;case 30:break;default:bs(o,d,s)}t=t.sibling}}function xd(e,t){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&$a(s))}function vd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$a(e))}function Un(e,t,s,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xp(e,t,s,a),t=t.sibling}function Xp(e,t,s,a){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Un(e,t,s,a),o&2048&&Za(9,t);break;case 1:Un(e,t,s,a);break;case 3:Un(e,t,s,a),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$a(e)));break;case 12:if(o&2048){Un(e,t,s,a),e=t.stateNode;try{var d=t.memoizedProps,m=d.id,x=d.onPostCommit;typeof x=="function"&&x(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){Ue(t,t.return,S)}}else Un(e,t,s,a);break;case 31:Un(e,t,s,a);break;case 13:Un(e,t,s,a);break;case 23:break;case 22:d=t.stateNode,m=t.alternate,t.memoizedState!==null?d._visibility&2?Un(e,t,s,a):Wa(e,t):d._visibility&2?Un(e,t,s,a):(d._visibility|=2,$i(e,t,s,a,(t.subtreeFlags&10256)!==0||!1)),o&2048&&xd(m,t);break;case 24:Un(e,t,s,a),o&2048&&vd(t.alternate,t);break;default:Un(e,t,s,a)}}function $i(e,t,s,a,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,m=t,x=s,S=a,A=m.flags;switch(m.tag){case 0:case 11:case 15:$i(d,m,x,S,o),Za(8,m);break;case 23:break;case 22:var L=m.stateNode;m.memoizedState!==null?L._visibility&2?$i(d,m,x,S,o):Wa(d,m):(L._visibility|=2,$i(d,m,x,S,o)),o&&A&2048&&xd(m.alternate,m);break;case 24:$i(d,m,x,S,o),o&&A&2048&&vd(m.alternate,m);break;default:$i(d,m,x,S,o)}t=t.sibling}}function Wa(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var s=e,a=t,o=a.flags;switch(a.tag){case 22:Wa(s,a),o&2048&&xd(a.alternate,a);break;case 24:Wa(s,a),o&2048&&vd(a.alternate,a);break;default:Wa(s,a)}t=t.sibling}}var Ja=8192;function Ui(e,t,s){if(e.subtreeFlags&Ja)for(e=e.child;e!==null;)Fp(e,t,s),e=e.sibling}function Fp(e,t,s){switch(e.tag){case 26:Ui(e,t,s),e.flags&Ja&&e.memoizedState!==null&&Fb(s,$n,e.memoizedState,e.memoizedProps);break;case 5:Ui(e,t,s);break;case 3:case 4:var a=$n;$n=tc(e.stateNode.containerInfo),Ui(e,t,s),$n=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Ja,Ja=16777216,Ui(e,t,s),Ja=a):Ui(e,t,s));break;default:Ui(e,t,s)}}function Zp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function er(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var a=t[s];Dt=a,Wp(a,e)}Zp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Kp(e),e=e.sibling}function Kp(e){switch(e.tag){case 0:case 11:case 15:er(e),e.flags&2048&&Zs(9,e,e.return);break;case 3:er(e);break;case 12:er(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,qo(e)):er(e);break;default:er(e)}}function qo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var a=t[s];Dt=a,Wp(a,e)}Zp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Zs(8,t,t.return),qo(t);break;case 22:s=t.stateNode,s._visibility&2&&(s._visibility&=-3,qo(t));break;default:qo(t)}e=e.sibling}}function Wp(e,t){for(;Dt!==null;){var s=Dt;switch(s.tag){case 0:case 11:case 15:Zs(8,s,t);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var a=s.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:$a(s.memoizedState.cache)}if(a=s.child,a!==null)a.return=s,Dt=a;else e:for(s=e;Dt!==null;){a=Dt;var o=a.sibling,d=a.return;if(qp(a),a===s){Dt=null;break e}if(o!==null){o.return=d,Dt=o;break e}Dt=d}}}var ub={getCacheForType:function(e){var t=zt(yt),s=t.data.get(e);return s===void 0&&(s=e(),t.data.set(e,s)),s},cacheSignal:function(){return zt(yt).controller.signal}},db=typeof WeakMap=="function"?WeakMap:Map,Oe=0,Xe=null,Se=null,Ee=0,$e=0,mn=null,Ks=!1,Hi=!1,bd=!1,_s=0,ct=0,Ws=0,Pl=0,_d=0,pn=0,Ii=0,tr=null,sn=null,Sd=!1,Yo=0,Jp=0,Go=1/0,Vo=null,Js=null,Et=0,el=null,Bi=null,Ss=0,Nd=0,Cd=null,eg=null,nr=0,wd=null;function gn(){return(Oe&2)!==0&&Ee!==0?Ee&-Ee:z.T!==null?Md():eo()}function tg(){if(pn===0)if((Ee&536870912)===0||Te){var e=si;si<<=1,(si&3932160)===0&&(si=262144),pn=e}else pn=536870912;return e=fn.current,e!==null&&(e.flags|=32),pn}function ln(e,t,s){(e===Xe&&($e===2||$e===9)||e.cancelPendingCommit!==null)&&(qi(e,0),tl(e,Ee,pn,!1)),ls(e,s),((Oe&2)===0||e!==Xe)&&(e===Xe&&((Oe&2)===0&&(Pl|=s),ct===4&&tl(e,Ee,pn,!1)),Kn(e))}function ng(e,t,s){if((Oe&6)!==0)throw Error(r(327));var a=!s&&(t&127)===0&&(t&e.expiredLanes)===0||Ct(e,t),o=a?mb(e,t):jd(e,t,!0),d=a;do{if(o===0){Hi&&!a&&tl(e,t,0,!1);break}else{if(s=e.current.alternate,d&&!fb(s)){o=jd(e,t,!1),d=!1;continue}if(o===2){if(d=t,e.errorRecoveryDisabledLanes&d)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var x=e;o=tr;var S=x.current.memoizedState.isDehydrated;if(S&&(qi(x,m).flags|=256),m=jd(x,m,!1),m!==2){if(bd&&!S){x.errorRecoveryDisabledLanes|=d,Pl|=d,o=4;break e}d=sn,sn=o,d!==null&&(sn===null?sn=d:sn.push.apply(sn,d))}o=m}if(d=!1,o!==2)continue}}if(o===1){qi(e,0),tl(e,t,0,!0);break}e:{switch(a=e,d=o,d){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:tl(a,t,pn,!Ks);break e;case 2:sn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=Yo+300-Qt(),10<o)){if(tl(a,t,pn,!Ks),Os(a,0,!0)!==0)break e;Ss=t,a.timeoutHandle=Rg(sg.bind(null,a,s,sn,Vo,Sd,t,pn,Pl,Ii,Ks,d,"Throttled",-0,0),o);break e}sg(a,s,sn,Vo,Sd,t,pn,Pl,Ii,Ks,d,null,-0,0)}}break}while(!0);Kn(e)}function sg(e,t,s,a,o,d,m,x,S,A,L,B,D,M){if(e.timeoutHandle=-1,B=t.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rn},Fp(t,d,B);var W=(d&62914560)===d?Yo-Qt():(d&4194048)===d?Jp-Qt():0;if(W=Zb(B,W),W!==null){Ss=d,e.cancelPendingCommit=W(dg.bind(null,e,t,d,s,a,o,m,x,S,L,B,null,D,M)),tl(e,d,m,!A);return}}dg(e,t,d,s,a,o,m,x,S)}function fb(e){for(var t=e;;){var s=t.tag;if((s===0||s===11||s===15)&&t.flags&16384&&(s=t.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var a=0;a<s.length;a++){var o=s[a],d=o.getSnapshot;o=o.value;try{if(!un(d(),o))return!1}catch{return!1}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tl(e,t,s,a){t&=~_d,t&=~Pl,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var o=t;0<o;){var d=31-Ft(o),m=1<<d;a[d]=-1,o&=~m}s!==0&&ai(e,s,t)}function Po(){return(Oe&6)===0?(sr(0),!1):!0}function Ed(){if(Se!==null){if($e===0)var e=Se.return;else e=Se,ds=$l=null,qu(e),ki=null,Ha=0,e=Se;for(;e!==null;)Op(e.alternate,e),e=e.return;Se=null}}function qi(e,t){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,kb(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ss=0,Ed(),Xe=e,Se=s=cs(e.current,null),Ee=t,$e=0,mn=null,Ks=!1,Hi=Ct(e,t),bd=!1,Ii=pn=_d=Pl=Ws=ct=0,sn=tr=null,Sd=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var o=31-Ft(a),d=1<<o;t|=e[o],a&=~d}return _s=t,ho(),s}function lg(e,t){pe=null,z.H=Qa,t===Mi||t===_o?(t=bm(),$e=3):t===Du?(t=bm(),$e=4):$e=t===ld?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,mn=t,Se===null&&(ct=1,zo(e,bn(t,e.current)))}function ig(){var e=fn.current;return e===null?!0:(Ee&4194048)===Ee?Cn===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?e===Cn:!1}function ag(){var e=z.H;return z.H=Qa,e===null?Qa:e}function rg(){var e=z.A;return z.A=ub,e}function Qo(){ct=4,Ks||(Ee&4194048)!==Ee&&fn.current!==null||(Hi=!0),(Ws&134217727)===0&&(Pl&134217727)===0||Xe===null||tl(Xe,Ee,pn,!1)}function jd(e,t,s){var a=Oe;Oe|=2;var o=ag(),d=rg();(Xe!==e||Ee!==t)&&(Vo=null,qi(e,t)),t=!1;var m=ct;e:do try{if($e!==0&&Se!==null){var x=Se,S=mn;switch($e){case 8:Ed(),m=6;break e;case 3:case 2:case 9:case 6:fn.current===null&&(t=!0);var A=$e;if($e=0,mn=null,Yi(e,x,S,A),s&&Hi){m=0;break e}break;default:A=$e,$e=0,mn=null,Yi(e,x,S,A)}}hb(),m=ct;break}catch(L){lg(e,L)}while(!0);return t&&e.shellSuspendCounter++,ds=$l=null,Oe=a,z.H=o,z.A=d,Se===null&&(Xe=null,Ee=0,ho()),m}function hb(){for(;Se!==null;)og(Se)}function mb(e,t){var s=Oe;Oe|=2;var a=ag(),o=rg();Xe!==e||Ee!==t?(Vo=null,Go=Qt()+500,qi(e,t)):Hi=Ct(e,t);e:do try{if($e!==0&&Se!==null){t=Se;var d=mn;t:switch($e){case 1:$e=0,mn=null,Yi(e,t,d,1);break;case 2:case 9:if(xm(d)){$e=0,mn=null,cg(t);break}t=function(){$e!==2&&$e!==9||Xe!==e||($e=7),Kn(e)},d.then(t,t);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:xm(d)?($e=0,mn=null,cg(t)):($e=0,mn=null,Yi(e,t,d,7));break;case 5:var m=null;switch(Se.tag){case 26:m=Se.memoizedState;case 5:case 27:var x=Se;if(m?Xg(m):x.stateNode.complete){$e=0,mn=null;var S=x.sibling;if(S!==null)Se=S;else{var A=x.return;A!==null?(Se=A,Xo(A)):Se=null}break t}}$e=0,mn=null,Yi(e,t,d,5);break;case 6:$e=0,mn=null,Yi(e,t,d,6);break;case 8:Ed(),ct=6;break e;default:throw Error(r(462))}}pb();break}catch(L){lg(e,L)}while(!0);return ds=$l=null,z.H=a,z.A=o,Oe=s,Se!==null?0:(Xe=null,Ee=0,ho(),ct)}function pb(){for(;Se!==null&&!ti();)og(Se)}function og(e){var t=kp(e.alternate,e,_s);e.memoizedProps=e.pendingProps,t===null?Xo(e):Se=t}function cg(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=Ep(s,t,t.pendingProps,t.type,void 0,Ee);break;case 11:t=Ep(s,t,t.pendingProps,t.type.render,t.ref,Ee);break;case 5:qu(t);default:Op(s,t),t=Se=rm(t,_s),t=kp(s,t,_s)}e.memoizedProps=e.pendingProps,t===null?Xo(e):Se=t}function Yi(e,t,s,a){ds=$l=null,qu(t),ki=null,Ha=0;var o=t.return;try{if(sb(e,o,t,s,Ee)){ct=1,zo(e,bn(s,e.current)),Se=null;return}}catch(d){if(o!==null)throw Se=o,d;ct=1,zo(e,bn(s,e.current)),Se=null;return}t.flags&32768?(Te||a===1?e=!0:Hi||(Ee&536870912)!==0?e=!1:(Ks=e=!0,(a===2||a===9||a===3||a===6)&&(a=fn.current,a!==null&&a.tag===13&&(a.flags|=16384))),ug(t,e)):Xo(t)}function Xo(e){var t=e;do{if((t.flags&32768)!==0){ug(t,Ks);return}e=t.return;var s=ab(t.alternate,t,_s);if(s!==null){Se=s;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);ct===0&&(ct=5)}function ug(e,t){do{var s=rb(e.alternate,e);if(s!==null){s.flags&=32767,Se=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&(e=e.sibling,e!==null)){Se=e;return}Se=e=s}while(e!==null);ct=6,Se=null}function dg(e,t,s,a,o,d,m,x,S){e.cancelPendingCommit=null;do Fo();while(Et!==0);if((Oe&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(d=t.lanes|t.childLanes,d|=pu,Oh(e,s,d,m,x,S),e===Xe&&(Se=Xe=null,Ee=0),Bi=t,el=e,Ss=s,Nd=d,Cd=o,eg=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,vb(ns,function(){return gg(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=z.T,z.T=null,o=G.p,G.p=2,m=Oe,Oe|=4;try{ob(e,t,s)}finally{Oe=m,G.p=o,z.T=a}}Et=1,fg(),hg(),mg()}}function fg(){if(Et===1){Et=0;var e=el,t=Bi,s=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||s){s=z.T,z.T=null;var a=G.p;G.p=2;var o=Oe;Oe|=4;try{Pp(t,e);var d=Hd,m=Wh(e.containerInfo),x=d.focusedElem,S=d.selectionRange;if(m!==x&&x&&x.ownerDocument&&Kh(x.ownerDocument.documentElement,x)){if(S!==null&&uu(x)){var A=S.start,L=S.end;if(L===void 0&&(L=A),"selectionStart"in x)x.selectionStart=A,x.selectionEnd=Math.min(L,x.value.length);else{var B=x.ownerDocument||document,D=B&&B.defaultView||window;if(D.getSelection){var M=D.getSelection(),W=x.textContent.length,re=Math.min(S.start,W),Ve=S.end===void 0?re:Math.min(S.end,W);!M.extend&&re>Ve&&(m=Ve,Ve=re,re=m);var j=Zh(x,re),E=Zh(x,Ve);if(j&&E&&(M.rangeCount!==1||M.anchorNode!==j.node||M.anchorOffset!==j.offset||M.focusNode!==E.node||M.focusOffset!==E.offset)){var T=B.createRange();T.setStart(j.node,j.offset),M.removeAllRanges(),re>Ve?(M.addRange(T),M.extend(E.node,E.offset)):(T.setEnd(E.node,E.offset),M.addRange(T))}}}}for(B=[],M=x;M=M.parentNode;)M.nodeType===1&&B.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<B.length;x++){var H=B[x];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}rc=!!Ud,Hd=Ud=null}finally{Oe=o,G.p=a,z.T=s}}e.current=t,Et=2}}function hg(){if(Et===2){Et=0;var e=el,t=Bi,s=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||s){s=z.T,z.T=null;var a=G.p;G.p=2;var o=Oe;Oe|=4;try{Bp(e,t.alternate,t)}finally{Oe=o,G.p=a,z.T=s}}Et=3}}function mg(){if(Et===4||Et===3){Et=0,ma();var e=el,t=Bi,s=Ss,a=eg;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Et=5:(Et=0,Bi=el=null,pg(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Js=null),ri(s),t=t.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(ks,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=z.T,o=G.p,G.p=2,z.T=null;try{for(var d=e.onRecoverableError,m=0;m<a.length;m++){var x=a[m];d(x.value,{componentStack:x.stack})}}finally{z.T=t,G.p=o}}(Ss&3)!==0&&Fo(),Kn(e),o=e.pendingLanes,(s&261930)!==0&&(o&42)!==0?e===wd?nr++:(nr=0,wd=e):nr=0,sr(0)}}function pg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,$a(t)))}function Fo(){return fg(),hg(),mg(),gg()}function gg(){if(Et!==5)return!1;var e=el,t=Nd;Nd=0;var s=ri(Ss),a=z.T,o=G.p;try{G.p=32>s?32:s,z.T=null,s=Cd,Cd=null;var d=el,m=Ss;if(Et=0,Bi=el=null,Ss=0,(Oe&6)!==0)throw Error(r(331));var x=Oe;if(Oe|=4,Kp(d.current),Xp(d,d.current,m,s),Oe=x,sr(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(ks,d)}catch{}return!0}finally{G.p=o,z.T=a,pg(e,t)}}function yg(e,t,s){t=bn(s,t),t=sd(e.stateNode,t,2),e=Qs(e,t,2),e!==null&&(ls(e,2),Kn(e))}function Ue(e,t,s){if(e.tag===3)yg(e,e,s);else for(;t!==null;){if(t.tag===3){yg(t,e,s);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Js===null||!Js.has(a))){e=bn(s,e),s=xp(2),a=Qs(t,s,2),a!==null&&(vp(s,a,t,e),ls(a,2),Kn(a));break}}t=t.return}}function Td(e,t,s){var a=e.pingCache;if(a===null){a=e.pingCache=new db;var o=new Set;a.set(t,o)}else o=a.get(t),o===void 0&&(o=new Set,a.set(t,o));o.has(s)||(bd=!0,o.add(s),e=gb.bind(null,e,t,s),t.then(e,e))}function gb(e,t,s){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Xe===e&&(Ee&s)===s&&(ct===4||ct===3&&(Ee&62914560)===Ee&&300>Qt()-Yo?(Oe&2)===0&&qi(e,0):_d|=s,Ii===Ee&&(Ii=0)),Kn(e)}function xg(e,t){t===0&&(t=rn()),e=Ol(e,t),e!==null&&(ls(e,t),Kn(e))}function yb(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),xg(e,s)}function xb(e,t){var s=0;switch(e.tag){case 31:case 13:var a=e.stateNode,o=e.memoizedState;o!==null&&(s=o.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(t),xg(e,s)}function vb(e,t){return Nt(e,t)}var Zo=null,Gi=null,Ad=!1,Ko=!1,Dd=!1,nl=0;function Kn(e){e!==Gi&&e.next===null&&(Gi===null?Zo=Gi=e:Gi=Gi.next=e),Ko=!0,Ad||(Ad=!0,_b())}function sr(e,t){if(!Dd&&Ko){Dd=!0;do for(var s=!1,a=Zo;a!==null;){if(e!==0){var o=a.pendingLanes;if(o===0)var d=0;else{var m=a.suspendedLanes,x=a.pingedLanes;d=(1<<31-Ft(42|e)+1)-1,d&=o&~(m&~x),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Sg(a,d))}else d=Ee,d=Os(a,a===Xe?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(d&3)===0||Ct(a,d)||(s=!0,Sg(a,d));a=a.next}while(s);Dd=!1}}function bb(){vg()}function vg(){Ko=Ad=!1;var e=0;nl!==0&&Mb()&&(e=nl);for(var t=Qt(),s=null,a=Zo;a!==null;){var o=a.next,d=bg(a,t);d===0?(a.next=null,s===null?Zo=o:s.next=o,o===null&&(Gi=s)):(s=a,(e!==0||(d&3)!==0)&&(Ko=!0)),a=o}Et!==0&&Et!==5||sr(e),nl!==0&&(nl=0)}function bg(e,t){for(var s=e.suspendedLanes,a=e.pingedLanes,o=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var m=31-Ft(d),x=1<<m,S=o[m];S===-1?((x&s)===0||(x&a)!==0)&&(o[m]=ya(x,t)):S<=t&&(e.expiredLanes|=x),d&=~x}if(t=Xe,s=Ee,s=Os(e,e===t?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,s===0||e===t&&($e===2||$e===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&yn(a),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Ct(e,s)){if(t=s&-s,t===e.callbackPriority)return t;switch(a!==null&&yn(a),ri(s)){case 2:case 8:s=Kr;break;case 32:s=ns;break;case 268435456:s=xl;break;default:s=ns}return a=_g.bind(null,e),s=Nt(s,a),e.callbackPriority=t,e.callbackNode=s,t}return a!==null&&a!==null&&yn(a),e.callbackPriority=2,e.callbackNode=null,2}function _g(e,t){if(Et!==0&&Et!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Fo()&&e.callbackNode!==s)return null;var a=Ee;return a=Os(e,e===Xe?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(ng(e,a,t),bg(e,Qt()),e.callbackNode!=null&&e.callbackNode===s?_g.bind(null,e):null)}function Sg(e,t){if(Fo())return null;ng(e,t,!0)}function _b(){Rb(function(){(Oe&6)!==0?Nt(Zr,bb):vg()})}function Md(){if(nl===0){var e=Ai;e===0&&(e=Rs,Rs<<=1,(Rs&261888)===0&&(Rs=256)),nl=e}return nl}function Ng(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Us(""+e)}function Cg(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}function Sb(e,t,s,a,o){if(t==="submit"&&s&&s.stateNode===o){var d=Ng((o[Je]||null).action),m=a.submitter;m&&(t=(t=m[Je]||null)?Ng(t.formAction):m.getAttribute("formAction"),t!==null&&(d=t,m=null));var x=new xi("action","action",null,a,o);e.push({event:x,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(nl!==0){var S=m?Cg(o,m):new FormData(o);Ku(s,{pending:!0,data:S,method:o.method,action:d},null,S)}}else typeof d=="function"&&(x.preventDefault(),S=m?Cg(o,m):new FormData(o),Ku(s,{pending:!0,data:S,method:o.method,action:d},d,S))},currentTarget:o}]})}}for(var kd=0;kd<mu.length;kd++){var Rd=mu[kd],Nb=Rd.toLowerCase(),Cb=Rd[0].toUpperCase()+Rd.slice(1);Ln(Nb,"on"+Cb)}Ln(tm,"onAnimationEnd"),Ln(nm,"onAnimationIteration"),Ln(sm,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(Iv,"onTransitionRun"),Ln(Bv,"onTransitionStart"),Ln(qv,"onTransitionCancel"),Ln(lm,"onTransitionEnd"),Pn("onMouseEnter",["mouseout","mouseover"]),Pn("onMouseLeave",["mouseout","mouseover"]),Pn("onPointerEnter",["pointerout","pointerover"]),Pn("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lr));function wg(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],o=a.event;a=a.listeners;e:{var d=void 0;if(t)for(var m=a.length-1;0<=m;m--){var x=a[m],S=x.instance,A=x.currentTarget;if(x=x.listener,S!==d&&o.isPropagationStopped())break e;d=x,o.currentTarget=A;try{d(o)}catch(L){fo(L)}o.currentTarget=null,d=S}else for(m=0;m<a.length;m++){if(x=a[m],S=x.instance,A=x.currentTarget,x=x.listener,S!==d&&o.isPropagationStopped())break e;d=x,o.currentTarget=A;try{d(o)}catch(L){fo(L)}o.currentTarget=null,d=S}}}}function Ne(e,t){var s=t[as];s===void 0&&(s=t[as]=new Set);var a=e+"__bubble";s.has(a)||(Eg(t,e,2,!1),s.add(a))}function Od(e,t,s){var a=0;t&&(a|=4),Eg(s,e,a,t)}var Wo="_reactListening"+Math.random().toString(36).slice(2);function zd(e){if(!e[Wo]){e[Wo]=!0,ba.forEach(function(s){s!=="selectionchange"&&(wb.has(s)||Od(s,!1,e),Od(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wo]||(t[Wo]=!0,Od("selectionchange",!1,t))}}function Eg(e,t,s,a){switch(t0(t)){case 2:var o=Jb;break;case 8:o=e_;break;default:o=Zd}s=o.bind(null,t,s,e),o=void 0,!Ea||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),a?o!==void 0?e.addEventListener(t,s,{capture:!0,passive:o}):e.addEventListener(t,s,!0):o!==void 0?e.addEventListener(t,s,{passive:o}):e.addEventListener(t,s,!1)}function Ld(e,t,s,a,o){var d=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var m=a.tag;if(m===3||m===4){var x=a.stateNode.containerInfo;if(x===o)break;if(m===4)for(m=a.return;m!==null;){var S=m.tag;if((S===3||S===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;x!==null;){if(m=bl(x),m===null)return;if(S=m.tag,S===5||S===6||S===26||S===27){a=d=m;continue e}x=x.parentNode}}a=a.return}oo(function(){var A=d,L=mi(s),B=[];e:{var D=im.get(e);if(D!==void 0){var M=xi,W=e;switch(e){case"keypress":if(gi(s)===0)break e;case"keydown":case"keyup":M=xv;break;case"focusin":W="focus",M=I;break;case"focusout":W="blur",M=I;break;case"beforeblur":case"afterblur":M=I;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=iu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=q;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=_v;break;case tm:case nm:case sm:M=te;break;case lm:M=Nv;break;case"scroll":case"scrollend":M=lu;break;case"wheel":M=wv;break;case"copy":case"cut":case"paste":M=qe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Lh;break;case"toggle":case"beforetoggle":M=jv}var re=(t&4)!==0,Ve=!re&&(e==="scroll"||e==="scrollend"),j=re?D!==null?D+"Capture":null:D;re=[];for(var E=A,T;E!==null;){var H=E;if(T=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||T===null||j===null||(H=Tl(E,j),H!=null&&re.push(ir(E,H,T))),Ve)break;E=E.return}0<re.length&&(D=new M(D,W,null,s,L),B.push({event:D,listeners:re}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",D&&s!==Ca&&(W=s.relatedTarget||s.fromElement)&&(bl(W)||W[Gn]))break e;if((M||D)&&(D=L.window===L?L:(D=L.ownerDocument)?D.defaultView||D.parentWindow:window,M?(W=s.relatedTarget||s.toElement,M=A,W=W?bl(W):null,W!==null&&(Ve=f(W),re=W.tag,W!==Ve||re!==5&&re!==27&&re!==6)&&(W=null)):(M=null,W=A),M!==W)){if(re=iu,H="onMouseLeave",j="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(re=Lh,H="onPointerLeave",j="onPointerEnter",E="pointer"),Ve=M==null?D:Sl(M),T=W==null?D:Sl(W),D=new re(H,E+"leave",M,s,L),D.target=Ve,D.relatedTarget=T,H=null,bl(L)===A&&(re=new re(j,E+"enter",W,s,L),re.target=T,re.relatedTarget=Ve,H=re),Ve=H,M&&W)t:{for(re=Eb,j=M,E=W,T=0,H=j;H;H=re(H))T++;H=0;for(var le=E;le;le=re(le))H++;for(;0<T-H;)j=re(j),T--;for(;0<H-T;)E=re(E),H--;for(;T--;){if(j===E||E!==null&&j===E.alternate){re=j;break t}j=re(j),E=re(E)}re=null}else re=null;M!==null&&jg(B,D,M,re,!1),W!==null&&Ve!==null&&jg(B,Ve,W,re,!0)}}e:{if(D=A?Sl(A):window,M=D.nodeName&&D.nodeName.toLowerCase(),M==="select"||M==="input"&&D.type==="file")var Me=Gh;else if(qh(D))if(Vh)Me=$v;else{Me=zv;var ee=Ov}else M=D.nodeName,!M||M.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?A&&Na(A.elementType)&&(Me=Gh):Me=Lv;if(Me&&(Me=Me(e,A))){Yh(B,Me,s,L);break e}ee&&ee(e,D,A),e==="focusout"&&A&&D.type==="number"&&A.memoizedProps.value!=null&&wl(D,"number",D.value)}switch(ee=A?Sl(A):window,e){case"focusin":(qh(ee)||ee.contentEditable==="true")&&(_i=ee,du=A,Oa=null);break;case"focusout":Oa=du=_i=null;break;case"mousedown":fu=!0;break;case"contextmenu":case"mouseup":case"dragend":fu=!1,Jh(B,s,L);break;case"selectionchange":if(Hv)break;case"keydown":case"keyup":Jh(B,s,L)}var ye;if(ru)e:{switch(e){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else bi?Ih(e,s)&&(je="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(je="onCompositionStart");je&&($h&&s.locale!=="ko"&&(bi||je!=="onCompositionStart"?je==="onCompositionEnd"&&bi&&(ye=cn()):(Qn=L,ja="value"in Qn?Qn.value:Qn.textContent,bi=!0)),ee=Jo(A,je),0<ee.length&&(je=new rt(je,e,null,s,L),B.push({event:je,listeners:ee}),ye?je.data=ye:(ye=Bh(s),ye!==null&&(je.data=ye)))),(ye=Av?Dv(e,s):Mv(e,s))&&(je=Jo(A,"onBeforeInput"),0<je.length&&(ee=new rt("onBeforeInput","beforeinput",null,s,L),B.push({event:ee,listeners:je}),ee.data=ye)),Sb(B,e,A,s,L)}wg(B,t)})}function ir(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Jo(e,t){for(var s=t+"Capture",a=[];e!==null;){var o=e,d=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||d===null||(o=Tl(e,s),o!=null&&a.unshift(ir(e,o,d)),o=Tl(e,t),o!=null&&a.push(ir(e,o,d))),e.tag===3)return a;e=e.return}return[]}function Eb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function jg(e,t,s,a,o){for(var d=t._reactName,m=[];s!==null&&s!==a;){var x=s,S=x.alternate,A=x.stateNode;if(x=x.tag,S!==null&&S===a)break;x!==5&&x!==26&&x!==27||A===null||(S=A,o?(A=Tl(s,d),A!=null&&m.unshift(ir(s,A,S))):o||(A=Tl(s,d),A!=null&&m.push(ir(s,A,S)))),s=s.return}m.length!==0&&e.push({event:t,listeners:m})}var jb=/\r\n?/g,Tb=/\u0000|\uFFFD/g;function Tg(e){return(typeof e=="string"?e:""+e).replace(jb,`
`).replace(Tb,"")}function Ag(e,t){return t=Tg(t),Tg(e)===t}function Ge(e,t,s,a,o,d){switch(s){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||kn(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&kn(e,""+a);break;case"className":Cl(e,"class",a);break;case"tabIndex":Cl(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Cl(e,s,a);break;case"style":jl(e,a,d);break;case"data":if(t!=="object"){Cl(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||s!=="href")){e.removeAttribute(s);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(s);break}a=Us(""+a),e.setAttribute(s,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(t!=="input"&&Ge(e,t,"name",o.name,o,null),Ge(e,t,"formEncType",o.formEncType,o,null),Ge(e,t,"formMethod",o.formMethod,o,null),Ge(e,t,"formTarget",o.formTarget,o,null)):(Ge(e,t,"encType",o.encType,o,null),Ge(e,t,"method",o.method,o,null),Ge(e,t,"target",o.target,o,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(s);break}a=Us(""+a),e.setAttribute(s,a);break;case"onClick":a!=null&&(e.onclick=Rn);break;case"onScroll":a!=null&&Ne("scroll",e);break;case"onScrollEnd":a!=null&&Ne("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(s=a.__html,s!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}s=Us(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(s,""+a):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":a===!0?e.setAttribute(s,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(s,a):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(s,a):e.removeAttribute(s);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(s):e.setAttribute(s,a);break;case"popover":Ne("beforetoggle",e),Ne("toggle",e),Nl(e,"popover",a);break;case"xlinkActuate":Mn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Mn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Mn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Mn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Mn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Mn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Nl(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ao.get(s)||s,Nl(e,s,a))}}function $d(e,t,s,a,o,d){switch(s){case"style":jl(e,a,d);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(s=a.__html,s!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof a=="string"?kn(e,a):(typeof a=="number"||typeof a=="bigint")&&kn(e,""+a);break;case"onScroll":a!=null&&Ne("scroll",e);break;case"onScrollEnd":a!=null&&Ne("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Rn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ui.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(o=s.endsWith("Capture"),t=s.slice(2,o?s.length-7:void 0),d=e[Je]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(t,d,o),typeof a=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,a,o);break e}s in e?e[s]=a:a===!0?e.setAttribute(s,""):Nl(e,s,a)}}}function $t(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",e),Ne("load",e);var a=!1,o=!1,d;for(d in s)if(s.hasOwnProperty(d)){var m=s[d];if(m!=null)switch(d){case"src":a=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ge(e,t,d,m,s,null)}}o&&Ge(e,t,"srcSet",s.srcSet,s,null),a&&Ge(e,t,"src",s.src,s,null);return;case"input":Ne("invalid",e);var x=d=m=o=null,S=null,A=null;for(a in s)if(s.hasOwnProperty(a)){var L=s[a];if(L!=null)switch(a){case"name":o=L;break;case"type":m=L;break;case"checked":S=L;break;case"defaultChecked":A=L;break;case"value":d=L;break;case"defaultValue":x=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,t));break;default:Ge(e,t,a,L,s,null)}}Sa(e,d,x,S,A,m,o,!1);return;case"select":Ne("invalid",e),a=m=d=null;for(o in s)if(s.hasOwnProperty(o)&&(x=s[o],x!=null))switch(o){case"value":d=x;break;case"defaultValue":m=x;break;case"multiple":a=x;default:Ge(e,t,o,x,s,null)}t=d,s=m,e.multiple=!!a,t!=null?rs(e,!!a,t,!1):s!=null&&rs(e,!!a,s,!0);return;case"textarea":Ne("invalid",e),d=o=a=null;for(m in s)if(s.hasOwnProperty(m)&&(x=s[m],x!=null))switch(m){case"value":a=x;break;case"defaultValue":o=x;break;case"children":d=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:Ge(e,t,m,x,s,null)}io(e,a,o,d);return;case"option":for(S in s)if(s.hasOwnProperty(S)&&(a=s[S],a!=null))switch(S){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ge(e,t,S,a,s,null)}return;case"dialog":Ne("beforetoggle",e),Ne("toggle",e),Ne("cancel",e),Ne("close",e);break;case"iframe":case"object":Ne("load",e);break;case"video":case"audio":for(a=0;a<lr.length;a++)Ne(lr[a],e);break;case"image":Ne("error",e),Ne("load",e);break;case"details":Ne("toggle",e);break;case"embed":case"source":case"link":Ne("error",e),Ne("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in s)if(s.hasOwnProperty(A)&&(a=s[A],a!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ge(e,t,A,a,s,null)}return;default:if(Na(t)){for(L in s)s.hasOwnProperty(L)&&(a=s[L],a!==void 0&&$d(e,t,L,a,s,void 0));return}}for(x in s)s.hasOwnProperty(x)&&(a=s[x],a!=null&&Ge(e,t,x,a,s,null))}function Ab(e,t,s,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,d=null,m=null,x=null,S=null,A=null,L=null;for(M in s){var B=s[M];if(s.hasOwnProperty(M)&&B!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":S=B;default:a.hasOwnProperty(M)||Ge(e,t,M,null,a,B)}}for(var D in a){var M=a[D];if(B=s[D],a.hasOwnProperty(D)&&(M!=null||B!=null))switch(D){case"type":d=M;break;case"name":o=M;break;case"checked":A=M;break;case"defaultChecked":L=M;break;case"value":m=M;break;case"defaultValue":x=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,t));break;default:M!==B&&Ge(e,t,D,M,a,B)}}$s(e,m,x,S,A,L,d,o);return;case"select":M=m=x=D=null;for(d in s)if(S=s[d],s.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":M=S;default:a.hasOwnProperty(d)||Ge(e,t,d,null,a,S)}for(o in a)if(d=a[o],S=s[o],a.hasOwnProperty(o)&&(d!=null||S!=null))switch(o){case"value":D=d;break;case"defaultValue":x=d;break;case"multiple":m=d;default:d!==S&&Ge(e,t,o,d,a,S)}t=x,s=m,a=M,D!=null?rs(e,!!s,D,!1):!!a!=!!s&&(t!=null?rs(e,!!s,t,!0):rs(e,!!s,s?[]:"",!1));return;case"textarea":M=D=null;for(x in s)if(o=s[x],s.hasOwnProperty(x)&&o!=null&&!a.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ge(e,t,x,null,a,o)}for(m in a)if(o=a[m],d=s[m],a.hasOwnProperty(m)&&(o!=null||d!=null))switch(m){case"value":D=o;break;case"defaultValue":M=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==d&&Ge(e,t,m,o,a,d)}b(e,D,M);return;case"option":for(var W in s)if(D=s[W],s.hasOwnProperty(W)&&D!=null&&!a.hasOwnProperty(W))switch(W){case"selected":e.selected=!1;break;default:Ge(e,t,W,null,a,D)}for(S in a)if(D=a[S],M=s[S],a.hasOwnProperty(S)&&D!==M&&(D!=null||M!=null))switch(S){case"selected":e.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Ge(e,t,S,D,a,M)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in s)D=s[re],s.hasOwnProperty(re)&&D!=null&&!a.hasOwnProperty(re)&&Ge(e,t,re,null,a,D);for(A in a)if(D=a[A],M=s[A],a.hasOwnProperty(A)&&D!==M&&(D!=null||M!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,t));break;default:Ge(e,t,A,D,a,M)}return;default:if(Na(t)){for(var Ve in s)D=s[Ve],s.hasOwnProperty(Ve)&&D!==void 0&&!a.hasOwnProperty(Ve)&&$d(e,t,Ve,void 0,a,D);for(L in a)D=a[L],M=s[L],!a.hasOwnProperty(L)||D===M||D===void 0&&M===void 0||$d(e,t,L,D,a,M);return}}for(var j in s)D=s[j],s.hasOwnProperty(j)&&D!=null&&!a.hasOwnProperty(j)&&Ge(e,t,j,null,a,D);for(B in a)D=a[B],M=s[B],!a.hasOwnProperty(B)||D===M||D==null&&M==null||Ge(e,t,B,D,a,M)}function Dg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Db(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,s=performance.getEntriesByType("resource"),a=0;a<s.length;a++){var o=s[a],d=o.transferSize,m=o.initiatorType,x=o.duration;if(d&&x&&Dg(m)){for(m=0,x=o.responseEnd,a+=1;a<s.length;a++){var S=s[a],A=S.startTime;if(A>x)break;var L=S.transferSize,B=S.initiatorType;L&&Dg(B)&&(S=S.responseEnd,m+=L*(S<x?1:(x-A)/(S-A)))}if(--a,t+=8*(d+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ud=null,Hd=null;function ec(e){return e.nodeType===9?e:e.ownerDocument}function Mg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Id(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bd=null;function Mb(){var e=window.event;return e&&e.type==="popstate"?e===Bd?!1:(Bd=e,!0):(Bd=null,!1)}var Rg=typeof setTimeout=="function"?setTimeout:void 0,kb=typeof clearTimeout=="function"?clearTimeout:void 0,Og=typeof Promise=="function"?Promise:void 0,Rb=typeof queueMicrotask=="function"?queueMicrotask:typeof Og<"u"?function(e){return Og.resolve(null).then(e).catch(Ob)}:Rg;function Ob(e){setTimeout(function(){throw e})}function sl(e){return e==="head"}function zg(e,t){var s=t,a=0;do{var o=s.nextSibling;if(e.removeChild(s),o&&o.nodeType===8)if(s=o.data,s==="/$"||s==="/&"){if(a===0){e.removeChild(o),Xi(t);return}a--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")a++;else if(s==="html")ar(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ar(s);for(var d=s.firstChild;d;){var m=d.nextSibling,x=d.nodeName;d[oi]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=m}}else s==="body"&&ar(e.ownerDocument.body);s=o}while(s);Xi(t)}function Lg(e,t){var s=e;e=0;do{var a=s.nextSibling;if(s.nodeType===1?t?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(t?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=a}while(s)}function qd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":qd(s),ci(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function zb(e,t,s,a){for(;e.nodeType===1;){var o=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[oi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=wn(e.nextSibling),e===null)break}return null}function Lb(e,t,s){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=wn(e.nextSibling),e===null))return null;return e}function $g(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=wn(e.nextSibling),e===null))return null;return e}function Yd(e){return e.data==="$?"||e.data==="$~"}function Gd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function $b(e,t){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||s.readyState!=="loading")t();else{var a=function(){t(),s.removeEventListener("DOMContentLoaded",a)};s.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function wn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Vd=null;function Ug(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(t===0)return wn(e.nextSibling);t--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||t++}e=e.nextSibling}return null}function Hg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(t===0)return e;t--}else s!=="/$"&&s!=="/&"||t++}e=e.previousSibling}return null}function Ig(e,t,s){switch(t=ec(s),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function ar(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ci(e)}var En=new Map,Bg=new Set;function tc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ns=G.d;G.d={f:Ub,r:Hb,D:Ib,C:Bb,L:qb,m:Yb,X:Vb,S:Gb,M:Pb};function Ub(){var e=Ns.f(),t=Po();return e||t}function Hb(e){var t=_l(e);t!==null&&t.tag===5&&t.type==="form"?lp(t):Ns.r(e)}var Vi=typeof document>"u"?null:document;function qg(e,t,s){var a=Vi;if(a&&typeof t=="string"&&t){var o=Rt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof s=="string"&&(o+='[crossorigin="'+s+'"]'),Bg.has(o)||(Bg.add(o),e={rel:e,crossOrigin:s,href:t},a.querySelector(o)===null&&(t=a.createElement("link"),$t(t,"link",e),it(t),a.head.appendChild(t)))}}function Ib(e){Ns.D(e),qg("dns-prefetch",e,null)}function Bb(e,t){Ns.C(e,t),qg("preconnect",e,t)}function qb(e,t,s){Ns.L(e,t,s);var a=Vi;if(a&&e&&t){var o='link[rel="preload"][as="'+Rt(t)+'"]';t==="image"&&s&&s.imageSrcSet?(o+='[imagesrcset="'+Rt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(o+='[imagesizes="'+Rt(s.imageSizes)+'"]')):o+='[href="'+Rt(e)+'"]';var d=o;switch(t){case"style":d=Pi(e);break;case"script":d=Qi(e)}En.has(d)||(e=_({rel:"preload",href:t==="image"&&s&&s.imageSrcSet?void 0:e,as:t},s),En.set(d,e),a.querySelector(o)!==null||t==="style"&&a.querySelector(rr(d))||t==="script"&&a.querySelector(or(d))||(t=a.createElement("link"),$t(t,"link",e),it(t),a.head.appendChild(t)))}}function Yb(e,t){Ns.m(e,t);var s=Vi;if(s&&e){var a=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Rt(a)+'"][href="'+Rt(e)+'"]',d=o;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Qi(e)}if(!En.has(d)&&(e=_({rel:"modulepreload",href:e},t),En.set(d,e),s.querySelector(o)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(or(d)))return}a=s.createElement("link"),$t(a,"link",e),it(a),s.head.appendChild(a)}}}function Gb(e,t,s){Ns.S(e,t,s);var a=Vi;if(a&&e){var o=Ls(a).hoistableStyles,d=Pi(e);t=t||"default";var m=o.get(d);if(!m){var x={loading:0,preload:null};if(m=a.querySelector(rr(d)))x.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},s),(s=En.get(d))&&Pd(e,s);var S=m=a.createElement("link");it(S),$t(S,"link",e),S._p=new Promise(function(A,L){S.onload=A,S.onerror=L}),S.addEventListener("load",function(){x.loading|=1}),S.addEventListener("error",function(){x.loading|=2}),x.loading|=4,nc(m,t,a)}m={type:"stylesheet",instance:m,count:1,state:x},o.set(d,m)}}}function Vb(e,t){Ns.X(e,t);var s=Vi;if(s&&e){var a=Ls(s).hoistableScripts,o=Qi(e),d=a.get(o);d||(d=s.querySelector(or(o)),d||(e=_({src:e,async:!0},t),(t=En.get(o))&&Qd(e,t),d=s.createElement("script"),it(d),$t(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},a.set(o,d))}}function Pb(e,t){Ns.M(e,t);var s=Vi;if(s&&e){var a=Ls(s).hoistableScripts,o=Qi(e),d=a.get(o);d||(d=s.querySelector(or(o)),d||(e=_({src:e,async:!0,type:"module"},t),(t=En.get(o))&&Qd(e,t),d=s.createElement("script"),it(d),$t(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},a.set(o,d))}}function Yg(e,t,s,a){var o=(o=me.current)?tc(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(t=Pi(s.href),s=Ls(o).hoistableStyles,a=s.get(t),a||(a={type:"style",instance:null,count:0,state:null},s.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Pi(s.href);var d=Ls(o).hoistableStyles,m=d.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,m),(d=o.querySelector(rr(e)))&&!d._p&&(m.instance=d,m.state.loading=5),En.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},En.set(e,s),d||Qb(o,e,s,m.state))),t&&a===null)throw Error(r(528,""));return m}if(t&&a!==null)throw Error(r(529,""));return null;case"script":return t=s.async,s=s.src,typeof s=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Qi(s),s=Ls(o).hoistableScripts,a=s.get(t),a||(a={type:"script",instance:null,count:0,state:null},s.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Pi(e){return'href="'+Rt(e)+'"'}function rr(e){return'link[rel="stylesheet"]['+e+"]"}function Gg(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function Qb(e,t,s,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),$t(t,"link",s),it(t),e.head.appendChild(t))}function Qi(e){return'[src="'+Rt(e)+'"]'}function or(e){return"script[async]"+e}function Vg(e,t,s){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Rt(s.href)+'"]');if(a)return t.instance=a,it(a),a;var o=_({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),it(a),$t(a,"style",o),nc(a,s.precedence,e),t.instance=a;case"stylesheet":o=Pi(s.href);var d=e.querySelector(rr(o));if(d)return t.state.loading|=4,t.instance=d,it(d),d;a=Gg(s),(o=En.get(o))&&Pd(a,o),d=(e.ownerDocument||e).createElement("link"),it(d);var m=d;return m._p=new Promise(function(x,S){m.onload=x,m.onerror=S}),$t(d,"link",a),t.state.loading|=4,nc(d,s.precedence,e),t.instance=d;case"script":return d=Qi(s.src),(o=e.querySelector(or(d)))?(t.instance=o,it(o),o):(a=s,(o=En.get(d))&&(a=_({},s),Qd(a,o)),e=e.ownerDocument||e,o=e.createElement("script"),it(o),$t(o,"link",a),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,nc(a,s.precedence,e));return t.instance}function nc(e,t,s){for(var a=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=a.length?a[a.length-1]:null,d=o,m=0;m<a.length;m++){var x=a[m];if(x.dataset.precedence===t)d=x;else if(d!==o)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=s.nodeType===9?s.head:s,t.insertBefore(e,t.firstChild))}function Pd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Qd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var sc=null;function Pg(e,t,s){if(sc===null){var a=new Map,o=sc=new Map;o.set(s,a)}else o=sc,a=o.get(s),a||(a=new Map,o.set(s,a));if(a.has(e))return a;for(a.set(e,null),s=s.getElementsByTagName(e),o=0;o<s.length;o++){var d=s[o];if(!(d[oi]||d[wt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var m=d.getAttribute(t)||"";m=e+m;var x=a.get(m);x?x.push(d):a.set(m,[d])}}return a}function Qg(e,t,s){e=e.ownerDocument||e,e.head.insertBefore(s,t==="title"?e.querySelector("head > title"):null)}function Xb(e,t,s){if(s===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Xg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Fb(e,t,s,a){if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var o=Pi(a.href),d=t.querySelector(rr(o));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=lc.bind(e),t.then(e,e)),s.state.loading|=4,s.instance=d,it(d);return}d=t.ownerDocument||t,a=Gg(a),(o=En.get(o))&&Pd(a,o),d=d.createElement("link"),it(d);var m=d;m._p=new Promise(function(x,S){m.onload=x,m.onerror=S}),$t(d,"link",a),s.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=lc.bind(e),t.addEventListener("load",s),t.addEventListener("error",s))}}var Xd=0;function Zb(e,t){return e.stylesheets&&e.count===0&&ac(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var a=setTimeout(function(){if(e.stylesheets&&ac(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&Xd===0&&(Xd=62500*Db());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ac(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Xd?50:800)+t);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(o)}}:null}function lc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ac(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ic=null;function ac(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ic=new Map,t.forEach(Kb,e),ic=null,lc.call(e))}function Kb(e,t){if(!(t.state.loading&4)){var s=ic.get(e);if(s)var a=s.get(null);else{s=new Map,ic.set(e,s);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<o.length;d++){var m=o[d];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(s.set(m.dataset.precedence,m),a=m)}a&&s.set(null,a)}o=t.instance,m=o.getAttribute("data-precedence"),d=s.get(m)||a,d===a&&s.set(null,o),s.set(m,o),this.count++,a=lc.bind(this),o.addEventListener("load",a),o.addEventListener("error",a),d?d.parentNode.insertBefore(o,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var cr={$$typeof:ge,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function Wb(e,t,s,a,o,d,m,x,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=a,this.onUncaughtError=o,this.onCaughtError=d,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Fg(e,t,s,a,o,d,m,x,S,A,L,B){return e=new Wb(e,t,s,m,S,A,L,B,x),t=1,d===!0&&(t|=24),d=dn(3,null,null,t),e.current=d,d.stateNode=e,t=ju(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:a,isDehydrated:s,cache:t},Mu(d),e}function Zg(e){return e?(e=Ci,e):Ci}function Kg(e,t,s,a,o,d){o=Zg(o),a.context===null?a.context=o:a.pendingContext=o,a=Ps(t),a.payload={element:s},d=d===void 0?null:d,d!==null&&(a.callback=d),s=Qs(e,a,t),s!==null&&(ln(s,e,t),Ba(s,e,t))}function Wg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Fd(e,t){Wg(e,t),(e=e.alternate)&&Wg(e,t)}function Jg(e){if(e.tag===13||e.tag===31){var t=Ol(e,67108864);t!==null&&ln(t,e,67108864),Fd(e,67108864)}}function e0(e){if(e.tag===13||e.tag===31){var t=gn();t=zs(t);var s=Ol(e,t);s!==null&&ln(s,e,t),Fd(e,t)}}var rc=!0;function Jb(e,t,s,a){var o=z.T;z.T=null;var d=G.p;try{G.p=2,Zd(e,t,s,a)}finally{G.p=d,z.T=o}}function e_(e,t,s,a){var o=z.T;z.T=null;var d=G.p;try{G.p=8,Zd(e,t,s,a)}finally{G.p=d,z.T=o}}function Zd(e,t,s,a){if(rc){var o=Kd(a);if(o===null)Ld(e,t,a,oc,s),n0(e,a);else if(n_(o,e,t,s,a))a.stopPropagation();else if(n0(e,a),t&4&&-1<t_.indexOf(e)){for(;o!==null;){var d=_l(o);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var m=ss(d.pendingLanes);if(m!==0){var x=d;for(x.pendingLanes|=2,x.entangledLanes|=2;m;){var S=1<<31-Ft(m);x.entanglements[1]|=S,m&=~S}Kn(d),(Oe&6)===0&&(Go=Qt()+500,sr(0))}}break;case 31:case 13:x=Ol(d,2),x!==null&&ln(x,d,2),Po(),Fd(d,2)}if(d=Kd(a),d===null&&Ld(e,t,a,oc,s),d===o)break;o=d}o!==null&&a.stopPropagation()}else Ld(e,t,a,null,s)}}function Kd(e){return e=mi(e),Wd(e)}var oc=null;function Wd(e){if(oc=null,e=bl(e),e!==null){var t=f(e);if(t===null)e=null;else{var s=t.tag;if(s===13){if(e=h(t),e!==null)return e;e=null}else if(s===31){if(e=p(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oc=e,null}function t0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tu()){case Zr:return 2;case Kr:return 8;case ns:case ni:return 32;case xl:return 268435456;default:return 32}default:return 32}}var Jd=!1,ll=null,il=null,al=null,ur=new Map,dr=new Map,rl=[],t_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n0(e,t){switch(e){case"focusin":case"focusout":ll=null;break;case"dragenter":case"dragleave":il=null;break;case"mouseover":case"mouseout":al=null;break;case"pointerover":case"pointerout":ur.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dr.delete(t.pointerId)}}function fr(e,t,s,a,o,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:s,eventSystemFlags:a,nativeEvent:d,targetContainers:[o]},t!==null&&(t=_l(t),t!==null&&Jg(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function n_(e,t,s,a,o){switch(t){case"focusin":return ll=fr(ll,e,t,s,a,o),!0;case"dragenter":return il=fr(il,e,t,s,a,o),!0;case"mouseover":return al=fr(al,e,t,s,a,o),!0;case"pointerover":var d=o.pointerId;return ur.set(d,fr(ur.get(d)||null,e,t,s,a,o)),!0;case"gotpointercapture":return d=o.pointerId,dr.set(d,fr(dr.get(d)||null,e,t,s,a,o)),!0}return!1}function s0(e){var t=bl(e.target);if(t!==null){var s=f(t);if(s!==null){if(t=s.tag,t===13){if(t=h(s),t!==null){e.blockedOn=t,xa(e.priority,function(){e0(s)});return}}else if(t===31){if(t=p(s),t!==null){e.blockedOn=t,xa(e.priority,function(){e0(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Kd(e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);Ca=a,s.target.dispatchEvent(a),Ca=null}else return t=_l(s),t!==null&&Jg(t),e.blockedOn=s,!1;t.shift()}return!0}function l0(e,t,s){cc(e)&&s.delete(t)}function s_(){Jd=!1,ll!==null&&cc(ll)&&(ll=null),il!==null&&cc(il)&&(il=null),al!==null&&cc(al)&&(al=null),ur.forEach(l0),dr.forEach(l0)}function uc(e,t){e.blockedOn===t&&(e.blockedOn=null,Jd||(Jd=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,s_)))}var dc=null;function i0(e){dc!==e&&(dc=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){dc===e&&(dc=null);for(var t=0;t<e.length;t+=3){var s=e[t],a=e[t+1],o=e[t+2];if(typeof a!="function"){if(Wd(a||s)===null)continue;break}var d=_l(s);d!==null&&(e.splice(t,3),t-=3,Ku(d,{pending:!0,data:o,method:s.method,action:a},a,o))}}))}function Xi(e){function t(S){return uc(S,e)}ll!==null&&uc(ll,e),il!==null&&uc(il,e),al!==null&&uc(al,e),ur.forEach(t),dr.forEach(t);for(var s=0;s<rl.length;s++){var a=rl[s];a.blockedOn===e&&(a.blockedOn=null)}for(;0<rl.length&&(s=rl[0],s.blockedOn===null);)s0(s),s.blockedOn===null&&rl.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(a=0;a<s.length;a+=3){var o=s[a],d=s[a+1],m=o[Je]||null;if(typeof d=="function")m||i0(s);else if(m){var x=null;if(d&&d.hasAttribute("formAction")){if(o=d,m=d[Je]||null)x=m.formAction;else if(Wd(o)!==null)continue}else x=m.action;typeof x=="function"?s[a+1]=x:(s.splice(a,3),a-=3),i0(s)}}}function a0(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),a||setTimeout(s,20)}function s(){if(!a&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(s,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function ef(e){this._internalRoot=e}fc.prototype.render=ef.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var s=t.current,a=gn();Kg(s,a,e,t,null,null)},fc.prototype.unmount=ef.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kg(e.current,2,null,e,null,null),Po(),t[Gn]=null}};function fc(e){this._internalRoot=e}fc.prototype.unstable_scheduleHydration=function(e){if(e){var t=eo();e={blockedOn:null,target:e,priority:t};for(var s=0;s<rl.length&&t!==0&&t<rl[s].priority;s++);rl.splice(s,0,e),s===0&&s0(e)}};var r0=n.version;if(r0!=="19.2.3")throw Error(r(527,r0,"19.2.3"));G.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(t),e=e!==null?N(e):null,e=e===null?null:e.stateNode,e};var l_={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{ks=hc.inject(l_),nt=hc}catch{}}return mr.createRoot=function(e,t){if(!c(e))throw Error(r(299));var s=!1,a="",o=mp,d=pp,m=gp;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=Fg(e,1,!1,null,null,s,a,null,o,d,m,a0),e[Gn]=t.current,zd(e),new ef(t)},mr.hydrateRoot=function(e,t,s){if(!c(e))throw Error(r(299));var a=!1,o="",d=mp,m=pp,x=gp,S=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.formState!==void 0&&(S=s.formState)),t=Fg(e,1,!0,t,s??null,a,o,S,d,m,x,a0),t.context=Zg(null),s=t.current,a=gn(),a=zs(a),o=Ps(a),o.callback=null,Qs(s,o,a),s=a,t.current.lanes=s,ls(t,s),Kn(t),e[Gn]=t.current,zd(e),new fc(t)},mr.version="19.2.3",mr}var y0;function m_(){if(y0)return sf.exports;y0=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),sf.exports=h_(),sf.exports}var p_=m_();const g_=jy(p_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),x_=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,i,r)=>r?r.toUpperCase():i.toLowerCase()),x0=l=>{const n=x_(l);return n.charAt(0).toUpperCase()+n.slice(1)},Ty=(...l)=>l.filter((n,i,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===i).join(" ").trim(),v_=l=>{for(const n in l)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var b_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=O.forwardRef(({color:l="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:c="",children:f,iconNode:h,...p},y)=>O.createElement("svg",{ref:y,...b_,width:n,height:n,stroke:l,strokeWidth:r?Number(i)*24/Number(n):i,className:Ty("lucide",c),...!f&&!v_(p)&&{"aria-hidden":"true"},...p},[...h.map(([g,N])=>O.createElement(g,N)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=(l,n)=>{const i=O.forwardRef(({className:r,...c},f)=>O.createElement(__,{ref:f,iconNode:n,className:Ty(`lucide-${y_(x0(l))}`,`lucide-${l}`,r),...c}));return i.displayName=x0(l),i};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],N_=ue("arrow-right",S_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],v0=ue("book-open",C_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],E_=ue("calculator",w_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ay=ue("calendar",j_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],of=ue("chart-pie",T_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Dy=ue("check",A_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Cs=ue("chevron-left",D_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],cl=ue("chevron-right",M_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],b0=ue("circle-alert",k_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],O_=ue("circle-check-big",R_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],bc=ue("circle-check",z_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],$_=ue("circle-x",L_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_0=ue("clock",U_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1waht3"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"11",r:"3",key:"itu57m"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]],I_=ue("contact",H_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],q_=ue("database",B_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],S0=ue("flag",Y_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],N0=ue("folder",G_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],br=ue("graduation-cap",V_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Gf=ue("history",P_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],X_=ue("house",Q_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],My=ue("layout-dashboard",F_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],K_=ue("loader-circle",Z_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],C0=ue("log-in",W_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],w0=ue("log-out",J_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],t1=ue("message-circle",e1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],E0=ue("panels-top-left",n1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ky=ue("phone",s1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],yc=ue("plus",l1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],a1=ue("save",i1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],Ry=ue("school",r1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Oy=ue("search",o1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zy=ue("settings",c1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],cf=ue("shield-check",u1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Vf=ue("square-check-big",d1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],j0=ue("square-pen",f1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],uf=ue("star",h1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ki=ue("trash-2",m1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],g1=ue("trending-up",p1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Pf=ue("triangle-alert",y1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],v1=ue("upload",x1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],_1=ue("user-minus",b1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Zi=ue("users",S1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],T0=ue("wifi-off",N1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wn=ue("x",C1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],jr=ue("zap",w1),E1=[{id:1,name:"1st Period",start:"08:10",end:"09:00"},{id:2,name:"2nd Period",start:"09:00",end:"09:45"},{id:3,name:"3rd Period",start:"09:45",end:"10:30"},{id:4,name:"4th Period",start:"10:30",end:"11:15"},{id:5,name:"Break",start:"11:15",end:"11:30",isBreak:!0},{id:6,name:"5th Period",start:"11:30",end:"12:15"},{id:7,name:"6th Period",start:"12:15",end:"13:00"},{id:8,name:"7th Period",start:"13:00",end:"13:30"}],xc={minimal_light:{id:"minimal_light",name:"Modern Clean",bg:"bg-[#f8fafc]",surface:"bg-white border border-slate-200 shadow-sm",navBg:"bg-white/90 backdrop-blur-md border-t border-slate-200",sidebarBg:"bg-white border-r border-slate-200",textPrimary:"text-slate-900",textSecondary:"text-slate-500",accent:"bg-indigo-600 text-white shadow-lg shadow-indigo-500/20 hover:bg-indigo-700",accentText:"text-indigo-600",border:"border-slate-200"},minimal_dark:{id:"minimal_dark",name:"Stealth Black",bg:"bg-[#0d1117]",surface:"bg-[#161b22] border-[#30363d]",navBg:"bg-[#161b22]/90 backdrop-blur-md border-t border-[#30363d]",sidebarBg:"bg-[#161b22] border-r border-[#30363d]",textPrimary:"text-[#e6edf3]",textSecondary:"text-[#8b949e]",accent:"bg-[#238636] text-white shadow-lg shadow-green-900/20 hover:bg-[#2ea043]",accentText:"text-[#238636]",border:"border-[#30363d]"},minimal_blue:{id:"minimal_blue",name:"Ocean Depth",bg:"bg-[#f0f9ff]",surface:"bg-white border-[#bae6fd]",navBg:"bg-white/80 border-t border-[#bae6fd]",sidebarBg:"bg-white border-r border-[#bae6fd]",textPrimary:"text-[#0c4a6e]",textSecondary:"text-[#075985]",accent:"bg-[#0284c7] text-white shadow-lg shadow-sky-500/20 hover:bg-[#0369a1]",accentText:"text-[#0284c7]",border:"border-[#bae6fd]"},minimal_purple:{id:"minimal_purple",name:"Royal Purple",bg:"bg-[#faf5ff]",surface:"bg-white border-[#e9d5ff]",navBg:"bg-white/80 border-t border-[#e9d5ff]",sidebarBg:"bg-white border-r border-[#e9d5ff]",textPrimary:"text-[#581c87]",textSecondary:"text-[#7e22ce]",accent:"bg-[#9333ea] text-white shadow-lg shadow-purple-500/20 hover:bg-[#7e22ce]",accentText:"text-[#9333ea]",border:"border-[#e9d5ff]"},minimal_gray:{id:"minimal_gray",name:"Concrete",bg:"bg-[#f9fafb]",surface:"bg-white border-[#d1d5db]",navBg:"bg-white/80 border-t border-[#d1d5db]",sidebarBg:"bg-white border-r border-[#d1d5db]",textPrimary:"text-[#111827]",textSecondary:"text-[#4b5563]",accent:"bg-[#111827] text-white shadow-lg shadow-gray-900/20 hover:bg-black",accentText:"text-[#111827]",border:"border-[#d1d5db]"},minimal_green:{id:"minimal_green",name:"Emerald Garden",bg:"bg-[#f0fdf4]",surface:"bg-white border-[#bbf7d0]",navBg:"bg-white/80 border-t border-[#bbf7d0]",sidebarBg:"bg-white border-r border-[#bbf7d0]",textPrimary:"text-[#064e3b]",textSecondary:"text-[#065f46]",accent:"bg-[#059669] text-white shadow-lg shadow-emerald-500/20 hover:bg-[#047857]",accentText:"text-[#059669]",border:"border-[#bbf7d0]"}},j1=()=>{};var A0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q=function(l,n){if(!l)throw oa(n)},oa=function(l){return new Error("Firebase Database ("+Ly.SDK_VERSION+") INTERNAL ASSERT FAILED: "+l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=function(l){const n=[];let i=0;for(let r=0;r<l.length;r++){let c=l.charCodeAt(r);c<128?n[i++]=c:c<2048?(n[i++]=c>>6|192,n[i++]=c&63|128):(c&64512)===55296&&r+1<l.length&&(l.charCodeAt(r+1)&64512)===56320?(c=65536+((c&1023)<<10)+(l.charCodeAt(++r)&1023),n[i++]=c>>18|240,n[i++]=c>>12&63|128,n[i++]=c>>6&63|128,n[i++]=c&63|128):(n[i++]=c>>12|224,n[i++]=c>>6&63|128,n[i++]=c&63|128)}return n},T1=function(l){const n=[];let i=0,r=0;for(;i<l.length;){const c=l[i++];if(c<128)n[r++]=String.fromCharCode(c);else if(c>191&&c<224){const f=l[i++];n[r++]=String.fromCharCode((c&31)<<6|f&63)}else if(c>239&&c<365){const f=l[i++],h=l[i++],p=l[i++],y=((c&7)<<18|(f&63)<<12|(h&63)<<6|p&63)-65536;n[r++]=String.fromCharCode(55296+(y>>10)),n[r++]=String.fromCharCode(56320+(y&1023))}else{const f=l[i++],h=l[i++];n[r++]=String.fromCharCode((c&15)<<12|(f&63)<<6|h&63)}}return n.join("")},Qf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(l,n){if(!Array.isArray(l))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let c=0;c<l.length;c+=3){const f=l[c],h=c+1<l.length,p=h?l[c+1]:0,y=c+2<l.length,g=y?l[c+2]:0,N=f>>2,_=(f&3)<<4|p>>4;let v=(p&15)<<2|g>>6,k=g&63;y||(k=64,h||(v=64)),r.push(i[N],i[_],i[v],i[k])}return r.join("")},encodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(l):this.encodeByteArray($y(l),n)},decodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(l):T1(this.decodeStringToByteArray(l,n))},decodeStringToByteArray(l,n){this.init_();const i=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let c=0;c<l.length;){const f=i[l.charAt(c++)],p=c<l.length?i[l.charAt(c)]:0;++c;const g=c<l.length?i[l.charAt(c)]:64;++c;const _=c<l.length?i[l.charAt(c)]:64;if(++c,f==null||p==null||g==null||_==null)throw new A1;const v=f<<2|p>>4;if(r.push(v),g!==64){const k=p<<4&240|g>>2;if(r.push(k),_!==64){const V=g<<6&192|_;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let l=0;l<this.ENCODED_VALS.length;l++)this.byteToCharMap_[l]=this.ENCODED_VALS.charAt(l),this.charToByteMap_[this.byteToCharMap_[l]]=l,this.byteToCharMapWebSafe_[l]=this.ENCODED_VALS_WEBSAFE.charAt(l),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[l]]=l,l>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(l)]=l,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(l)]=l)}}};class A1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Uy=function(l){const n=$y(l);return Qf.encodeByteArray(n,!0)},_c=function(l){return Uy(l).replace(/\./g,"")},Nf=function(l){try{return Qf.decodeString(l,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(l){return Hy(void 0,l)}function Hy(l,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const i=n;return new Date(i.getTime());case Object:l===void 0&&(l={});break;case Array:l=[];break;default:return n}for(const i in n)!n.hasOwnProperty(i)||!M1(i)||(l[i]=Hy(l[i],n[i]));return l}function M1(l){return l!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=()=>k1().__FIREBASE_DEFAULTS__,O1=()=>{if(typeof process>"u"||typeof A0>"u")return;const l=A0.__FIREBASE_DEFAULTS__;if(l)return JSON.parse(l)},z1=()=>{if(typeof document>"u")return;let l;try{l=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=l&&Nf(l[1]);return n&&JSON.parse(n)},Iy=()=>{try{return j1()||R1()||O1()||z1()}catch(l){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${l}`);return}},L1=l=>{var n,i;return(i=(n=Iy())==null?void 0:n.emulatorHosts)==null?void 0:i[l]},$1=l=>{const n=L1(l);if(!n)return;const i=n.lastIndexOf(":");if(i<=0||i+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const r=parseInt(n.substring(i+1),10);return n[0]==="["?[n.substring(1,i-1),r]:[n.substring(0,i),r]},By=()=>{var l;return(l=Iy())==null?void 0:l.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}wrapCallback(n){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(i):n(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(l){try{return(l.startsWith("http://")||l.startsWith("https://")?new URL(l).hostname:l).endsWith(".cloudworkstations.dev")}catch{return!1}}async function U1(l){return(await fetch(l,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(l,n){if(l.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=n||"demo-project",c=l.iat||0,f=l.sub||l.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:c,exp:c+3600,auth_time:c,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...l};return[_c(JSON.stringify(i)),_c(JSON.stringify(h)),""].join(".")}const _r={};function I1(){const l={prod:[],emulator:[]};for(const n of Object.keys(_r))_r[n]?l.emulator.push(n):l.prod.push(n);return l}function B1(l){let n=document.getElementById(l),i=!1;return n||(n=document.createElement("div"),n.setAttribute("id",l),i=!0),{created:i,element:n}}let D0=!1;function q1(l,n){if(typeof window>"u"||typeof document>"u"||!Xf(window.location.host)||_r[l]===n||_r[l]||D0)return;_r[l]=n;function i(v){return`__firebase__banner__${v}`}const r="__firebase__banner",f=I1().prod.length>0;function h(){const v=document.getElementById(r);v&&v.remove()}function p(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function y(v,k){v.setAttribute("width","24"),v.setAttribute("id",k),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function g(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{D0=!0,h()},v}function N(v,k){v.setAttribute("id",k),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function _(){const v=B1(r),k=i("text"),V=document.getElementById(k)||document.createElement("span"),K=i("learnmore"),xe=document.getElementById(K)||document.createElement("a"),J=i("preprendIcon"),he=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const ge=v.element;p(ge),N(xe,K);const ae=g();y(he,J),ge.append(he,V,xe,ae),document.body.appendChild(ge)}f?(V.innerText="Preview backend disconnected.",he.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(he.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Y1())}function G1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function V1(){return Ly.NODE_ADMIN===!0}function P1(){try{return typeof indexedDB=="object"}catch{return!1}}function Q1(){return new Promise((l,n)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(r);c.onsuccess=()=>{c.result.close(),i||self.indexedDB.deleteDatabase(r),l(!0)},c.onupgradeneeded=()=>{i=!1},c.onerror=()=>{var f;n(((f=c.error)==null?void 0:f.message)||"")}}catch(i){n(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="FirebaseError";class qr extends Error{constructor(n,i,r){super(i),this.code=n,this.customData=r,this.name=X1,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yy.prototype.create)}}class Yy{constructor(n,i,r){this.service=n,this.serviceName=i,this.errors=r}create(n,...i){const r=i[0]||{},c=`${this.service}/${n}`,f=this.errors[n],h=f?F1(f,r):"Error",p=`${this.serviceName}: ${h} (${c}).`;return new qr(c,p,r)}}function F1(l,n){return l.replace(Z1,(i,r)=>{const c=n[r];return c!=null?String(c):`<${r}?>`})}const Z1=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(l){return JSON.parse(l)}function Tt(l){return JSON.stringify(l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy=function(l){let n={},i={},r={},c="";try{const f=l.split(".");n=Tr(Nf(f[0])||""),i=Tr(Nf(f[1])||""),c=f[2],r=i.d||{},delete i.d}catch{}return{header:n,claims:i,data:r,signature:c}},K1=function(l){const n=Gy(l),i=n.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},W1=function(l){const n=Gy(l).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(l,n){return Object.prototype.hasOwnProperty.call(l,n)}function na(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]}function M0(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}function Sc(l,n,i){const r={};for(const c in l)Object.prototype.hasOwnProperty.call(l,c)&&(r[c]=n.call(i,l[c],c,l));return r}function Nc(l,n){if(l===n)return!0;const i=Object.keys(l),r=Object.keys(n);for(const c of i){if(!r.includes(c))return!1;const f=l[c],h=n[c];if(k0(f)&&k0(h)){if(!Nc(f,h))return!1}else if(f!==h)return!1}for(const c of r)if(!i.includes(c))return!1;return!0}function k0(l){return l!==null&&typeof l=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(l){const n=[];for(const[i,r]of Object.entries(l))Array.isArray(r)?r.forEach(c=>{n.push(encodeURIComponent(i)+"="+encodeURIComponent(c))}):n.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return n.length?"&"+n.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,i){i||(i=0);const r=this.W_;if(typeof n=="string")for(let _=0;_<16;_++)r[_]=n.charCodeAt(i)<<24|n.charCodeAt(i+1)<<16|n.charCodeAt(i+2)<<8|n.charCodeAt(i+3),i+=4;else for(let _=0;_<16;_++)r[_]=n[i]<<24|n[i+1]<<16|n[i+2]<<8|n[i+3],i+=4;for(let _=16;_<80;_++){const v=r[_-3]^r[_-8]^r[_-14]^r[_-16];r[_]=(v<<1|v>>>31)&4294967295}let c=this.chain_[0],f=this.chain_[1],h=this.chain_[2],p=this.chain_[3],y=this.chain_[4],g,N;for(let _=0;_<80;_++){_<40?_<20?(g=p^f&(h^p),N=1518500249):(g=f^h^p,N=1859775393):_<60?(g=f&h|p&(f|h),N=2400959708):(g=f^h^p,N=3395469782);const v=(c<<5|c>>>27)+g+y+N+r[_]&4294967295;y=p,p=h,h=(f<<30|f>>>2)&4294967295,f=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+y&4294967295}update(n,i){if(n==null)return;i===void 0&&(i=n.length);const r=i-this.blockSize;let c=0;const f=this.buf_;let h=this.inbuf_;for(;c<i;){if(h===0)for(;c<=r;)this.compress_(n,c),c+=this.blockSize;if(typeof n=="string"){for(;c<i;)if(f[h]=n.charCodeAt(c),++h,++c,h===this.blockSize){this.compress_(f),h=0;break}}else for(;c<i;)if(f[h]=n[c],++h,++c,h===this.blockSize){this.compress_(f),h=0;break}}this.inbuf_=h,this.total_+=i}digest(){const n=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let c=this.blockSize-1;c>=56;c--)this.buf_[c]=i&255,i/=256;this.compress_(this.buf_);let r=0;for(let c=0;c<5;c++)for(let f=24;f>=0;f-=8)n[r]=this.chain_[c]>>f&255,++r;return n}}function Bc(l,n){return`${l} failed: ${n} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=function(l){const n=[];let i=0;for(let r=0;r<l.length;r++){let c=l.charCodeAt(r);if(c>=55296&&c<=56319){const f=c-55296;r++,Q(r<l.length,"Surrogate pair missing trail surrogate.");const h=l.charCodeAt(r)-56320;c=65536+(f<<10)+h}c<128?n[i++]=c:c<2048?(n[i++]=c>>6|192,n[i++]=c&63|128):c<65536?(n[i++]=c>>12|224,n[i++]=c>>6&63|128,n[i++]=c&63|128):(n[i++]=c>>18|240,n[i++]=c>>12&63|128,n[i++]=c>>6&63|128,n[i++]=c&63|128)}return n},qc=function(l){let n=0;for(let i=0;i<l.length;i++){const r=l.charCodeAt(i);r<128?n++:r<2048?n+=2:r>=55296&&r<=56319?(n+=4,i++):n+=3}return n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(l){return l&&l._delegate?l._delegate:l}class Ar{constructor(n,i,r){this.name=n,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(n,i){this.name=n,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const i=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(i)){const r=new Br;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:i});c&&r.resolve(c)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(n){const i=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),r=(n==null?void 0:n.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(c){if(r)return null;throw c}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(l2(n))try{this.getOrInitializeService({instanceIdentifier:Ql})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:c});r.resolve(f)}catch{}}}}clearInstance(n=Ql){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...n.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Ql){return this.instances.has(n)}getOptions(n=Ql){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:i={}}=n,r=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[f,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(f);r===p&&h.resolve(c)}return c}onInit(n,i){const r=this.normalizeInstanceIdentifier(i),c=this.onInitCallbacks.get(r)??new Set;c.add(n),this.onInitCallbacks.set(r,c);const f=this.instances.get(r);return f&&n(f,r),()=>{c.delete(n)}}invokeOnInitCallbacks(n,i){const r=this.onInitCallbacks.get(i);if(r)for(const c of r)try{c(n,i)}catch{}}getOrInitializeService({instanceIdentifier:n,options:i={}}){let r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:s2(n),options:i}),this.instances.set(n,r),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch{}return r||null}normalizeInstanceIdentifier(n=Ql){return this.component?this.component.multipleInstances?n:Ql:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function s2(l){return l===Ql?void 0:l}function l2(l){return l.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const i=this.getProvider(n.name);if(i.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);i.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const i=new n2(n,this);return this.providers.set(n,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(l){l[l.DEBUG=0]="DEBUG",l[l.VERBOSE=1]="VERBOSE",l[l.INFO=2]="INFO",l[l.WARN=3]="WARN",l[l.ERROR=4]="ERROR",l[l.SILENT=5]="SILENT"})(Ke||(Ke={}));const a2={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},r2=Ke.INFO,o2={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},c2=(l,n,...i)=>{if(n<l.logLevel)return;const r=new Date().toISOString(),c=o2[n];if(c)console[c](`[${r}]  ${l.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class Vy{constructor(n){this.name=n,this._logLevel=r2,this._logHandler=c2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Ke))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?a2[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...n),this._logHandler(this,Ke.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...n),this._logHandler(this,Ke.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...n),this._logHandler(this,Ke.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...n),this._logHandler(this,Ke.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...n),this._logHandler(this,Ke.ERROR,...n)}}const u2=(l,n)=>n.some(i=>l instanceof i);let R0,O0;function d2(){return R0||(R0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function f2(){return O0||(O0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Py=new WeakMap,Cf=new WeakMap,Qy=new WeakMap,df=new WeakMap,Ff=new WeakMap;function h2(l){const n=new Promise((i,r)=>{const c=()=>{l.removeEventListener("success",f),l.removeEventListener("error",h)},f=()=>{i(dl(l.result)),c()},h=()=>{r(l.error),c()};l.addEventListener("success",f),l.addEventListener("error",h)});return n.then(i=>{i instanceof IDBCursor&&Py.set(i,l)}).catch(()=>{}),Ff.set(n,l),n}function m2(l){if(Cf.has(l))return;const n=new Promise((i,r)=>{const c=()=>{l.removeEventListener("complete",f),l.removeEventListener("error",h),l.removeEventListener("abort",h)},f=()=>{i(),c()},h=()=>{r(l.error||new DOMException("AbortError","AbortError")),c()};l.addEventListener("complete",f),l.addEventListener("error",h),l.addEventListener("abort",h)});Cf.set(l,n)}let wf={get(l,n,i){if(l instanceof IDBTransaction){if(n==="done")return Cf.get(l);if(n==="objectStoreNames")return l.objectStoreNames||Qy.get(l);if(n==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return dl(l[n])},set(l,n,i){return l[n]=i,!0},has(l,n){return l instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in l}};function p2(l){wf=l(wf)}function g2(l){return l===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...i){const r=l.call(ff(this),n,...i);return Qy.set(r,n.sort?n.sort():[n]),dl(r)}:f2().includes(l)?function(...n){return l.apply(ff(this),n),dl(Py.get(this))}:function(...n){return dl(l.apply(ff(this),n))}}function y2(l){return typeof l=="function"?g2(l):(l instanceof IDBTransaction&&m2(l),u2(l,d2())?new Proxy(l,wf):l)}function dl(l){if(l instanceof IDBRequest)return h2(l);if(df.has(l))return df.get(l);const n=y2(l);return n!==l&&(df.set(l,n),Ff.set(n,l)),n}const ff=l=>Ff.get(l);function x2(l,n,{blocked:i,upgrade:r,blocking:c,terminated:f}={}){const h=indexedDB.open(l,n),p=dl(h);return r&&h.addEventListener("upgradeneeded",y=>{r(dl(h.result),y.oldVersion,y.newVersion,dl(h.transaction),y)}),i&&h.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{f&&y.addEventListener("close",()=>f()),c&&y.addEventListener("versionchange",g=>c(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const v2=["get","getKey","getAll","getAllKeys","count"],b2=["put","add","delete","clear"],hf=new Map;function z0(l,n){if(!(l instanceof IDBDatabase&&!(n in l)&&typeof n=="string"))return;if(hf.get(n))return hf.get(n);const i=n.replace(/FromIndex$/,""),r=n!==i,c=b2.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(c||v2.includes(i)))return;const f=async function(h,...p){const y=this.transaction(h,c?"readwrite":"readonly");let g=y.store;return r&&(g=g.index(p.shift())),(await Promise.all([g[i](...p),c&&y.done]))[0]};return hf.set(n,f),f}p2(l=>({...l,get:(n,i,r)=>z0(n,i)||l.get(n,i,r),has:(n,i)=>!!z0(n,i)||l.has(n,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(S2(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function S2(l){const n=l.getComponent();return(n==null?void 0:n.type)==="VERSION"}const Ef="@firebase/app",L0="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new Vy("@firebase/app"),N2="@firebase/app-compat",C2="@firebase/analytics-compat",w2="@firebase/analytics",E2="@firebase/app-check-compat",j2="@firebase/app-check",T2="@firebase/auth",A2="@firebase/auth-compat",D2="@firebase/database",M2="@firebase/data-connect",k2="@firebase/database-compat",R2="@firebase/functions",O2="@firebase/functions-compat",z2="@firebase/installations",L2="@firebase/installations-compat",$2="@firebase/messaging",U2="@firebase/messaging-compat",H2="@firebase/performance",I2="@firebase/performance-compat",B2="@firebase/remote-config",q2="@firebase/remote-config-compat",Y2="@firebase/storage",G2="@firebase/storage-compat",V2="@firebase/firestore",P2="@firebase/ai",Q2="@firebase/firestore-compat",X2="firebase",F2="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="[DEFAULT]",Z2={[Ef]:"fire-core",[N2]:"fire-core-compat",[w2]:"fire-analytics",[C2]:"fire-analytics-compat",[j2]:"fire-app-check",[E2]:"fire-app-check-compat",[T2]:"fire-auth",[A2]:"fire-auth-compat",[D2]:"fire-rtdb",[M2]:"fire-data-connect",[k2]:"fire-rtdb-compat",[R2]:"fire-fn",[O2]:"fire-fn-compat",[z2]:"fire-iid",[L2]:"fire-iid-compat",[$2]:"fire-fcm",[U2]:"fire-fcm-compat",[H2]:"fire-perf",[I2]:"fire-perf-compat",[B2]:"fire-rc",[q2]:"fire-rc-compat",[Y2]:"fire-gcs",[G2]:"fire-gcs-compat",[V2]:"fire-fst",[Q2]:"fire-fst-compat",[P2]:"fire-vertex","fire-js":"fire-js",[X2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr=new Map,K2=new Map,Tf=new Map;function $0(l,n){try{l.container.addComponent(n)}catch(i){js.debug(`Component ${n.name} failed to register with FirebaseApp ${l.name}`,i)}}function Cc(l){const n=l.name;if(Tf.has(n))return js.debug(`There were multiple attempts to register component ${n}.`),!1;Tf.set(n,l);for(const i of Dr.values())$0(i,l);for(const i of K2.values())$0(i,l);return!0}function W2(l,n){const i=l.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),l.container.getProvider(n)}function J2(l){return l==null?!1:l.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fl=new Yy("app","Firebase",eS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(n,i,r){this._isDeleted=!1,this._options={...n},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ar("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw fl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=F2;function Xy(l,n={}){let i=l;typeof n!="object"&&(n={name:n});const r={name:jf,automaticDataCollectionEnabled:!0,...n},c=r.name;if(typeof c!="string"||!c)throw fl.create("bad-app-name",{appName:String(c)});if(i||(i=By()),!i)throw fl.create("no-options");const f=Dr.get(c);if(f){if(Nc(i,f.options)&&Nc(r,f.config))return f;throw fl.create("duplicate-app",{appName:c})}const h=new i2(c);for(const y of Tf.values())h.addComponent(y);const p=new tS(i,r,h);return Dr.set(c,p),p}function Fy(l=jf){const n=Dr.get(l);if(!n&&l===jf&&By())return Xy();if(!n)throw fl.create("no-app",{appName:l});return n}function sS(){return Array.from(Dr.values())}function Ji(l,n,i){let r=Z2[l]??l;i&&(r+=`-${i}`);const c=r.match(/\s|\//),f=n.match(/\s|\//);if(c||f){const h=[`Unable to register library "${r}" with version "${n}":`];c&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),c&&f&&h.push("and"),f&&h.push(`version name "${n}" contains illegal characters (whitespace or "/")`),js.warn(h.join(" "));return}Cc(new Ar(`${r}-version`,()=>({library:r,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="firebase-heartbeat-database",iS=1,Mr="firebase-heartbeat-store";let mf=null;function Zy(){return mf||(mf=x2(lS,iS,{upgrade:(l,n)=>{switch(n){case 0:try{l.createObjectStore(Mr)}catch(i){console.warn(i)}}}}).catch(l=>{throw fl.create("idb-open",{originalErrorMessage:l.message})})),mf}async function aS(l){try{const i=(await Zy()).transaction(Mr),r=await i.objectStore(Mr).get(Ky(l));return await i.done,r}catch(n){if(n instanceof qr)js.warn(n.message);else{const i=fl.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});js.warn(i.message)}}}async function U0(l,n){try{const r=(await Zy()).transaction(Mr,"readwrite");await r.objectStore(Mr).put(n,Ky(l)),await r.done}catch(i){if(i instanceof qr)js.warn(i.message);else{const r=fl.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});js.warn(r.message)}}}function Ky(l){return`${l.name}!${l.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=1024,oS=30;class cS{constructor(n){this.container=n,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new dS(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var n,i;try{const c=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=H0();if(((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(h=>h.date===f))return;if(this._heartbeatsCache.heartbeats.push({date:f,agent:c}),this._heartbeatsCache.heartbeats.length>oS){const h=fS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){js.warn(r)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=H0(),{heartbeatsToSend:r,unsentEntries:c}=uS(this._heartbeatsCache.heartbeats),f=_c(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,c.length>0?(this._heartbeatsCache.heartbeats=c,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(i){return js.warn(i),""}}}function H0(){return new Date().toISOString().substring(0,10)}function uS(l,n=rS){const i=[];let r=l.slice();for(const c of l){const f=i.find(h=>h.agent===c.agent);if(f){if(f.dates.push(c.date),I0(i)>n){f.dates.pop();break}}else if(i.push({agent:c.agent,dates:[c.date]}),I0(i)>n){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class dS{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return P1()?Q1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await aS(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return U0(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return U0(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...n.heartbeats]})}else return}}function I0(l){return _c(JSON.stringify({version:2,heartbeats:l})).length}function fS(l){if(l.length===0)return-1;let n=0,i=l[0].date;for(let r=1;r<l.length;r++)l[r].date<i&&(i=l[r].date,n=r);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(l){Cc(new Ar("platform-logger",n=>new _2(n),"PRIVATE")),Cc(new Ar("heartbeat",n=>new cS(n),"PRIVATE")),Ji(Ef,L0,l),Ji(Ef,L0,"esm2020"),Ji("fire-js","")}hS("");var mS="firebase",pS="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ji(mS,pS,"app");var B0={};const q0="@firebase/database",Y0="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wy="";function gS(l){Wy=l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,i){i==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),Tt(i))}get(n){const i=this.domStorage_.getItem(this.prefixedName_(n));return i==null?null:Tr(i)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,i){i==null?delete this.cache_[n]:this.cache_[n]=i}get(n){return Jn(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=function(l){try{if(typeof window<"u"&&typeof window[l]<"u"){const n=window[l];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new yS(n)}}catch{}return new xS},Fl=Jy("localStorage"),vS=Jy("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new Vy("@firebase/database"),bS=(function(){let l=1;return function(){return l++}})(),ex=function(l){const n=t2(l),i=new e2;i.update(n);const r=i.digest();return Qf.encodeByteArray(r)},Yr=function(...l){let n="";for(let i=0;i<l.length;i++){const r=l[i];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?n+=Yr.apply(null,r):typeof r=="object"?n+=Tt(r):n+=r,n+=" "}return n};let Sr=null,G0=!0;const _S=function(l,n){Q(!0,"Can't turn on custom loggers persistently."),ea.logLevel=Ke.VERBOSE,Sr=ea.log.bind(ea)},Ut=function(...l){if(G0===!0&&(G0=!1,Sr===null&&vS.get("logging_enabled")===!0&&_S()),Sr){const n=Yr.apply(null,l);Sr(n)}},Gr=function(l){return function(...n){Ut(l,...n)}},Af=function(...l){const n="FIREBASE INTERNAL ERROR: "+Yr(...l);ea.error(n)},Ts=function(...l){const n=`FIREBASE FATAL ERROR: ${Yr(...l)}`;throw ea.error(n),new Error(n)},Wt=function(...l){const n="FIREBASE WARNING: "+Yr(...l);ea.warn(n)},SS=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Wt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Zf=function(l){return typeof l=="number"&&(l!==l||l===Number.POSITIVE_INFINITY||l===Number.NEGATIVE_INFINITY)},NS=function(l){if(document.readyState==="complete")l();else{let n=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}n||(n=!0,l())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},sa="[MIN_NAME]",Zl="[MAX_NAME]",Jl=function(l,n){if(l===n)return 0;if(l===sa||n===Zl)return-1;if(n===sa||l===Zl)return 1;{const i=V0(l),r=V0(n);return i!==null?r!==null?i-r===0?l.length-n.length:i-r:-1:r!==null?1:l<n?-1:1}},CS=function(l,n){return l===n?0:l<n?-1:1},pr=function(l,n){if(n&&l in n)return n[l];throw new Error("Missing required key ("+l+") in object: "+Tt(n))},Kf=function(l){if(typeof l!="object"||l===null)return Tt(l);const n=[];for(const r in l)n.push(r);n.sort();let i="{";for(let r=0;r<n.length;r++)r!==0&&(i+=","),i+=Tt(n[r]),i+=":",i+=Kf(l[n[r]]);return i+="}",i},tx=function(l,n){const i=l.length;if(i<=n)return[l];const r=[];for(let c=0;c<i;c+=n)c+n>i?r.push(l.substring(c,i)):r.push(l.substring(c,c+n));return r};function Ht(l,n){for(const i in l)l.hasOwnProperty(i)&&n(i,l[i])}const nx=function(l){Q(!Zf(l),"Invalid JSON number");const n=11,i=52,r=(1<<n-1)-1;let c,f,h,p,y;l===0?(f=0,h=0,c=1/l===-1/0?1:0):(c=l<0,l=Math.abs(l),l>=Math.pow(2,1-r)?(p=Math.min(Math.floor(Math.log(l)/Math.LN2),r),f=p+r,h=Math.round(l*Math.pow(2,i-p)-Math.pow(2,i))):(f=0,h=Math.round(l/Math.pow(2,1-r-i))));const g=[];for(y=i;y;y-=1)g.push(h%2?1:0),h=Math.floor(h/2);for(y=n;y;y-=1)g.push(f%2?1:0),f=Math.floor(f/2);g.push(c?1:0),g.reverse();const N=g.join("");let _="";for(y=0;y<64;y+=8){let v=parseInt(N.substr(y,8),2).toString(16);v.length===1&&(v="0"+v),_=_+v}return _.toLowerCase()},wS=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ES=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function jS(l,n){let i="Unknown Error";l==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":l==="permission_denied"?i="Client doesn't have permission to access the desired data.":l==="unavailable"&&(i="The service is unavailable");const r=new Error(l+" at "+n._path.toString()+": "+i);return r.code=l.toUpperCase(),r}const TS=new RegExp("^-?(0*)\\d{1,10}$"),AS=-2147483648,DS=2147483647,V0=function(l){if(TS.test(l)){const n=Number(l);if(n>=AS&&n<=DS)return n}return null},ua=function(l){try{l()}catch(n){setTimeout(()=>{const i=n.stack||"";throw Wt("Exception was thrown by user callback.",i),n},Math.floor(0))}},MS=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Nr=function(l,n){const i=setTimeout(l,n);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(n,i){this.appCheckProvider=i,this.appName=n.name,J2(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(r=>this.appCheck=r)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((i,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(i,r):i(null)},0)})}addTokenChangeListener(n){var i;(i=this.appCheckProvider)==null||i.get().then(r=>r.addTokenListener(n))}notifyForInvalidToken(){Wt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(n,i,r){this.appName_=n,this.firebaseOptions_=i,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(c=>this.auth_=c)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(i=>i&&i.code==="auth/token-not-initialized"?(Ut("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(i,r):i(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(i=>i.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(i=>i.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Wt(n)}}class vc{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}vc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="5",sx="v",lx="s",ix="r",ax="f",rx=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ox="ls",cx="p",Df="ac",ux="websocket",dx="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(n,i,r,c,f=!1,h="",p=!1,y=!1,g=null){this.secure=i,this.namespace=r,this.webSocketOnly=c,this.nodeAdmin=f,this.persistenceKey=h,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=y,this.emulatorOptions=g,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Fl.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Fl.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${i}`}}function OS(l){return l.host!==l.internalHost||l.isCustomHost()||l.includeNamespaceInQueryParams}function hx(l,n,i){Q(typeof n=="string","typeof type must == string"),Q(typeof i=="object","typeof params must == object");let r;if(n===ux)r=(l.secure?"wss://":"ws://")+l.internalHost+"/.ws?";else if(n===dx)r=(l.secure?"https://":"http://")+l.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);OS(l)&&(i.ns=l.namespace);const c=[];return Ht(i,(f,h)=>{c.push(f+"="+h)}),r+c.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.counters_={}}incrementCounter(n,i=1){Jn(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=i}get(){return D1(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf={},gf={};function Jf(l){const n=l.toString();return pf[n]||(pf[n]=new zS),pf[n]}function LS(l,n){const i=l.toString();return gf[i]||(gf[i]=n()),gf[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,i){this.closeAfterResponse=n,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,i){for(this.pendingResponses[n]=i;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let c=0;c<r.length;++c)r[c]&&ua(()=>{this.onMessage_(r[c])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="start",US="close",HS="pLPCommand",IS="pRTLPCB",mx="id",px="pw",gx="ser",BS="cb",qS="seg",YS="ts",GS="d",VS="dframe",yx=1870,xx=30,PS=yx-xx,QS=25e3,XS=3e4;class Wi{constructor(n,i,r,c,f,h,p){this.connId=n,this.repoInfo=i,this.applicationId=r,this.appCheckToken=c,this.authToken=f,this.transportSessionId=h,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Gr(n),this.stats_=Jf(i),this.urlFn=y=>(this.appCheckToken&&(y[Df]=this.appCheckToken),hx(i,dx,y))}open(n,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new $S(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(XS)),NS(()=>{if(this.isClosed_)return;this.scriptTagHolder=new eh((...f)=>{const[h,p,y,g,N]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===P0)this.id=p,this.password=y;else if(h===US)p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...f)=>{const[h,p]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(h,p)},()=>{this.onClosed_()},this.urlFn);const r={};r[P0]="t",r[gx]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[BS]=this.scriptTagHolder.uniqueCallbackIdentifier),r[sx]=Wf,this.transportSessionId&&(r[lx]=this.transportSessionId),this.lastSessionId&&(r[ox]=this.lastSessionId),this.applicationId&&(r[cx]=this.applicationId),this.appCheckToken&&(r[Df]=this.appCheckToken),typeof location<"u"&&location.hostname&&rx.test(location.hostname)&&(r[ix]=ax);const c=this.urlFn(r);this.log_("Connecting via long-poll to "+c),this.scriptTagHolder.addTag(c,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Wi.forceAllow_=!0}static forceDisallow(){Wi.forceDisallow_=!0}static isAvailable(){return Wi.forceAllow_?!0:!Wi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!wS()&&!ES()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const i=Tt(n);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Uy(i),c=tx(r,PS);for(let f=0;f<c.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,c.length,c[f]),this.curSegmentNum++}addDisconnectPingFrame(n,i){this.myDisconnFrame=document.createElement("iframe");const r={};r[VS]="t",r[mx]=n,r[px]=i,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const i=Tt(n).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class eh{constructor(n,i,r,c){this.onDisconnect=r,this.urlFn=c,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=bS(),window[HS+this.uniqueCallbackIdentifier]=n,window[IS+this.uniqueCallbackIdentifier]=i,this.myIFrame=eh.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(p){Ut("frame writing exception"),p.stack&&Ut(p.stack),Ut(p)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||Ut("No IE domain setting required")}catch{const r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,i){for(this.myID=n,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[mx]=this.myID,n[px]=this.myPW,n[gx]=this.currentSerial;let i=this.urlFn(n),r="",c=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+xx+r.length<=yx;){const h=this.pendingSegs.shift();r=r+"&"+qS+c+"="+h.seg+"&"+YS+c+"="+h.ts+"&"+GS+c+"="+h.d,c++}return i=i+r,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(n,i,r){this.pendingSegs.push({seg:n,ts:i,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,i){this.outstandingRequests.add(i);const r=()=>{this.outstandingRequests.delete(i),this.newRequest_()},c=setTimeout(r,Math.floor(QS)),f=()=>{clearTimeout(c),r()};this.addTag(n,f)}addTag(n,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){const c=r.readyState;(!c||c==="loaded"||c==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),i())},r.onerror=()=>{Ut("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=16384,ZS=45e3;let wc=null;typeof MozWebSocket<"u"?wc=MozWebSocket:typeof WebSocket<"u"&&(wc=WebSocket);class Hn{constructor(n,i,r,c,f,h,p){this.connId=n,this.applicationId=r,this.appCheckToken=c,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Gr(this.connId),this.stats_=Jf(i),this.connURL=Hn.connectionURL_(i,h,p,c,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(n,i,r,c,f){const h={};return h[sx]=Wf,typeof location<"u"&&location.hostname&&rx.test(location.hostname)&&(h[ix]=ax),i&&(h[lx]=i),r&&(h[ox]=r),c&&(h[Df]=c),f&&(h[cx]=f),hx(n,ux,h)}open(n,i){this.onDisconnect=i,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Fl.set("previous_websocket_failure",!0);try{let r;V1(),this.mySock=new wc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const c=r.message||r.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const c=r.message||r.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){Hn.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&wc!==null&&!Hn.forceDisallow_}static previouslyFailed(){return Fl.isInMemoryStorage||Fl.get("previous_websocket_failure")===!0}markConnectionHealthy(){Fl.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=Tr(i);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(Q(this.frames===null,"We already have a frame buffer"),n.length<=6){const i=Number(n);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const i=n.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();const i=Tt(n);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=tx(i,FS);r.length>1&&this.sendString_(String(r.length));for(let c=0;c<r.length;c++)this.sendString_(r[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(ZS))}sendString_(n){try{this.mySock.send(n)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Hn.responsesRequiredToBeHealthy=2;Hn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{static get ALL_TRANSPORTS(){return[Wi,Hn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const i=Hn&&Hn.isAvailable();let r=i&&!Hn.previouslyFailed();if(n.webSocketOnly&&(i||Wt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Hn];else{const c=this.transports_=[];for(const f of kr.ALL_TRANSPORTS)f&&f.isAvailable()&&c.push(f);kr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}kr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=6e4,WS=5e3,JS=10*1024,eN=100*1024,yf="t",Q0="d",tN="s",X0="r",nN="e",F0="o",Z0="a",K0="n",W0="p",sN="h";class lN{constructor(n,i,r,c,f,h,p,y,g,N){this.id=n,this.repoInfo_=i,this.applicationId_=r,this.appCheckToken_=c,this.authToken_=f,this.onMessage_=h,this.onReady_=p,this.onDisconnect_=y,this.onKill_=g,this.lastSessionId=N,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Gr("c:"+this.id+":"),this.transportManager_=new kr(i),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,r)},Math.floor(0));const c=n.healthyTimeout||0;c>0&&(this.healthyTimeout_=Nr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>eN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>JS?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(c)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return i=>{n===this.conn_?this.onConnectionLost_(i):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return i=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(i):n===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(n){const i={t:"d",d:n};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(yf in n){const i=n[yf];i===Z0?this.upgradeIfSecondaryHealthy_():i===X0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===F0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const i=pr("t",n),r=pr("d",n);if(i==="c")this.onSecondaryControl_(r);else if(i==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:W0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Z0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:K0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const i=pr("t",n),r=pr("d",n);i==="c"?this.onControl_(r):i==="d"&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const i=pr(yf,n);if(Q0 in n){const r=n[Q0];if(i===sN){const c={...r};this.repoInfo_.isUsingEmulator&&(c.h=this.repoInfo_.host),this.onHandshake_(c)}else if(i===K0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let c=0;c<this.pendingDataMessages.length;++c)this.onDataMessage_(this.pendingDataMessages[c]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===tN?this.onConnectionShutdown_(r):i===X0?this.onReset_(r):i===nN?Af("Server Error: "+r):i===F0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Af("Unknown control packet command: "+i)}}onHandshake_(n){const i=n.ts,r=n.v,c=n.h;this.sessionId=n.s,this.repoInfo_.host=c,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Wf!==r&&Wt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,r),Nr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(KS))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,i){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Nr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(WS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:W0,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Fl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{put(n,i,r,c){}merge(n,i,r,c){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,i,r){}onDisconnectMerge(n,i,r){}onDisconnectCancel(n,i){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(n){this.allowedEvents_=n,this.listeners_={},Q(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...i){if(Array.isArray(this.listeners_[n])){const r=[...this.listeners_[n]];for(let c=0;c<r.length;c++)r[c].callback.apply(r[c].context,i)}}on(n,i,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:i,context:r});const c=this.getInitialEvent(n);c&&i.apply(r,c)}off(n,i,r){this.validateEventType_(n);const c=this.listeners_[n]||[];for(let f=0;f<c.length;f++)if(c[f].callback===i&&(!r||r===c[f].context)){c.splice(f,1);return}}validateEventType_(n){Q(this.allowedEvents_.find(i=>i===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends bx{static getInstance(){return new Ec}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!qy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return Q(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=32,ey=768;class Pe{constructor(n,i){if(i===void 0){this.pieces_=n.split("/");let r=0;for(let c=0;c<this.pieces_.length;c++)this.pieces_[c].length>0&&(this.pieces_[r]=this.pieces_[c],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=i}toString(){let n="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(n+="/"+this.pieces_[i]);return n||"/"}}function Re(){return new Pe("")}function be(l){return l.pieceNum_>=l.pieces_.length?null:l.pieces_[l.pieceNum_]}function pl(l){return l.pieces_.length-l.pieceNum_}function We(l){let n=l.pieceNum_;return n<l.pieces_.length&&n++,new Pe(l.pieces_,n)}function th(l){return l.pieceNum_<l.pieces_.length?l.pieces_[l.pieces_.length-1]:null}function iN(l){let n="";for(let i=l.pieceNum_;i<l.pieces_.length;i++)l.pieces_[i]!==""&&(n+="/"+encodeURIComponent(String(l.pieces_[i])));return n||"/"}function Rr(l,n=0){return l.pieces_.slice(l.pieceNum_+n)}function _x(l){if(l.pieceNum_>=l.pieces_.length)return null;const n=[];for(let i=l.pieceNum_;i<l.pieces_.length-1;i++)n.push(l.pieces_[i]);return new Pe(n,0)}function ut(l,n){const i=[];for(let r=l.pieceNum_;r<l.pieces_.length;r++)i.push(l.pieces_[r]);if(n instanceof Pe)for(let r=n.pieceNum_;r<n.pieces_.length;r++)i.push(n.pieces_[r]);else{const r=n.split("/");for(let c=0;c<r.length;c++)r[c].length>0&&i.push(r[c])}return new Pe(i,0)}function Ce(l){return l.pieceNum_>=l.pieces_.length}function Kt(l,n){const i=be(l),r=be(n);if(i===null)return n;if(i===r)return Kt(We(l),We(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+l+")")}function aN(l,n){const i=Rr(l,0),r=Rr(n,0);for(let c=0;c<i.length&&c<r.length;c++){const f=Jl(i[c],r[c]);if(f!==0)return f}return i.length===r.length?0:i.length<r.length?-1:1}function nh(l,n){if(pl(l)!==pl(n))return!1;for(let i=l.pieceNum_,r=n.pieceNum_;i<=l.pieces_.length;i++,r++)if(l.pieces_[i]!==n.pieces_[r])return!1;return!0}function jn(l,n){let i=l.pieceNum_,r=n.pieceNum_;if(pl(l)>pl(n))return!1;for(;i<l.pieces_.length;){if(l.pieces_[i]!==n.pieces_[r])return!1;++i,++r}return!0}class rN{constructor(n,i){this.errorPrefix_=i,this.parts_=Rr(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=qc(this.parts_[r]);Sx(this)}}function oN(l,n){l.parts_.length>0&&(l.byteLength_+=1),l.parts_.push(n),l.byteLength_+=qc(n),Sx(l)}function cN(l){const n=l.parts_.pop();l.byteLength_-=qc(n),l.parts_.length>0&&(l.byteLength_-=1)}function Sx(l){if(l.byteLength_>ey)throw new Error(l.errorPrefix_+"has a key path longer than "+ey+" bytes ("+l.byteLength_+").");if(l.parts_.length>J0)throw new Error(l.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+J0+") or object contains a cycle "+Xl(l))}function Xl(l){return l.parts_.length===0?"":"in property '"+l.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends bx{static getInstance(){return new sh}constructor(){super(["visible"]);let n,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(n){return Q(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=1e3,uN=300*1e3,ty=30*1e3,dN=1.3,fN=3e4,hN="server_kill",ny=3;class Es extends vx{constructor(n,i,r,c,f,h,p,y){if(super(),this.repoInfo_=n,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=c,this.onServerInfoUpdate_=f,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=y,this.id=Es.nextPersistentConnectionId_++,this.log_=Gr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=gr,this.maxReconnectDelay_=uN,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");sh.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Ec.getInstance().on("online",this.onOnline_,this)}sendRequest(n,i,r){const c=++this.requestNumber_,f={r:c,a:n,b:i};this.log_(Tt(f)),Q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),r&&(this.requestCBHash_[c]=r)}get(n){this.initConnection_();const i=new Br,c={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:h=>{const p=h.d;h.s==="ok"?i.resolve(p):i.reject(p)}};this.outstandingGets_.push(c),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),i.promise}listen(n,i,r,c){this.initConnection_();const f=n._queryIdentifier,h=n._path.toString();this.log_("Listen called for "+h+" "+f),this.listens.has(h)||this.listens.set(h,new Map),Q(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Q(!this.listens.get(h).has(f),"listen() called twice for same path/queryId.");const p={onComplete:c,hashFn:i,query:n,tag:r};this.listens.get(h).set(f,p),this.connected_&&this.sendListen_(p)}sendGet_(n){const i=this.outstandingGets_[n];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(n){const i=n.query,r=i._path.toString(),c=i._queryIdentifier;this.log_("Listen on "+r+" for "+c);const f={p:r},h="q";n.tag&&(f.q=i._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest(h,f,p=>{const y=p.d,g=p.s;Es.warnOnListenWarnings_(y,i),(this.listens.get(r)&&this.listens.get(r).get(c))===n&&(this.log_("listen response",p),g!=="ok"&&this.removeListen_(r,c),n.onComplete&&n.onComplete(g,y))})}static warnOnListenWarnings_(n,i){if(n&&typeof n=="object"&&Jn(n,"w")){const r=na(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const c='".indexOn": "'+i._queryParams.getIndex().toString()+'"',f=i._path.toString();Wt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||W1(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ty)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,i=K1(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,c=>{const f=c.s,h=c.d||"error";this.authToken_===n&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const i=n.s,r=n.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(n,i){const r=n._path.toString(),c=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+c),Q(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,c)&&this.connected_&&this.sendUnlisten_(r,c,n._queryObject,i)}sendUnlisten_(n,i,r,c){this.log_("Unlisten on "+n+" for "+i);const f={p:n},h="n";c&&(f.q=r,f.t=c),this.sendRequest(h,f)}onDisconnectPut(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:i,onComplete:r})}onDisconnectMerge(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:i,onComplete:r})}onDisconnectCancel(n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(n,i,r,c){const f={p:i,d:r};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,h=>{c&&setTimeout(()=>{c(h.s,h.d)},Math.floor(0))})}put(n,i,r,c){this.putInternal("p",n,i,r,c)}merge(n,i,r,c){this.putInternal("m",n,i,r,c)}putInternal(n,i,r,c,f){this.initConnection_();const h={p:i,d:r};f!==void 0&&(h.h=f),this.outstandingPuts_.push({action:n,request:h,onComplete:c}),this.outstandingPutCount_++;const p=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(p):this.log_("Buffering put: "+i)}sendPut_(n){const i=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,c=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,r,f=>{this.log_(i+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),c&&c(f.s,f.d)})}reportStats(n){if(this.connected_){const i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){const f=r.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Tt(n));const i=n.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,i){this.log_("handleServerMessage",n,i),n==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):n==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):n==="c"?this.onListenRevoked_(i.p,i.q):n==="ac"?this.onAuthRevoked_(i.s,i.d):n==="apc"?this.onAppCheckRevoked_(i.s,i.d):n==="sd"?this.onSecurityDebugPacket_(i):Af("Unrecognized action received from server: "+Tt(n)+`
Are you using the latest client?`)}onReady_(n,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){Q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=gr,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=gr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>fN&&(this.reconnectDelay_=gr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-n);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*dN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),c=this.id+":"+Es.nextConnectionId_++,f=this.lastSessionId;let h=!1,p=null;const y=function(){p?p.close():(h=!0,r())},g=function(_){Q(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(_)};this.realtime_={close:y,sendRequest:g};const N=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,v]=await Promise.all([this.authTokenProvider_.getToken(N),this.appCheckTokenProvider_.getToken(N)]);h?Ut("getToken() completed but was canceled"):(Ut("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=v&&v.token,p=new lN(c,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,i,r,k=>{Wt(k+" ("+this.repoInfo_.toString()+")"),this.interrupt(hN)},f))}catch(_){this.log_("Failed to get token: "+_),h||(this.repoInfo_.nodeAdmin&&Wt(_),y())}}}interrupt(n){Ut("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ut("Resuming connection for reason: "+n),delete this.interruptReasons_[n],M0(this.interruptReasons_)&&(this.reconnectDelay_=gr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const i=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const i=this.outstandingPuts_[n];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,i){let r;i?r=i.map(f=>Kf(f)).join("$"):r="default";const c=this.removeListen_(n,r);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(n,i){const r=new Pe(n).toString();let c;if(this.listens.has(r)){const f=this.listens.get(r);c=f.get(i),f.delete(i),f.size===0&&this.listens.delete(r)}else c=void 0;return c}onAuthRevoked_(n,i){Ut("Auth token revoked: "+n+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ny&&(this.reconnectDelay_=ty,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,i){Ut("App check token revoked: "+n+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ny&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const i of n.values())this.sendListen_(i);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let i="js";n["sdk."+i+"."+Wy.replace(/\./g,"-")]=1,qy()?n["framework.cordova"]=1:G1()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Ec.getInstance().currentlyOnline();return M0(this.interruptReasons_)&&n}}Es.nextPersistentConnectionId_=0;Es.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(n,i){this.name=n,this.node=i}static Wrap(n,i){return new _e(n,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,i){const r=new _e(sa,n),c=new _e(sa,i);return this.compare(r,c)!==0}minPost(){return _e.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc;class Nx extends Yc{static get __EMPTY_NODE(){return mc}static set __EMPTY_NODE(n){mc=n}compare(n,i){return Jl(n.name,i.name)}isDefinedOn(n){throw oa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,i){return!1}minPost(){return _e.MIN}maxPost(){return new _e(Zl,mc)}makePost(n,i){return Q(typeof n=="string","KeyIndex indexValue must always be a string."),new _e(n,mc)}toString(){return".key"}}const ta=new Nx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(n,i,r,c,f=null){this.isReverse_=c,this.resultGenerator_=f,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(n=n,h=i?r(n.key,i):1,c&&(h*=-1),h<0)this.isReverse_?n=n.left:n=n.right;else if(h===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(n.key,n.value):i={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class kt{constructor(n,i,r,c,f){this.key=n,this.value=i,this.color=r??kt.RED,this.left=c??an.EMPTY_NODE,this.right=f??an.EMPTY_NODE}copy(n,i,r,c,f){return new kt(n??this.key,i??this.value,r??this.color,c??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,r){let c=this;const f=r(n,c.key);return f<0?c=c.copy(null,null,null,c.left.insert(n,i,r),null):f===0?c=c.copy(null,i,null,null,null):c=c.copy(null,null,null,null,c.right.insert(n,i,r)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return an.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,i){let r,c;if(r=this,i(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(n,r.key)===0){if(r.right.isEmpty())return an.EMPTY_NODE;c=r.right.min_(),r=r.copy(c.key,c.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}kt.RED=!0;kt.BLACK=!1;class mN{copy(n,i,r,c,f){return this}insert(n,i,r){return new kt(n,i,null)}remove(n,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class an{constructor(n,i=an.EMPTY_NODE){this.comparator_=n,this.root_=i}insert(n,i){return new an(this.comparator_,this.root_.insert(n,i,this.comparator_).copy(null,null,kt.BLACK,null,null))}remove(n){return new an(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,kt.BLACK,null,null))}get(n){let i,r=this.root_;for(;!r.isEmpty();){if(i=this.comparator_(n,r.key),i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}getPredecessorKey(n){let i,r=this.root_,c=null;for(;!r.isEmpty();)if(i=this.comparator_(n,r.key),i===0){if(r.left.isEmpty())return c?c.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else i<0?r=r.left:i>0&&(c=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new pc(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,i){return new pc(this.root_,n,this.comparator_,!1,i)}getReverseIteratorFrom(n,i){return new pc(this.root_,n,this.comparator_,!0,i)}getReverseIterator(n){return new pc(this.root_,null,this.comparator_,!0,n)}}an.EMPTY_NODE=new mN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(l,n){return Jl(l.name,n.name)}function lh(l,n){return Jl(l,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mf;function gN(l){Mf=l}const Cx=function(l){return typeof l=="number"?"number:"+nx(l):"string:"+l},wx=function(l){if(l.isLeafNode()){const n=l.val();Q(typeof n=="string"||typeof n=="number"||typeof n=="object"&&Jn(n,".sv"),"Priority must be a string or number.")}else Q(l===Mf||l.isEmpty(),"priority of unexpected type.");Q(l===Mf||l.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sy;class Mt{static set __childrenNodeConstructor(n){sy=n}static get __childrenNodeConstructor(){return sy}constructor(n,i=Mt.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=i,this.lazyHash_=null,Q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),wx(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new Mt(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:Mt.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Ce(n)?this:be(n)===".priority"?this.priorityNode_:Mt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,i){return null}updateImmediateChild(n,i){return n===".priority"?this.updatePriority(i):i.isEmpty()&&n!==".priority"?this:Mt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,i).updatePriority(this.priorityNode_)}updateChild(n,i){const r=be(n);return r===null?i:i.isEmpty()&&r!==".priority"?this:(Q(r!==".priority"||pl(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Mt.__childrenNodeConstructor.EMPTY_NODE.updateChild(We(n),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,i){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Cx(this.priorityNode_.val())+":");const i=typeof this.value_;n+=i+":",i==="number"?n+=nx(this.value_):n+=this.value_,this.lazyHash_=ex(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===Mt.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof Mt.__childrenNodeConstructor?-1:(Q(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const i=typeof n.value_,r=typeof this.value_,c=Mt.VALUE_TYPE_ORDER.indexOf(i),f=Mt.VALUE_TYPE_ORDER.indexOf(r);return Q(c>=0,"Unknown leaf type: "+i),Q(f>=0,"Unknown leaf type: "+r),c===f?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-c}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const i=n;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}Mt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ex,jx;function yN(l){Ex=l}function xN(l){jx=l}class vN extends Yc{compare(n,i){const r=n.node.getPriority(),c=i.node.getPriority(),f=r.compareTo(c);return f===0?Jl(n.name,i.name):f}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,i){return!n.getPriority().equals(i.getPriority())}minPost(){return _e.MIN}maxPost(){return new _e(Zl,new Mt("[PRIORITY-POST]",jx))}makePost(n,i){const r=Ex(n);return new _e(i,new Mt("[PRIORITY-POST]",r))}toString(){return".priority"}}const dt=new vN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=Math.log(2);class _N{constructor(n){const i=f=>parseInt(Math.log(f)/bN,10),r=f=>parseInt(Array(f+1).join("1"),2);this.count=i(n+1),this.current_=this.count-1;const c=r(this.count);this.bits_=n+1&c}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const jc=function(l,n,i,r){l.sort(n);const c=function(y,g){const N=g-y;let _,v;if(N===0)return null;if(N===1)return _=l[y],v=i?i(_):_,new kt(v,_.node,kt.BLACK,null,null);{const k=parseInt(N/2,10)+y,V=c(y,k),K=c(k+1,g);return _=l[k],v=i?i(_):_,new kt(v,_.node,kt.BLACK,V,K)}},f=function(y){let g=null,N=null,_=l.length;const v=function(V,K){const xe=_-V,J=_;_-=V;const he=c(xe+1,J),ge=l[xe],ae=i?i(ge):ge;k(new kt(ae,ge.node,K,null,he))},k=function(V){g?(g.left=V,g=V):(N=V,g=V)};for(let V=0;V<y.count;++V){const K=y.nextBitIsOne(),xe=Math.pow(2,y.count-(V+1));K?v(xe,kt.BLACK):(v(xe,kt.BLACK),v(xe,kt.RED))}return N},h=new _N(l.length),p=f(h);return new an(r||n,p)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xf;const Fi={};class ws{static get Default(){return Q(Fi&&dt,"ChildrenNode.ts has not been loaded"),xf=xf||new ws({".priority":Fi},{".priority":dt}),xf}constructor(n,i){this.indexes_=n,this.indexSet_=i}get(n){const i=na(this.indexes_,n);if(!i)throw new Error("No index defined for "+n);return i instanceof an?i:null}hasIndex(n){return Jn(this.indexSet_,n.toString())}addIndex(n,i){Q(n!==ta,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let c=!1;const f=i.getIterator(_e.Wrap);let h=f.getNext();for(;h;)c=c||n.isDefinedOn(h.node),r.push(h),h=f.getNext();let p;c?p=jc(r,n.getCompare()):p=Fi;const y=n.toString(),g={...this.indexSet_};g[y]=n;const N={...this.indexes_};return N[y]=p,new ws(N,g)}addToIndexes(n,i){const r=Sc(this.indexes_,(c,f)=>{const h=na(this.indexSet_,f);if(Q(h,"Missing index implementation for "+f),c===Fi)if(h.isDefinedOn(n.node)){const p=[],y=i.getIterator(_e.Wrap);let g=y.getNext();for(;g;)g.name!==n.name&&p.push(g),g=y.getNext();return p.push(n),jc(p,h.getCompare())}else return Fi;else{const p=i.get(n.name);let y=c;return p&&(y=y.remove(new _e(n.name,p))),y.insert(n,n.node)}});return new ws(r,this.indexSet_)}removeFromIndexes(n,i){const r=Sc(this.indexes_,c=>{if(c===Fi)return c;{const f=i.get(n.name);return f?c.remove(new _e(n.name,f)):c}});return new ws(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yr;class oe{static get EMPTY_NODE(){return yr||(yr=new oe(new an(lh),null,ws.Default))}constructor(n,i,r){this.children_=n,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&wx(this.priorityNode_),this.children_.isEmpty()&&Q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||yr}updatePriority(n){return this.children_.isEmpty()?this:new oe(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const i=this.children_.get(n);return i===null?yr:i}}getChild(n){const i=be(n);return i===null?this:this.getImmediateChild(i).getChild(We(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,i){if(Q(i,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(i);{const r=new _e(n,i);let c,f;i.isEmpty()?(c=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(r,this.children_)):(c=this.children_.insert(n,i),f=this.indexMap_.addToIndexes(r,this.children_));const h=c.isEmpty()?yr:this.priorityNode_;return new oe(c,h,f)}}updateChild(n,i){const r=be(n);if(r===null)return i;{Q(be(n)!==".priority"||pl(n)===1,".priority must be the last token in a path");const c=this.getImmediateChild(r).updateChild(We(n),i);return this.updateImmediateChild(r,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const i={};let r=0,c=0,f=!0;if(this.forEachChild(dt,(h,p)=>{i[h]=p.val(n),r++,f&&oe.INTEGER_REGEXP_.test(h)?c=Math.max(c,Number(h)):f=!1}),!n&&f&&c<2*r){const h=[];for(const p in i)h[p]=i[p];return h}else return n&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+Cx(this.getPriority().val())+":"),this.forEachChild(dt,(i,r)=>{const c=r.hash();c!==""&&(n+=":"+i+":"+c)}),this.lazyHash_=n===""?"":ex(n)}return this.lazyHash_}getPredecessorChildName(n,i,r){const c=this.resolveIndex_(r);if(c){const f=c.getPredecessorKey(new _e(n,i));return f?f.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const i=this.resolveIndex_(n);if(i){const r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){const i=this.getFirstChildName(n);return i?new _e(i,this.children_.get(i)):null}getLastChildName(n){const i=this.resolveIndex_(n);if(i){const r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){const i=this.getLastChildName(n);return i?new _e(i,this.children_.get(i)):null}forEachChild(n,i){const r=this.resolveIndex_(n);return r?r.inorderTraversal(c=>i(c.name,c.node)):this.children_.inorderTraversal(i)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(n,c=>c);{const c=this.children_.getIteratorFrom(n.name,_e.Wrap);let f=c.peek();for(;f!=null&&i.compare(f,n)<0;)c.getNext(),f=c.peek();return c}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(n,c=>c);{const c=this.children_.getReverseIteratorFrom(n.name,_e.Wrap);let f=c.peek();for(;f!=null&&i.compare(f,n)>0;)c.getNext(),f=c.peek();return c}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Vr?-1:0}withIndex(n){if(n===ta||this.indexMap_.hasIndex(n))return this;{const i=this.indexMap_.addIndex(n,this.children_);return new oe(this.children_,this.priorityNode_,i)}}isIndexed(n){return n===ta||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const i=n;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const r=this.getIterator(dt),c=i.getIterator(dt);let f=r.getNext(),h=c.getNext();for(;f&&h;){if(f.name!==h.name||!f.node.equals(h.node))return!1;f=r.getNext(),h=c.getNext()}return f===null&&h===null}else return!1;else return!1}}resolveIndex_(n){return n===ta?null:this.indexMap_.get(n.toString())}}oe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class SN extends oe{constructor(){super(new an(lh),oe.EMPTY_NODE,ws.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return oe.EMPTY_NODE}isEmpty(){return!1}}const Vr=new SN;Object.defineProperties(_e,{MIN:{value:new _e(sa,oe.EMPTY_NODE)},MAX:{value:new _e(Zl,Vr)}});Nx.__EMPTY_NODE=oe.EMPTY_NODE;Mt.__childrenNodeConstructor=oe;gN(Vr);xN(Vr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=!0;function jt(l,n=null){if(l===null)return oe.EMPTY_NODE;if(typeof l=="object"&&".priority"in l&&(n=l[".priority"]),Q(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof l=="object"&&".value"in l&&l[".value"]!==null&&(l=l[".value"]),typeof l!="object"||".sv"in l){const i=l;return new Mt(i,jt(n))}if(!(l instanceof Array)&&NN){const i=[];let r=!1;if(Ht(l,(h,p)=>{if(h.substring(0,1)!=="."){const y=jt(p);y.isEmpty()||(r=r||!y.getPriority().isEmpty(),i.push(new _e(h,y)))}}),i.length===0)return oe.EMPTY_NODE;const f=jc(i,pN,h=>h.name,lh);if(r){const h=jc(i,dt.getCompare());return new oe(f,jt(n),new ws({".priority":h},{".priority":dt}))}else return new oe(f,jt(n),ws.Default)}else{let i=oe.EMPTY_NODE;return Ht(l,(r,c)=>{if(Jn(l,r)&&r.substring(0,1)!=="."){const f=jt(c);(f.isLeafNode()||!f.isEmpty())&&(i=i.updateImmediateChild(r,f))}}),i.updatePriority(jt(n))}}yN(jt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN extends Yc{constructor(n){super(),this.indexPath_=n,Q(!Ce(n)&&be(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,i){const r=this.extractChild(n.node),c=this.extractChild(i.node),f=r.compareTo(c);return f===0?Jl(n.name,i.name):f}makePost(n,i){const r=jt(n),c=oe.EMPTY_NODE.updateChild(this.indexPath_,r);return new _e(i,c)}maxPost(){const n=oe.EMPTY_NODE.updateChild(this.indexPath_,Vr);return new _e(Zl,n)}toString(){return Rr(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN extends Yc{compare(n,i){const r=n.node.compareTo(i.node);return r===0?Jl(n.name,i.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,i){return!n.equals(i)}minPost(){return _e.MIN}maxPost(){return _e.MAX}makePost(n,i){const r=jt(n);return new _e(i,r)}toString(){return".value"}}const EN=new wN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(l){return{type:"value",snapshotNode:l}}function la(l,n){return{type:"child_added",snapshotNode:n,childName:l}}function Or(l,n){return{type:"child_removed",snapshotNode:n,childName:l}}function zr(l,n,i){return{type:"child_changed",snapshotNode:n,childName:l,oldSnap:i}}function jN(l,n){return{type:"child_moved",snapshotNode:n,childName:l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(n){this.index_=n}updateChild(n,i,r,c,f,h){Q(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=n.getImmediateChild(i);return p.getChild(c).equals(r.getChild(c))&&p.isEmpty()===r.isEmpty()||(h!=null&&(r.isEmpty()?n.hasChild(i)?h.trackChildChange(Or(i,p)):Q(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?h.trackChildChange(la(i,r)):h.trackChildChange(zr(i,r,p))),n.isLeafNode()&&r.isEmpty())?n:n.updateImmediateChild(i,r).withIndex(this.index_)}updateFullNode(n,i,r){return r!=null&&(n.isLeafNode()||n.forEachChild(dt,(c,f)=>{i.hasChild(c)||r.trackChildChange(Or(c,f))}),i.isLeafNode()||i.forEachChild(dt,(c,f)=>{if(n.hasChild(c)){const h=n.getImmediateChild(c);h.equals(f)||r.trackChildChange(zr(c,f,h))}else r.trackChildChange(la(c,f))})),i.withIndex(this.index_)}updatePriority(n,i){return n.isEmpty()?oe.EMPTY_NODE:n.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(n){this.indexedFilter_=new ih(n.getIndex()),this.index_=n.getIndex(),this.startPost_=Lr.getStartPost_(n),this.endPost_=Lr.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,r=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return i&&r}updateChild(n,i,r,c,f,h){return this.matches(new _e(i,r))||(r=oe.EMPTY_NODE),this.indexedFilter_.updateChild(n,i,r,c,f,h)}updateFullNode(n,i,r){i.isLeafNode()&&(i=oe.EMPTY_NODE);let c=i.withIndex(this.index_);c=c.updatePriority(oe.EMPTY_NODE);const f=this;return i.forEachChild(dt,(h,p)=>{f.matches(new _e(h,p))||(c=c.updateImmediateChild(h,oe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,c,r)}updatePriority(n,i){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const i=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),i)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const i=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),i)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(n){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=i=>{const r=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Lr(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,i,r,c,f,h){return this.rangedFilter_.matches(new _e(i,r))||(r=oe.EMPTY_NODE),n.getImmediateChild(i).equals(r)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,i,r,c,f,h):this.fullLimitUpdateChild_(n,i,r,f,h)}updateFullNode(n,i,r){let c;if(i.isLeafNode()||i.isEmpty())c=oe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){c=oe.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;f.hasNext()&&h<this.limit_;){const p=f.getNext();if(this.withinDirectionalStart(p))if(this.withinDirectionalEnd(p))c=c.updateImmediateChild(p.name,p.node),h++;else break;else continue}}else{c=i.withIndex(this.index_),c=c.updatePriority(oe.EMPTY_NODE);let f;this.reverse_?f=c.getReverseIterator(this.index_):f=c.getIterator(this.index_);let h=0;for(;f.hasNext();){const p=f.getNext();h<this.limit_&&this.withinDirectionalStart(p)&&this.withinDirectionalEnd(p)?h++:c=c.updateImmediateChild(p.name,oe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,c,r)}updatePriority(n,i){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,i,r,c,f){let h;if(this.reverse_){const _=this.index_.getCompare();h=(v,k)=>_(k,v)}else h=this.index_.getCompare();const p=n;Q(p.numChildren()===this.limit_,"");const y=new _e(i,r),g=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),N=this.rangedFilter_.matches(y);if(p.hasChild(i)){const _=p.getImmediateChild(i);let v=c.getChildAfterChild(this.index_,g,this.reverse_);for(;v!=null&&(v.name===i||p.hasChild(v.name));)v=c.getChildAfterChild(this.index_,v,this.reverse_);const k=v==null?1:h(v,y);if(N&&!r.isEmpty()&&k>=0)return f!=null&&f.trackChildChange(zr(i,r,_)),p.updateImmediateChild(i,r);{f!=null&&f.trackChildChange(Or(i,_));const K=p.updateImmediateChild(i,oe.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(f!=null&&f.trackChildChange(la(v.name,v.node)),K.updateImmediateChild(v.name,v.node)):K}}else return r.isEmpty()?n:N&&h(g,y)>=0?(f!=null&&(f.trackChildChange(Or(g.name,g.node)),f.trackChildChange(la(i,r))),p.updateImmediateChild(i,r).updateImmediateChild(g.name,oe.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=dt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:sa}hasEnd(){return this.endSet_}getIndexEndValue(){return Q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Zl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===dt}copy(){const n=new ah;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function AN(l){return l.loadsAllData()?new ih(l.getIndex()):l.hasLimit()?new TN(l):new Lr(l)}function ly(l){const n={};if(l.isDefault())return n;let i;if(l.index_===dt?i="$priority":l.index_===EN?i="$value":l.index_===ta?i="$key":(Q(l.index_ instanceof CN,"Unrecognized index type!"),i=l.index_.toString()),n.orderBy=Tt(i),l.startSet_){const r=l.startAfterSet_?"startAfter":"startAt";n[r]=Tt(l.indexStartValue_),l.startNameSet_&&(n[r]+=","+Tt(l.indexStartName_))}if(l.endSet_){const r=l.endBeforeSet_?"endBefore":"endAt";n[r]=Tt(l.indexEndValue_),l.endNameSet_&&(n[r]+=","+Tt(l.indexEndName_))}return l.limitSet_&&(l.isViewFromLeft()?n.limitToFirst=l.limit_:n.limitToLast=l.limit_),n}function iy(l){const n={};if(l.startSet_&&(n.sp=l.indexStartValue_,l.startNameSet_&&(n.sn=l.indexStartName_),n.sin=!l.startAfterSet_),l.endSet_&&(n.ep=l.indexEndValue_,l.endNameSet_&&(n.en=l.indexEndName_),n.ein=!l.endBeforeSet_),l.limitSet_){n.l=l.limit_;let i=l.viewFrom_;i===""&&(l.isViewFromLeft()?i="l":i="r"),n.vf=i}return l.index_!==dt&&(n.i=l.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends vx{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,i){return i!==void 0?"tag$"+i:(Q(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,i,r,c){super(),this.repoInfo_=n,this.onDataUpdate_=i,this.authTokenProvider_=r,this.appCheckTokenProvider_=c,this.log_=Gr("p:rest:"),this.listens_={}}listen(n,i,r,c){const f=n._path.toString();this.log_("Listen called for "+f+" "+n._queryIdentifier);const h=Tc.getListenId_(n,r),p={};this.listens_[h]=p;const y=ly(n._queryParams);this.restRequest_(f+".json",y,(g,N)=>{let _=N;if(g===404&&(_=null,g=null),g===null&&this.onDataUpdate_(f,_,!1,r),na(this.listens_,h)===p){let v;g?g===401?v="permission_denied":v="rest_error:"+g:v="ok",c(v,null)}})}unlisten(n,i){const r=Tc.getListenId_(n,i);delete this.listens_[r]}get(n){const i=ly(n._queryParams),r=n._path.toString(),c=new Br;return this.restRequest_(r+".json",i,(f,h)=>{let p=h;f===404&&(p=null,f=null),f===null?(this.onDataUpdate_(r,p,!1,null),c.resolve(p)):c.reject(new Error(p))}),c.promise}refreshAuthToken(n){}restRequest_(n,i={},r){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([c,f])=>{c&&c.accessToken&&(i.auth=c.accessToken),f&&f.token&&(i.ac=f.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+J1(i);this.log_("Sending REST request for "+h);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(r&&p.readyState===4){this.log_("REST Response for "+h+" received. status:",p.status,"response:",p.responseText);let y=null;if(p.status>=200&&p.status<300){try{y=Tr(p.responseText)}catch{Wt("Failed to parse JSON response for "+h+": "+p.responseText)}r(null,y)}else p.status!==401&&p.status!==404&&Wt("Got unsuccessful REST response for "+h+" Status: "+p.status),r(p.status);r=null}},p.open("GET",h,!0),p.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this.rootNode_=oe.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,i){this.rootNode_=this.rootNode_.updateChild(n,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(){return{value:null,children:new Map}}function Ax(l,n,i){if(Ce(n))l.value=i,l.children.clear();else if(l.value!==null)l.value=l.value.updateChild(n,i);else{const r=be(n);l.children.has(r)||l.children.set(r,Ac());const c=l.children.get(r);n=We(n),Ax(c,n,i)}}function kf(l,n,i){l.value!==null?i(n,l.value):MN(l,(r,c)=>{const f=new Pe(n.toString()+"/"+r);kf(c,f,i)})}function MN(l,n){l.children.forEach((i,r)=>{n(r,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),i={...n};return this.last_&&Ht(this.last_,(r,c)=>{i[r]=i[r]-c}),this.last_=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay=10*1e3,RN=30*1e3,ON=300*1e3;class zN{constructor(n,i){this.server_=i,this.statsToReport_={},this.statsListener_=new kN(n);const r=ay+(RN-ay)*Math.random();Nr(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const n=this.statsListener_.get(),i={};let r=!1;Ht(n,(c,f)=>{f>0&&Jn(this.statsToReport_,c)&&(i[c]=f,r=!0)}),r&&this.server_.reportStats(i),Nr(this.reportStats_.bind(this),Math.floor(Math.random()*2*ON))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In;(function(l){l[l.OVERWRITE=0]="OVERWRITE",l[l.MERGE=1]="MERGE",l[l.ACK_USER_WRITE=2]="ACK_USER_WRITE",l[l.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(In||(In={}));function rh(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function oh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ch(l){return{fromUser:!1,fromServer:!0,queryId:l,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(n,i,r){this.path=n,this.affectedTree=i,this.revert=r,this.type=In.ACK_USER_WRITE,this.source=rh()}operationForChild(n){if(Ce(this.path)){if(this.affectedTree.value!=null)return Q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Pe(n));return new Dc(Re(),i,this.revert)}}else return Q(be(this.path)===n,"operationForChild called for unrelated child."),new Dc(We(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(n,i){this.source=n,this.path=i,this.type=In.LISTEN_COMPLETE}operationForChild(n){return Ce(this.path)?new $r(this.source,Re()):new $r(this.source,We(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(n,i,r){this.source=n,this.path=i,this.snap=r,this.type=In.OVERWRITE}operationForChild(n){return Ce(this.path)?new Kl(this.source,Re(),this.snap.getImmediateChild(n)):new Kl(this.source,We(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(n,i,r){this.source=n,this.path=i,this.children=r,this.type=In.MERGE}operationForChild(n){if(Ce(this.path)){const i=this.children.subtree(new Pe(n));return i.isEmpty()?null:i.value?new Kl(this.source,Re(),i.value):new ia(this.source,Re(),i)}else return Q(be(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new ia(this.source,We(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(n,i,r){this.node_=n,this.fullyInitialized_=i,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(Ce(n))return this.isFullyInitialized()&&!this.filtered_;const i=be(n);return this.isCompleteForChild(i)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function $N(l,n,i,r){const c=[],f=[];return n.forEach(h=>{h.type==="child_changed"&&l.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&f.push(jN(h.childName,h.snapshotNode))}),xr(l,c,"child_removed",n,r,i),xr(l,c,"child_added",n,r,i),xr(l,c,"child_moved",f,r,i),xr(l,c,"child_changed",n,r,i),xr(l,c,"value",n,r,i),c}function xr(l,n,i,r,c,f){const h=r.filter(p=>p.type===i);h.sort((p,y)=>HN(l,p,y)),h.forEach(p=>{const y=UN(l,p,f);c.forEach(g=>{g.respondsTo(p.type)&&n.push(g.createEvent(y,l.query_))})})}function UN(l,n,i){return n.type==="value"||n.type==="child_removed"||(n.prevName=i.getPredecessorChildName(n.childName,n.snapshotNode,l.index_)),n}function HN(l,n,i){if(n.childName==null||i.childName==null)throw oa("Should only compare child_ events.");const r=new _e(n.childName,n.snapshotNode),c=new _e(i.childName,i.snapshotNode);return l.index_.compare(r,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(l,n){return{eventCache:l,serverCache:n}}function Cr(l,n,i,r){return Gc(new gl(n,i,r),l.serverCache)}function Dx(l,n,i,r){return Gc(l.eventCache,new gl(n,i,r))}function Mc(l){return l.eventCache.isFullyInitialized()?l.eventCache.getNode():null}function Wl(l){return l.serverCache.isFullyInitialized()?l.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vf;const IN=()=>(vf||(vf=new an(CS)),vf);class Ze{static fromObject(n){let i=new Ze(null);return Ht(n,(r,c)=>{i=i.set(new Pe(r),c)}),i}constructor(n,i=IN()){this.value=n,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,i){if(this.value!=null&&i(this.value))return{path:Re(),value:this.value};if(Ce(n))return null;{const r=be(n),c=this.children.get(r);if(c!==null){const f=c.findRootMostMatchingPathAndValue(We(n),i);return f!=null?{path:ut(new Pe(r),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(Ce(n))return this;{const i=be(n),r=this.children.get(i);return r!==null?r.subtree(We(n)):new Ze(null)}}set(n,i){if(Ce(n))return new Ze(i,this.children);{const r=be(n),f=(this.children.get(r)||new Ze(null)).set(We(n),i),h=this.children.insert(r,f);return new Ze(this.value,h)}}remove(n){if(Ce(n))return this.children.isEmpty()?new Ze(null):new Ze(null,this.children);{const i=be(n),r=this.children.get(i);if(r){const c=r.remove(We(n));let f;return c.isEmpty()?f=this.children.remove(i):f=this.children.insert(i,c),this.value===null&&f.isEmpty()?new Ze(null):new Ze(this.value,f)}else return this}}get(n){if(Ce(n))return this.value;{const i=be(n),r=this.children.get(i);return r?r.get(We(n)):null}}setTree(n,i){if(Ce(n))return i;{const r=be(n),f=(this.children.get(r)||new Ze(null)).setTree(We(n),i);let h;return f.isEmpty()?h=this.children.remove(r):h=this.children.insert(r,f),new Ze(this.value,h)}}fold(n){return this.fold_(Re(),n)}fold_(n,i){const r={};return this.children.inorderTraversal((c,f)=>{r[c]=f.fold_(ut(n,c),i)}),i(n,this.value,r)}findOnPath(n,i){return this.findOnPath_(n,Re(),i)}findOnPath_(n,i,r){const c=this.value?r(i,this.value):!1;if(c)return c;if(Ce(n))return null;{const f=be(n),h=this.children.get(f);return h?h.findOnPath_(We(n),ut(i,f),r):null}}foreachOnPath(n,i){return this.foreachOnPath_(n,Re(),i)}foreachOnPath_(n,i,r){if(Ce(n))return this;{this.value&&r(i,this.value);const c=be(n),f=this.children.get(c);return f?f.foreachOnPath_(We(n),ut(i,c),r):new Ze(null)}}foreach(n){this.foreach_(Re(),n)}foreach_(n,i){this.children.inorderTraversal((r,c)=>{c.foreach_(ut(n,r),i)}),this.value&&i(n,this.value)}foreachChild(n){this.children.inorderTraversal((i,r)=>{r.value&&n(i,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(n){this.writeTree_=n}static empty(){return new Bn(new Ze(null))}}function wr(l,n,i){if(Ce(n))return new Bn(new Ze(i));{const r=l.writeTree_.findRootMostValueAndPath(n);if(r!=null){const c=r.path;let f=r.value;const h=Kt(c,n);return f=f.updateChild(h,i),new Bn(l.writeTree_.set(c,f))}else{const c=new Ze(i),f=l.writeTree_.setTree(n,c);return new Bn(f)}}}function Rf(l,n,i){let r=l;return Ht(i,(c,f)=>{r=wr(r,ut(n,c),f)}),r}function ry(l,n){if(Ce(n))return Bn.empty();{const i=l.writeTree_.setTree(n,new Ze(null));return new Bn(i)}}function Of(l,n){return ei(l,n)!=null}function ei(l,n){const i=l.writeTree_.findRootMostValueAndPath(n);return i!=null?l.writeTree_.get(i.path).getChild(Kt(i.path,n)):null}function oy(l){const n=[],i=l.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(dt,(r,c)=>{n.push(new _e(r,c))}):l.writeTree_.children.inorderTraversal((r,c)=>{c.value!=null&&n.push(new _e(r,c.value))}),n}function hl(l,n){if(Ce(n))return l;{const i=ei(l,n);return i!=null?new Bn(new Ze(i)):new Bn(l.writeTree_.subtree(n))}}function zf(l){return l.writeTree_.isEmpty()}function aa(l,n){return Mx(Re(),l.writeTree_,n)}function Mx(l,n,i){if(n.value!=null)return i.updateChild(l,n.value);{let r=null;return n.children.inorderTraversal((c,f)=>{c===".priority"?(Q(f.value!==null,"Priority writes must always be leaf nodes"),r=f.value):i=Mx(ut(l,c),f,i)}),!i.getChild(l).isEmpty()&&r!==null&&(i=i.updateChild(ut(l,".priority"),r)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(l,n){return zx(n,l)}function BN(l,n,i,r,c){Q(r>l.lastWriteId,"Stacking an older write on top of newer ones"),c===void 0&&(c=!0),l.allWrites.push({path:n,snap:i,writeId:r,visible:c}),c&&(l.visibleWrites=wr(l.visibleWrites,n,i)),l.lastWriteId=r}function qN(l,n,i,r){Q(r>l.lastWriteId,"Stacking an older merge on top of newer ones"),l.allWrites.push({path:n,children:i,writeId:r,visible:!0}),l.visibleWrites=Rf(l.visibleWrites,n,i),l.lastWriteId=r}function YN(l,n){for(let i=0;i<l.allWrites.length;i++){const r=l.allWrites[i];if(r.writeId===n)return r}return null}function GN(l,n){const i=l.allWrites.findIndex(p=>p.writeId===n);Q(i>=0,"removeWrite called with nonexistent writeId.");const r=l.allWrites[i];l.allWrites.splice(i,1);let c=r.visible,f=!1,h=l.allWrites.length-1;for(;c&&h>=0;){const p=l.allWrites[h];p.visible&&(h>=i&&VN(p,r.path)?c=!1:jn(r.path,p.path)&&(f=!0)),h--}if(c){if(f)return PN(l),!0;if(r.snap)l.visibleWrites=ry(l.visibleWrites,r.path);else{const p=r.children;Ht(p,y=>{l.visibleWrites=ry(l.visibleWrites,ut(r.path,y))})}return!0}else return!1}function VN(l,n){if(l.snap)return jn(l.path,n);for(const i in l.children)if(l.children.hasOwnProperty(i)&&jn(ut(l.path,i),n))return!0;return!1}function PN(l){l.visibleWrites=kx(l.allWrites,QN,Re()),l.allWrites.length>0?l.lastWriteId=l.allWrites[l.allWrites.length-1].writeId:l.lastWriteId=-1}function QN(l){return l.visible}function kx(l,n,i){let r=Bn.empty();for(let c=0;c<l.length;++c){const f=l[c];if(n(f)){const h=f.path;let p;if(f.snap)jn(i,h)?(p=Kt(i,h),r=wr(r,p,f.snap)):jn(h,i)&&(p=Kt(h,i),r=wr(r,Re(),f.snap.getChild(p)));else if(f.children){if(jn(i,h))p=Kt(i,h),r=Rf(r,p,f.children);else if(jn(h,i))if(p=Kt(h,i),Ce(p))r=Rf(r,Re(),f.children);else{const y=na(f.children,be(p));if(y){const g=y.getChild(We(p));r=wr(r,Re(),g)}}}else throw oa("WriteRecord should have .snap or .children")}}return r}function Rx(l,n,i,r,c){if(!r&&!c){const f=ei(l.visibleWrites,n);if(f!=null)return f;{const h=hl(l.visibleWrites,n);if(zf(h))return i;if(i==null&&!Of(h,Re()))return null;{const p=i||oe.EMPTY_NODE;return aa(h,p)}}}else{const f=hl(l.visibleWrites,n);if(!c&&zf(f))return i;if(!c&&i==null&&!Of(f,Re()))return null;{const h=function(g){return(g.visible||c)&&(!r||!~r.indexOf(g.writeId))&&(jn(g.path,n)||jn(n,g.path))},p=kx(l.allWrites,h,n),y=i||oe.EMPTY_NODE;return aa(p,y)}}}function XN(l,n,i){let r=oe.EMPTY_NODE;const c=ei(l.visibleWrites,n);if(c)return c.isLeafNode()||c.forEachChild(dt,(f,h)=>{r=r.updateImmediateChild(f,h)}),r;if(i){const f=hl(l.visibleWrites,n);return i.forEachChild(dt,(h,p)=>{const y=aa(hl(f,new Pe(h)),p);r=r.updateImmediateChild(h,y)}),oy(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}else{const f=hl(l.visibleWrites,n);return oy(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}}function FN(l,n,i,r,c){Q(r||c,"Either existingEventSnap or existingServerSnap must exist");const f=ut(n,i);if(Of(l.visibleWrites,f))return null;{const h=hl(l.visibleWrites,f);return zf(h)?c.getChild(i):aa(h,c.getChild(i))}}function ZN(l,n,i,r){const c=ut(n,i),f=ei(l.visibleWrites,c);if(f!=null)return f;if(r.isCompleteForChild(i)){const h=hl(l.visibleWrites,c);return aa(h,r.getNode().getImmediateChild(i))}else return null}function KN(l,n){return ei(l.visibleWrites,n)}function WN(l,n,i,r,c,f,h){let p;const y=hl(l.visibleWrites,n),g=ei(y,Re());if(g!=null)p=g;else if(i!=null)p=aa(y,i);else return[];if(p=p.withIndex(h),!p.isEmpty()&&!p.isLeafNode()){const N=[],_=h.getCompare(),v=f?p.getReverseIteratorFrom(r,h):p.getIteratorFrom(r,h);let k=v.getNext();for(;k&&N.length<c;)_(k,r)!==0&&N.push(k),k=v.getNext();return N}else return[]}function JN(){return{visibleWrites:Bn.empty(),allWrites:[],lastWriteId:-1}}function kc(l,n,i,r){return Rx(l.writeTree,l.treePath,n,i,r)}function uh(l,n){return XN(l.writeTree,l.treePath,n)}function cy(l,n,i,r){return FN(l.writeTree,l.treePath,n,i,r)}function Rc(l,n){return KN(l.writeTree,ut(l.treePath,n))}function eC(l,n,i,r,c,f){return WN(l.writeTree,l.treePath,n,i,r,c,f)}function dh(l,n,i){return ZN(l.writeTree,l.treePath,n,i)}function Ox(l,n){return zx(ut(l.treePath,n),l.writeTree)}function zx(l,n){return{treePath:l,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.changeMap=new Map}trackChildChange(n){const i=n.type,r=n.childName;Q(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),Q(r!==".priority","Only non-priority child changes can be tracked.");const c=this.changeMap.get(r);if(c){const f=c.type;if(i==="child_added"&&f==="child_removed")this.changeMap.set(r,zr(r,n.snapshotNode,c.snapshotNode));else if(i==="child_removed"&&f==="child_added")this.changeMap.delete(r);else if(i==="child_removed"&&f==="child_changed")this.changeMap.set(r,Or(r,c.oldSnap));else if(i==="child_changed"&&f==="child_added")this.changeMap.set(r,la(r,n.snapshotNode));else if(i==="child_changed"&&f==="child_changed")this.changeMap.set(r,zr(r,n.snapshotNode,c.oldSnap));else throw oa("Illegal combination of changes: "+n+" occurred after "+c)}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{getCompleteChild(n){return null}getChildAfterChild(n,i,r){return null}}const Lx=new nC;class fh{constructor(n,i,r=null){this.writes_=n,this.viewCache_=i,this.optCompleteServerCache_=r}getCompleteChild(n){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(n))return i.getNode().getImmediateChild(n);{const r=this.optCompleteServerCache_!=null?new gl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return dh(this.writes_,n,r)}}getChildAfterChild(n,i,r){const c=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Wl(this.viewCache_),f=eC(this.writes_,c,i,1,r,n);return f.length===0?null:f[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(l){return{filter:l}}function lC(l,n){Q(n.eventCache.getNode().isIndexed(l.filter.getIndex()),"Event snap not indexed"),Q(n.serverCache.getNode().isIndexed(l.filter.getIndex()),"Server snap not indexed")}function iC(l,n,i,r,c){const f=new tC;let h,p;if(i.type===In.OVERWRITE){const g=i;g.source.fromUser?h=Lf(l,n,g.path,g.snap,r,c,f):(Q(g.source.fromServer,"Unknown source."),p=g.source.tagged||n.serverCache.isFiltered()&&!Ce(g.path),h=Oc(l,n,g.path,g.snap,r,c,p,f))}else if(i.type===In.MERGE){const g=i;g.source.fromUser?h=rC(l,n,g.path,g.children,r,c,f):(Q(g.source.fromServer,"Unknown source."),p=g.source.tagged||n.serverCache.isFiltered(),h=$f(l,n,g.path,g.children,r,c,p,f))}else if(i.type===In.ACK_USER_WRITE){const g=i;g.revert?h=uC(l,n,g.path,r,c,f):h=oC(l,n,g.path,g.affectedTree,r,c,f)}else if(i.type===In.LISTEN_COMPLETE)h=cC(l,n,i.path,r,f);else throw oa("Unknown operation type: "+i.type);const y=f.getChanges();return aC(n,h,y),{viewCache:h,changes:y}}function aC(l,n,i){const r=n.eventCache;if(r.isFullyInitialized()){const c=r.getNode().isLeafNode()||r.getNode().isEmpty(),f=Mc(l);(i.length>0||!l.eventCache.isFullyInitialized()||c&&!r.getNode().equals(f)||!r.getNode().getPriority().equals(f.getPriority()))&&i.push(Tx(Mc(n)))}}function $x(l,n,i,r,c,f){const h=n.eventCache;if(Rc(r,i)!=null)return n;{let p,y;if(Ce(i))if(Q(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const g=Wl(n),N=g instanceof oe?g:oe.EMPTY_NODE,_=uh(r,N);p=l.filter.updateFullNode(n.eventCache.getNode(),_,f)}else{const g=kc(r,Wl(n));p=l.filter.updateFullNode(n.eventCache.getNode(),g,f)}else{const g=be(i);if(g===".priority"){Q(pl(i)===1,"Can't have a priority with additional path components");const N=h.getNode();y=n.serverCache.getNode();const _=cy(r,i,N,y);_!=null?p=l.filter.updatePriority(N,_):p=h.getNode()}else{const N=We(i);let _;if(h.isCompleteForChild(g)){y=n.serverCache.getNode();const v=cy(r,i,h.getNode(),y);v!=null?_=h.getNode().getImmediateChild(g).updateChild(N,v):_=h.getNode().getImmediateChild(g)}else _=dh(r,g,n.serverCache);_!=null?p=l.filter.updateChild(h.getNode(),g,_,N,c,f):p=h.getNode()}}return Cr(n,p,h.isFullyInitialized()||Ce(i),l.filter.filtersNodes())}}function Oc(l,n,i,r,c,f,h,p){const y=n.serverCache;let g;const N=h?l.filter:l.filter.getIndexedFilter();if(Ce(i))g=N.updateFullNode(y.getNode(),r,null);else if(N.filtersNodes()&&!y.isFiltered()){const k=y.getNode().updateChild(i,r);g=N.updateFullNode(y.getNode(),k,null)}else{const k=be(i);if(!y.isCompleteForPath(i)&&pl(i)>1)return n;const V=We(i),xe=y.getNode().getImmediateChild(k).updateChild(V,r);k===".priority"?g=N.updatePriority(y.getNode(),xe):g=N.updateChild(y.getNode(),k,xe,V,Lx,null)}const _=Dx(n,g,y.isFullyInitialized()||Ce(i),N.filtersNodes()),v=new fh(c,_,f);return $x(l,_,i,c,v,p)}function Lf(l,n,i,r,c,f,h){const p=n.eventCache;let y,g;const N=new fh(c,n,f);if(Ce(i))g=l.filter.updateFullNode(n.eventCache.getNode(),r,h),y=Cr(n,g,!0,l.filter.filtersNodes());else{const _=be(i);if(_===".priority")g=l.filter.updatePriority(n.eventCache.getNode(),r),y=Cr(n,g,p.isFullyInitialized(),p.isFiltered());else{const v=We(i),k=p.getNode().getImmediateChild(_);let V;if(Ce(v))V=r;else{const K=N.getCompleteChild(_);K!=null?th(v)===".priority"&&K.getChild(_x(v)).isEmpty()?V=K:V=K.updateChild(v,r):V=oe.EMPTY_NODE}if(k.equals(V))y=n;else{const K=l.filter.updateChild(p.getNode(),_,V,v,N,h);y=Cr(n,K,p.isFullyInitialized(),l.filter.filtersNodes())}}}return y}function uy(l,n){return l.eventCache.isCompleteForChild(n)}function rC(l,n,i,r,c,f,h){let p=n;return r.foreach((y,g)=>{const N=ut(i,y);uy(n,be(N))&&(p=Lf(l,p,N,g,c,f,h))}),r.foreach((y,g)=>{const N=ut(i,y);uy(n,be(N))||(p=Lf(l,p,N,g,c,f,h))}),p}function dy(l,n,i){return i.foreach((r,c)=>{n=n.updateChild(r,c)}),n}function $f(l,n,i,r,c,f,h,p){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let y=n,g;Ce(i)?g=r:g=new Ze(null).setTree(i,r);const N=n.serverCache.getNode();return g.children.inorderTraversal((_,v)=>{if(N.hasChild(_)){const k=n.serverCache.getNode().getImmediateChild(_),V=dy(l,k,v);y=Oc(l,y,new Pe(_),V,c,f,h,p)}}),g.children.inorderTraversal((_,v)=>{const k=!n.serverCache.isCompleteForChild(_)&&v.value===null;if(!N.hasChild(_)&&!k){const V=n.serverCache.getNode().getImmediateChild(_),K=dy(l,V,v);y=Oc(l,y,new Pe(_),K,c,f,h,p)}}),y}function oC(l,n,i,r,c,f,h){if(Rc(c,i)!=null)return n;const p=n.serverCache.isFiltered(),y=n.serverCache;if(r.value!=null){if(Ce(i)&&y.isFullyInitialized()||y.isCompleteForPath(i))return Oc(l,n,i,y.getNode().getChild(i),c,f,p,h);if(Ce(i)){let g=new Ze(null);return y.getNode().forEachChild(ta,(N,_)=>{g=g.set(new Pe(N),_)}),$f(l,n,i,g,c,f,p,h)}else return n}else{let g=new Ze(null);return r.foreach((N,_)=>{const v=ut(i,N);y.isCompleteForPath(v)&&(g=g.set(N,y.getNode().getChild(v)))}),$f(l,n,i,g,c,f,p,h)}}function cC(l,n,i,r,c){const f=n.serverCache,h=Dx(n,f.getNode(),f.isFullyInitialized()||Ce(i),f.isFiltered());return $x(l,h,i,r,Lx,c)}function uC(l,n,i,r,c,f){let h;if(Rc(r,i)!=null)return n;{const p=new fh(r,n,c),y=n.eventCache.getNode();let g;if(Ce(i)||be(i)===".priority"){let N;if(n.serverCache.isFullyInitialized())N=kc(r,Wl(n));else{const _=n.serverCache.getNode();Q(_ instanceof oe,"serverChildren would be complete if leaf node"),N=uh(r,_)}N=N,g=l.filter.updateFullNode(y,N,f)}else{const N=be(i);let _=dh(r,N,n.serverCache);_==null&&n.serverCache.isCompleteForChild(N)&&(_=y.getImmediateChild(N)),_!=null?g=l.filter.updateChild(y,N,_,We(i),p,f):n.eventCache.getNode().hasChild(N)?g=l.filter.updateChild(y,N,oe.EMPTY_NODE,We(i),p,f):g=y,g.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=kc(r,Wl(n)),h.isLeafNode()&&(g=l.filter.updateFullNode(g,h,f)))}return h=n.serverCache.isFullyInitialized()||Rc(r,Re())!=null,Cr(n,g,h,l.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(n,i){this.query_=n,this.eventRegistrations_=[];const r=this.query_._queryParams,c=new ih(r.getIndex()),f=AN(r);this.processor_=sC(f);const h=i.serverCache,p=i.eventCache,y=c.updateFullNode(oe.EMPTY_NODE,h.getNode(),null),g=f.updateFullNode(oe.EMPTY_NODE,p.getNode(),null),N=new gl(y,h.isFullyInitialized(),c.filtersNodes()),_=new gl(g,p.isFullyInitialized(),f.filtersNodes());this.viewCache_=Gc(_,N),this.eventGenerator_=new LN(this.query_)}get query(){return this.query_}}function fC(l){return l.viewCache_.serverCache.getNode()}function hC(l){return Mc(l.viewCache_)}function mC(l,n){const i=Wl(l.viewCache_);return i&&(l.query._queryParams.loadsAllData()||!Ce(n)&&!i.getImmediateChild(be(n)).isEmpty())?i.getChild(n):null}function fy(l){return l.eventRegistrations_.length===0}function pC(l,n){l.eventRegistrations_.push(n)}function hy(l,n,i){const r=[];if(i){Q(n==null,"A cancel should cancel all event registrations.");const c=l.query._path;l.eventRegistrations_.forEach(f=>{const h=f.createCancelEvent(i,c);h&&r.push(h)})}if(n){let c=[];for(let f=0;f<l.eventRegistrations_.length;++f){const h=l.eventRegistrations_[f];if(!h.matches(n))c.push(h);else if(n.hasAnyCallback()){c=c.concat(l.eventRegistrations_.slice(f+1));break}}l.eventRegistrations_=c}else l.eventRegistrations_=[];return r}function my(l,n,i,r){n.type===In.MERGE&&n.source.queryId!==null&&(Q(Wl(l.viewCache_),"We should always have a full cache before handling merges"),Q(Mc(l.viewCache_),"Missing event cache, even though we have a server cache"));const c=l.viewCache_,f=iC(l.processor_,c,n,i,r);return lC(l.processor_,f.viewCache),Q(f.viewCache.serverCache.isFullyInitialized()||!c.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),l.viewCache_=f.viewCache,Ux(l,f.changes,f.viewCache.eventCache.getNode(),null)}function gC(l,n){const i=l.viewCache_.eventCache,r=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(dt,(f,h)=>{r.push(la(f,h))}),i.isFullyInitialized()&&r.push(Tx(i.getNode())),Ux(l,r,i.getNode(),n)}function Ux(l,n,i,r){const c=r?[r]:l.eventRegistrations_;return $N(l.eventGenerator_,n,i,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc;class Hx{constructor(){this.views=new Map}}function yC(l){Q(!zc,"__referenceConstructor has already been defined"),zc=l}function xC(){return Q(zc,"Reference.ts has not been loaded"),zc}function vC(l){return l.views.size===0}function hh(l,n,i,r){const c=n.source.queryId;if(c!==null){const f=l.views.get(c);return Q(f!=null,"SyncTree gave us an op for an invalid query."),my(f,n,i,r)}else{let f=[];for(const h of l.views.values())f=f.concat(my(h,n,i,r));return f}}function Ix(l,n,i,r,c){const f=n._queryIdentifier,h=l.views.get(f);if(!h){let p=kc(i,c?r:null),y=!1;p?y=!0:r instanceof oe?(p=uh(i,r),y=!1):(p=oe.EMPTY_NODE,y=!1);const g=Gc(new gl(p,y,!1),new gl(r,c,!1));return new dC(n,g)}return h}function bC(l,n,i,r,c,f){const h=Ix(l,n,r,c,f);return l.views.has(n._queryIdentifier)||l.views.set(n._queryIdentifier,h),pC(h,i),gC(h,i)}function _C(l,n,i,r){const c=n._queryIdentifier,f=[];let h=[];const p=yl(l);if(c==="default")for(const[y,g]of l.views.entries())h=h.concat(hy(g,i,r)),fy(g)&&(l.views.delete(y),g.query._queryParams.loadsAllData()||f.push(g.query));else{const y=l.views.get(c);y&&(h=h.concat(hy(y,i,r)),fy(y)&&(l.views.delete(c),y.query._queryParams.loadsAllData()||f.push(y.query)))}return p&&!yl(l)&&f.push(new(xC())(n._repo,n._path)),{removed:f,events:h}}function Bx(l){const n=[];for(const i of l.views.values())i.query._queryParams.loadsAllData()||n.push(i);return n}function ml(l,n){let i=null;for(const r of l.views.values())i=i||mC(r,n);return i}function qx(l,n){if(n._queryParams.loadsAllData())return Pc(l);{const r=n._queryIdentifier;return l.views.get(r)}}function Yx(l,n){return qx(l,n)!=null}function yl(l){return Pc(l)!=null}function Pc(l){for(const n of l.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc;function SC(l){Q(!Lc,"__referenceConstructor has already been defined"),Lc=l}function NC(){return Q(Lc,"Reference.ts has not been loaded"),Lc}let CC=1;class py{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Ze(null),this.pendingWriteTree_=JN(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Gx(l,n,i,r,c){return BN(l.pendingWriteTree_,n,i,r,c),c?da(l,new Kl(rh(),n,i)):[]}function wC(l,n,i,r){qN(l.pendingWriteTree_,n,i,r);const c=Ze.fromObject(i);return da(l,new ia(rh(),n,c))}function ul(l,n,i=!1){const r=YN(l.pendingWriteTree_,n);if(GN(l.pendingWriteTree_,n)){let f=new Ze(null);return r.snap!=null?f=f.set(Re(),!0):Ht(r.children,h=>{f=f.set(new Pe(h),!0)}),da(l,new Dc(r.path,f,i))}else return[]}function Pr(l,n,i){return da(l,new Kl(oh(),n,i))}function EC(l,n,i){const r=Ze.fromObject(i);return da(l,new ia(oh(),n,r))}function jC(l,n){return da(l,new $r(oh(),n))}function TC(l,n,i){const r=ph(l,i);if(r){const c=gh(r),f=c.path,h=c.queryId,p=Kt(f,n),y=new $r(ch(h),p);return yh(l,f,y)}else return[]}function $c(l,n,i,r,c=!1){const f=n._path,h=l.syncPointTree_.get(f);let p=[];if(h&&(n._queryIdentifier==="default"||Yx(h,n))){const y=_C(h,n,i,r);vC(h)&&(l.syncPointTree_=l.syncPointTree_.remove(f));const g=y.removed;if(p=y.events,!c){const N=g.findIndex(v=>v._queryParams.loadsAllData())!==-1,_=l.syncPointTree_.findOnPath(f,(v,k)=>yl(k));if(N&&!_){const v=l.syncPointTree_.subtree(f);if(!v.isEmpty()){const k=MC(v);for(let V=0;V<k.length;++V){const K=k[V],xe=K.query,J=Xx(l,K);l.listenProvider_.startListening(Er(xe),Ur(l,xe),J.hashFn,J.onComplete)}}}!_&&g.length>0&&!r&&(N?l.listenProvider_.stopListening(Er(n),null):g.forEach(v=>{const k=l.queryToTagMap.get(Qc(v));l.listenProvider_.stopListening(Er(v),k)}))}kC(l,g)}return p}function Vx(l,n,i,r){const c=ph(l,r);if(c!=null){const f=gh(c),h=f.path,p=f.queryId,y=Kt(h,n),g=new Kl(ch(p),y,i);return yh(l,h,g)}else return[]}function AC(l,n,i,r){const c=ph(l,r);if(c){const f=gh(c),h=f.path,p=f.queryId,y=Kt(h,n),g=Ze.fromObject(i),N=new ia(ch(p),y,g);return yh(l,h,N)}else return[]}function Uf(l,n,i,r=!1){const c=n._path;let f=null,h=!1;l.syncPointTree_.foreachOnPath(c,(v,k)=>{const V=Kt(v,c);f=f||ml(k,V),h=h||yl(k)});let p=l.syncPointTree_.get(c);p?(h=h||yl(p),f=f||ml(p,Re())):(p=new Hx,l.syncPointTree_=l.syncPointTree_.set(c,p));let y;f!=null?y=!0:(y=!1,f=oe.EMPTY_NODE,l.syncPointTree_.subtree(c).foreachChild((k,V)=>{const K=ml(V,Re());K&&(f=f.updateImmediateChild(k,K))}));const g=Yx(p,n);if(!g&&!n._queryParams.loadsAllData()){const v=Qc(n);Q(!l.queryToTagMap.has(v),"View does not exist, but we have a tag");const k=RC();l.queryToTagMap.set(v,k),l.tagToQueryMap.set(k,v)}const N=Vc(l.pendingWriteTree_,c);let _=bC(p,n,i,N,f,y);if(!g&&!h&&!r){const v=qx(p,n);_=_.concat(OC(l,n,v))}return _}function mh(l,n,i){const c=l.pendingWriteTree_,f=l.syncPointTree_.findOnPath(n,(h,p)=>{const y=Kt(h,n),g=ml(p,y);if(g)return g});return Rx(c,n,f,i,!0)}function DC(l,n){const i=n._path;let r=null;l.syncPointTree_.foreachOnPath(i,(g,N)=>{const _=Kt(g,i);r=r||ml(N,_)});let c=l.syncPointTree_.get(i);c?r=r||ml(c,Re()):(c=new Hx,l.syncPointTree_=l.syncPointTree_.set(i,c));const f=r!=null,h=f?new gl(r,!0,!1):null,p=Vc(l.pendingWriteTree_,n._path),y=Ix(c,n,p,f?h.getNode():oe.EMPTY_NODE,f);return hC(y)}function da(l,n){return Px(n,l.syncPointTree_,null,Vc(l.pendingWriteTree_,Re()))}function Px(l,n,i,r){if(Ce(l.path))return Qx(l,n,i,r);{const c=n.get(Re());i==null&&c!=null&&(i=ml(c,Re()));let f=[];const h=be(l.path),p=l.operationForChild(h),y=n.children.get(h);if(y&&p){const g=i?i.getImmediateChild(h):null,N=Ox(r,h);f=f.concat(Px(p,y,g,N))}return c&&(f=f.concat(hh(c,l,r,i))),f}}function Qx(l,n,i,r){const c=n.get(Re());i==null&&c!=null&&(i=ml(c,Re()));let f=[];return n.children.inorderTraversal((h,p)=>{const y=i?i.getImmediateChild(h):null,g=Ox(r,h),N=l.operationForChild(h);N&&(f=f.concat(Qx(N,p,y,g)))}),c&&(f=f.concat(hh(c,l,r,i))),f}function Xx(l,n){const i=n.query,r=Ur(l,i);return{hashFn:()=>(fC(n)||oe.EMPTY_NODE).hash(),onComplete:c=>{if(c==="ok")return r?TC(l,i._path,r):jC(l,i._path);{const f=jS(c,i);return $c(l,i,null,f)}}}}function Ur(l,n){const i=Qc(n);return l.queryToTagMap.get(i)}function Qc(l){return l._path.toString()+"$"+l._queryIdentifier}function ph(l,n){return l.tagToQueryMap.get(n)}function gh(l){const n=l.indexOf("$");return Q(n!==-1&&n<l.length-1,"Bad queryKey."),{queryId:l.substr(n+1),path:new Pe(l.substr(0,n))}}function yh(l,n,i){const r=l.syncPointTree_.get(n);Q(r,"Missing sync point for query tag that we're tracking");const c=Vc(l.pendingWriteTree_,n);return hh(r,i,c,null)}function MC(l){return l.fold((n,i,r)=>{if(i&&yl(i))return[Pc(i)];{let c=[];return i&&(c=Bx(i)),Ht(r,(f,h)=>{c=c.concat(h)}),c}})}function Er(l){return l._queryParams.loadsAllData()&&!l._queryParams.isDefault()?new(NC())(l._repo,l._path):l}function kC(l,n){for(let i=0;i<n.length;++i){const r=n[i];if(!r._queryParams.loadsAllData()){const c=Qc(r),f=l.queryToTagMap.get(c);l.queryToTagMap.delete(c),l.tagToQueryMap.delete(f)}}}function RC(){return CC++}function OC(l,n,i){const r=n._path,c=Ur(l,n),f=Xx(l,i),h=l.listenProvider_.startListening(Er(n),c,f.hashFn,f.onComplete),p=l.syncPointTree_.subtree(r);if(c)Q(!yl(p.value),"If we're adding a query, it shouldn't be shadowed");else{const y=p.fold((g,N,_)=>{if(!Ce(g)&&N&&yl(N))return[Pc(N).query];{let v=[];return N&&(v=v.concat(Bx(N).map(k=>k.query))),Ht(_,(k,V)=>{v=v.concat(V)}),v}});for(let g=0;g<y.length;++g){const N=y[g];l.listenProvider_.stopListening(Er(N),Ur(l,N))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(n){this.node_=n}getImmediateChild(n){const i=this.node_.getImmediateChild(n);return new xh(i)}node(){return this.node_}}class vh{constructor(n,i){this.syncTree_=n,this.path_=i}getImmediateChild(n){const i=ut(this.path_,n);return new vh(this.syncTree_,i)}node(){return mh(this.syncTree_,this.path_)}}const zC=function(l){return l=l||{},l.timestamp=l.timestamp||new Date().getTime(),l},gy=function(l,n,i){if(!l||typeof l!="object")return l;if(Q(".sv"in l,"Unexpected leaf node or priority contents"),typeof l[".sv"]=="string")return LC(l[".sv"],n,i);if(typeof l[".sv"]=="object")return $C(l[".sv"],n);Q(!1,"Unexpected server value: "+JSON.stringify(l,null,2))},LC=function(l,n,i){switch(l){case"timestamp":return i.timestamp;default:Q(!1,"Unexpected server value: "+l)}},$C=function(l,n,i){l.hasOwnProperty("increment")||Q(!1,"Unexpected server value: "+JSON.stringify(l,null,2));const r=l.increment;typeof r!="number"&&Q(!1,"Unexpected increment value: "+r);const c=n.node();if(Q(c!==null&&typeof c<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!c.isLeafNode())return r;const h=c.getValue();return typeof h!="number"?r:h+r},Fx=function(l,n,i,r){return bh(n,new vh(i,l),r)},Zx=function(l,n,i){return bh(l,new xh(n),i)};function bh(l,n,i){const r=l.getPriority().val(),c=gy(r,n.getImmediateChild(".priority"),i);let f;if(l.isLeafNode()){const h=l,p=gy(h.getValue(),n,i);return p!==h.getValue()||c!==h.getPriority().val()?new Mt(p,jt(c)):l}else{const h=l;return f=h,c!==h.getPriority().val()&&(f=f.updatePriority(new Mt(c))),h.forEachChild(dt,(p,y)=>{const g=bh(y,n.getImmediateChild(p),i);g!==y&&(f=f.updateImmediateChild(p,g))}),f}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(n="",i=null,r={children:{},childCount:0}){this.name=n,this.parent=i,this.node=r}}function Sh(l,n){let i=n instanceof Pe?n:new Pe(n),r=l,c=be(i);for(;c!==null;){const f=na(r.node.children,c)||{children:{},childCount:0};r=new _h(c,r,f),i=We(i),c=be(i)}return r}function fa(l){return l.node.value}function Kx(l,n){l.node.value=n,Hf(l)}function Wx(l){return l.node.childCount>0}function UC(l){return fa(l)===void 0&&!Wx(l)}function Xc(l,n){Ht(l.node.children,(i,r)=>{n(new _h(i,l,r))})}function Jx(l,n,i,r){i&&n(l),Xc(l,c=>{Jx(c,n,!0)})}function HC(l,n,i){let r=l.parent;for(;r!==null;){if(n(r))return!0;r=r.parent}return!1}function Qr(l){return new Pe(l.parent===null?l.name:Qr(l.parent)+"/"+l.name)}function Hf(l){l.parent!==null&&IC(l.parent,l.name,l)}function IC(l,n,i){const r=UC(i),c=Jn(l.node.children,n);r&&c?(delete l.node.children[n],l.node.childCount--,Hf(l)):!r&&!c&&(l.node.children[n]=i.node,l.node.childCount++,Hf(l))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=/[\[\].#$\/\u0000-\u001F\u007F]/,qC=/[\[\].#$\u0000-\u001F\u007F]/,bf=10*1024*1024,Nh=function(l){return typeof l=="string"&&l.length!==0&&!BC.test(l)},ev=function(l){return typeof l=="string"&&l.length!==0&&!qC.test(l)},YC=function(l){return l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),ev(l)},GC=function(l){return l===null||typeof l=="string"||typeof l=="number"&&!Zf(l)||l&&typeof l=="object"&&Jn(l,".sv")},VC=function(l,n,i,r){Fc(Bc(l,"value"),n,i)},Fc=function(l,n,i){const r=i instanceof Pe?new rN(i,l):i;if(n===void 0)throw new Error(l+"contains undefined "+Xl(r));if(typeof n=="function")throw new Error(l+"contains a function "+Xl(r)+" with contents = "+n.toString());if(Zf(n))throw new Error(l+"contains "+n.toString()+" "+Xl(r));if(typeof n=="string"&&n.length>bf/3&&qc(n)>bf)throw new Error(l+"contains a string greater than "+bf+" utf8 bytes "+Xl(r)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let c=!1,f=!1;if(Ht(n,(h,p)=>{if(h===".value")c=!0;else if(h!==".priority"&&h!==".sv"&&(f=!0,!Nh(h)))throw new Error(l+" contains an invalid key ("+h+") "+Xl(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);oN(r,h),Fc(l,p,r),cN(r)}),c&&f)throw new Error(l+' contains ".value" child '+Xl(r)+" in addition to actual children.")}},PC=function(l,n){let i,r;for(i=0;i<n.length;i++){r=n[i];const f=Rr(r);for(let h=0;h<f.length;h++)if(!(f[h]===".priority"&&h===f.length-1)){if(!Nh(f[h]))throw new Error(l+"contains an invalid key ("+f[h]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(aN);let c=null;for(i=0;i<n.length;i++){if(r=n[i],c!==null&&jn(c,r))throw new Error(l+"contains a path "+c.toString()+" that is ancestor of another path "+r.toString());c=r}},QC=function(l,n,i,r){const c=Bc(l,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(c+" must be an object containing the children to replace.");const f=[];Ht(n,(h,p)=>{const y=new Pe(h);if(Fc(c,p,ut(i,y)),th(y)===".priority"&&!GC(p))throw new Error(c+"contains an invalid value for '"+y.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");f.push(y)}),PC(c,f)},tv=function(l,n,i,r){if(!ev(i))throw new Error(Bc(l,n)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},XC=function(l,n,i,r){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),tv(l,n,i)},nv=function(l,n){if(be(n)===".info")throw new Error(l+" failed = Can't modify data under /.info/")},FC=function(l,n){const i=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!Nh(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!YC(i))throw new Error(Bc(l,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Zc(l,n){let i=null;for(let r=0;r<n.length;r++){const c=n[r],f=c.getPath();i!==null&&!nh(f,i.path)&&(l.eventLists_.push(i),i=null),i===null&&(i={events:[],path:f}),i.events.push(c)}i&&l.eventLists_.push(i)}function sv(l,n,i){Zc(l,i),lv(l,r=>nh(r,n))}function Tn(l,n,i){Zc(l,i),lv(l,r=>jn(r,n)||jn(n,r))}function lv(l,n){l.recursionDepth_++;let i=!0;for(let r=0;r<l.eventLists_.length;r++){const c=l.eventLists_[r];if(c){const f=c.path;n(f)?(KC(l.eventLists_[r]),l.eventLists_[r]=null):i=!1}}i&&(l.eventLists_=[]),l.recursionDepth_--}function KC(l){for(let n=0;n<l.events.length;n++){const i=l.events[n];if(i!==null){l.events[n]=null;const r=i.getEventRunner();Sr&&Ut("event: "+i.toString()),ua(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="repo_interrupt",JC=25;class ew{constructor(n,i,r,c){this.repoInfo_=n,this.forceRestClient_=i,this.authTokenProvider_=r,this.appCheckProvider_=c,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ZC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ac(),this.transactionQueueTree_=new _h,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function tw(l,n,i){if(l.stats_=Jf(l.repoInfo_),l.forceRestClient_||MS())l.server_=new Tc(l.repoInfo_,(r,c,f,h)=>{yy(l,r,c,f,h)},l.authTokenProvider_,l.appCheckProvider_),setTimeout(()=>xy(l,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Tt(i)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}l.persistentConnection_=new Es(l.repoInfo_,n,(r,c,f,h)=>{yy(l,r,c,f,h)},r=>{xy(l,r)},r=>{sw(l,r)},l.authTokenProvider_,l.appCheckProvider_,i),l.server_=l.persistentConnection_}l.authTokenProvider_.addTokenChangeListener(r=>{l.server_.refreshAuthToken(r)}),l.appCheckProvider_.addTokenChangeListener(r=>{l.server_.refreshAppCheckToken(r.token)}),l.statsReporter_=LS(l.repoInfo_,()=>new zN(l.stats_,l.server_)),l.infoData_=new DN,l.infoSyncTree_=new py({startListening:(r,c,f,h)=>{let p=[];const y=l.infoData_.getNode(r._path);return y.isEmpty()||(p=Pr(l.infoSyncTree_,r._path,y),setTimeout(()=>{h("ok")},0)),p},stopListening:()=>{}}),Ch(l,"connected",!1),l.serverSyncTree_=new py({startListening:(r,c,f,h)=>(l.server_.listen(r,f,c,(p,y)=>{const g=h(p,y);Tn(l.eventQueue_,r._path,g)}),[]),stopListening:(r,c)=>{l.server_.unlisten(r,c)}})}function nw(l){const i=l.infoData_.getNode(new Pe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Kc(l){return zC({timestamp:nw(l)})}function yy(l,n,i,r,c){l.dataUpdateCount++;const f=new Pe(n);i=l.interceptServerDataCallback_?l.interceptServerDataCallback_(n,i):i;let h=[];if(c)if(r){const y=Sc(i,g=>jt(g));h=AC(l.serverSyncTree_,f,y,c)}else{const y=jt(i);h=Vx(l.serverSyncTree_,f,y,c)}else if(r){const y=Sc(i,g=>jt(g));h=EC(l.serverSyncTree_,f,y)}else{const y=jt(i);h=Pr(l.serverSyncTree_,f,y)}let p=f;h.length>0&&(p=ra(l,f)),Tn(l.eventQueue_,p,h)}function xy(l,n){Ch(l,"connected",n),n===!1&&rw(l)}function sw(l,n){Ht(n,(i,r)=>{Ch(l,i,r)})}function Ch(l,n,i){const r=new Pe("/.info/"+n),c=jt(i);l.infoData_.updateSnapshot(r,c);const f=Pr(l.infoSyncTree_,r,c);Tn(l.eventQueue_,r,f)}function wh(l){return l.nextWriteId_++}function lw(l,n,i){const r=DC(l.serverSyncTree_,n);return r!=null?Promise.resolve(r):l.server_.get(n).then(c=>{const f=jt(c).withIndex(n._queryParams.getIndex());Uf(l.serverSyncTree_,n,i,!0);let h;if(n._queryParams.loadsAllData())h=Pr(l.serverSyncTree_,n._path,f);else{const p=Ur(l.serverSyncTree_,n);h=Vx(l.serverSyncTree_,n._path,f,p)}return Tn(l.eventQueue_,n._path,h),$c(l.serverSyncTree_,n,i,null,!0),f},c=>(Xr(l,"get for query "+Tt(n)+" failed: "+c),Promise.reject(new Error(c))))}function iw(l,n,i,r,c){Xr(l,"set",{path:n.toString(),value:i,priority:r});const f=Kc(l),h=jt(i,r),p=mh(l.serverSyncTree_,n),y=Zx(h,p,f),g=wh(l),N=Gx(l.serverSyncTree_,n,y,g,!0);Zc(l.eventQueue_,N),l.server_.put(n.toString(),h.val(!0),(v,k)=>{const V=v==="ok";V||Wt("set at "+n+" failed: "+v);const K=ul(l.serverSyncTree_,g,!V);Tn(l.eventQueue_,n,K),If(l,c,v,k)});const _=jh(l,n);ra(l,_),Tn(l.eventQueue_,_,[])}function aw(l,n,i,r){Xr(l,"update",{path:n.toString(),value:i});let c=!0;const f=Kc(l),h={};if(Ht(i,(p,y)=>{c=!1,h[p]=Fx(ut(n,p),jt(y),l.serverSyncTree_,f)}),c)Ut("update() called with empty data.  Don't do anything."),If(l,r,"ok",void 0);else{const p=wh(l),y=wC(l.serverSyncTree_,n,h,p);Zc(l.eventQueue_,y),l.server_.merge(n.toString(),i,(g,N)=>{const _=g==="ok";_||Wt("update at "+n+" failed: "+g);const v=ul(l.serverSyncTree_,p,!_),k=v.length>0?ra(l,n):n;Tn(l.eventQueue_,k,v),If(l,r,g,N)}),Ht(i,g=>{const N=jh(l,ut(n,g));ra(l,N)}),Tn(l.eventQueue_,n,[])}}function rw(l){Xr(l,"onDisconnectEvents");const n=Kc(l),i=Ac();kf(l.onDisconnect_,Re(),(c,f)=>{const h=Fx(c,f,l.serverSyncTree_,n);Ax(i,c,h)});let r=[];kf(i,Re(),(c,f)=>{r=r.concat(Pr(l.serverSyncTree_,c,f));const h=jh(l,c);ra(l,h)}),l.onDisconnect_=Ac(),Tn(l.eventQueue_,Re(),r)}function ow(l,n,i){let r;be(n._path)===".info"?r=Uf(l.infoSyncTree_,n,i):r=Uf(l.serverSyncTree_,n,i),sv(l.eventQueue_,n._path,r)}function iv(l,n,i){let r;be(n._path)===".info"?r=$c(l.infoSyncTree_,n,i):r=$c(l.serverSyncTree_,n,i),sv(l.eventQueue_,n._path,r)}function cw(l){l.persistentConnection_&&l.persistentConnection_.interrupt(WC)}function Xr(l,...n){let i="";l.persistentConnection_&&(i=l.persistentConnection_.id+":"),Ut(i,...n)}function If(l,n,i,r){n&&ua(()=>{if(i==="ok")n(null);else{const c=(i||"error").toUpperCase();let f=c;r&&(f+=": "+r);const h=new Error(f);h.code=c,n(h)}})}function av(l,n,i){return mh(l.serverSyncTree_,n,i)||oe.EMPTY_NODE}function Eh(l,n=l.transactionQueueTree_){if(n||Wc(l,n),fa(n)){const i=ov(l,n);Q(i.length>0,"Sending zero length transaction queue"),i.every(c=>c.status===0)&&uw(l,Qr(n),i)}else Wx(n)&&Xc(n,i=>{Eh(l,i)})}function uw(l,n,i){const r=i.map(g=>g.currentWriteId),c=av(l,n,r);let f=c;const h=c.hash();for(let g=0;g<i.length;g++){const N=i[g];Q(N.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),N.status=1,N.retryCount++;const _=Kt(n,N.path);f=f.updateChild(_,N.currentOutputSnapshotRaw)}const p=f.val(!0),y=n;l.server_.put(y.toString(),p,g=>{Xr(l,"transaction put response",{path:y.toString(),status:g});let N=[];if(g==="ok"){const _=[];for(let v=0;v<i.length;v++)i[v].status=2,N=N.concat(ul(l.serverSyncTree_,i[v].currentWriteId)),i[v].onComplete&&_.push(()=>i[v].onComplete(null,!0,i[v].currentOutputSnapshotResolved)),i[v].unwatcher();Wc(l,Sh(l.transactionQueueTree_,n)),Eh(l,l.transactionQueueTree_),Tn(l.eventQueue_,n,N);for(let v=0;v<_.length;v++)ua(_[v])}else{if(g==="datastale")for(let _=0;_<i.length;_++)i[_].status===3?i[_].status=4:i[_].status=0;else{Wt("transaction at "+y.toString()+" failed: "+g);for(let _=0;_<i.length;_++)i[_].status=4,i[_].abortReason=g}ra(l,n)}},h)}function ra(l,n){const i=rv(l,n),r=Qr(i),c=ov(l,i);return dw(l,c,r),r}function dw(l,n,i){if(n.length===0)return;const r=[];let c=[];const h=n.filter(p=>p.status===0).map(p=>p.currentWriteId);for(let p=0;p<n.length;p++){const y=n[p],g=Kt(i,y.path);let N=!1,_;if(Q(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),y.status===4)N=!0,_=y.abortReason,c=c.concat(ul(l.serverSyncTree_,y.currentWriteId,!0));else if(y.status===0)if(y.retryCount>=JC)N=!0,_="maxretry",c=c.concat(ul(l.serverSyncTree_,y.currentWriteId,!0));else{const v=av(l,y.path,h);y.currentInputSnapshot=v;const k=n[p].update(v.val());if(k!==void 0){Fc("transaction failed: Data returned ",k,y.path);let V=jt(k);typeof k=="object"&&k!=null&&Jn(k,".priority")||(V=V.updatePriority(v.getPriority()));const xe=y.currentWriteId,J=Kc(l),he=Zx(V,v,J);y.currentOutputSnapshotRaw=V,y.currentOutputSnapshotResolved=he,y.currentWriteId=wh(l),h.splice(h.indexOf(xe),1),c=c.concat(Gx(l.serverSyncTree_,y.path,he,y.currentWriteId,y.applyLocally)),c=c.concat(ul(l.serverSyncTree_,xe,!0))}else N=!0,_="nodata",c=c.concat(ul(l.serverSyncTree_,y.currentWriteId,!0))}Tn(l.eventQueue_,i,c),c=[],N&&(n[p].status=2,(function(v){setTimeout(v,Math.floor(0))})(n[p].unwatcher),n[p].onComplete&&(_==="nodata"?r.push(()=>n[p].onComplete(null,!1,n[p].currentInputSnapshot)):r.push(()=>n[p].onComplete(new Error(_),!1,null))))}Wc(l,l.transactionQueueTree_);for(let p=0;p<r.length;p++)ua(r[p]);Eh(l,l.transactionQueueTree_)}function rv(l,n){let i,r=l.transactionQueueTree_;for(i=be(n);i!==null&&fa(r)===void 0;)r=Sh(r,i),n=We(n),i=be(n);return r}function ov(l,n){const i=[];return cv(l,n,i),i.sort((r,c)=>r.order-c.order),i}function cv(l,n,i){const r=fa(n);if(r)for(let c=0;c<r.length;c++)i.push(r[c]);Xc(n,c=>{cv(l,c,i)})}function Wc(l,n){const i=fa(n);if(i){let r=0;for(let c=0;c<i.length;c++)i[c].status!==2&&(i[r]=i[c],r++);i.length=r,Kx(n,i.length>0?i:void 0)}Xc(n,r=>{Wc(l,r)})}function jh(l,n){const i=Qr(rv(l,n)),r=Sh(l.transactionQueueTree_,n);return HC(r,c=>{_f(l,c)}),_f(l,r),Jx(r,c=>{_f(l,c)}),i}function _f(l,n){const i=fa(n);if(i){const r=[];let c=[],f=-1;for(let h=0;h<i.length;h++)i[h].status===3||(i[h].status===1?(Q(f===h-1,"All SENT items should be at beginning of queue."),f=h,i[h].status=3,i[h].abortReason="set"):(Q(i[h].status===0,"Unexpected transaction status in abort"),i[h].unwatcher(),c=c.concat(ul(l.serverSyncTree_,i[h].currentWriteId,!0)),i[h].onComplete&&r.push(i[h].onComplete.bind(null,new Error("set"),!1,null))));f===-1?Kx(n,void 0):i.length=f+1,Tn(l.eventQueue_,Qr(n),c);for(let h=0;h<r.length;h++)ua(r[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(l){let n="";const i=l.split("/");for(let r=0;r<i.length;r++)if(i[r].length>0){let c=i[r];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch{}n+="/"+c}return n}function hw(l){const n={};l.charAt(0)==="?"&&(l=l.substring(1));for(const i of l.split("&")){if(i.length===0)continue;const r=i.split("=");r.length===2?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Wt(`Invalid query segment '${i}' in query '${l}'`)}return n}const vy=function(l,n){const i=mw(l),r=i.namespace;i.domain==="firebase.com"&&Ts(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&i.domain!=="localhost"&&Ts("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||SS();const c=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new fx(i.host,i.secure,r,c,n,"",r!==i.subdomain),path:new Pe(i.pathString)}},mw=function(l){let n="",i="",r="",c="",f="",h=!0,p="https",y=443;if(typeof l=="string"){let g=l.indexOf("//");g>=0&&(p=l.substring(0,g-1),l=l.substring(g+2));let N=l.indexOf("/");N===-1&&(N=l.length);let _=l.indexOf("?");_===-1&&(_=l.length),n=l.substring(0,Math.min(N,_)),N<_&&(c=fw(l.substring(N,_)));const v=hw(l.substring(Math.min(l.length,_)));g=n.indexOf(":"),g>=0?(h=p==="https"||p==="wss",y=parseInt(n.substring(g+1),10)):g=n.length;const k=n.slice(0,g);if(k.toLowerCase()==="localhost")i="localhost";else if(k.split(".").length<=2)i=k;else{const V=n.indexOf(".");r=n.substring(0,V).toLowerCase(),i=n.substring(V+1),f=r}"ns"in v&&(f=v.ns)}return{host:n,port:y,domain:i,subdomain:r,secure:h,scheme:p,pathString:c,namespace:f}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(n,i,r,c){this.eventType=n,this.eventRegistration=i,this.snapshot=r,this.prevName=c}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Tt(this.snapshot.exportVal())}}class gw{constructor(n,i,r){this.eventRegistration=n,this.error=i,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(n,i){this.snapshotCallback=n,this.cancelCallback=i}onValue(n,i){this.snapshotCallback.call(null,n,i)}onCancel(n){return Q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(n,i,r,c){this._repo=n,this._path=i,this._queryParams=r,this._orderByCalled=c}get key(){return Ce(this._path)?null:th(this._path)}get ref(){return new As(this._repo,this._path)}get _queryIdentifier(){const n=iy(this._queryParams),i=Kf(n);return i==="{}"?"default":i}get _queryObject(){return iy(this._queryParams)}isEqual(n){if(n=ca(n),!(n instanceof Ah))return!1;const i=this._repo===n._repo,r=nh(this._path,n._path),c=this._queryIdentifier===n._queryIdentifier;return i&&r&&c}toJSON(){return this.toString()}toString(){return this._repo.toString()+iN(this._path)}}class As extends Ah{constructor(n,i){super(n,i,new ah,!1)}get parent(){const n=_x(this._path);return n===null?null:new As(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class Hr{constructor(n,i,r){this._node=n,this.ref=i,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const i=new Pe(n),r=Bf(this.ref,n);return new Hr(this._node.getChild(i),r,dt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,c)=>n(new Hr(c,Bf(this.ref,r),dt)))}hasChild(n){const i=new Pe(n);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function He(l,n){return l=ca(l),l._checkNotDeleted("ref"),n!==void 0?Bf(l._root,n):l._root}function Bf(l,n){return l=ca(l),be(l._path)===null?XC("child","path",n):tv("child","path",n),new As(l._repo,ut(l._path,n))}function ha(l){return nv("remove",l._path),es(l,null)}function es(l,n){l=ca(l),nv("set",l._path),VC("set",n,l._path);const i=new Br;return iw(l._repo,l._path,n,null,i.wrapCallback(()=>{})),i.promise}function Jc(l,n){QC("update",n,l._path);const i=new Br;return aw(l._repo,l._path,n,i.wrapCallback(()=>{})),i.promise}function Ds(l){l=ca(l);const n=new Th(()=>{}),i=new Fr(n);return lw(l._repo,l,i).then(r=>new Hr(r,new As(l._repo,l._path),l._queryParams.getIndex()))}class Fr{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,i){const r=i._queryParams.getIndex();return new pw("value",this,new Hr(n.snapshotNode,new As(i._repo,i._path),r))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,i){return this.callbackContext.hasCancelCallback?new gw(this,n,i):null}matches(n){return n instanceof Fr?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function yw(l,n,i,r,c){const f=new Th(i,void 0),h=new Fr(f);return ow(l._repo,l,h),()=>iv(l._repo,l,h)}function xw(l,n,i,r){return yw(l,"value",n)}function vw(l,n,i){let r=null;const c=i?new Th(i):null;r=new Fr(c),iv(l._repo,l,r)}yC(As);SC(As);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="FIREBASE_DATABASE_EMULATOR_HOST",qf={};let _w=!1;function Sw(l,n,i,r){const c=n.lastIndexOf(":"),f=n.substring(0,c),h=Xf(f);l.repoInfo_=new fx(n,h,l.repoInfo_.namespace,l.repoInfo_.webSocketOnly,l.repoInfo_.nodeAdmin,l.repoInfo_.persistenceKey,l.repoInfo_.includeNamespaceInQueryParams,!0,i),r&&(l.authTokenProvider_=r)}function Nw(l,n,i,r,c){let f=r||l.options.databaseURL;f===void 0&&(l.options.projectId||Ts("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ut("Using default host for project ",l.options.projectId),f=`${l.options.projectId}-default-rtdb.firebaseio.com`);let h=vy(f,c),p=h.repoInfo,y;typeof process<"u"&&B0&&(y=B0[bw]),y?(f=`http://${y}?ns=${p.namespace}`,h=vy(f,c),p=h.repoInfo):h.repoInfo.secure;const g=new RS(l.name,l.options,n);FC("Invalid Firebase Database URL",h),Ce(h.path)||Ts("Database URL must point to the root of a Firebase Database (not including a child path).");const N=ww(p,l,g,new kS(l,i));return new Ew(N,l)}function Cw(l,n){const i=qf[n];(!i||i[l.key]!==l)&&Ts(`Database ${n}(${l.repoInfo_}) has already been deleted.`),cw(l),delete i[l.key]}function ww(l,n,i,r){let c=qf[n.name];c||(c={},qf[n.name]=c);let f=c[l.toURLString()];return f&&Ts("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new ew(l,_w,i,r),c[l.toURLString()]=f,f}class Ew{constructor(n,i){this._repoInternal=n,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(tw(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new As(this._repo,Re())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Cw(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&Ts("Cannot call "+n+" on a deleted database.")}}function jw(l=Fy(),n){const i=W2(l,"database").getImmediate({identifier:n});if(!i._instanceStarted){const r=$1("database");r&&Tw(i,...r)}return i}function Tw(l,n,i,r={}){l=ca(l),l._checkNotDeleted("useEmulator");const c=`${n}:${i}`,f=l._repoInternal;if(l._instanceStarted){if(c===l._repoInternal.repoInfo_.host&&Nc(r,f.repoInfo_.emulatorOptions))return;Ts("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(f.repoInfo_.nodeAdmin)r.mockUserToken&&Ts('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new vc(vc.OWNER);else if(r.mockUserToken){const p=typeof r.mockUserToken=="string"?r.mockUserToken:H1(r.mockUserToken,l.app.options.projectId);h=new vc(p)}Xf(n)&&(U1(n),q1("Database",!0)),Sw(f,c,r,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(l){gS(nS),Cc(new Ar("database",(n,{instanceIdentifier:i})=>{const r=n.getProvider("app").getImmediate(),c=n.getProvider("auth-internal"),f=n.getProvider("app-check-internal");return Nw(r,c,f,i)},"PUBLIC").setMultipleInstances(!0)),Ji(q0,Y0,l),Ji(q0,Y0,"esm2020")}Es.prototype.simpleListen=function(l,n){this.sendRequest("q",{p:l},n)};Es.prototype.echo=function(l,n){this.sendRequest("echo",{d:l},n)};Aw();const uv="classtrack_theme_v1",Dh="classtrack_auth_session_v1",Dw="classtrack_logo_cache_v1",dv="classtrack_offline_queue_v1",by={apiKey:"AIzaSyBwsZ9ZwMq6fBS6t-YfWbV0lLd-ndU5MXs",authDomain:"chatbot-classtrack.firebaseapp.com",projectId:"chatbot-classtrack",storageBucket:"chatbot-classtrack.firebasestorage.app",messagingSenderId:"1056660264918",appId:"1:1056660264918:web:82850292e8583f2ece7677",measurementId:"G-G6ZXY4FBYS",databaseURL:"https://chatbot-classtrack-default-rtdb.asia-southeast1.firebasedatabase.app"};let ze=null;try{const l=sS().length?Fy():Xy(by);ze=jw(l,by.databaseURL)}catch(l){console.error(" Database Init Error:",l)}const eu=()=>!!ze&&navigator.onLine,Uc=()=>JSON.parse(localStorage.getItem(dv)||"[]"),fv=l=>localStorage.setItem(dv,JSON.stringify(l)),Mh=(l,n)=>{const i=Uc();i.push({id:`sync_${Date.now()}_${Math.random()}`,type:l,payload:n,timestamp:Date.now()}),fv(i)},_y=()=>Uc().length,Hc=l=>{let n=0;for(let i=0;i<l.length;i++)n=(n<<5)-n+l.charCodeAt(i),n|=0;return n.toString()},Mw=async(l,n,i,r)=>{const c=`${r}_${n.toLowerCase().replace(/\s/g,"_")}`,f={id:c,name:l,username:n,role:r,password:Hc(i)};return await es(He(ze,`users/${c}`),f),f},Sy=async(l,n)=>{n.password&&(n.password=Hc(n.password)),await Jc(He(ze,`users/${l}`),n)},kw=async()=>{const l=await Ds(He(ze,"users"));return Object.values(l.val()||{})},Rw=async l=>ha(He(ze,`users/${l}`)),Ow=()=>JSON.parse(localStorage.getItem(Dh)||"null"),Ny=l=>localStorage.setItem(Dh,JSON.stringify(l)),zw=()=>localStorage.removeItem(Dh),Lw=async()=>(await Ds(He(ze,"school_settings"))).val(),Cy=async l=>{await Jc(He(ze,"school_settings"),l)},$w=()=>localStorage.getItem(Dw),kh=async()=>(await Ds(He(ze,"classes"))).val()||[],Uw=async l=>{const n=await kh();if(n.includes(l))throw new Error("Exists");const i=[...n,l];return await es(He(ze,"classes"),i),i},Hw=async l=>{const i=(await kh()).filter(r=>r!==l);return await es(He(ze,"classes"),i),i},Gt=async l=>{const n=await Ds(He(ze,"students")),i=Object.values(n.val()||{});return l?i.filter(r=>r.classId===l):i},Iw=async(l,n,i)=>{const r=`s_${Date.now()}_${Math.random().toString(36).substr(2,5)}`,c={id:r,name:l,classId:n,avatarSeed:r,phone:i||null};return eu()?await es(He(ze,`students/${r}`),c):Mh("ADD_STUDENT",c),c},gc=(l,n)=>Jc(He(ze,`students/${l}`),n),Bw=l=>ha(He(ze,`students/${l}`)),hv=async l=>{const n=`${l.date}_${l.classId.replace(/\//g,"_")}`;eu()?await es(He(ze,`attendance/${n}`),l):Mh("SAVE_ATTENDANCE",l)},vr=async()=>{const l=await Ds(He(ze,"attendance"));return Object.values(l.val()||{})},qw=async(l,n)=>{const i=`${l}_${n.replace(/\//g,"_")}`;await ha(He(ze,`attendance/${i}`))},mv=async l=>{eu()?await es(He(ze,`fees/${l.month}/${l.studentId}`),l):Mh("SAVE_FEE",l)},Yw=async l=>(await Ds(He(ze,`fees/${l}`))).val()||{},Gw=async(l,n)=>ha(He(ze,`fees/${l}/${n}`)),Vw=(l,n,i)=>{const r=`${l}_${n.replace(/\//g,"_")}`,c=He(ze,`attendance/${r}`),f=xw(c,h=>i(h.val()));return()=>vw(c,"value",f)},Pw=async l=>{if(!eu())return;const n=Uc();if(n.length===0)return;l==null||l(`Syncing ${n.length} items...`);const i=[];for(const r of n)try{switch(r.type){case"SAVE_ATTENDANCE":await hv(r.payload);break;case"ADD_STUDENT":await es(He(ze,`students/${r.payload.id}`),r.payload);break;case"SAVE_FEE":await mv(r.payload);break}i.push(r.id)}catch(c){console.error("Sync error",c)}fv(Uc().filter(r=>!i.includes(r.id)))},Qw=async(l,n)=>(await Ds(He(ze,`attendance/${l}_${n.replace(/\//g,"_")}`))).val(),Xw=(l,n)=>Jc(He(ze,`students/${l}`),{customFee:n}),Fw=l=>localStorage.setItem(uv,l),Zw=()=>localStorage.getItem(uv)||"minimal_light",Kw=async l=>{const n=await Ds(He(ze,"todos"));return Object.values(n.val()||{}).filter(i=>i.userId===l)},wy=l=>es(He(ze,`todos/${l.id}`),l),Ww=(l,n)=>ha(He(ze,`todos/${n}`)),Jw=async l=>{const n=await Ds(He(ze,"projects"));return Object.values(n.val()||{}).filter(i=>i.userId===l)},eE=async l=>es(He(ze,`projects/${l.id}`),l),tE=async(l,n)=>ha(He(ze,`projects/${n}`)),nE=({percentage:l,size:n=180,strokeWidth:i=15,label:r="",subLabel:c="Present",colorStart:f="#6366f1",colorEnd:h="#a855f7"})=>{const[p,y]=O.useState(0);O.useEffect(()=>{const V=performance.now(),K=xe=>{const J=xe-V,he=Math.min(J/1200,1),ge=1-Math.pow(1-he,4);y(ge*l),he<1&&requestAnimationFrame(K)};requestAnimationFrame(K)},[l]);const g=(n-i)/2,N=g*2*Math.PI,_=N-p/100*N,v="gradient-chart";return u.jsxs("div",{className:"relative flex items-center justify-center p-4",children:[u.jsxs("svg",{width:n,height:n,viewBox:`0 0 ${n} ${n}`,className:"transform -rotate-90 relative z-10",children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:v,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:f}),u.jsx("stop",{offset:"100%",stopColor:h})]})}),u.jsx("circle",{cx:n/2,cy:n/2,r:g,stroke:"currentColor",strokeWidth:i,fill:"transparent",className:"text-slate-200 dark:text-slate-800 opacity-20",strokeLinecap:"round"}),u.jsx("circle",{cx:n/2,cy:n/2,r:g,stroke:`url(#${v})`,strokeWidth:i,fill:"transparent",strokeDasharray:N,strokeDashoffset:_,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.8s ease-out"}})]}),u.jsxs("div",{className:"absolute flex flex-col items-center justify-center text-center z-20 font-black",children:[u.jsxs("span",{className:"text-4xl md:text-5xl font-black tracking-tighter",children:[Math.round(p),"%"]}),c&&u.jsx("span",{className:"text-[10px] uppercase tracking-widest opacity-60 mt-1",children:c})]})]})},Vt=({children:l,variant:n="primary",fullWidth:i=!1,themeAccent:r,className:c="",loading:f=!1,...h})=>{const p="px-5 py-2.5 rounded-md font-medium text-sm transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2";let y="";return n==="primary"?y=`${r||"bg-[#2563eb]"} text-white hover:opacity-90 active:scale-[0.98] shadow-md`:n==="secondary"?y="bg-transparent text-current border border-current hover:bg-current/10 active:scale-[0.98]":n==="danger"&&(y="bg-transparent text-red-600 border border-red-600 hover:bg-red-500/10 active:scale-[0.98]"),u.jsx("button",{className:`${p} ${y} ${i?"w-full":""} ${c} ${f?"opacity-60 cursor-not-allowed":""}`,disabled:f||h.disabled,...h,children:f?u.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):l})},sE=({currentView:l,onChangeView:n,theme:i,user:r,onLogout:c,shouldHide:f,width:h,onStartResize:p,isResizing:y,logo:g})=>{const[N,_]=Ir.useState(!1),v=h<125,k=()=>{const J=[{id:"home",icon:X_,label:"Home"},{id:"todo",icon:Vf,label:"Tasks"},{id:"history",icon:Gf,label:"History"}];return(r==null?void 0:r.role)==="admin"&&J.push({id:"admin-dashboard",icon:My,label:"Admin"}),J.push({id:"settings",icon:zy,label:"Settings"}),J},V=l==="dashboard"||l==="attendance"?"home":l.startsWith("admin-")||l==="student-directory"||l==="timetable"||l==="calculator"||l==="student-profile"?"admin-dashboard":l,K=()=>f?null:u.jsx("div",{className:`fixed bottom-0 left-0 right-0 ${i.navBg} border-t ${i.border} p-2 flex justify-around items-center z-[200] md:hidden`,children:k().map(J=>{const he=V===J.id,ge=J.icon;return u.jsxs("button",{onClick:()=>{n(J.id)},className:`flex flex-col items-center justify-center py-2.5 px-3 flex-1 rounded-xl transition-all active:scale-95 ${he?`${i.accentText} bg-current/10 font-bold`:`${i.textSecondary} hover:bg-black/5 dark:hover:bg-white/5`}`,children:[u.jsx(ge,{size:22,strokeWidth:he?2.5:2}),u.jsx("span",{className:"text-[11px] font-bold mt-1.5",children:J.label})]},J.id)})}),xe=()=>u.jsxs("div",{style:{width:`${h}px`},className:`hidden md:flex flex-col h-full ${i.sidebarBg} border-r ${i.border} px-4 py-6 relative select-none ${y?"":"transition-[width] duration-500 ease-[cubic-bezier(0.34,1.56,0.64,1)]"}`,children:[u.jsxs("div",{className:`mb-6 flex flex-col ${v?"items-center":"items-start"}`,children:[u.jsxs("div",{className:"flex items-center gap-3 w-full mb-6",children:[u.jsx("div",{className:`w-10 h-10 rounded-md ${i.accent} flex items-center justify-center text-white shrink-0 overflow-hidden`,children:g&&g.length>10?u.jsx("img",{src:g,alt:"Logo",className:"w-full h-full object-cover"}):u.jsx(Ry,{size:18,strokeWidth:2})}),!v&&u.jsx("h2",{className:`text-lg font-semibold ${i.textPrimary} truncate`,children:"IJ Education"})]}),r&&u.jsxs("div",{className:"w-full relative",children:[u.jsxs("button",{onClick:()=>_(!N),className:`w-full p-2.5 rounded-md flex items-center gap-3 transition-colors ${v?"justify-center":"hover:bg-black/5"}`,children:[u.jsx("div",{className:`w-9 h-9 rounded-md ${i.accent} flex items-center justify-center text-white font-semibold shrink-0`,children:r.avatar&&r.avatar.startsWith("data:image")?u.jsx("img",{src:r.avatar,alt:r.name,className:"w-full h-full object-cover rounded-md"}):u.jsx("span",{className:"text-sm",children:r.name.charAt(0).toUpperCase()})}),!v&&u.jsxs("div",{className:"text-left flex-1 overflow-hidden",children:[u.jsx("p",{className:`text-sm font-semibold ${i.textPrimary} truncate`,children:r.name}),u.jsx("p",{className:`text-xs ${i.textSecondary}`,children:r.role})]})]}),N&&!v&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-50",onClick:()=>_(!1)}),u.jsx("div",{className:`absolute top-full left-0 right-0 mt-2 p-1 rounded-md ${i.surface} border ${i.border} shadow-lg z-[60]`,children:u.jsxs("button",{onClick:c,className:"w-full flex items-center gap-2 p-2 rounded-md hover:bg-red-50 text-red-600 font-medium text-sm",children:[u.jsx(w0,{size:16})," Logout"]})})]})]})]}),u.jsx("div",{className:"flex-1 space-y-1 overflow-x-hidden",children:k().map(J=>{const he=V===J.id,ge=J.icon;return u.jsxs("button",{onClick:()=>n(J.id),className:`w-full flex items-center ${v?"justify-center px-0":"gap-4 px-4"} py-3.5 rounded-xl transition-all active:scale-[0.98] ${he?`${i.accent} text-white shadow-md`:`${i.textSecondary} hover:bg-black/5 dark:hover:bg-white/5`}`,children:[u.jsx(ge,{size:22,strokeWidth:he?2.5:2,className:"shrink-0"}),!v&&u.jsx("span",{className:"font-bold text-base",children:J.label})]},J.id)})}),u.jsxs("button",{onClick:c,className:`w-full flex items-center ${v?"justify-center":"gap-4 px-4"} py-3.5 rounded-xl hover:bg-red-50 dark:hover:bg-red-900/20 text-red-600 mt-auto transition-all transition-colors active:scale-[0.98]`,children:[u.jsx(w0,{size:22,strokeWidth:2.5,className:"shrink-0"}),!v&&u.jsx("span",{className:"font-bold text-base",children:"Logout"})]}),u.jsx("div",{onMouseDown:p,className:`absolute top-0 -right-1 w-2 h-full cursor-col-resize hover:bg-indigo-500/30 transition-colors z-50 ${y?"bg-indigo-500/50":""}`})]});return u.jsxs(u.Fragment,{children:[u.jsx(K,{}),u.jsx(xe,{})]})},Ic=({avatar:l,name:n,size:i="md",className:r=""})=>{const c=l||n||"default",f=l!=null&&l.startsWith("http")?l:`https://picsum.photos/seed/${c}/200`;let h="w-10 h-10 text-base";return i==="sm"&&(h="w-8 h-8 text-xs"),i==="lg"&&(h="w-16 h-16 text-2xl"),i==="xl"&&(h="w-32 h-32 text-4xl"),u.jsx("img",{src:f,alt:n,className:`rounded-full object-cover border border-white/10 ${h} ${r}`,onError:p=>{p.target.src=`https://ui-avatars.com/api/?name=${n}&background=random`}})},lE=({theme:l,onBack:n,availableClasses:i,selectedClass:r,onSelectClass:c,students:f,onViewProfile:h,attendanceStats:p})=>u.jsx("div",{className:"flex flex-col h-full animate-fade-in px-4 md:px-6 pt-6 pb-32 overflow-y-auto w-full",children:u.jsxs("div",{className:"max-w-2xl mx-auto w-full",children:[u.jsx("div",{className:"mb-6 flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:n,className:`p-2 -ml-2 rounded-md hover:bg-black/5 transition-colors ${l.textPrimary}`,children:u.jsx(Cs,{size:20})}),u.jsxs("div",{children:[u.jsx("h2",{className:`text-xl md:text-2xl font-semibold ${l.textPrimary}`,children:"Student Directory"}),u.jsx("p",{className:`text-sm ${l.textSecondary}`,children:"View and contact students"})]})]})}),u.jsx("div",{className:"mb-4 flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:i.map(y=>u.jsxs("button",{onClick:()=>c(y),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors whitespace-nowrap border ${r===y?`${l.accent} text-white border-transparent`:`${l.surface} ${l.border} ${l.textSecondary} hover:bg-black/5`}`,children:["Class ",y]},y))}),u.jsx("div",{className:"space-y-2",children:f.length===0?u.jsx("div",{className:`text-center py-20 ${l.textSecondary}`,children:"No students in this class."}):f.sort((y,g)=>y.name.localeCompare(g.name)).map(y=>u.jsxs("div",{onClick:()=>h(y),className:`p-4 rounded-md ${l.surface} border ${l.border} flex justify-between items-center cursor-pointer hover:shadow-md transition-all`,children:[u.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[u.jsx(Ic,{avatar:y.avatarSeed,name:y.name,size:"md"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:`font-semibold ${l.textPrimary} truncate`,children:y.name}),u.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[u.jsxs("p",{className:`text-xs ${l.textSecondary} flex items-center gap-1`,children:[u.jsx(ky,{size:12})," ",y.phone||"No number"]}),u.jsxs("span",{className:`text-xs font-medium ${p[y.id]>75?"text-green-600":"text-orange-600"}`,children:[p[y.id]||0,"% attendance"]})]})]})]}),y.phone&&u.jsx("button",{onClick:g=>{var N;g.stopPropagation(),window.open(`https://wa.me/${(N=y.phone)==null?void 0:N.replace(/\D/g,"")}`,"_blank")},className:"p-2 rounded-md bg-green-50 text-green-600 hover:bg-green-100 transition-colors ml-2",children:u.jsx(t1,{size:18})})]},y.id))})]})}),iE=({theme:l,themeId:n,onThemeChange:i,currentUser:r,onUpdateUser:c,onLogout:f,onToast:h,enableAnimations:p,onToggleAnimations:y,badges:g,onSaveBadges:N})=>{const[_,v]=O.useState("view"),[k,V]=O.useState(""),[K,xe]=O.useState(""),[J,he]=O.useState(""),[ge,ae]=O.useState(""),[at,Qe]=O.useState(""),[ce,Ae]=O.useState(""),[pt,_t]=O.useState(""),[gt,Ie]=O.useState(!1);O.useEffect(()=>{r&&(V(r.bio||""),xe(r.avatar||""),he(r.securityQuestion||""))},[r,_]);const Jt=async()=>{if(r){Ie(!0);try{const ne={bio:k,avatar:K};ge.trim()&&(ne.securityQuestion=J,ne.securityAnswer=ge),await Sy(r.id,ne);const z={...r,...ne};c(z),Ny(z),v("view"),h("Profile Updated!","success")}catch{h("Failed to update profile.","error")}finally{Ie(!1)}}},St=async()=>{if(r){if(Hc(at)!==r.password){h("Incorrect current password","error");return}if(ce!==pt){h("Passwords do not match","error");return}if(ce.length<3){h("Password too short","error");return}Ie(!0);try{await Sy(r.id,{password:ce});const ne={...r,password:Hc(ce)};c(ne),Ny(ne),v("view"),Qe(""),Ae(""),_t(""),h("Password Changed Successfully!","success")}catch{h("Failed to change password.","error")}finally{Ie(!1)}}};return u.jsx("div",{className:"flex flex-col h-full animate-fade-in px-4 md:px-6 pt-6 pb-32 overflow-y-auto w-full",children:u.jsxs("div",{className:"max-w-4xl mx-auto w-full",children:[u.jsx("h2",{className:`text-2xl md:text-3xl font-semibold ${l.textPrimary} mb-6`,children:"Settings"}),u.jsxs("div",{className:`flex gap-4 mb-6 border-b ${l.border} pb-2`,children:[u.jsxs("button",{onClick:()=>v("view"),className:`pb-2 text-sm font-medium transition-colors relative ${_==="view"?l.textPrimary:l.textSecondary}`,children:["Appearance",_==="view"&&u.jsx("div",{className:`absolute bottom-0 left-0 w-full h-0.5 ${l.accent.replace("bg-","bg-").replace("text-white","")} rounded-full`})]}),u.jsxs("button",{onClick:()=>v("edit"),className:`pb-2 text-sm font-medium transition-colors relative ${_==="edit"?l.textPrimary:l.textSecondary}`,children:["Profile",_==="edit"&&u.jsx("div",{className:`absolute bottom-0 left-0 w-full h-0.5 ${l.accentText.replace("text-","bg-")} rounded-full`})]}),u.jsxs("button",{onClick:()=>v("badges"),className:`pb-2 text-sm font-medium transition-colors relative ${_==="badges"?l.textPrimary:l.textSecondary}`,children:["Badges",_==="badges"&&u.jsx("div",{className:`absolute bottom-0 left-0 w-full h-0.5 ${l.accentText.replace("text-","bg-")} rounded-full`})]})]}),_==="view"&&u.jsxs("section",{children:[u.jsx("div",{className:"grid gap-3 md:grid-cols-2 mb-8",children:Object.values(xc).filter(ne=>ne&&ne.bg).map(ne=>u.jsxs("button",{onClick:()=>i(ne.id),className:`p-4 rounded-md border transition-all ${n===ne.id?`${l.accent} text-white border-transparent`:`${l.surface} ${l.border} ${l.textPrimary} hover:shadow-md`} flex items-center justify-between`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-5 h-5 rounded border ${ne.bg||"bg-gray-200"}`}),u.jsx("span",{className:"font-medium",children:ne.name||"Unknown"})]}),n===ne.id&&u.jsx(bc,{size:18})]},ne.id))}),u.jsx("h3",{className:`text-xs font-semibold uppercase tracking-wide ${l.textSecondary} mb-3`,children:"Performance"}),u.jsxs("div",{className:`p-4 rounded-md ${l.surface} border ${l.border} flex items-center justify-between`,children:[u.jsxs("div",{children:[u.jsx("h4",{className:`text-sm font-medium ${l.textPrimary}`,children:"Animations"}),u.jsx("p",{className:`text-xs ${l.textSecondary}`,children:"Enable interface animations"})]}),u.jsx("button",{onClick:()=>y(!p),className:`w-11 h-6 rounded-full relative transition-colors duration-200 ${p?"bg-blue-600":"bg-gray-300"}`,children:u.jsx("div",{className:`absolute top-0.5 w-5 h-5 rounded-full bg-white transition-all duration-200 ${p?"left-5":"left-0.5"}`})})]})]}),_==="edit"&&u.jsxs("section",{className:"space-y-4 animate-slide-up",children:[u.jsxs("div",{className:`p-5 rounded-md ${l.surface} border ${l.border}`,children:[u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsx(Ic,{avatar:K||(r==null?void 0:r.avatar),name:(r==null?void 0:r.name)||"?",size:"xl"}),u.jsxs("div",{children:[u.jsx("h3",{className:`text-lg font-semibold ${l.textPrimary}`,children:r==null?void 0:r.name}),u.jsxs("p",{className:`text-sm ${l.textSecondary}`,children:["@",r==null?void 0:r.username,"  ",r==null?void 0:r.role]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:`text-sm font-medium mb-2 block ${l.textPrimary}`,children:"Bio"}),u.jsx("textarea",{value:k,onChange:ne=>V(ne.target.value),className:`w-full p-3 rounded-md border ${l.border} ${l.textPrimary} outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-transparent`,placeholder:"Tell us about yourself...",rows:3})]}),u.jsxs("div",{className:`border-t ${l.border} pt-4`,children:[u.jsx("h4",{className:`text-sm font-medium ${l.textPrimary} mb-4`,children:"Security Recovery"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:`text-sm font-medium mb-2 block ${l.textPrimary}`,children:"Security Question"}),u.jsx("input",{type:"text",value:J,onChange:ne=>he(ne.target.value),className:`w-full p-3 rounded-md border ${l.border} ${l.textPrimary} outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-transparent`,placeholder:"e.g. Favorite Pet"})]}),u.jsxs("div",{children:[u.jsx("label",{className:`text-sm font-medium mb-2 block ${l.textPrimary}`,children:"Security Answer"}),u.jsx("input",{type:"text",value:ge,onChange:ne=>ae(ne.target.value),className:`w-full p-3 rounded-md border ${l.border} ${l.textPrimary} outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-transparent`,placeholder:"Enter answer"})]})]})]}),u.jsx(Vt,{fullWidth:!0,onClick:Jt,themeAccent:l.accent,disabled:gt,children:gt?"Saving...":"Save Changes"})]})]}),u.jsxs("div",{className:"p-5 rounded-md bg-red-50 border border-red-200",children:[u.jsx("h3",{className:"font-medium text-red-600 mb-4",children:"Security"}),u.jsx(Vt,{variant:"danger",fullWidth:!0,onClick:()=>v("password"),children:"Change Password"})]})]}),_==="password"&&u.jsx("section",{className:"animate-slide-up",children:u.jsxs("div",{className:`p-5 rounded-md ${l.surface} border ${l.border} space-y-4`,children:[u.jsx("h3",{className:`font-semibold ${l.textPrimary} mb-4`,children:"Change Password"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:`text-sm font-medium mb-2 block ${l.textPrimary}`,children:"Current Password"}),u.jsx("input",{type:"password",value:at,onChange:ne=>Qe(ne.target.value),placeholder:"Enter current password",className:`w-full p-3 rounded-md border ${l.border} ${l.textPrimary} outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-transparent`})]}),u.jsxs("div",{children:[u.jsx("label",{className:`text-sm font-medium mb-2 block ${l.textPrimary}`,children:"New Password"}),u.jsx("input",{type:"password",value:ce,onChange:ne=>Ae(ne.target.value),placeholder:"Enter new password",className:`w-full p-3 rounded-md border ${l.border} ${l.textPrimary} outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-transparent`})]}),u.jsxs("div",{children:[u.jsx("label",{className:`text-sm font-medium mb-2 block ${l.textPrimary}`,children:"Confirm Password"}),u.jsx("input",{type:"password",value:pt,onChange:ne=>_t(ne.target.value),placeholder:"Confirm new password",className:`w-full p-3 rounded-md border ${l.border} ${l.textPrimary} outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-transparent`})]})]}),u.jsxs("div",{className:"flex gap-2 mt-4",children:[u.jsx(Vt,{variant:"secondary",onClick:()=>v("edit"),children:"Cancel"}),u.jsx(Vt,{onClick:St,themeAccent:l.accent,disabled:gt,children:"Update Password"})]})]})}),_==="badges"&&u.jsx("section",{className:"animate-slide-up space-y-6 pb-20",children:u.jsxs("div",{className:`p-6 rounded-3xl ${l.surface} border ${l.border}`,children:[u.jsx("h3",{className:`text-xl font-black ${l.textPrimary} mb-2`,children:"Monitor Badges"}),u.jsx("p",{className:`text-xs ${l.textSecondary} mb-6`,children:"Customize the badges teachers can award to students."}),u.jsx("div",{className:"space-y-4",children:g.map((ne,z)=>u.jsxs("div",{className:`p-4 rounded-2xl border ${l.border} bg-black/5 flex items-center justify-between group`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-white",style:{backgroundColor:ne.color},children:u.jsx(C0,{size:20})}),u.jsxs("div",{children:[u.jsx("input",{value:ne.name,onChange:G=>{const F=[...g];F[z]={...ne,name:G.target.value},N(F)},className:`bg-transparent border-none font-bold ${l.textPrimary} outline-none focus:ring-1 focus:ring-indigo-500/30 rounded px-1`}),u.jsx("p",{className:"text-[10px] opacity-40 uppercase font-black tracking-widest",children:ne.id})]})]}),u.jsx("input",{type:"color",value:ne.color,onChange:G=>{const F=[...g];F[z]={...ne,color:G.target.value},N(F)},className:"w-8 h-8 rounded-full border-none bg-transparent cursor-pointer"})]},ne.id))})]})}),u.jsx("div",{className:"mt-6",children:u.jsxs("button",{onClick:f,className:"w-full p-3 rounded-md bg-red-500 text-white font-medium hover:bg-red-600 transition-colors flex items-center justify-center gap-2",children:[u.jsx(C0,{className:"rotate-180",size:18})," Logout"]})}),u.jsxs("div",{className:"mt-6 text-center space-y-1",children:[u.jsx("p",{className:`text-xs ${l.textSecondary}`,children:"App Version 1.0.0"}),u.jsx("p",{className:`text-xs ${l.textSecondary}`,children:"Developed by M. Ayan & Abdul Wahab"})]})]})})},aE=({value:l})=>u.jsx("div",{className:"w-full h-1.5 bg-gray-200 rounded-full overflow-hidden",children:u.jsx("div",{className:`h-full transition-all duration-300 rounded-full ${l>=100?"bg-green-500":l>50?"bg-yellow-500/100":"bg-blue-500/100"}`,style:{width:`${l}%`}})}),rE=Ir.memo(({date:l,setDate:n,todos:i,theme:r})=>{const[c,f]=O.useState(new Date(l));O.useEffect(()=>{f(new Date(l))},[l]);const h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],p=c.getFullYear(),y=c.getMonth(),g=new Date(p,y,1).getDay(),N=new Date(p,y+1,0).getDate();return u.jsxs("div",{className:`p-4 rounded-md ${r.surface} border ${r.border} space-y-4 w-full max-w-sm mx-auto flex-shrink-0 mb-6 lg:mb-0`,children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h3",{className:`text-base font-semibold ${r.textPrimary}`,children:[h[y]," ",p]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:()=>f(new Date(p,y-1)),className:"p-1.5 rounded-md hover:bg-black/5 transition-colors",children:u.jsx(Cs,{size:16})}),u.jsx("button",{onClick:()=>f(new Date(p,y+1)),className:"p-1.5 rounded-md hover:bg-black/5 transition-colors",children:u.jsx(cl,{size:16})})]})]}),u.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["S","M","T","W","T","F","S"].map(_=>u.jsx("div",{className:"text-center text-xs font-medium opacity-40 p-1",children:_},_)),Array.from({length:g}).map((_,v)=>u.jsx("div",{},`e-${v}`)),Array.from({length:N}).map((_,v)=>{const k=v+1,V=`${p}-${String(y+1).padStart(2,"0")}-${String(k).padStart(2,"0")}`,K=l===V,xe=i.some(J=>J.dueDate===V&&!J.isCompleted);return u.jsxs("button",{onClick:()=>n(V),className:`aspect-square rounded-md flex flex-col items-center justify-center relative transition-colors ${K?`${r.accent} text-white`:`hover:bg-black/5 ${r.textPrimary}`}`,children:[u.jsx("span",{className:"text-xs font-medium",children:k}),xe&&!K&&u.jsx("div",{className:"absolute bottom-1 w-1 h-1 rounded-full bg-blue-500/100"})]},k)})]})]})}),Ey=Ir.memo(({todo:l,project:n,theme:i,onToggle:r,onEdit:c,onDelete:f})=>{const h=l.dueDate&&l.dueDate<new Date().toISOString().split("T")[0]&&!l.isCompleted;return u.jsxs("div",{className:`group flex flex-col p-4 rounded-md ${i.surface} border ${i.border} hover:shadow-md transition-all relative`,children:[l.isCompleted&&u.jsx("div",{className:"absolute top-2 right-2 p-1 bg-green-100 text-green-600 rounded",children:u.jsx(O_,{size:12})}),u.jsxs("div",{className:"flex gap-3 items-start",children:[u.jsx("button",{onClick:()=>r(l),className:`mt-0.5 flex-shrink-0 w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${l.isCompleted?"bg-green-500 border-green-500 text-white":"border-gray-300 hover:border-[#2563eb]"}`,children:l.isCompleted&&u.jsx(Dy,{size:10,strokeWidth:3})}),u.jsxs("div",{className:"flex-1 min-w-0",onClick:()=>c(l),children:[u.jsxs("div",{className:"flex justify-between items-start mb-1 gap-2",children:[u.jsx("h4",{className:`text-sm font-semibold truncate ${i.textPrimary} ${l.isCompleted?"line-through opacity-50":""}`,children:l.title}),u.jsx("button",{onClick:p=>{p.stopPropagation(),f(l.id)},className:"opacity-0 group-hover:opacity-100 p-1 text-red-500 hover:bg-red-500/10 rounded transition-opacity",children:u.jsx(Ki,{size:14})})]}),l.description&&u.jsx("p",{className:`text-xs ${i.textSecondary} line-clamp-2 mb-2 leading-relaxed`,children:l.description}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[n&&u.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 rounded-md bg-gray-100 text-xs",style:{color:n.color},children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:n.color}}),u.jsx("span",{className:"font-medium",children:n.name})]}),u.jsxs("div",{className:`flex items-center gap-1.5 text-xs ${h?"text-red-600":i.textSecondary}`,children:[u.jsx(Ay,{size:12})," ",l.dueDate||"No date"]})]})]})]}),u.jsxs("div",{className:"mt-3 flex items-center gap-3 pt-2 border-t border-current/10",children:[u.jsx("div",{className:"flex-1",children:u.jsx(aE,{value:l.progress})}),u.jsxs("span",{className:`text-xs ${i.textSecondary}`,children:[l.progress,"%"]})]})]})}),oE=({theme:l,currentUser:n,onToast:i})=>{const[r,c]=O.useState([]),[f,h]=O.useState([]),[p,y]=O.useState("list"),[g,N]=O.useState("all"),[_,v]=O.useState(""),[k,V]=O.useState(new Date().toISOString().split("T")[0]),[K,xe]=O.useState("pending"),[J,he]=O.useState("all"),[ge,ae]=O.useState("none"),[at,Qe]=O.useState(null),[ce,Ae]=O.useState(""),[pt,_t]=O.useState(""),[gt,Ie]=O.useState(new Date().toISOString().split("T")[0]),[Jt,St]=O.useState("medium"),[ne,z]=O.useState(""),[G,F]=O.useState(""),[we,ve]=O.useState(0),[w,U]=O.useState(""),[P,Z]=O.useState("#6366f1"),ie=O.useCallback(async()=>{if(n)try{const[$,ft]=await Promise.all([Kw(n.id),Jw(n.id)]);c($.sort((Le,An)=>An.createdAt-Le.createdAt)),h(ft)}catch{i("Failed to load tasks","error")}},[n,i]);O.useEffect(()=>{ie()},[ie]);const me=()=>{Qe(null),Ae(""),_t(""),Ie(k),St("medium"),z(g!=="all"?g:""),F(""),ve(0),ae("add_todo")},fe=O.useCallback($=>{Qe($),Ae($.title),_t($.description||""),Ie($.dueDate||""),St($.priority),z($.projectId||""),F(($.tags||[]).join(", ")),ve($.progress||0),ae("edit_todo")},[]),lt=async()=>{if(!n||!ce.trim()){i("Task title is required","error");return}const $={id:at?at.id:`todo_${Date.now()}`,userId:n.id,title:ce.trim(),description:pt.trim(),isCompleted:we===100,progress:we,dueDate:gt,priority:Jt,projectId:ne||null,tags:G.split(",").map(ft=>ft.trim()).filter(ft=>ft.length>0),createdAt:at?at.createdAt:Date.now()};await wy($),i(at?"Task Updated":"Task Created Successfully!","success"),ae("none"),ie()},Fe=O.useCallback(async $=>{n&&(await Ww(n.id,$),i("Task deleted","success"),ie())},[n,i,ie]),qn=O.useCallback(async $=>{const ft=$.isCompleted?0:100,Le={...$,isCompleted:!$.isCompleted,progress:ft};await wy(Le),i(Le.isCompleted?"Task Completed! Well done.":"Task marked as pending","success"),ie()},[i,ie]),Ms=async()=>{if(!n||!w.trim())return;const $={id:`proj_${Date.now()}`,name:w.trim(),color:P,userId:n.id};await eE($),U(""),ae("none"),i("New Project Added","success"),ie()},Yn=async $=>{n&&(await tE(n.id,$),g===$&&N("all"),i("Board removed","success"),ie())},ts=$=>$.priority==="high"||!!$.dueDate&&new Date($.dueDate)<=new Date(Date.now()+14*864e5)&&new Date($.dueDate)>=new Date(Date.now()-864e5),Pt=O.useMemo(()=>r.filter($=>{var yn;const ft=$.title.toLowerCase().includes(_.toLowerCase())||((yn=$.description)==null?void 0:yn.toLowerCase().includes(_.toLowerCase()))||$.tags.some(ti=>ti.toLowerCase().includes(_.toLowerCase())),Le=g==="all"||$.projectId===g,An=K==="all"?!0:K==="completed"?$.isCompleted:!$.isCompleted,Nt=J==="all"?!0:J==="active"?!$.isCompleted:J==="urgent"?!$.isCompleted&&ts($):J==="overdue"?!$.isCompleted&&$.dueDate&&$.dueDate<new Date().toISOString().split("T")[0]:!0;return p==="calendar"?Le&&($.dueDate===k||!$.dueDate):ft&&Le&&An&&Nt}),[r,_,g,K,p,k,J]),Be=O.useMemo(()=>{const $=r.length,ft=r.filter(Nt=>Nt.isCompleted).length,Le=r.filter(Nt=>!Nt.isCompleted&&ts(Nt)).length,An=r.filter(Nt=>!Nt.isCompleted&&Nt.dueDate&&Nt.dueDate<new Date().toISOString().split("T")[0]).length;return{total:$,completed:ft,high:Le,overdue:An}},[r]);return u.jsxs("div",{className:"flex h-full w-full overflow-hidden bg-opacity-50 relative flex-col lg:flex-row",children:[u.jsxs("div",{className:`hidden lg:flex flex-col w-64 h-full border-r ${l.border} p-4 transition-all duration-300`,children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:`text-xs font-semibold uppercase tracking-wide mb-4 ${l.textSecondary}`,children:"Filters"}),u.jsx("div",{className:"space-y-2",children:[{id:"all",label:"All Tasks",icon:E0,value:Be.total,color:"text-blue-600",active:J==="all"},{id:"active",label:"Active",icon:jr,value:Be.total-Be.completed,color:"text-yellow-600",active:J==="active"},{id:"urgent",label:"Urgent",icon:S0,value:Be.high,color:"text-orange-600",active:J==="urgent"},{id:"overdue",label:"Overdue",icon:b0,value:Be.overdue,color:"text-red-600",active:J==="overdue"}].map($=>u.jsxs("div",{onClick:()=>he($.id),className:`flex items-center justify-between p-2.5 rounded-md transition-colors cursor-pointer ${$.active?"bg-blue-500/100/10 border border-blue-500/20":"hover:bg-black/5 border border-transparent"}`,children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx($.icon,{size:16,className:$.color}),u.jsx("span",{className:`text-sm font-medium ${l.textPrimary}`,children:$.label})]}),u.jsx("span",{className:`text-xs ${l.textSecondary}`,children:$.value})]},$.id))})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-hide",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsx("h3",{className:`text-xs font-semibold uppercase tracking-wide ${l.textSecondary}`,children:"Projects"}),u.jsx("button",{onClick:()=>ae("add_project"),className:"p-1 rounded-md hover:bg-black/5 transition-colors",children:u.jsx(yc,{size:14})})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs("button",{onClick:()=>N("all"),className:`w-full flex items-center gap-2 p-2 rounded-md transition-colors ${g==="all"?`bg-blue-500/10 ${l.textPrimary} font-medium`:`${l.textSecondary} hover:bg-black/5`}`,children:[u.jsx(N0,{size:16,className:"opacity-50"}),u.jsx("span",{className:"text-sm",children:"All Projects"})]}),f.length===0&&u.jsx("div",{className:"p-3 rounded-xl bg-indigo-500/5 border border-dashed border-indigo-500/20 text-center mb-2",children:u.jsx("p",{className:"text-[10px] font-black opacity-30 italic uppercase tracking-widest text-indigo-500",children:"No projects yet"})}),f.map($=>u.jsxs("div",{className:`group w-full flex items-center justify-between rounded-md transition-colors ${g===$.id?"bg-blue-500/10":"hover:bg-black/5"}`,children:[u.jsxs("button",{onClick:()=>N($.id),className:`flex-1 flex items-center gap-2 p-2 ${g===$.id?`${l.textPrimary} font-medium`:`${l.textSecondary}`}`,children:[u.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:$.color}}),u.jsx("span",{className:"text-sm truncate",children:$.name})]}),u.jsx("button",{onClick:ft=>{ft.stopPropagation(),Yn($.id)},className:"opacity-0 group-hover:opacity-100 p-1.5 text-red-500 hover:bg-red-500/10 rounded transition-all",children:u.jsx(Ki,{size:12})})]},$.id))]})]})]}),u.jsx("div",{className:"flex-1 h-full overflow-hidden flex flex-col p-4 md:p-6 lg:p-8",children:u.jsxs("div",{className:"max-w-5xl mx-auto w-full flex flex-col h-full bg-transparent",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:`text-2xl md:text-3xl font-semibold ${l.textPrimary} mb-1`,children:"Tasks"}),u.jsx("p",{className:`text-sm ${l.textSecondary}`,children:"Your personal task management"})]}),u.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[u.jsxs("div",{className:`flex p-1 rounded-md ${l.surface} border ${l.border}`,children:[u.jsx("button",{onClick:()=>y("list"),className:`px-3 py-1.5 rounded text-xs font-medium transition-colors ${p==="list"?`${l.accent} text-white`:`${l.textSecondary} hover:bg-black/5`}`,children:"List"}),u.jsx("button",{onClick:()=>y("calendar"),className:`px-3 py-1.5 rounded text-xs font-medium transition-colors ${p==="calendar"?`${l.accent} text-white`:`${l.textSecondary} hover:bg-black/5`}`,children:"Calendar"})]}),u.jsxs(Vt,{onClick:me,themeAccent:l.accent,className:"text-xs",children:[u.jsx(yc,{size:14,className:"mr-1"})," New Task"]})]})]}),u.jsx("div",{className:"lg:hidden flex gap-2 overflow-x-auto mb-4 pb-2 scrollbar-thin",children:u.jsx("div",{className:"flex gap-2 min-w-max",children:[{id:"all",label:"Total",icon:E0,value:Be.total,color:"text-blue-600",bg:"bg-blue-500/10",active:J==="all"},{id:"active",label:"Active",icon:jr,value:Be.total-Be.completed,color:"text-yellow-600",bg:"bg-yellow-500/10",active:J==="active"},{id:"urgent",label:"Urgent",icon:S0,value:Be.high,color:"text-orange-600",bg:"bg-orange-50",active:J==="urgent"},{id:"overdue",label:"Overdue",icon:b0,value:Be.overdue,color:"text-red-600",bg:"bg-red-500/10",active:J==="overdue"}].map($=>u.jsxs("div",{onClick:()=>he($.id),className:`flex-shrink-0 flex items-center gap-2 p-3 rounded-md ${l.surface} border ${l.border} min-w-[120px] transition-all ${$.active?"border-blue-300 bg-blue-500/10":""}`,children:[u.jsx($.icon,{size:16,className:$.color}),u.jsxs("div",{children:[u.jsx("span",{className:`block text-xs font-medium ${l.textPrimary}`,children:$.label}),u.jsx("span",{className:`block text-lg font-semibold ${l.textPrimary}`,children:$.value})]})]},$.id))})}),u.jsxs("div",{className:"flex flex-col md:flex-row gap-3 mb-6",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Oy,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 opacity-40"}),u.jsx("input",{type:"text",placeholder:"Search tasks...",value:_,onChange:$=>v($.target.value),className:`w-full py-2.5 pl-10 pr-4 rounded-md ${l.surface} border ${l.border} ${l.textPrimary} outline-none focus:ring-2 focus:ring-[#2563eb] focus:border-transparent transition-all text-sm`})]}),u.jsx("div",{className:"flex gap-2",children:["pending","completed","all"].map($=>u.jsx("button",{onClick:()=>xe($),className:`px-4 py-2 rounded-md text-xs font-medium transition-colors capitalize ${K===$?`${l.accent} text-white`:`${l.surface} border ${l.border} ${l.textSecondary} hover:bg-black/5`}`,children:$},$))})]}),u.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-hide pb-32 p-1",children:p==="calendar"?u.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 md:gap-8 items-start h-full",children:[u.jsx(rE,{date:k,setDate:V,todos:r,theme:l}),u.jsxs("div",{className:"flex-1 space-y-4 w-full pb-40 lg:pb-0",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h4",{className:`text-xs font-black uppercase tracking-widest opacity-30 ${l.textPrimary}`,children:["Date HQ: ",k]}),u.jsxs(Vt,{onClick:me,themeAccent:l.accent,className:"py-2 px-4 shadow-lg text-[10px] font-black uppercase",children:[u.jsx(yc,{size:14,className:"mr-1"})," Add Op"]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Pt.length===0?u.jsx("p",{className:"md:col-span-2 text-center py-20 opacity-20 text-xs font-black uppercase italic",children:"Zero ops detected."}):Pt.map($=>u.jsx(Ey,{todo:$,project:f.find(ft=>ft.id===$.projectId),theme:l,onToggle:qn,onEdit:fe,onDelete:Fe},$.id))})]})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 p-1",children:Pt.length===0?u.jsx("p",{className:"md:col-span-2 text-center py-20 opacity-30 text-lg font-black italic",children:"No matches found"}):Pt.map($=>u.jsx(Ey,{todo:$,project:f.find(ft=>ft.id===$.projectId),theme:l,onToggle:qn,onEdit:fe,onDelete:Fe},$.id))})})]})}),(ge==="add_todo"||ge==="edit_todo")&&u.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end md:items-center justify-center sm:p-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:()=>ae("none")}),u.jsxs("div",{className:`${l.surface} border-t md:border ${l.border} w-full max-w-xl p-6 rounded-t-lg md:rounded-lg shadow-lg relative animate-slide-up flex flex-col gap-4 max-h-[90vh] overflow-y-auto scrollbar-hide`,onClick:$=>$.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h3",{className:`text-lg font-semibold ${l.textPrimary}`,children:ge==="edit_todo"?"Edit Task":"New Task"}),u.jsx("button",{onClick:()=>ae("none"),className:`p-1 rounded-md hover:bg-black/5 ${l.textPrimary}`,children:u.jsx(Wn,{size:20})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:`text-sm font-medium ${l.textPrimary}`,children:"Title"}),u.jsx("input",{autoFocus:!0,value:ce,onChange:$=>Ae($.target.value),className:`w-full p-3 rounded-md border ${l.border} ${l.textPrimary} focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm bg-transparent`,placeholder:"Enter task title..."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:`text-sm font-medium ${l.textPrimary}`,children:"Description"}),u.jsx("textarea",{value:pt,onChange:$=>_t($.target.value),className:`w-full p-3 rounded-md border ${l.border} ${l.textPrimary} focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none h-24 resize-none text-sm bg-transparent`,placeholder:"Add notes..."})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:`text-sm font-medium ${l.textPrimary}`,children:"Due Date"}),u.jsx("input",{type:"date",value:gt,onChange:$=>Ie($.target.value),className:`w-full p-3 rounded-md border ${l.border} ${l.textPrimary} outline-none text-sm bg-transparent`})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:`text-sm font-medium ${l.textPrimary}`,children:"Priority"}),u.jsx("div",{className:`flex gap-2 p-1 rounded-md border ${l.border}`,children:["low","medium","high"].map($=>u.jsx("button",{onClick:()=>St($),className:`flex-1 py-1.5 rounded text-xs font-medium transition-colors capitalize ${Jt===$?`${l.accent} text-white`:`${l.textSecondary} hover:bg-black/5`}`,children:$},$))})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:`text-sm font-medium ${l.textPrimary}`,children:"Project"}),u.jsxs("select",{value:ne,onChange:$=>z($.target.value),className:`w-full p-3 rounded-md border ${l.border} ${l.textPrimary} outline-none text-sm bg-transparent`,children:[u.jsx("option",{value:"",children:"No Project"}),f.map($=>u.jsx("option",{value:$.id,children:$.name},$.id))]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:`text-sm font-medium ${l.textPrimary}`,children:"Tags"}),u.jsx("input",{value:G,onChange:$=>F($.target.value),className:`w-full p-3 rounded-md border ${l.border} ${l.textPrimary} outline-none text-sm bg-transparent`,placeholder:"exams, results..."})]})]}),u.jsxs("div",{className:"space-y-2 pt-2",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("label",{className:`text-sm font-medium ${l.textPrimary}`,children:"Progress"}),u.jsxs("span",{className:`text-sm font-medium ${l.accentText}`,children:[we,"%"]})]}),u.jsx("input",{type:"range",min:"0",max:"100",step:"10",value:we,onChange:$=>ve(parseInt($.target.value)),className:"w-full h-2 bg-gray-200 rounded-full appearance-none cursor-pointer accent-blue-500"})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-2",children:[u.jsx(Vt,{variant:"secondary",onClick:()=>ae("none"),className:"flex-1 order-2 sm:order-1",children:"Cancel"}),u.jsxs(Vt,{onClick:lt,themeAccent:l.accent,className:"flex-1 order-1 sm:order-2",children:[u.jsx(a1,{size:16,className:"mr-2"}),at?"Update":"Create"]})]})]})]}),ge==="add_project"&&u.jsxs("div",{className:"fixed inset-0 z-[120] flex items-end md:items-center justify-center sm:p-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:()=>ae("none")}),u.jsxs("div",{className:`${l.surface} border-t md:border ${l.border} w-full max-w-sm p-6 rounded-t-lg md:rounded-lg shadow-lg relative animate-slide-up flex flex-col gap-4`,onClick:$=>$.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-md bg-blue-500/100 text-white",children:u.jsx(N0,{size:20})}),u.jsx("h3",{className:`text-lg font-semibold ${l.textPrimary}`,children:"New Project"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:`text-sm font-medium ${l.textPrimary}`,children:"Project Name"}),u.jsx("input",{autoFocus:!0,value:w,onChange:$=>U($.target.value),className:`w-full p-3 rounded-md border ${l.border} ${l.textPrimary} outline-none bg-transparent`,placeholder:"Enter project name..."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:`text-sm font-medium ${l.textPrimary}`,children:"Color"}),u.jsx("div",{className:"grid grid-cols-7 gap-2",children:["#2563eb","#ec4899","#f59e0b","#10b981","#ef4444","#8b5cf6","#06b6d4"].map($=>u.jsx("button",{onClick:()=>Z($),className:`w-8 h-8 rounded-md transition-all ${P===$?"ring-2 ring-blue-500 scale-110":"opacity-50 hover:opacity-100 hover:scale-105"}`,style:{backgroundColor:$}},$))})]})]}),u.jsxs("div",{className:"flex gap-3 pt-2",children:[u.jsx(Vt,{variant:"secondary",onClick:()=>ae("none"),className:"flex-1",children:"Cancel"}),u.jsx(Vt,{onClick:Ms,themeAccent:l.accent,className:"flex-1",children:"Create"})]})]})]})]})},Sf=({value:l,options:n,onChange:i,theme:r,label:c})=>{const[f,h]=O.useState(!1);return u.jsxs("div",{className:"relative",children:[c&&u.jsx("label",{className:`text-[10px] font-bold uppercase tracking-wider ${r.textSecondary} mb-1 block ml-1`,children:c}),u.jsxs("button",{onClick:()=>h(!f),className:`flex items-center justify-between gap-3 px-4 py-2.5 rounded-lg ${r.surface} border ${r.border} ${r.textPrimary} font-semibold text-sm min-w-[140px] hover:bg-gray-500/10 transition-colors`,children:[u.jsxs("span",{className:"truncate",children:["Class ",l]}),u.jsx(cl,{size:14,className:`transition-transform ${f?"rotate-90":""}`})]}),f&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-[80]",onClick:()=>h(!1)}),u.jsx("div",{className:`absolute top-full left-0 right-0 mt-1 p-1 rounded-lg ${r.surface} border ${r.border} shadow-sm z-[90] max-h-60 overflow-y-auto`,children:n.map(p=>u.jsxs("button",{onClick:()=>{i(p),h(!1)},className:`w-full text-left px-3 py-2 rounded-md text-sm font-medium ${l===p?`${r.accent} text-white`:`${r.textPrimary} hover:bg-gray-500/10`} transition-colors`,children:["Class ",p]},p))})]})]})},cE=({isOpen:l,title:n,message:i,onConfirm:r,onCancel:c,theme:f})=>l?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 p-6",children:u.jsxs("div",{className:`${f.surface} border ${f.border} w-full max-w-sm p-6 rounded-xl shadow-sm flex flex-col gap-4`,children:[u.jsxs("div",{className:"flex flex-col items-center text-center gap-2",children:[u.jsx("h3",{className:`text-lg font-bold ${f.textPrimary}`,children:n}),u.jsx("p",{className:`text-sm ${f.textSecondary}`,children:i})]}),u.jsxs("div",{className:"flex gap-2 mt-2",children:[u.jsx("button",{onClick:c,className:`flex-1 py-2.5 rounded-lg font-semibold border ${f.border} ${f.textPrimary} hover:bg-gray-500/10`,children:"Cancel"}),u.jsx("button",{onClick:r,className:"flex-1 py-2.5 rounded-lg font-semibold bg-red-600 text-white hover:bg-red-700",children:"Confirm"})]})]})}):null,uE=({message:l,type:n,onClose:i})=>(O.useEffect(()=>{const r=setTimeout(()=>{i()},3e3);return()=>clearTimeout(r)},[]),u.jsxs("div",{className:`fixed top-6 left-1/2 -translate-x-1/2 z-[200] flex items-center gap-3 px-6 py-3 rounded-full shadow-sm  ${n==="success"?"bg-emerald-500 text-white":"bg-red-500 text-white"}`,children:[n==="success"?u.jsx(bc,{size:20}):u.jsx(Pf,{size:20}),u.jsx("span",{className:"font-bold text-sm",children:l})]})),dE=()=>u.jsxs("div",{className:"fixed inset-0 z-[150] flex flex-col items-center justify-center bg-white dark:bg-slate-950",children:[u.jsx(K_,{className:"w-10 h-10 text-indigo-600 animate-spin"}),u.jsx("div",{className:"mt-4 text-xs font-semibold text-slate-500 uppercase tracking-widest",children:"Loading..."})]}),fE=({onFinish:l,logo:n})=>{const[i,r]=O.useState(!1);return O.useEffect(()=>{const c=setTimeout(()=>r(!0),300),f=setTimeout(()=>l(),500);return()=>{clearTimeout(c),clearTimeout(f)}},[]),u.jsx("div",{className:`fixed inset-0 z-[100] flex flex-col items-center justify-center bg-slate-950 text-white transition-opacity duration-300 ${i?"opacity-0":"opacity-100"}`,children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"w-24 h-24 rounded-2xl bg-indigo-600 flex items-center justify-center mb-4 shadow-lg",children:n&&n.length>10?u.jsx("img",{src:n,alt:"Logo",className:"w-full h-full object-cover rounded-2xl"}):u.jsx(br,{size:48,className:"text-white"})}),u.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white mb-1",children:"IJ EDUCATION"}),u.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-indigo-400 opacity-60",children:"Professional Hub"})]})})},hE=({theme:l,onClose:n})=>{const[i,r]=O.useState(0),c=[{title:"Welcome to ClassTrack",desc:"Your professional hub for student management. Let's get you started.",icon:jr},{title:"Master Controls",desc:"Use the bottom dock (mobile) or sidebar (PC) to navigate between Home, Tasks, and Settings.",icon:My},{title:"Attendance & Records",desc:"Click any Class Card on the home screen to start marking attendance instantly.",icon:Zi},{title:"Smart History",desc:"View detailed statistics and past attendance records in the History tab.",icon:Gf},{title:"Strategy Desk",desc:"Manage your personal tasks and to-do lists in the To-Do section.",icon:Vf},{title:"Ready to Start?",desc:"Head to the Admin menu to create your first class and populate your database.",icon:Ry}],f=c[i],h=f.icon;return u.jsxs("div",{className:"fixed inset-0 z-[500] flex items-center justify-center p-6 sm:p-10 pointer-events-none",children:[u.jsx("div",{className:"absolute inset-0 bg-black/60  pointer-events-auto",onClick:n}),u.jsxs("div",{className:`${l.surface} border-2 border-indigo-500/30 w-full max-w-lg p-10 rounded-md shadow-[0_50px_100px_-20px_rgba(0,0,0,0.7)] relative animate-scale-up pointer-events-auto overflow-hidden`,children:[u.jsx("div",{className:"absolute -top-20 -right-20 w-64 h-64 bg-indigo-500/10 rounded-full blur-[80px]"}),u.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[u.jsx("div",{className:`w-24 h-24 rounded-lg ${l.accent} flex items-center justify-center text-white mb-8 shadow-sm scale-110`,children:u.jsx(h,{size:48,strokeWidth:2.5})}),u.jsxs("div",{className:"mb-2 text-[10px] font-black uppercase tracking-[0.4em] opacity-40 text-indigo-400",children:["Step ",i+1," of ",c.length]}),u.jsx("h2",{className:`text-2xl md:text-4xl font-black ${l.textPrimary} mb-4 tracking-tighter leading-tight`,children:f.title}),u.jsx("p",{className:`text-sm md:text-lg ${l.textSecondary} mb-12 leading-relaxed opacity-70`,children:f.desc}),u.jsxs("div",{className:"flex gap-4 w-full",children:[i>0?u.jsx("button",{onClick:()=>r(i-1),className:`flex-1 py-5 rounded-2xl bg-gray-500/10 font-black uppercase tracking-widest text-[11px] ${l.textPrimary}`,children:"Back"}):u.jsx("button",{onClick:n,className:`flex-1 py-5 rounded-2xl bg-gray-500/10 font-black uppercase tracking-widest text-[11px] ${l.textPrimary}`,children:"Skip"}),u.jsx("button",{onClick:()=>{i<c.length-1?r(i+1):n()},className:`flex-[2] py-5 rounded-2xl ${l.accent} text-white font-black uppercase tracking-widest text-[11px] shadow-sm shadow-indigo-500/30`,children:i===c.length-1?"Start Now":"Continue"})]})]})]})]})};class mE extends Ir.Component{constructor(n){super(n),this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,i){console.error("Uncaught error:",n,i)}render(){return this.state.hasError?u.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-slate-950 text-white p-6 text-center",children:[u.jsx(Pf,{size:64,className:"text-red-500 mb-6 animate-bounce"}),u.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Something went wrong."}),u.jsx("p",{className:"text-slate-400 mb-8 max-w-md",children:"The application encountered an unexpected error. Please restart the app."}),u.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 rounded-xl bg-indigo-600 font-bold hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-500/30",children:"Restart Application"})]}):this.props.children}}function pE(){return u.jsx(mE,{children:u.jsx(gE,{})})}function gE(){const[l,n]=O.useState(!0),[i,r]=O.useState(!1),[c,f]=O.useState(!0),[h,p]=O.useState(()=>{const C=localStorage.getItem("classtrack_animations_v1");return C===null?!0:C==="true"}),[y,g]=O.useState(()=>{const C=localStorage.getItem("classtrack_theme_v1");return["minimal_light","minimal_dark","minimal_blue","minimal_gray","minimal_green","minimal_purple"].includes(C)?C:"minimal_light"});O.useEffect(()=>{h?document.body.classList.remove("disable-animations"):document.body.classList.add("disable-animations"),localStorage.setItem("classtrack_animations_v1",String(h))},[h]);const[N,_]=O.useState(null),[v,k]=O.useState("login"),[V,K]=O.useState(E1),[xe,J]=O.useState(!0),[he,ge]=O.useState(!1),[ae,at]=O.useState(null),[Qe,ce]=O.useState(()=>$w()||"./icons/icon-512x512.png"),[Ae,pt]=O.useState([]),[_t,gt]=O.useState(""),[Ie,Jt]=O.useState(""),[St]=O.useState(()=>new Date().toLocaleDateString("en-CA")),[ne,z]=O.useState(new Date),[G,F]=O.useState([]),[we,ve]=O.useState([]),[w,U]=O.useState({}),[P,Z]=O.useState(null),[ie,me]=O.useState([]),[fe,lt]=O.useState([]),[Fe,qn]=O.useState("history"),[Ms,Yn]=O.useState(!1),[ts,Pt]=O.useState(""),[Be,$]=O.useState(navigator.onLine),[ft,Le]=O.useState(!1),[An,Nt]=O.useState(320),[yn,ti]=O.useState(!1),[ma,Qt]=O.useState([{id:"monitor",name:"Class Monitor",icon:"ShieldCheck",color:"#6366f1"},{id:"punctual",name:"Punctual",icon:"Clock",color:"#10b981"},{id:"helper",name:"Top Helper",icon:"Star",color:"#f59e0b"}]),[tu,Zr]=O.useState(window.innerWidth);O.useEffect(()=>{const C=()=>Zr(window.innerWidth);return window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]);const Kr=O.useCallback(()=>ti(!0),[]),ns=O.useCallback(()=>{ti(!1),Nt(C=>C<180?80:C>340?400:280)},[]),ni=O.useCallback(C=>{if(yn){const q=C.clientX;q<180?Nt(80):q>340?Nt(400):Nt(280)}},[yn]);O.useEffect(()=>(yn?(window.addEventListener("mousemove",ni),window.addEventListener("mouseup",ns)):(window.removeEventListener("mousemove",ni),window.removeEventListener("mouseup",ns)),()=>{window.removeEventListener("mousemove",ni),window.removeEventListener("mouseup",ns)}),[yn,ni,ns]);const[xl,pa]=O.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),[ga,ks]=O.useState(null),[nt,Xt]=O.useState(null),[Ft,nu]=O.useState(""),[Rh,Wr]=O.useState(!1),[Rs,si]=O.useState(()=>localStorage.getItem("classtrack_tutorial_seen_v1")===null),li=()=>{localStorage.setItem("classtrack_tutorial_seen_v1","true"),si(!1)};O.useEffect(()=>{if(!l&&!c&&v==="home"&&Ae.length===0&&!Rs){const C=setTimeout(()=>Wr(!0),1500);return()=>clearTimeout(C)}else Wr(!1)},[l,c,v,Ae.length,Rs]);const[ss,Os]=O.useState("dashboard"),[Ct,ya]=O.useState("10"),[rn,ii]=O.useState(new Date),[ls,Oh]=O.useState(null),ai=O.useRef(null),[is,Jr]=O.useState(()=>new Date().toISOString().slice(0,7)),[zs,ri]=O.useState({}),[eo,xa]=O.useState(!1),[Dn,wt]=O.useState({}),[Je,Gn]=O.useState("10"),[as,vl]=O.useState([]),[zh,va]=O.useState(""),[oi,ci]=O.useState(0),[bl,_l]=O.useState(!1),Sl=async(C,q)=>{const R=nt||G.find(te=>te.id===C);if(!R)return;const I=R.badges||[];if(I.includes(q))return De("Student already has this badge","info");const Y=[...I,q];try{await gc(C,{badges:Y}),Xt(te=>te?{...te,badges:Y}:null),F(te=>te.map(X=>X.id===C?{...X,badges:Y}:X)),De("Badge Awarded!","success")}catch{De("Failed to award badge","error")}},Ls=async(C,q)=>{const R=nt||G.find(Y=>Y.id===C);if(!R)return;const I=(R.badges||[]).filter(Y=>Y!==q);try{await gc(C,{badges:I}),Xt(Y=>Y?{...Y,badges:I}:null),F(Y=>Y.map(te=>te.id===C?{...te,badges:I}:te)),De("Badge Removed","success")}catch{De("Failed to remove badge","error")}},[it,ba]=O.useState(""),[ui,Vn]=O.useState(""),[Pn,to]=O.useState(""),[di,_a]=O.useState("teacher"),[no,Nl]=O.useState(!1),[Cl,Mn]=O.useState([]),It=O.useMemo(()=>{const C={};if(ae&&G.length>0){const q=fe.filter(R=>R.classId===ae);G.forEach(R=>{const I=q.filter(Y=>Y.records&&Y.records[R.id]!==void 0);if(I.length===0)C[R.id]=100;else{const Y=I.filter(te=>{const X=te.records[R.id];return X==="present"||X===!0}).length;C[R.id]=Math.round(Y/I.length*100)}})}if(as.length>0){const q=fe.filter(R=>R.classId===Je);as.forEach(R=>{if(!C[R.id]){const I=q.filter(Y=>Y.records&&Y.records[R.id]!==void 0);if(I.length===0)C[R.id]=100;else{const Y=I.filter(te=>{const X=te.records[R.id];return X==="present"||X===!0}).length;C[R.id]=Math.round(Y/I.length*100)}}})}return C},[ae,fe,G,as,Je]),so=O.useMemo(()=>{const C=rn.getMonth(),q=rn.getFullYear(),R=fe.filter(At=>{const qt=new Date(At.date);return At.classId===Ct&&qt.getMonth()===C&&qt.getFullYear()===q}),I=ls?R.filter(At=>new Date(At.date).getDate()===ls):R;let Y=0,te=0,X=0;I.forEach(At=>{At.records&&Object.values(At.records).forEach(qt=>{qt==="present"||qt===!0?Y++:qt==="leave"?X++:te++})});const qe=Y+te+X,se=qe>0?Y/qe*100:0,rt=qe>0?`conic-gradient(#10b981 0% ${se}%, #f97316 ${se}% ${se+X/qe*100}%, #ef4444 ${se+X/qe*100}% 100%)`:"conic-gradient(#334155 0% 100%)";return{totalPresent:Y,totalAbsent:te,totalLeave:X,totalMarks:qe,presentPercentage:se,gradientStyle:rt}},[Ct,rn,ls,fe]),[lo,on]=O.useState("0"),[fi,xn]=O.useState(""),[hi,Rt]=O.useState(null),[$s,Sa]=O.useState(""),[wl,rs]=O.useState(""),b=xc[y]||xc.minimal_light,io=["group-chat"].includes(v);O.useEffect(()=>{["midnight","forest","crimson","neon"].includes(y)?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[y]);const kn=(C,q,R)=>{pa({isOpen:!0,title:C,message:q,onConfirm:()=>{R(),pa(I=>({...I,isOpen:!1}))}})},De=(C,q)=>{ks({message:C,type:q})},El=O.useCallback(async()=>{const C=_y();ci(C),navigator.onLine&&C>0&&(await Pw(q=>{va(q),setTimeout(()=>va(""),3e3)}),ci(_y()),v==="dashboard"&&ae&&Gt(ae).then(F),v==="admin-dashboard"&&Gt(Ct).then(ve),vr().then(lt))},[v,ae,Ct]),jl=O.useCallback(async()=>{try{const C=await kw();Mn(C)}catch{}},[]);O.useEffect(()=>{v==="admin-users"&&jl()},[v,jl]),O.useEffect(()=>{(async()=>{const Y=new Promise(se=>setTimeout(se,1200)),te=Zw();["minimal_light","minimal_dark","minimal_blue","minimal_gray","minimal_green","minimal_purple"].includes(te)&&xc[te]?g(te):g("minimal_light");const qe=Ow();qe&&_(qe);try{const[se,rt,At]=await Promise.all([kh(),Lw(),vr()]);pt(se),se.length>0&&(ya(se[0]),Gn(se[0]),Gt(se[0]).then(qt=>{ve(qt),vl(qt),F(qt)})),rt&&(rt.logo&&ce(rt.logo),rt.classFees&&wt(rt.classFees)),lt(At.sort((qt,zn)=>zn.timestamp-qt.timestamp))}catch(se){console.error("Initialization error:",se)}await Y,r(!0),n(!1)})();const q=()=>{$(navigator.onLine)};window.addEventListener("online",q),window.addEventListener("offline",q);const R=setInterval(()=>z(new Date),1e3);let I;return"serviceWorker"in navigator&&(I=Y=>{Y.data&&Y.data.type==="TRIGGER_SYNC"&&(console.log(" Sync triggered by Service Worker"),El())},navigator.serviceWorker.addEventListener("message",I)),()=>{clearInterval(R),window.removeEventListener("online",q),window.removeEventListener("offline",q),I&&navigator.serviceWorker.removeEventListener("message",I)}},[]),O.useEffect(()=>{let C;return Be&&(El(),C=setInterval(El,3e4)),()=>{C&&clearInterval(C)}},[Be,El]);const Na=O.useCallback(()=>{f(!1),k(N?"home":"login")},[N]),ao=()=>{zw(),_(null),k("login")},su=C=>{g(C),Fw(C)};O.useEffect(()=>{(v==="admin-dashboard"||v==="admin-menu")&&Gt(Ct).then(ve)},[v,Ct]),O.useEffect(()=>{v==="admin-fees"&&(xa(!0),Yw(is).then(C=>{ri(C),xa(!1)}))},[v,is]),O.useEffect(()=>{(v==="admin-fees"||v==="student-directory")&&Gt(Je).then(vl)},[v,Je]),O.useEffect(()=>{v==="dashboard"&&ae&&Gt(ae).then(F)},[v,ae]);const Us=async C=>{Le(!0);try{at(C);const q=await Qw(St,C),R=await Gt(C);if(F(R),q)U(q.records);else{const I={};R.forEach(Y=>I[Y.id]="present"),U(I)}k("dashboard")}catch(q){console.error("Error loading class",q)}finally{Le(!1)}},Rn=async()=>{Le(!0);try{const C=await vr();lt(C.sort((q,R)=>R.timestamp-q.timestamp)),k("history")}finally{Le(!1)}},Ca=C=>{navigator.vibrate&&navigator.vibrate(10),U(q=>{const R=q[C];let I;return R==="present"||R===!0?I="absent":R==="absent"||R===!1?I="leave":I="present",{...q,[C]:I}})},mi=C=>{const q={};G.forEach(R=>q[R.id]=C?"present":"absent"),U(q),navigator.vibrate&&navigator.vibrate(20)},Hs=async()=>{if(ae){Le(!0);try{const C={id:`${St}-${ae}`,date:St,classId:ae,timestamp:Date.now(),records:w};await hv(C);const q=G.map(I=>{if(I.classId===ae&&w[I.id]==="present"){const Y=I.xp||0,te=I.coins||0,X=Y+15,qe=te+10,se=Math.floor(X/1e3)+1;return{...I,xp:X,coins:qe,level:se}}return I});F(q),await Promise.all(q.filter(I=>I.classId===ae&&w[I.id]==="present").map(I=>gc(I.id,I)));const R=await vr();lt(R.sort((I,Y)=>Y.timestamp-I.timestamp)),navigator.vibrate&&navigator.vibrate([30,50,30]),Be||De("Saved Offline! Syncing when Online.","success"),k("dashboard")}catch{De("Failed to save. Action queued.","error"),k("dashboard")}finally{Le(!1)}}},Is=async()=>{var R,I;let C=ae;if(v==="admin-dashboard"&&(C=Ct),(v==="student-directory"||v==="admin-fees")&&(C=Je),!ts.trim()||!C)return;const q=ts.split(`
`).filter(Y=>Y.trim().length>0);Le(!0);try{for(const te of q){const X=te.split(","),qe=(R=X[0])==null?void 0:R.trim(),se=(I=X[1])==null?void 0:I.trim();qe&&await Iw(qe,C,se)}Pt(""),Yn(!1),De(Be?"Sync Successful!":"Added Locally! Syncing soon...","success"),(()=>{v==="student-directory"||v==="admin-fees"?Gt(Je).then(vl):v==="admin-dashboard"?Gt(Ct).then(ve):ae&&Gt(ae).then(F)})()}catch{De("Action queued for sync.","error")}finally{Le(!1)}},ro=async(C,q)=>{C.stopPropagation(),kn("Delete Student?","Are you sure you want to permanently delete this student? This action cannot be undone.",async()=>{await Bw(q),navigator.vibrate&&navigator.vibrate(50),De(Be?"Student deleted":"Pending Deletion","success"),v==="admin-dashboard"&&Gt(Ct).then(ve)})},wa=async(C,q)=>{C.stopPropagation(),kn("Delete Record?",`Delete attendance record for ${q.date} (Class ${q.classId})?`,async()=>{await qw(q.date,q.classId);const R=await vr();lt(R.sort((I,Y)=>Y.timestamp-I.timestamp)),De(Be?"Record deleted":"Queued for deletion","success")})},oo=async(C,q="history")=>{Le(!0);try{const R=await Gt(C.classId);me(R),Z(C),qn(q),k("history-detail")}finally{Le(!1)}};O.useEffect(()=>{if(v==="history-detail"&&P){const C=Vw(P.date,P.classId,q=>{q&&Z(q)});return()=>C()}},[v,P==null?void 0:P.id]);const Tl=async C=>{var I;const q=(I=C.target.files)==null?void 0:I[0];if(!q)return;const R=new FileReader;R.onloadend=async()=>{if(typeof R.result=="string"){const Y=R.result;ce(Y),await Cy({logo:Y}),De("School Logo Updated Everywhere!","success")}},R.readAsDataURL(q)},On=async C=>{const q=zs[C.id],R=(q==null?void 0:q.isPaid)||!1,I=Dn[C.classId]||2e3,Y=(q==null?void 0:q.amount)||C.customFee||I,te={id:`${is}_${C.id}`,studentId:C.id,month:is,amount:Y,isPaid:!R,paidAt:R?null:Date.now()};ri(X=>({...X,[C.id]:te}));try{R?(await Gw(is,C.id),De("Payment Removed","success")):(await mv(te),navigator.vibrate&&navigator.vibrate(20),De("Fee Marked as Paid","success"))}catch{De("Sync Error: Payment queued","error")}},Ea=async(C,q)=>{try{await Xw(C,q),vl(R=>R.map(I=>I.id===C?{...I,customFee:q}:I)),De("Custom fee updated","success")}catch{De("Failed to update custom fee","error")}},Al=async()=>{if(_t.trim()){Le(!0);try{const C=await Uw(_t.trim());pt(C),gt(""),De(`Class ${_t} added!`,"success")}catch(C){De(C.message||"Failed to add class","error")}finally{Le(!1)}}},Qn=async C=>{kn("Delete Class?",`Are you sure you want to delete Class ${C}? This will NOT delete student data but will hide the class.`,async()=>{Le(!0);try{const q=await Hw(C);pt(q),Ct===C&&q.length>0&&ya(q[0]),De(`Class ${C} removed`,"success")}catch{De("Failed to remove class","error")}finally{Le(!1)}})},ja=C=>{Rt(C),Sa(C.name),rs(C.phone||""),nu(C.classId)},pi=async()=>{if(!(!hi||!$s.trim())){Le(!0);try{await gc(hi.id,{name:$s.trim(),phone:wl.trim(),classId:Ft}),De("Student Updated!","success"),nt&&nt.id===hi.id&&Xt({...nt,name:$s.trim(),phone:wl.trim()}),Rt(null),v==="student-directory"||v==="admin-fees"?Gt(Je).then(vl):v==="admin-dashboard"?Gt(Ct).then(ve):ae&&Gt(ae).then(F),v==="student-profile"&&nt&&Gt(nt.classId).then(F)}catch{De("Update failed","error")}finally{Le(!1)}}},cn=C=>{if(C==="C"){on("0"),xn("");return}if(C==="="){try{const R=Function('"use strict";return ('+fi+")")();on(String(R)),xn(String(R))}catch{on("Error"),xn("")}return}const q=["+","-","*","/"].includes(C);if(lo==="0"&&!q)on(C),xn(C);else{if(q)on(C);else{const R=fi.slice(-1);["+","-","*","/"].includes(R)?on(C):on(I=>I+C)}xn(R=>R+C)}},gi=()=>u.jsx("div",{className:"flex flex-col h-full  px-3 md:px-6 pt-4 md:pt-12 pb-32 w-full max-w-7xl mx-auto items-center justify-center",children:u.jsxs("div",{className:"w-full",children:[u.jsxs("div",{className:"text-center mb-6 md:mb-12",children:[u.jsx("h1",{className:`text-xl md:text-4xl font-black ${b.textPrimary} mb-1 md:mb-2`,children:"Admin Center"}),u.jsx("p",{className:`text-[10px] md:text-sm ${b.textSecondary}`,children:"Secure management & oversight panel"})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-4 gap-4 md:gap-6 w-full max-h-[70vh] overflow-y-auto pr-2 scrollbar-hide py-4",children:[u.jsxs("button",{onClick:()=>k("admin-dashboard"),className:`p-6 md:p-8 rounded-2xl ${b.surface} border ${b.border} shadow-sm hover:scale-[1.02] active:scale-95 transition-all group text-left relative overflow-hidden flex flex-col items-start min-h-[220px]`,children:[u.jsx("div",{className:"p-4 rounded-2xl bg-blue-500/10 text-blue-500 mb-6 group-hover:bg-blue-500 group-hover:text-white transition-colors",children:u.jsx(Zi,{size:24})}),u.jsx("h3",{className:`text-xl font-black ${b.textPrimary} mb-2`,children:"Registry"}),u.jsx("p",{className:`text-xs ${b.textSecondary} leading-relaxed opacity-60`,children:"Manage students, classes, and analytics."}),u.jsxs("div",{className:"mt-auto flex items-center gap-2 text-blue-500 font-bold text-[10px] uppercase tracking-widest",children:["Open ",u.jsx(cl,{size:14})]})]}),u.jsxs("button",{onClick:()=>k("admin-fees"),className:`p-6 md:p-8 rounded-2xl ${b.surface} border ${b.border} shadow-sm hover:scale-[1.02] active:scale-95 transition-all group text-left relative overflow-hidden flex flex-col items-start min-h-[220px]`,children:[u.jsx("div",{className:"p-4 rounded-2xl bg-emerald-500/10 text-emerald-500 mb-6 group-hover:bg-emerald-500 group-hover:text-white transition-colors",children:u.jsx(q_,{size:24})}),u.jsx("h3",{className:`text-xl font-black ${b.textPrimary} mb-2`,children:"Fees Desk"}),u.jsx("p",{className:`text-xs ${b.textSecondary} leading-relaxed opacity-60`,children:"Track payments and reports."}),u.jsxs("div",{className:"mt-auto flex items-center gap-2 text-emerald-500 font-bold text-[10px] uppercase tracking-widest",children:["Check ",u.jsx(cl,{size:14})]})]}),u.jsxs("button",{onClick:()=>k("student-directory"),className:`p-6 md:p-8 rounded-2xl ${b.surface} border ${b.border} shadow-sm hover:scale-[1.02] active:scale-95 transition-all group text-left relative overflow-hidden flex flex-col items-start min-h-[220px]`,children:[u.jsx("div",{className:"p-4 rounded-2xl bg-purple-500/10 text-purple-500 mb-6 group-hover:bg-purple-500 group-hover:text-white transition-colors",children:u.jsx(I_,{size:24})}),u.jsx("h3",{className:`text-xl font-black ${b.textPrimary} mb-2`,children:"Contacts"}),u.jsx("p",{className:`text-xs ${b.textSecondary} leading-relaxed opacity-60`,children:"Directory & Verification."}),u.jsxs("div",{className:"mt-auto flex items-center gap-2 text-purple-500 font-bold text-[10px] uppercase tracking-widest",children:["View ",u.jsx(cl,{size:14})]})]}),u.jsxs("button",{onClick:()=>k("admin-users"),className:`p-6 md:p-8 rounded-2xl ${b.surface} border ${b.border} shadow-sm hover:scale-[1.02] active:scale-95 transition-all group text-left relative overflow-hidden flex flex-col items-start min-h-[220px]`,children:[u.jsx("div",{className:"p-4 rounded-2xl bg-orange-500/10 text-orange-500 mb-6 group-hover:bg-orange-500 group-hover:text-white transition-colors",children:u.jsx(cf,{size:24})}),u.jsx("h3",{className:`text-xl font-black ${b.textPrimary} mb-2`,children:"Access"}),u.jsx("p",{className:`text-xs ${b.textSecondary} leading-relaxed opacity-60`,children:"Manage Admin/Teacher accounts."}),u.jsxs("div",{className:"mt-auto flex items-center gap-2 text-orange-500 font-bold text-[10px] uppercase tracking-widest",children:["Manage ",u.jsx(cl,{size:14})]})]})]}),u.jsx("div",{className:"mt-6 md:mt-12 text-center",children:u.jsx("button",{onClick:()=>k("home"),className:`px-5 md:px-8 py-3 md:py-4 rounded-xl md:rounded-2xl bg-gray-500/10 hover:bg-gray-500/20 ${b.textSecondary} font-black text-[9px] uppercase tracking-[0.2em] transition-all`,children:"Return to Workspace"})})]})}),yi=()=>{const C=async()=>{if(!it||!ui||!Pn)return De("All fields required","error");Nl(!0);try{await Mw(Pn,it,ui,di),De(`User ${it} Created!`,"success"),ba(""),Vn(""),to(""),jl()}catch{De("Failed to create user","error")}finally{Nl(!1)}},q=R=>{kn("Delete User?","This user will lose access immediately.",async()=>{try{await Rw(R),De("User Deleted","success"),jl()}catch(I){De(I.message||"Failed","error")}})};return u.jsx("div",{className:"flex flex-col h-full  px-4 md:px-6 pt-6 md:pt-12 pb-32 overflow-y-auto w-full scrollbar-hide",children:u.jsxs("div",{className:"max-w-4xl mx-auto w-full space-y-8",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h1",{className:`text-3xl md:text-5xl font-black ${b.textPrimary} mb-2 tracking-tighter`,children:"Access Control"}),u.jsx("p",{className:`text-[10px] md:text-xs font-bold uppercase tracking-widest ${b.textSecondary} opacity-40`,children:"Admin Tools & Users"})]}),u.jsx("button",{onClick:()=>k("admin-menu"),className:`p-2 rounded-full hover:bg-gray-500/20 ${b.textPrimary}`,children:u.jsx(Wn,{size:28})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8",children:[u.jsxs("div",{className:`p-6 md:p-8 rounded-2xl ${b.surface} border ${b.border} shadow-sm flex flex-col gap-6`,children:[u.jsx("h3",{className:`text-lg font-bold ${b.textPrimary} flex items-center gap-2`,children:"Authorize New Account"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:`text-[10px] font-black uppercase tracking-widest ${b.textSecondary} mb-2 block opacity-50`,children:"Display Name"}),u.jsx("input",{value:Pn,onChange:R=>to(R.target.value),className:`w-full p-4 rounded-xl bg-black/10 border ${b.border} ${b.textPrimary} font-bold outline-none focus:ring-2 focus:ring-indigo-500/30 transition-all`,placeholder:"e.g. Sir Daniyal"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:`text-[10px] font-black uppercase tracking-widest ${b.textSecondary} mb-2 block opacity-50`,children:"Username"}),u.jsx("input",{value:it,onChange:R=>ba(R.target.value),className:`w-full p-4 rounded-xl bg-black/10 border ${b.border} ${b.textPrimary} font-bold outline-none focus:ring-2 focus:ring-indigo-500/30 transition-all`,placeholder:"Login ID"})]}),u.jsxs("div",{children:[u.jsx("label",{className:`text-[10px] font-black uppercase tracking-widest ${b.textSecondary} mb-2 block opacity-50`,children:"Password"}),u.jsx("input",{value:ui,onChange:R=>Vn(R.target.value),type:"text",className:`w-full p-4 rounded-xl bg-black/10 border ${b.border} ${b.textPrimary} font-bold outline-none focus:ring-2 focus:ring-indigo-500/30 transition-all`,placeholder:"Pass"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:`text-[10px] font-black uppercase tracking-widest ${b.textSecondary} mb-2 block opacity-50`,children:"Permission Role"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>_a("teacher"),className:`flex-1 p-4 rounded-xl border font-black transition-all ${di==="teacher"?"bg-indigo-600 text-white border-indigo-600":`bg-black/10 border-slate-700 ${b.textSecondary}`}`,children:"Teacher"}),u.jsx("button",{onClick:()=>_a("admin"),className:`flex-1 p-4 rounded-xl border font-black transition-all ${di==="admin"?"bg-indigo-600 text-white border-indigo-600":`bg-black/10 border-slate-700 ${b.textSecondary}`}`,children:"Admin"})]})]}),u.jsx(Vt,{onClick:C,fullWidth:!0,themeAccent:b.accent,disabled:no,children:no?"Creating...":"Create Account"})]})]}),u.jsxs("div",{className:`p-6 md:p-8 rounded-2xl ${b.surface} border ${b.border} shadow-sm flex flex-col`,children:[u.jsx("h3",{className:`text-lg font-bold ${b.textPrimary} mb-6 flex items-center gap-2`,children:"Active Accounts"}),u.jsxs("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2 scrollbar-hide",children:[Cl.length===0&&u.jsx("div",{className:"p-3 rounded-lg bg-gray-500/5 border border-dashed border-gray-500/20 text-center",children:u.jsx("p",{className:"text-[10px] font-medium opacity-40 italic uppercase tracking-widest",children:"No users found"})}),Cl.map(R=>u.jsxs("div",{className:"p-4 rounded-2xl bg-gray-500/10 border border-gray-500/10 flex items-center justify-between group hover:border-white/10 transition-all",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center font-black text-[10px] ${R.role==="admin"?"bg-indigo-500/20 text-indigo-400":"bg-orange-500/20 text-orange-400"}`,children:R.role[0].toUpperCase()}),u.jsxs("div",{children:[u.jsx("h4",{className:`font-black text-xs md:text-sm ${b.textPrimary}`,children:R.name}),u.jsx("p",{className:"text-[8px] md:text-[9px] font-black opacity-30 uppercase tracking-widest",children:R.id})]})]}),!["admin_ayan","admin_wahab"].includes(R.id)&&u.jsx("button",{onClick:()=>q(R.id),className:"p-2 rounded-lg text-red-500 hover:bg-red-500/10 transition-all",children:u.jsx(Ki,{size:16})})]},R.id))]})]})]})]})})},co=()=>{let C=0,q=0,R=0;const I=as.filter(Y=>Y.classId===Je);return eo?u.jsx("div",{className:"flex flex-col h-full px-4 md:px-6 pt-6 md:pt-12 pb-32 animate-pulse w-full",children:u.jsxs("div",{className:"max-w-4xl mx-auto w-full space-y-4",children:[u.jsx("div",{className:"h-10 w-48 bg-gray-500/10 rounded-lg"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx("div",{className:"h-24 bg-gray-500/10 rounded-2xl"}),u.jsx("div",{className:"h-24 bg-gray-500/10 rounded-2xl"})]}),u.jsx("div",{className:"h-64 bg-gray-500/10 rounded-3xl"})]})}):(I.forEach(Y=>{const te=zs[Y.id];te!=null&&te.isPaid?(C+=te.amount,q++):R++}),u.jsx("div",{className:"flex flex-col h-full px-4 md:px-6 pt-6 md:pt-12 pb-32 overflow-y-auto w-full scrollbar-hide",children:u.jsxs("div",{className:"max-w-4xl mx-auto w-full",children:[u.jsxs("div",{className:"mb-8 flex flex-col gap-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h1",{className:`text-3xl md:text-5xl font-black ${b.textPrimary} tracking-tighter`,children:"Finance Hub"}),u.jsx("p",{className:`text-[10px] md:text-sm font-bold uppercase tracking-widest ${b.textSecondary} opacity-40`,children:"Revenue & Fee Monitoring"})]}),u.jsx("button",{onClick:()=>k("admin-menu"),className:`p-3 rounded-full hover:bg-gray-500/10 ${b.textPrimary}`,children:u.jsx(Wn,{size:24})})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("label",{className:`text-[10px] font-black uppercase tracking-widest ${b.textSecondary} opacity-40 ml-1`,children:"Billing Month"}),u.jsx("input",{type:"month",value:is,onChange:Y=>Jr(Y.target.value),className:`w-full p-4 rounded-xl ${b.surface} border ${b.border} ${b.textPrimary} font-bold outline-none focus:ring-2 ring-indigo-500/30 transition-all`})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("label",{className:`text-[10px] font-black uppercase tracking-widest ${b.textSecondary} opacity-40 ml-1`,children:"Target Class"}),u.jsx(Sf,{value:Je,options:Ae,onChange:Gn,theme:b})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[u.jsxs("div",{className:"p-6 rounded-3xl bg-indigo-600 text-white shadow-xl shadow-indigo-500/20 col-span-1 md:col-span-1",children:[u.jsx("p",{className:"text-white/60 text-[10px] font-black uppercase tracking-widest mb-1",children:"Net Revenue"}),u.jsxs("h3",{className:"text-3xl font-black tracking-tight",children:["Rs. ",C.toLocaleString()]})]}),u.jsxs("div",{className:`p-6 rounded-3xl ${b.surface} border ${b.border} flex flex-col justify-between`,children:[u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-40 mb-1",children:"Paid Accounts"}),u.jsxs("div",{className:"flex items-end justify-between",children:[u.jsx("h3",{className:`text-3xl font-black ${b.textPrimary}`,children:q}),u.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/10 text-emerald-500",children:u.jsx(bc,{size:18})})]})]}),u.jsxs("div",{className:`p-6 rounded-3xl ${b.surface} border ${b.border} flex flex-col justify-between`,children:[u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-40 mb-1",children:"Pending Dues"}),u.jsxs("div",{className:"flex items-end justify-between",children:[u.jsx("h3",{className:`text-3xl font-black ${b.textPrimary}`,children:R}),u.jsx("div",{className:"p-2 rounded-lg bg-red-500/10 text-red-500",children:u.jsx(Pf,{size:18})})]})]})]}),u.jsx("div",{className:"space-y-3",children:I.length===0?u.jsx("div",{className:"text-center py-20 opacity-30 italic text-sm",children:"No student records in this segment."}):I.map(Y=>{const te=zs[Y.id],X=(te==null?void 0:te.isPaid)||!1,qe=Y.customFee||Dn[Y.classId]||2e3;return u.jsx("div",{className:`p-4 rounded-2xl border transition-all ${X?`${b.surface} ${b.border} opacity-40`:`${b.surface} border-indigo-500/20 shadow-md`}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Ic,{name:Y.name,avatar:Y.avatarSeed,size:"sm"}),u.jsxs("div",{children:[u.jsx("h4",{className:`font-black text-sm ${b.textPrimary}`,children:Y.name}),u.jsxs("p",{className:`text-[9px] font-bold ${b.textSecondary} opacity-40 uppercase tracking-widest`,children:["ID: ",Y.id.slice(-6),"  Rs. ",qe]})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"hidden sm:flex flex-col items-end",children:u.jsx("input",{type:"number",defaultValue:qe,onBlur:se=>Ea(Y.id,Number(se.target.value)),className:`w-20 bg-transparent text-right font-black text-xs ${b.textPrimary} border-b border-dashed border-gray-500/30 outline-none focus:border-indigo-500`})}),u.jsx("button",{onClick:()=>On(Y),className:`px-6 py-2.5 rounded-xl font-black text-[10px] uppercase tracking-widest transition-all ${X?"bg-emerald-500/10 text-emerald-500":"bg-indigo-600 text-white shadow-lg shadow-indigo-500/20"}`,children:X?"PAID":"COLLECT"})]})]})},Y.id)})})]})}))},Bt=()=>{const{totalPresent:C,totalAbsent:q,totalLeave:R,totalMarks:I,presentPercentage:Y,gradientStyle:te}=so;return u.jsx("div",{className:"flex flex-col h-full  px-4 md:px-6 pt-6 md:pt-12 pb-32 overflow-y-auto w-full",children:u.jsxs("div",{className:"max-w-7xl mx-auto w-full",children:[u.jsxs("div",{className:"mb-6 flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h1",{className:`text-2xl md:text-4xl font-black ${b.textPrimary}`,children:"Admin Console"}),u.jsx("p",{className:`text-xs md:text-sm ${b.textSecondary}`,children:"Analytics Hub"})]}),u.jsx("button",{onClick:()=>k("admin-menu"),className:`p-2 rounded-full hover:bg-gray-500/20 ${b.textPrimary}`,children:u.jsx(Wn,{size:24})})]}),u.jsxs("div",{className:`p-5 md:p-8 rounded-2xl md:rounded-2xl ${b.surface} border ${b.border} mb-6 shadow-sm`,children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6 border-b border-gray-500/10 pb-4",children:[" ",u.jsx("div",{className:"p-2 bg-orange-500/10 rounded-xl",children:u.jsx(zy,{className:"text-orange-500",size:20})})," ",u.jsx("h3",{className:`font-black text-lg md:text-xl ${b.textPrimary}`,children:"Settings"})," "]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 md:gap-6 p-4 rounded-2xl bg-gray-500/10 border border-gray-500/10",children:[u.jsxs("div",{className:`w-24 h-24 rounded-full border-4 border-dashed ${b.border} flex items-center justify-center cursor-pointer hover:bg-white/5 overflow-hidden relative group transition-all`,onClick:()=>{var X;return(X=ai.current)==null?void 0:X.click()},children:[" ",Qe?u.jsx("img",{src:Qe,className:"w-full h-full object-cover"}):u.jsxs("div",{className:"text-center",children:[u.jsx(v1,{size:24,className:"mx-auto mb-1 opacity-50"}),u.jsx("span",{className:"text-[8px] opacity-50 uppercase tracking-widest font-black",children:"Logo"})]})," "]}),u.jsx("input",{type:"file","min-width":"0",ref:ai,className:"hidden",accept:"image/*",onChange:Tl}),u.jsxs("div",{className:"text-center sm:text-left",children:[" ",u.jsx("h4",{className:`text-base md:text-lg font-black ${b.textPrimary}`,children:"Identity"})," ",u.jsx("p",{className:`text-[10px] ${b.textSecondary} mb-2`,children:"512x512 recommended"})," ",u.jsx("button",{onClick:()=>{var X;return(X=ai.current)==null?void 0:X.click()},className:"px-4 py-2 bg-indigo-500 text-white rounded-xl text-[10px] font-black uppercase transition-all shadow-lg",children:"Change"})," "]})]}),u.jsxs("div",{className:`p-5 md:p-6 rounded-2xl bg-gray-500/10 border ${b.border}`,children:[u.jsx("h4",{className:`text-[10px] font-black ${b.textPrimary} mb-4 uppercase tracking-[0.2em] opacity-40`,children:"Management"}),u.jsxs("div",{className:"flex gap-2 mb-4",children:[u.jsx("input",{type:"text",value:_t,onChange:X=>gt(X.target.value),placeholder:"Add Class...",className:`flex-1 px-4 py-2 rounded-xl bg-white/5 border ${b.border} ${b.textPrimary} text-xs outline-none focus:ring-2 focus:ring-indigo-500/50`}),u.jsx("button",{onClick:Al,disabled:!_t.trim(),className:`px-4 py-2 rounded-xl ${b.accent} text-white font-black text-xs uppercase tracking-widest disabled:opacity-50`,children:"Add"})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:Ae.map(X=>u.jsxs("div",{className:`px-3 py-1 rounded-lg border ${b.border} ${b.surface} flex items-center gap-2`,children:[" ",u.jsx("span",{className:`text-[10px] font-black ${b.textPrimary}`,children:X})," ",u.jsx("button",{onClick:()=>Qn(X),className:"text-red-400 hover:text-red-500",children:u.jsx(Wn,{size:10})})," "]},X))})]})]})]}),u.jsxs("div",{className:`p-4 md:p-6 rounded-2xl md:rounded-2xl ${b.surface} border ${b.border} mb-6`,children:[u.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[u.jsxs("div",{className:"flex items-center justify-between h4 font-black",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[" ",u.jsx(of,{className:"text-emerald-500",size:18})," ",u.jsx("h3",{className:`font-black text-sm md:text-base ${b.textPrimary}`,children:"Performance"})," "]}),u.jsx(Sf,{value:Ct,options:Ae,onChange:ya,theme:b,label:"Registry Class"})]}),u.jsxs("div",{className:"flex items-center justify-between bg-gray-500/10 p-2 rounded-xl border border-gray-500/10",children:[u.jsx("button",{onClick:()=>ii(new Date(rn.getFullYear(),rn.getMonth()-1,1)),className:`p-2 rounded-lg hover:bg-gray-500/20 ${b.textPrimary}`,children:u.jsx(Cs,{size:14})}),u.jsxs("span",{className:`text-[10px] md:text-xs font-black uppercase tracking-widest ${b.textPrimary}`,children:[" ",rn.toLocaleDateString("en-US",{month:"short",year:"numeric"})," "]}),u.jsx("button",{onClick:()=>ii(new Date(rn.getFullYear(),rn.getMonth()+1,1)),disabled:new Date(rn.getFullYear(),rn.getMonth()+1,1)>new Date,className:`p-2 rounded-lg hover:bg-gray-500/20 ${b.textPrimary} disabled:opacity-20`,children:u.jsx(cl,{size:14})})]})]}),u.jsx("div",{className:"flex flex-col lg:flex-row items-center justify-center gap-8 md:gap-12 py-4",children:I===0?u.jsxs("div",{className:"h-40 flex flex-col items-center justify-center opacity-30 text-xs italic",children:[u.jsx(of,{size:32,className:"mb-2"})," No Data"]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"relative w-48 h-48 md:w-64 md:h-64 rounded-full flex items-center justify-center shadow-sm",style:{background:te},children:u.jsxs("div",{className:`w-36 h-36 md:w-48 md:h-48 rounded-full ${b.surface} flex flex-col items-center justify-center shadow-inner`,children:[u.jsxs("span",{className:`text-4xl md:text-5xl font-black ${b.textPrimary}`,children:[Math.round(Y),"%"]}),u.jsx("span",{className:`text-[10px] md:text-xs font-black uppercase opacity-40 ${b.textSecondary}`,children:"Presence"})]})}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-3 w-full max-w-md overflow-x-auto pb-2",children:[{label:"Present",count:C,color:"bg-emerald-500",bg:"bg-emerald-500/5"},{label:"Leave",count:R,color:"bg-orange-500",bg:"bg-orange-500/5"},{label:"Absent",count:q,color:"bg-red-500",bg:"bg-red-500/5"}].map(X=>u.jsxs("div",{className:`flex items-center justify-between p-4 rounded-2xl ${X.bg} border border-gray-500/10 min-w-[200px] hover:scale-[1.02] transition-transform`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-3 h-3 rounded-full ${X.color} shadow-[0_0_10px_rgba(0,0,0,0.2)]`}),u.jsx("span",{className:`text-sm font-black ${b.textPrimary}`,children:X.label})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`text-sm font-black ${b.textSecondary}`,children:X.count}),u.jsx("span",{className:"text-[10px] opacity-30 font-bold",children:"PTS"})]})]},X.label))})]})})]}),u.jsxs("div",{className:`p-5 md:p-8 rounded-2xl md:rounded-2xl ${b.surface} border ${b.border} mb-8`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-4 border-b border-gray-500/10 pb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[" ",u.jsx(Zi,{className:"text-blue-500",size:18})," ",u.jsx("h3",{className:`font-black text-sm md:text-base ${b.textPrimary}`,children:"Students"})," "]}),u.jsx("button",{onClick:()=>Yn(!0),className:`px-4 py-2 rounded-xl text-[10px] font-black ${b.accent} text-white uppercase tracking-widest shadow-lg active:scale-95 transition-all`,children:"Add New"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 max-h-80 overflow-y-auto pr-1 scrollbar-hide",children:we.length===0?u.jsx("div",{className:"col-span-full py-10 opacity-30 text-center text-xs italic",children:"No students detected"}):we.map((X,qe)=>u.jsxs("div",{onClick:()=>{Xt(X),Os("admin-dashboard"),k("student-profile")},className:`flex items-center justify-between p-3 rounded-xl border ${b.border} bg-gray-500/10 hover:bg-white/5 transition-all cursor-pointer`,children:[" ",u.jsxs("div",{className:"flex items-center gap-3",children:[" ",u.jsx("div",{className:"w-6 h-6 rounded-lg bg-white/5 flex items-center justify-center text-[10px] font-black opacity-30",children:qe+1})," ",u.jsx("span",{className:`font-black text-xs md:text-sm ${b.textPrimary} truncate max-w-[120px]`,children:X.name})," "]})," ",u.jsx("button",{onClick:se=>ro(se,X.id),className:"p-1.5 text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",children:u.jsx(Ki,{size:14})})," "]},X.id))})]})]})})},os=()=>{if(!nt)return null;const C=nt,q=It[C.id]||0,R=fe.filter(se=>se.classId===C.classId),I=R.filter(se=>se.records&&(se.records[C.id]==="present"||se.records[C.id]===!0)).length,Y=R.filter(se=>se.records&&(se.records[C.id]==="absent"||se.records[C.id]===!1)).length,te=R.filter(se=>se.records&&se.records[C.id]==="leave").length,X=I+Y+te,qe=X>0?`conic-gradient(#10b981 0% ${I/X*100}%, #f97316 ${(I+te)/X*100}% ${(I+te)/X*100}%, #ef4444 ${(I+te)/X*100}% 100%)`:"conic-gradient(#334155 0% 100%)";return u.jsx("div",{className:"flex flex-col h-full  px-4 md:px-6 pt-6 md:pt-12 pb-32 overflow-y-auto w-full",children:u.jsxs("div",{className:"max-w-2xl mx-auto w-full",children:[u.jsx("button",{onClick:()=>k(ss),className:`p-2 -ml-2 mb-2 rounded-full hover:bg-gray-500/10 ${b.textPrimary}`,children:u.jsx(Cs,{size:24})}),u.jsxs("div",{className:`p-6 md:p-10 rounded-md md:rounded-3xl ${b.surface} border ${b.border} shadow-sm mb-6 flex flex-col items-center text-center gap-4`,children:[u.jsxs("div",{className:"relative",children:[" ",u.jsx(Ic,{avatar:C.avatarSeed,name:C.name,size:"xl"})," ",u.jsx("div",{className:"absolute -bottom-1 -right-1 w-10 h-10 rounded-full bg-indigo-500 border-4 border-slate-900 flex items-center justify-center text-white",children:u.jsx(br,{size:16})})," "]}),u.jsxs("div",{children:[u.jsx("h2",{className:`text-2xl md:text-3xl font-black ${b.textPrimary} tracking-tight mb-1`,children:C.name}),u.jsxs("p",{className:`${b.textSecondary} font-black uppercase tracking-[0.2em] text-[9px] opacity-40 mb-4`,children:["Class ",C.classId,"  ID: ",C.id.slice(-6).toUpperCase()]}),u.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-gray-500/10 border border-gray-500/10",children:[" ",u.jsx(ky,{size:12,className:"text-indigo-400"})," ",u.jsx("span",{className:`text-xs font-black ${b.textPrimary}`,children:C.phone||"No Link"})," "]}),u.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-xl ${q>75?"bg-green-500/10 text-green-500":"bg-orange-500/10 text-orange-500"}`,children:[" ",u.jsx(g1,{size:12})," ",u.jsxs("span",{className:"text-xs font-black",children:[q,"% Presence"]})," "]})]})]})]}),u.jsxs("div",{className:`p-6 md:p-10 rounded-md md:rounded-3xl ${b.surface} border ${b.border} shadow-sm mb-6`,children:[u.jsxs("h3",{className:`text-lg font-black ${b.textPrimary} mb-6 flex items-center gap-2`,children:[" ",u.jsx(of,{className:"text-indigo-400",size:20})," Distribution "]}),u.jsxs("div",{className:"flex flex-col items-center justify-center gap-8",children:[u.jsxs("div",{className:"relative w-44 h-44 rounded-full flex items-center justify-center shadow-sm",style:{background:qe},children:[" ",u.jsxs("div",{className:`w-32 h-32 rounded-full ${b.surface} flex flex-col items-center justify-center shadow-inner`,children:[" ",u.jsxs("span",{className:`text-3xl font-black ${b.textPrimary}`,children:[q,"%"]})," ",u.jsx("span",{className:`text-[8px] font-black uppercase opacity-40 ${b.textSecondary}`,children:"Activity"})," "]})," "]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 w-full",children:[" ",[{label:"Present",count:I,color:"bg-emerald-500"},{label:"Leave",count:te,color:"bg-orange-500"},{label:"Absent",count:Y,color:"bg-red-500"}].map(se=>u.jsxs("div",{className:"flex flex-col items-center p-3 rounded-2xl bg-gray-500/10 border border-gray-500/10",children:[" ",u.jsx("span",{className:"text-[10px] font-black uppercase opacity-40 mb-1",children:se.label})," ",u.jsx("span",{className:`text-lg font-black ${b.textPrimary}`,children:se.count})," "]},se.label))," "]})]})]}),u.jsxs("div",{className:`p-6 md:p-10 rounded-md md:rounded-3xl ${b.surface} border ${b.border} shadow-sm mb-6`,children:[u.jsxs("h3",{className:`text-lg font-black ${b.textPrimary} mb-6 flex items-center gap-2`,children:[u.jsx(uf,{className:"text-yellow-400",size:20})," Achievements & Badges"]}),u.jsx("div",{className:"flex flex-wrap gap-3 mb-8",children:C.badges&&C.badges.length>0?C.badges.map(se=>{const rt=ma.find(At=>At.id===se);return rt?u.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-white text-[10px] font-black uppercase tracking-widest shadow-md relative pr-8",style:{backgroundColor:rt.color},children:[u.jsx("span",{children:rt.name}),u.jsx("button",{onClick:()=>Ls(C.id,se),className:"absolute right-1 top-1/2 -translate-y-1/2 bg-black/20 hover:bg-black/40 rounded-full p-1 transition-colors",title:"Remove Badge",children:u.jsx(Wn,{size:10,strokeWidth:3})})]},se):null}):u.jsx("p",{className:`text-xs ${b.textSecondary} opacity-60 italic`,children:"No badges awarded yet."})}),u.jsxs("div",{className:"border-t border-gray-500/10 pt-6",children:[u.jsx("p",{className:`text-[10px] font-black uppercase tracking-widest ${b.textSecondary} mb-4 opacity-50`,children:"Award New Badge"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:ma.map(se=>{var At;const rt=(At=C.badges)==null?void 0:At.includes(se.id);return u.jsx("button",{disabled:rt,onClick:()=>Sl(C.id,se.id),className:`p-3 rounded-2xl border transition-all flex flex-col items-center gap-2 min-w-[100px] ${rt?"opacity-30 grayscale cursor-not-allowed":"hover:scale-105 active:scale-95"}`,style:{borderColor:se.color+"40",backgroundColor:se.color+"10"},children:u.jsx("span",{className:"text-sm",style:{color:se.color},children:se.name})},se.id)})})]})]}),u.jsxs("button",{onClick:()=>ja(C),className:`w-full p-4 rounded-lg ${b.surface} border ${b.border} flex items-center justify-center gap-3 hover:bg-white/5 transition-all shadow-lg active:scale-95`,children:[" ",u.jsx(j0,{size:18,className:"text-indigo-500"})," ",u.jsx("span",{className:`text-xs font-black uppercase tracking-widest ${b.textPrimary}`,children:"Update Archive"})," "]})]})})},xi=()=>tu<768?u.jsx("div",{className:"flex flex-col min-h-full bg-transparent overflow-y-auto scrollbar-hide pb-40 w-full",children:u.jsxs("div",{className:"px-4 py-8 w-full",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsxs("div",{children:[u.jsx("h1",{className:`text-3xl font-semibold ${b.textPrimary}`,children:"My Classes"}),u.jsx("p",{className:`text-xs ${b.textSecondary} mt-1`,children:"Guardian Portal"})]}),u.jsx("div",{className:"w-10 h-10 rounded-md bg-slate-800 flex items-center justify-center text-white border border-slate-700 overflow-hidden",children:Qe?u.jsx("img",{src:Qe,className:"w-full h-full object-cover"}):u.jsx(br,{size:20})})]}),u.jsx("div",{className:"grid grid-cols-2 gap-4",children:Ae.length===0?[1,2,3,4].map(q=>u.jsx("div",{className:`aspect-[4/5] rounded-2xl ${b.surface} border ${b.border} animate-pulse`},q)):Ae.map((q,R)=>{const I=[v0,br,Zi,cf,uf,jr],Y=I[R%I.length];return u.jsxs("button",{onClick:()=>Us(q),className:`flex flex-col items-start p-5 rounded-2xl ${b.surface} border ${b.border} hover:shadow-md transition-all text-left aspect-[4/5]`,children:[u.jsx("div",{className:`p-3 rounded-md ${b.accent} text-white mb-4`,children:u.jsx(Y,{size:20})}),u.jsxs("h3",{className:`text-lg font-semibold ${b.textPrimary} leading-tight`,children:["Class ",q]})]},q)})})]})}):u.jsx("div",{className:"flex flex-col h-full pt-8 px-6 md:px-10 pb-32 overflow-y-auto w-full scrollbar-hide",children:u.jsxs("div",{className:"max-w-7xl mx-auto w-full",children:[u.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h1",{className:`text-3xl md:text-4xl font-semibold ${b.textPrimary} mb-1`,children:"IJ Education"}),u.jsxs("p",{className:`${b.textSecondary} text-sm`,children:["Institution Portal  ",N==null?void 0:N.name]})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs("div",{onClick:()=>$(!Be),className:`flex items-center gap-2 text-xs px-3 py-1.5 rounded-md border ${b.border} cursor-pointer transition-colors ${Be?"text-green-600 border-green-200 bg-green-50":"text-orange-600 border-orange-200 bg-orange-50"}`,children:[u.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${Be?"bg-green-500":"bg-orange-500"}`}),Be?"Online":"Offline"]})})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:Ae.length===0?[1,2,3].map(q=>u.jsx("div",{className:`h-40 rounded-2xl ${b.surface} border ${b.border} animate-pulse`},q)):Ae.map((q,R)=>{const I=[v0,br,Zi,cf,uf,jr],Y=I[R%I.length];return u.jsxs("button",{onClick:()=>Us(q),className:`flex flex-col p-6 rounded-2xl ${b.surface} border ${b.border} hover:shadow-md transition-all text-left h-40 group`,children:[u.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[u.jsx("div",{className:`p-3 rounded-md ${b.accent} text-white`,children:u.jsx(Y,{size:24})}),u.jsx("div",{children:u.jsxs("h2",{className:`text-2xl font-semibold ${b.textPrimary}`,children:["Class ",q]})})]}),u.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[u.jsx("span",{className:`text-xs ${b.textSecondary}`,children:"View Details"}),u.jsx(cl,{size:18,className:`${b.textSecondary} group-hover:translate-x-1 transition-transform`})]})]},q)})})]})}),Dl=()=>{const C=w&&G?{total:G.length,present:G.filter(R=>w[R.id]==="present"||w[R.id]===!0).length}:{total:0,present:0},q=C.total>0?C.present/C.total*100:0;return u.jsxs("div",{className:"flex flex-col h-full relative w-full",children:[u.jsxs("div",{className:`px-4 md:px-6 pt-6 pb-4 flex items-center justify-between border-b ${b.border}`,children:[u.jsx("button",{onClick:()=>k("home"),className:`p-2 -ml-2 rounded-md hover:bg-gray-500/10 transition-colors ${b.textPrimary}`,children:u.jsx(Cs,{size:20})}),u.jsx("div",{className:"flex flex-col items-center",children:u.jsx(Sf,{value:ae||"",options:Ae,onChange:Us,theme:b,label:"Current Workspace"})}),u.jsxs("div",{className:"w-10 flex justify-end",children:[" ",!Be&&u.jsx(T0,{size:18,className:"text-orange-500"})," "]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto pb-32 px-4 md:px-6 scrollbar-hide w-full",children:u.jsxs("div",{className:"max-w-7xl mx-auto w-full py-6",children:[u.jsxs("div",{className:"mb-8 text-center",children:[u.jsx("h3",{className:`text-3xl md:text-4xl font-semibold ${b.textPrimary} mb-1`,children:ne.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),u.jsx("p",{className:`text-sm ${b.textSecondary}`,children:new Date().toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})})]}),u.jsx("div",{className:"flex gap-4 mb-6",children:u.jsxs("button",{onClick:()=>k("todo"),className:`flex-1 py-6 flex flex-col items-center justify-center gap-3 rounded-2xl ${b.accent} text-white shadow-xl shadow-indigo-500/20 hover:scale-[1.02] active:scale-95 transition-all group`,children:[u.jsx("div",{className:"p-3 rounded-2xl bg-white/20 group-hover:bg-white/30 transition-colors",children:u.jsx(Vf,{size:32})}),u.jsx("span",{className:"text-sm font-black uppercase tracking-[0.2em]",children:"Strategy & Tasks"})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:[u.jsx("div",{className:`md:col-span-5 flex flex-col items-center justify-center p-6 rounded-2xl ${b.surface} border ${b.border}`,children:u.jsx(nE,{percentage:q,size:window.innerWidth<768?140:180,colorStart:"#2563eb",colorEnd:"#3b82f6"})}),u.jsxs("div",{className:"md:col-span-7 flex flex-col gap-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:`p-5 rounded-2xl ${b.surface} border ${b.border} text-center`,children:[u.jsx("span",{className:"block text-3xl font-semibold text-green-600 mb-1",children:C.present}),u.jsx("span",{className:`text-xs ${b.textSecondary}`,children:"Present"})]}),u.jsxs("div",{className:`p-5 rounded-2xl ${b.surface} border ${b.border} text-center`,children:[u.jsx("span",{className:"block text-3xl font-semibold text-red-600 mb-1",children:C.total-C.present}),u.jsx("span",{className:`text-xs ${b.textSecondary}`,children:"Absent"})]})]}),u.jsxs(Vt,{fullWidth:!0,onClick:()=>k("attendance"),themeAccent:b.accent,className:"py-3",children:["Register Attendance ",u.jsx(N_,{size:18,className:"ml-2"})]}),u.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{id:"timetable",icon:_0,label:"Timeline"},{id:"calculator",icon:E_,label:"Analytics"}].map(R=>u.jsxs("button",{onClick:()=>k(R.id),className:`p-4 rounded-md border ${b.border} ${b.surface} flex flex-col items-center justify-center gap-2 hover:shadow-md transition-all`,children:[u.jsx("div",{className:`p-2 rounded-md ${b.accent} text-white`,children:u.jsx(R.icon,{size:20})}),u.jsx("span",{className:`text-xs font-medium ${b.textPrimary}`,children:R.label})]},R.id))})]})]})]})})]})},lu=()=>{const q=new Date().getDate()>10;return u.jsxs("div",{className:"flex flex-col h-full bg-opacity-50 w-full",children:[u.jsxs("div",{className:`px-4 md:px-6 pt-4 pb-3 flex items-center justify-between z-20 ${b.surface} border-b ${b.border} sticky top-0`,children:[u.jsx("button",{onClick:()=>k("dashboard"),className:`p-2 -ml-2 rounded-md hover:bg-gray-500/10 transition-colors ${b.textPrimary}`,children:u.jsx(Cs,{size:20})}),u.jsx("div",{className:"flex flex-col items-center",children:u.jsxs("div",{className:"flex items-center gap-2",children:[!Be&&u.jsx(T0,{size:14,className:"text-orange-500"}),u.jsx("h2",{className:`text-base md:text-lg font-semibold ${b.textPrimary}`,children:"Attendance Registry"})]})}),u.jsx("button",{onClick:Hs,className:`px-4 py-2 rounded-md ${b.accent} text-white text-sm font-medium transition-colors`,children:Be?"Sync":"Save"})]}),u.jsx("div",{className:`px-4 py-3 ${b.bg}`,children:u.jsxs("div",{className:"relative",children:[u.jsx(Oy,{className:`absolute left-3 top-1/2 -translate-y-1/2 ${b.textSecondary} opacity-50`,size:16}),u.jsx("input",{value:Ie,onChange:R=>Jt(R.target.value),placeholder:"Search student by name or ID...",className:`w-full p-3 pl-10 rounded-2xl ${b.surface} border ${b.border} ${b.textPrimary} text-sm outline-none focus:ring-2 focus:ring-[#2563eb] focus:border-transparent transition-all placeholder:opacity-40`})]})}),u.jsxs("div",{className:`px-4 py-2 flex gap-3 ${b.bg}`,children:[u.jsxs("button",{onClick:()=>mi(!0),className:"flex-1 py-3 rounded-xl bg-green-500/10 text-green-600 dark:text-green-400 text-xs font-bold flex items-center justify-center gap-2 border border-green-500/20 hover:bg-green-500/20 transition-all active:scale-95",children:[u.jsx(bc,{size:16})," Mark All Present"]}),u.jsxs("button",{onClick:()=>mi(!1),className:"flex-1 py-3 rounded-xl bg-red-500/10 text-red-600 dark:text-red-400 text-xs font-bold flex items-center justify-center gap-2 border border-red-500/20 hover:bg-red-500/20 transition-all active:scale-95",children:[u.jsx($_,{size:16})," Mark All Absent"]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto px-4 pb-32 pt-3 scrollbar-hide",children:u.jsx("div",{className:"max-w-7xl mx-auto w-full",children:i?G.length===0?u.jsxs("div",{className:"text-center py-20 opacity-50 flex flex-col items-center",children:[u.jsx(Zi,{size:40,className:"mb-4"}),u.jsx("p",{className:`text-sm ${b.textSecondary}`,children:"No students found"})]}):u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:G.filter(R=>Ie===""||R.name.toLowerCase().includes(Ie.toLowerCase())||R.id.toLowerCase().includes(Ie.toLowerCase())).map((R,I)=>{var rt;const Y=w[R.id],te=Y==="present"||Y===!0,X=Y==="leave",qe=It[R.id]||0,se=q&&!((rt=zs[R.id])!=null&&rt.isPaid);return u.jsxs("div",{className:`flex flex-col p-5 rounded-2xl border transition-all hover:shadow-lg hover:scale-[1.02] ${te?`${b.surface} border-green-500/30`:X?"bg-orange-500/5 border-orange-500/20":"bg-red-500/5 border-red-500/20"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center gap-3 cursor-pointer flex-1",onClick:()=>{Xt(R),Os("attendance"),k("student-profile")},children:[u.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center border-2 font-black text-xs ${te?"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/20":X?"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-500/20":"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20"}`,children:I+1}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:`font-semibold text-sm ${b.textPrimary} truncate`,children:R.name}),u.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[u.jsxs("span",{className:`text-xs ${qe>75?"text-green-600":"text-orange-600"}`,children:[qe,"% attendance"]}),se&&u.jsx("span",{className:"bg-red-500 text-white px-1.5 py-0.5 rounded text-[10px] font-medium",children:"DEBT"})]})]})]}),u.jsx("button",{onClick:()=>Ca(R.id),className:`w-9 h-9 rounded-md flex items-center justify-center transition-colors ${te?"bg-green-500 text-white hover:bg-green-600":X?"bg-orange-500 text-white hover:bg-orange-600":"bg-red-500 text-white hover:bg-red-600"}`,children:te?u.jsx(Dy,{size:16,strokeWidth:3}):X?u.jsx(_1,{size:16,strokeWidth:2.5}):u.jsx(Wn,{size:16,strokeWidth:3})})]}),u.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-current/10",children:[u.jsxs("span",{className:`text-xs ${b.textSecondary}`,children:["ID: ",R.id.slice(-6).toUpperCase()]}),u.jsx("span",{className:`text-xs font-medium ${te?"text-green-600":X?"text-orange-600":"text-red-600"}`,children:te?"Present":X?"Leave":"Absent"})]})]},R.id)})}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[1,2,3].map(R=>u.jsx("div",{className:`h-24 rounded-2xl ${b.surface} border ${b.border} animate-pulse`},R))})})})]})},Ta=()=>fe?u.jsx("div",{className:"flex flex-col h-full  px-6 pt-12 pb-32 w-full",children:u.jsxs("div",{className:"max-w-7xl mx-auto w-full",children:[u.jsx("h2",{className:`text-3xl font-bold ${b.textPrimary} mb-6`,children:"Attendance History"}),u.jsx("div",{className:"pb-20",children:fe.length===0?u.jsxs("div",{className:`text-center py-20 opacity-50 ${b.textSecondary}`,children:[u.jsx(Gf,{size:64,className:"mx-auto mb-4 opacity-20"}),u.jsx("p",{className:"text-xl font-medium",children:"No records found yet"}),u.jsx("p",{className:"text-sm mt-1",children:"Attendance data will appear here once saved."})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:fe.map(C=>{if(!C||!C.date)return null;const q=new Date(C.date),R=C.records||{},I=Object.values(R).filter(Y=>Y===!0||Y==="present").length;return Object.keys(R).length,u.jsxs("div",{onClick:()=>oo(C),className:`p-6 rounded-3xl ${b.surface} border ${b.border} flex justify-between items-center cursor-pointer hover:border-indigo-500/50 shadow-sm transition-all group`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"p-3 rounded-2xl bg-gray-500/10 group-hover:bg-indigo-500/10 transition-colors",children:u.jsx(Ay,{size:20,className:b.textPrimary})}),u.jsxs("div",{children:[u.jsx("h3",{className:`font-black text-sm ${b.textPrimary}`,children:q.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})}),u.jsxs("p",{className:`text-[10px] font-bold uppercase tracking-widest opacity-30 ${b.textSecondary}`,children:["Class ",C.classId]})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:`text-lg font-black ${b.textPrimary}`,children:I}),u.jsx("p",{className:"text-[8px] opacity-30 uppercase font-black tracking-widest",children:"Present"})]}),(N==null?void 0:N.role)==="admin"&&u.jsx("button",{onClick:Y=>wa(Y,C),className:"p-2 rounded-xl bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white transition-all shadow-sm",children:u.jsx(Ki,{size:16})})]})]},C.id||`${C.date}_${C.classId}`)})})})]})}):null,Aa=()=>P?u.jsxs("div",{className:"flex flex-col h-full bg-opacity-50",children:[u.jsxs("div",{className:`px-4 md:px-6 pt-12 pb-4 flex items-center justify-between z-20 ${b.surface} border-b ${b.border}`,children:[u.jsx("button",{onClick:()=>k(Fe),className:`p-2 -ml-2 rounded-full hover:bg-gray-500/10 ${b.textPrimary}`,children:u.jsx(Cs,{})}),u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("h2",{className:`text-lg font-bold ${b.textPrimary}`,children:new Date(P.date).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})}),u.jsxs("p",{className:`text-[10px] font-black uppercase tracking-widest ${b.textSecondary}`,children:["Class ",P.classId]})]}),u.jsx("div",{className:"w-10"})]}),u.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 py-4 pb-32",children:u.jsx("div",{className:"max-w-3xl mx-auto space-y-4",children:ie.map((C,q)=>{const R=P.records?P.records[C.id]:!1,I=R==="present"||R===!0,Y=R==="leave";return u.jsx("div",{className:`flex flex-col p-4 md:p-5 rounded-3xl border ${b.surface} ${b.border} hover:shadow-lg transition-all gap-3 relative w-full overflow-hidden`,children:u.jsxs("div",{className:"flex items-center justify-between w-full overflow-x-auto scrollbar-hide",children:[u.jsxs("div",{className:"flex items-center gap-4 min-w-[150px]",children:[u.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border ${b.border} text-[10px] font-bold opacity-30 flex-shrink-0`,children:q+1}),u.jsx("span",{className:`font-bold ${b.textPrimary} text-sm md:text-md truncate`,children:C.name})]}),u.jsx("div",{className:"flex items-center gap-1.5 md:gap-2",children:u.jsx("span",{className:`px-3 md:px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest ${I?"bg-emerald-500/10 text-emerald-500":Y?"bg-orange-500/10 text-orange-500":"bg-red-500/10 text-red-500"}`,children:I?"Present":Y?"Leave":"Absent"})})]})},C.id)})})})]}):null,Ml=()=>{const C=()=>{const I=Math.max(0,...V.map(Y=>Y.id))+1;K([...V,{id:I,name:"New Period",start:"00:00",end:"00:00"}])},q=I=>{K(V.filter(Y=>Y.id!==I))},R=(I,Y,te)=>{K(V.map(X=>X.id===I?{...X,[Y]:te}:X))};return u.jsx("div",{className:`flex flex-col h-full ${b.bg} overflow-hidden px-4 md:px-10 pt-12 pb-32`,children:u.jsxs("div",{className:"max-w-4xl mx-auto w-full",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsxs("div",{children:[u.jsx("h2",{className:`text-4xl font-black ${b.textPrimary}`,children:"Timeline"}),u.jsx("p",{className:`text-sm ${b.textSecondary} mt-2 opacity-50`,children:"Schedule & Daily Roadmap"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>ge(!he),className:`p-4 rounded-2xl ${he?b.accent:"bg-gray-500/10"} ${he?"text-white":b.textPrimary} transition-all active:scale-95`,children:u.jsx(j0,{size:20})}),u.jsx("button",{onClick:()=>k("dashboard"),className:`p-4 rounded-2xl bg-gray-500/10 ${b.textPrimary} transition-all`,children:u.jsx(Wn,{size:20})})]})]}),u.jsxs("div",{className:"space-y-4",children:[V.map(I=>{const Y=ne.getHours()*60+ne.getMinutes(),[te,X]=I.start.split(":").map(Number),[qe,se]=I.end.split(":").map(Number),rt=te*60+X,At=qe*60+se,qt=Y>=rt&&Y<At;return u.jsxs("div",{className:`group relative p-5 md:p-6 rounded-md border transition-all duration-300 ${qt?`${b.accent} text-white shadow-sm scale-[1.02] border-transparent`:`${b.surface} ${b.border} hover:border-white/20 shadow-sm`}`,children:[he&&u.jsx("button",{onClick:()=>q(I.id),className:"absolute -right-2 -top-2 w-8 h-8 rounded-full bg-red-500 text-white flex items-center justify-center shadow-lg hover:scale-110 active:scale-95 transition-all z-10",children:u.jsx(Ki,{size:14})}),u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex-1",children:[he?u.jsx("input",{value:I.name,onChange:zn=>R(I.id,"name",zn.target.value),className:`w-full bg-gray-500/10 border ${b.border} rounded-xl px-3 py-2 text-sm font-black ${b.textPrimary} outline-none focus:ring-2 ring-indigo-500/50 mb-2`}):u.jsx("h3",{className:"font-black text-lg tracking-tight",children:I.name}),u.jsxs("div",{className:"flex items-center gap-3 opacity-60",children:[u.jsx(_0,{size:12}),u.jsx("div",{className:"flex items-center gap-2",children:he?u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"time",value:I.start,onChange:zn=>R(I.id,"start",zn.target.value),className:"bg-transparent border-none p-0 text-[10px] font-bold uppercase tracking-widest outline-none"}),u.jsx("span",{children:"-"}),u.jsx("input",{type:"time",value:I.end,onChange:zn=>R(I.id,"end",zn.target.value),className:"bg-transparent border-none p-0 text-[10px] font-bold uppercase tracking-widest outline-none"})]}):u.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest",children:[I.start," - ",I.end]})})]})]}),he&&u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-[9px] font-black uppercase opacity-60",children:"Is Break?"}),u.jsx("input",{type:"checkbox",checked:!!I.isBreak,onChange:zn=>R(I.id,"isBreak",zn.target.checked),className:"w-5 h-5 accent-orange-500"})]})]})]},I.id)}),he&&u.jsxs("button",{onClick:C,className:`w-full p-6 dashed-border rounded-md border-2 border-dashed ${b.border} flex items-center justify-center gap-3 hover:bg-white/5 transition-all text-xs font-black uppercase tracking-widest opacity-60 hover:opacity-100 ${b.textPrimary}`,children:[u.jsx(yc,{size:20})," Add Time Slot"]})]})]})})},vi=()=>u.jsx("div",{className:"flex flex-col h-full  px-6 pt-12 pb-32 w-full items-center justify-center relative",children:u.jsxs("div",{className:"max-w-md w-full",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[u.jsx("button",{onClick:()=>k("dashboard"),className:`p-3 rounded-2xl hover:bg-gray-500/10 ${b.textPrimary} transition-all`,children:u.jsx(Cs,{size:24})}),u.jsx("h2",{className:`text-4xl font-black ${b.textPrimary}`,children:"Calculator"})]}),u.jsxs("div",{className:`w-full p-8 rounded-3xl ${b.surface} border ${b.border} shadow-sm`,children:[u.jsxs("div",{className:`mb-8 p-10 rounded-md bg-black/10 border ${b.border} text-right overflow-hidden shadow-inner`,children:[u.jsx("div",{className:`text-xs ${b.textSecondary} font-mono mb-2 h-4 opacity-50`,children:fi}),u.jsx("div",{className:`text-5xl font-mono font-bold ${b.textPrimary} tracking-tighter truncate`,children:lo})]}),u.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[u.jsx("button",{onClick:()=>{on("0"),xn("")},className:"p-6 rounded-2xl bg-red-500/10 text-red-500 font-black text-xl hover:bg-red-500 hover:text-white transition-all",children:"AC"}),u.jsx("button",{onClick:()=>{on(C=>C.length>1?C.slice(0,-1):"0"),xn(C=>C.length>1?C.slice(0,-1):"")},className:`p-6 rounded-2xl ${b.bg} ${b.textPrimary} font-black text-xl hover:bg-gray-500/20 transition-all`,children:u.jsx(Cs,{size:24,className:"mx-auto"})}),u.jsx("button",{onClick:()=>cn("/"),className:"p-6 rounded-2xl bg-indigo-500/10 text-indigo-500 font-black text-xl hover:bg-indigo-500 hover:text-white transition-all",children:""}),u.jsx("button",{onClick:()=>cn("*"),className:"p-6 rounded-2xl bg-indigo-500/10 text-indigo-500 font-black text-xl hover:bg-indigo-500 hover:text-white transition-all",children:""}),[7,8,9].map(C=>u.jsx("button",{onClick:()=>cn(String(C)),className:`p-6 rounded-2xl ${b.bg} ${b.textPrimary} font-black text-2xl hover:bg-gray-500/20 transition-all`,children:C},C)),u.jsx("button",{onClick:()=>cn("-"),className:"p-6 rounded-2xl bg-indigo-500/10 text-indigo-500 font-black text-xl hover:bg-indigo-500 hover:text-white transition-all",children:""}),[4,5,6].map(C=>u.jsx("button",{onClick:()=>cn(String(C)),className:`p-6 rounded-2xl ${b.bg} ${b.textPrimary} font-black text-2xl hover:bg-gray-500/20 transition-all`,children:C},C)),u.jsx("button",{onClick:()=>cn("+"),className:"p-6 rounded-2xl bg-indigo-500/10 text-indigo-500 font-black text-xl hover:bg-indigo-500 hover:text-white transition-all",children:"+"}),[1,2,3].map(C=>u.jsx("button",{onClick:()=>cn(String(C)),className:`p-6 rounded-2xl ${b.bg} ${b.textPrimary} font-black text-2xl hover:bg-gray-500/20 transition-all`,children:C},C)),u.jsx("button",{onClick:()=>cn("="),className:`p-6 rounded-2xl ${b.accent} text-white font-black text-2xl shadow-sm shadow-indigo-500/20 active:scale-90 transition-all`,children:"="}),u.jsx("button",{onClick:()=>cn("0"),className:`col-span-2 p-6 rounded-2xl ${b.bg} ${b.textPrimary} font-black text-2xl hover:bg-gray-500/20 transition-all`,children:"0"}),u.jsx("button",{onClick:()=>cn("."),className:`p-6 rounded-2xl ${b.bg} ${b.textPrimary} font-black text-2xl hover:bg-gray-500/20 transition-all`,children:"."})]})]})]})});return u.jsxs("div",{className:`h-screen w-screen overflow-hidden ${b.bg} ${b.textPrimary} flex flex-col md:flex-row relative transition-colors duration-300`,children:[ft&&u.jsxs("div",{className:"fixed inset-0 z-[300] bg-black/60  flex items-center justify-center flex-col text-white",children:[u.jsx("div",{className:"w-12 h-12 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin mb-4"}),u.jsx("p",{className:"font-bold tracking-wider animate-pulse",children:"Loading Class Data..."})]}),Ms&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 p-6",children:u.jsxs("div",{className:`${b.surface} border ${b.border} w-full max-w-md p-6 rounded-md shadow-sm flex flex-col`,children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:`text-xl font-bold ${b.textPrimary}`,children:"Add Students"}),u.jsx("button",{onClick:()=>Yn(!1),className:`p-2 rounded-full hover:bg-white/5 ${b.textPrimary}`,children:u.jsx(Wn,{size:20})})]}),u.jsxs("p",{className:`text-xs ${b.textSecondary} mb-4`,children:["Enter names (one per line) for ",u.jsxs("strong",{children:["Class ",v==="admin-dashboard"?Ct:ae]}),"."]}),u.jsx("textarea",{value:ts,onChange:C=>Pt(C.target.value),className:`w-full h-32 p-4 rounded-xl bg-gray-500/10 border ${b.border} ${b.textPrimary} outline-none focus:ring-2 focus:ring-indigo-500/50 resize-none mb-4`,placeholder:`Ali, +92 335 1234567
Ahmed, 0300 1234567
Sara...`}),u.jsxs("div",{className:"flex gap-3 mt-auto",children:[u.jsx(Vt,{variant:"secondary",onClick:()=>Yn(!1),fullWidth:!0,className:b.textPrimary,children:"Cancel"}),u.jsx(Vt,{onClick:Is,fullWidth:!0,themeAccent:b.accent,children:"Add Students"})]})]})}),hi&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 p-6",children:u.jsxs("div",{className:`${b.surface} border ${b.border} w-full max-w-sm p-8 rounded-md shadow-sm flex flex-col gap-6`,children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h3",{className:`text-2xl font-black ${b.textPrimary}`,children:"Edit Student"}),u.jsx("button",{onClick:()=>Rt(null),className:`p-2 rounded-full hover:bg-white/5 ${b.textPrimary}`,children:u.jsx(Wn,{size:20})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("input",{type:"text",value:$s,onChange:C=>Sa(C.target.value),className:`w-full p-4 rounded-2xl bg-gray-500/10 border ${b.border} ${b.textPrimary} outline-none`}),u.jsx("input",{type:"text",value:wl,onChange:C=>rs(C.target.value),className:`w-full p-4 rounded-2xl bg-gray-500/10 border ${b.border} ${b.textPrimary} outline-none`,placeholder:"+92..."})]}),u.jsxs("div",{className:"flex gap-3 mt-4",children:[u.jsx(Vt,{variant:"secondary",onClick:()=>Rt(null),fullWidth:!0,className:b.textPrimary,children:"Cancel"}),u.jsx(Vt,{onClick:pi,fullWidth:!0,themeAccent:b.accent,children:"Save Changes"})]})]})}),ga&&u.jsx(uE,{message:ga.message,type:ga.type,onClose:()=>ks(null)}),u.jsx(cE,{isOpen:xl.isOpen,title:xl.title,message:xl.message,onConfirm:xl.onConfirm,onCancel:()=>pa(C=>({...C,isOpen:!1})),theme:b}),l?u.jsx(dE,{}):c?u.jsx(fE,{onFinish:Na,logo:Qe}):u.jsxs(u.Fragment,{children:[u.jsx(sE,{currentView:v,onChangeView:C=>{C==="history"?Rn():k(C==="admin-dashboard"?"admin-menu":C)},theme:b,user:N,onLogout:ao,width:An,onStartResize:Kr,isResizing:yn,logo:Qe,shouldHide:io}),u.jsxs("div",{className:"flex-1 h-full min-h-0 relative scrollbar-hide overflow-y-auto overflow-x-auto w-full flex flex-col",children:[v==="home"&&xi(),v==="dashboard"&&Dl(),v==="attendance"&&lu(),v==="history"&&Ta(),v==="history-detail"&&Aa(),v==="todo"&&u.jsx(oE,{theme:b,currentUser:N,onToast:De}),v==="settings"&&u.jsx(iE,{theme:b,themeId:y,onThemeChange:su,currentUser:N,onUpdateUser:_,onLogout:ao,onToast:De,enableAnimations:h,onToggleAnimations:p,badges:ma,onSaveBadges:C=>{Qt(C),Cy({badges:C})}}),v==="timetable"&&Ml(),v==="calculator"&&vi(),v==="admin-dashboard"&&(N==null?void 0:N.role)==="admin"&&Bt(),v==="admin-menu"&&(N==null?void 0:N.role)==="admin"&&gi(),v==="admin-fees"&&(N==null?void 0:N.role)==="admin"&&co(),v==="admin-users"&&(N==null?void 0:N.role)==="admin"&&yi(),v==="student-directory"&&u.jsx(lE,{theme:b,onBack:()=>k("admin-menu"),availableClasses:Ae,selectedClass:Je,onSelectClass:Gn,students:as,onViewProfile:C=>{Xt(C),Os("student-directory"),k("student-profile")},attendanceStats:It}),v==="student-profile"&&nt&&os(),Rs&&v==="home"&&u.jsx(hE,{theme:b,onClose:li})]},v)]})]})}const pv=document.getElementById("root");if(!pv)throw new Error("Could not find root element to mount to");const yE=g_.createRoot(pv);yE.render(u.jsx(Ir.StrictMode,{children:u.jsx(pE,{})}));
