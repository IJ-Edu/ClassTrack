(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function a(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(u){if(u.ep)return;u.ep=!0;const f=a(u);fetch(u.href,f)}})();function kx(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var nf={exports:{}},gr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg;function o1(){if(hg)return gr;hg=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(r,u,f){var h=null;if(f!==void 0&&(h=""+f),u.key!==void 0&&(h=""+u.key),"key"in u){f={};for(var p in u)p!=="key"&&(f[p]=u[p])}else f=u;return u=f.ref,{$$typeof:l,type:r,key:h,ref:u!==void 0?u:null,props:f}}return gr.Fragment=n,gr.jsx=a,gr.jsxs=a,gr}var mg;function c1(){return mg||(mg=1,nf.exports=o1()),nf.exports}var c=c1(),sf={exports:{}},pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg;function u1(){if(pg)return pe;pg=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),v=Symbol.iterator;function R(C){return C===null||typeof C!="object"?null:(C=v&&C[v]||C["@@iterator"],typeof C=="function"?C:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,ce={};function te(C,H,V){this.props=C,this.context=H,this.refs=ce,this.updater=V||P}te.prototype.isReactComponent={},te.prototype.setState=function(C,H){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,H,"setState")},te.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function le(){}le.prototype=te.prototype;function fe(C,H,V){this.props=C,this.context=H,this.refs=ce,this.updater=V||P}var de=fe.prototype=new le;de.constructor=fe,Z(de,te.prototype),de.isPureReactComponent=!0;var ct=Array.isArray;function Re(){}var ie={H:null,A:null,T:null,S:null},Ae=Object.prototype.hasOwnProperty;function ut(C,H,V){var K=V.ref;return{$$typeof:l,type:C,key:H,ref:K!==void 0?K:null,props:V}}function he(C,H){return ut(C.type,H,C.props)}function Ke(C){return typeof C=="object"&&C!==null&&C.$$typeof===l}function Ge(C){var H={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(V){return H[V]})}var Jt=/\/+/g;function St(C,H){return typeof C=="object"&&C!==null&&C.key!=null?Ge(""+C.key):H.toString(36)}function ne(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Re,Re):(C.status="pending",C.then(function(H){C.status==="pending"&&(C.status="fulfilled",C.value=H)},function(H){C.status==="pending"&&(C.status="rejected",C.reason=H)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function z(C,H,V,K,ue){var ye=typeof C;(ye==="undefined"||ye==="boolean")&&(C=null);var ge=!1;if(C===null)ge=!0;else switch(ye){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(C.$$typeof){case l:case n:ge=!0;break;case N:return ge=C._init,z(ge(C._payload),H,V,K,ue)}}if(ge)return ue=ue(C),ge=K===""?"."+St(C,0):K,ct(ue)?(V="",ge!=null&&(V=ge.replace(Jt,"$&/")+"/"),z(ue,H,V,"",function(ns){return ns})):ue!=null&&(Ke(ue)&&(ue=he(ue,V+(ue.key==null||C&&C.key===ue.key?"":(""+ue.key).replace(Jt,"$&/")+"/")+ge)),H.push(ue)),1;ge=0;var at=K===""?".":K+":";if(ct(C))for(var tt=0;tt<C.length;tt++)K=C[tt],ye=at+St(K,tt),ge+=z(K,H,V,ye,ue);else if(tt=R(C),typeof tt=="function")for(C=tt.call(C),tt=0;!(K=C.next()).done;)K=K.value,ye=at+St(K,tt++),ge+=z(K,H,V,ye,ue);else if(ye==="object"){if(typeof C.then=="function")return z(ne(C),H,V,K,ue);throw H=String(C),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return ge}function G(C,H,V){if(C==null)return C;var K=[],ue=0;return z(C,K,"","",function(ye){return H.call(V,ye,ue++)}),K}function F(C){if(C._status===-1){var H=C._result;H=H(),H.then(function(V){(C._status===0||C._status===-1)&&(C._status=1,C._result=V)},function(V){(C._status===0||C._status===-1)&&(C._status=2,C._result=V)}),C._status===-1&&(C._status=0,C._result=H)}if(C._status===1)return C._result.default;throw C._result}var De=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},Se={map:G,forEach:function(C,H,V){G(C,function(){H.apply(this,arguments)},V)},count:function(C){var H=0;return G(C,function(){H++}),H},toArray:function(C){return G(C,function(H){return H})||[]},only:function(C){if(!Ke(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return pe.Activity=b,pe.Children=Se,pe.Component=te,pe.Fragment=a,pe.Profiler=u,pe.PureComponent=fe,pe.StrictMode=r,pe.Suspense=x,pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,pe.__COMPILER_RUNTIME={__proto__:null,c:function(C){return ie.H.useMemoCache(C)}},pe.cache=function(C){return function(){return C.apply(null,arguments)}},pe.cacheSignal=function(){return null},pe.cloneElement=function(C,H,V){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var K=Z({},C.props),ue=C.key;if(H!=null)for(ye in H.key!==void 0&&(ue=""+H.key),H)!Ae.call(H,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&H.ref===void 0||(K[ye]=H[ye]);var ye=arguments.length-2;if(ye===1)K.children=V;else if(1<ye){for(var ge=Array(ye),at=0;at<ye;at++)ge[at]=arguments[at+2];K.children=ge}return ut(C.type,ue,K)},pe.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},pe.createElement=function(C,H,V){var K,ue={},ye=null;if(H!=null)for(K in H.key!==void 0&&(ye=""+H.key),H)Ae.call(H,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ue[K]=H[K]);var ge=arguments.length-2;if(ge===1)ue.children=V;else if(1<ge){for(var at=Array(ge),tt=0;tt<ge;tt++)at[tt]=arguments[tt+2];ue.children=at}if(C&&C.defaultProps)for(K in ge=C.defaultProps,ge)ue[K]===void 0&&(ue[K]=ge[K]);return ut(C,ye,ue)},pe.createRef=function(){return{current:null}},pe.forwardRef=function(C){return{$$typeof:p,render:C}},pe.isValidElement=Ke,pe.lazy=function(C){return{$$typeof:N,_payload:{_status:-1,_result:C},_init:F}},pe.memo=function(C,H){return{$$typeof:g,type:C,compare:H===void 0?null:H}},pe.startTransition=function(C){var H=ie.T,V={};ie.T=V;try{var K=C(),ue=ie.S;ue!==null&&ue(V,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(Re,De)}catch(ye){De(ye)}finally{H!==null&&V.types!==null&&(H.types=V.types),ie.T=H}},pe.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},pe.use=function(C){return ie.H.use(C)},pe.useActionState=function(C,H,V){return ie.H.useActionState(C,H,V)},pe.useCallback=function(C,H){return ie.H.useCallback(C,H)},pe.useContext=function(C){return ie.H.useContext(C)},pe.useDebugValue=function(){},pe.useDeferredValue=function(C,H){return ie.H.useDeferredValue(C,H)},pe.useEffect=function(C,H){return ie.H.useEffect(C,H)},pe.useEffectEvent=function(C){return ie.H.useEffectEvent(C)},pe.useId=function(){return ie.H.useId()},pe.useImperativeHandle=function(C,H,V){return ie.H.useImperativeHandle(C,H,V)},pe.useInsertionEffect=function(C,H){return ie.H.useInsertionEffect(C,H)},pe.useLayoutEffect=function(C,H){return ie.H.useLayoutEffect(C,H)},pe.useMemo=function(C,H){return ie.H.useMemo(C,H)},pe.useOptimistic=function(C,H){return ie.H.useOptimistic(C,H)},pe.useReducer=function(C,H,V){return ie.H.useReducer(C,H,V)},pe.useRef=function(C){return ie.H.useRef(C)},pe.useState=function(C){return ie.H.useState(C)},pe.useSyncExternalStore=function(C,H,V){return ie.H.useSyncExternalStore(C,H,V)},pe.useTransition=function(){return ie.H.useTransition()},pe.version="19.2.3",pe}var gg;function Pf(){return gg||(gg=1,sf.exports=u1()),sf.exports}var k=Pf();const Br=kx(k);var lf={exports:{}},xr={},af={exports:{}},rf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg;function d1(){return xg||(xg=1,(function(l){function n(z,G){var F=z.length;z.push(G);e:for(;0<F;){var De=F-1>>>1,Se=z[De];if(0<u(Se,G))z[De]=G,z[F]=Se,F=De;else break e}}function a(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var G=z[0],F=z.pop();if(F!==G){z[0]=F;e:for(var De=0,Se=z.length,C=Se>>>1;De<C;){var H=2*(De+1)-1,V=z[H],K=H+1,ue=z[K];if(0>u(V,F))K<Se&&0>u(ue,V)?(z[De]=ue,z[K]=F,De=K):(z[De]=V,z[H]=F,De=H);else if(K<Se&&0>u(ue,F))z[De]=ue,z[K]=F,De=K;else break e}}return G}function u(z,G){var F=z.sortIndex-G.sortIndex;return F!==0?F:z.id-G.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;l.unstable_now=function(){return f.now()}}else{var h=Date,p=h.now();l.unstable_now=function(){return h.now()-p}}var x=[],g=[],N=1,b=null,v=3,R=!1,P=!1,Z=!1,ce=!1,te=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,fe=typeof setImmediate<"u"?setImmediate:null;function de(z){for(var G=a(g);G!==null;){if(G.callback===null)r(g);else if(G.startTime<=z)r(g),G.sortIndex=G.expirationTime,n(x,G);else break;G=a(g)}}function ct(z){if(Z=!1,de(z),!P)if(a(x)!==null)P=!0,Re||(Re=!0,Ge());else{var G=a(g);G!==null&&ne(ct,G.startTime-z)}}var Re=!1,ie=-1,Ae=5,ut=-1;function he(){return ce?!0:!(l.unstable_now()-ut<Ae)}function Ke(){if(ce=!1,Re){var z=l.unstable_now();ut=z;var G=!0;try{e:{P=!1,Z&&(Z=!1,le(ie),ie=-1),R=!0;var F=v;try{t:{for(de(z),b=a(x);b!==null&&!(b.expirationTime>z&&he());){var De=b.callback;if(typeof De=="function"){b.callback=null,v=b.priorityLevel;var Se=De(b.expirationTime<=z);if(z=l.unstable_now(),typeof Se=="function"){b.callback=Se,de(z),G=!0;break t}b===a(x)&&r(x),de(z)}else r(x);b=a(x)}if(b!==null)G=!0;else{var C=a(g);C!==null&&ne(ct,C.startTime-z),G=!1}}break e}finally{b=null,v=F,R=!1}G=void 0}}finally{G?Ge():Re=!1}}}var Ge;if(typeof fe=="function")Ge=function(){fe(Ke)};else if(typeof MessageChannel<"u"){var Jt=new MessageChannel,St=Jt.port2;Jt.port1.onmessage=Ke,Ge=function(){St.postMessage(null)}}else Ge=function(){te(Ke,0)};function ne(z,G){ie=te(function(){z(l.unstable_now())},G)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(z){z.callback=null},l.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ae=0<z?Math.floor(1e3/z):5},l.unstable_getCurrentPriorityLevel=function(){return v},l.unstable_next=function(z){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var F=v;v=G;try{return z()}finally{v=F}},l.unstable_requestPaint=function(){ce=!0},l.unstable_runWithPriority=function(z,G){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var F=v;v=z;try{return G()}finally{v=F}},l.unstable_scheduleCallback=function(z,G,F){var De=l.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?De+F:De):F=De,z){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=F+Se,z={id:N++,callback:G,priorityLevel:z,startTime:F,expirationTime:Se,sortIndex:-1},F>De?(z.sortIndex=F,n(g,z),a(x)===null&&z===a(g)&&(Z?(le(ie),ie=-1):Z=!0,ne(ct,F-De))):(z.sortIndex=Se,n(x,z),P||R||(P=!0,Re||(Re=!0,Ge()))),z},l.unstable_shouldYield=he,l.unstable_wrapCallback=function(z){var G=v;return function(){var F=v;v=G;try{return z.apply(this,arguments)}finally{v=F}}}})(rf)),rf}var yg;function f1(){return yg||(yg=1,af.exports=d1()),af.exports}var of={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg;function h1(){if(vg)return Yt;vg=1;var l=Pf();function n(x){var g="https://react.dev/errors/"+x;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var N=2;N<arguments.length;N++)g+="&args[]="+encodeURIComponent(arguments[N])}return"Minified React error #"+x+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(x,g,N){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:x,containerInfo:g,implementation:N}}var h=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(x,g){if(x==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Yt.createPortal=function(x,g){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return f(x,g,null,N)},Yt.flushSync=function(x){var g=h.T,N=r.p;try{if(h.T=null,r.p=2,x)return x()}finally{h.T=g,r.p=N,r.d.f()}},Yt.preconnect=function(x,g){typeof x=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(x,g))},Yt.prefetchDNS=function(x){typeof x=="string"&&r.d.D(x)},Yt.preinit=function(x,g){if(typeof x=="string"&&g&&typeof g.as=="string"){var N=g.as,b=p(N,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;N==="style"?r.d.S(x,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:R}):N==="script"&&r.d.X(x,{crossOrigin:b,integrity:v,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Yt.preinitModule=function(x,g){if(typeof x=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var N=p(g.as,g.crossOrigin);r.d.M(x,{crossOrigin:N,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(x)},Yt.preload=function(x,g){if(typeof x=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var N=g.as,b=p(N,g.crossOrigin);r.d.L(x,N,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Yt.preloadModule=function(x,g){if(typeof x=="string")if(g){var N=p(g.as,g.crossOrigin);r.d.m(x,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:N,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(x)},Yt.requestFormReset=function(x){r.d.r(x)},Yt.unstable_batchedUpdates=function(x,g){return x(g)},Yt.useFormState=function(x,g,N){return h.H.useFormState(x,g,N)},Yt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Yt.version="19.2.3",Yt}var bg;function m1(){if(bg)return of.exports;bg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),of.exports=h1(),of.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g;function p1(){if(_g)return xr;_g=1;var l=f1(),n=Pf(),a=m1();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function x(e){if(f(e)!==e)throw Error(r(188))}function g(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var s=e,i=t;;){var o=s.return;if(o===null)break;var d=o.alternate;if(d===null){if(i=o.return,i!==null){s=i;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===s)return x(o),e;if(d===i)return x(o),t;d=d.sibling}throw Error(r(188))}if(s.return!==i.return)s=o,i=d;else{for(var m=!1,y=o.child;y;){if(y===s){m=!0,s=o,i=d;break}if(y===i){m=!0,i=o,s=d;break}y=y.sibling}if(!m){for(y=d.child;y;){if(y===s){m=!0,s=d,i=o;break}if(y===i){m=!0,i=d,s=o;break}y=y.sibling}if(!m)throw Error(r(189))}}if(s.alternate!==i)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:t}function N(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=N(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,v=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),ce=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),le=Symbol.for("react.consumer"),fe=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),ut=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),Ke=Symbol.iterator;function Ge(e){return e===null||typeof e!="object"?null:(e=Ke&&e[Ke]||e["@@iterator"],typeof e=="function"?e:null)}var Jt=Symbol.for("react.client.reference");function St(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Jt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case te:return"Profiler";case ce:return"StrictMode";case ct:return"Suspense";case Re:return"SuspenseList";case ut:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case P:return"Portal";case fe:return e.displayName||"Context";case le:return(e._context.displayName||"Context")+".Consumer";case de:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ie:return t=e.displayName||null,t!==null?t:St(e.type)||"Memo";case Ae:t=e._payload,e=e._init;try{return St(e(t))}catch{}}return null}var ne=Array.isArray,z=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},De=[],Se=-1;function C(e){return{current:e}}function H(e){0>Se||(e.current=De[Se],De[Se]=null,Se--)}function V(e,t){Se++,De[Se]=e.current,e.current=t}var K=C(null),ue=C(null),ye=C(null),ge=C(null);function at(e,t){switch(V(ye,t),V(ue,e),V(K,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?L0(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=L0(t),e=$0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(K),V(K,e)}function tt(){H(K),H(ue),H(ye)}function ns(e){e.memoizedState!==null&&V(ge,e);var t=K.current,s=$0(t,e.type);t!==s&&(V(ue,e),V(K,s))}function kn(e){ue.current===e&&(H(K),H(ue)),ge.current===e&&(H(ge),fr._currentValue=F)}var Mn,Y;function Be(e){if(Mn===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Mn=t&&t[1]||"",Y=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mn+e+Y}var Fe=!1;function xn(e,t){if(!e||Fe)return"";Fe=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(M){var D=M}Reflect.construct(e,[],I)}else{try{I.call()}catch(M){D=M}e.call(I.prototype)}}else{try{throw Error()}catch(M){D=M}(I=e())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(M){if(M&&D&&typeof M.stack=="string")return[M.stack,D.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=i.DetermineComponentFrameRoot(),m=d[0],y=d[1];if(m&&y){var S=m.split(`
`),A=y.split(`
`);for(o=i=0;i<S.length&&!S[i].includes("DetermineComponentFrameRoot");)i++;for(;o<A.length&&!A[o].includes("DetermineComponentFrameRoot");)o++;if(i===S.length||o===A.length)for(i=S.length-1,o=A.length-1;1<=i&&0<=o&&S[i]!==A[o];)o--;for(;1<=i&&0<=o;i--,o--)if(S[i]!==A[o]){if(i!==1||o!==1)do if(i--,o--,0>o||S[i]!==A[o]){var L=`
`+S[i].replace(" at new "," at ");return e.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",e.displayName)),L}while(1<=i&&0<=o);break}}}finally{Fe=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Be(s):""}function sa(e,t){switch(e.tag){case 26:case 27:case 5:return Be(e.type);case 16:return Be("Lazy");case 13:return e.child!==t&&t!==null?Be("Suspense Fallback"):Be("Suspense");case 19:return Be("SuspenseList");case 0:case 15:return xn(e.type,!1);case 11:return xn(e.type.render,!1);case 1:return xn(e.type,!0);case 31:return Be("Activity");default:return""}}function pt(e){try{var t="",s=null;do t+=sa(e,s),s=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var gi=Object.prototype.hasOwnProperty,Rs=l.unstable_scheduleCallback,ss=l.unstable_cancelCallback,Wr=l.unstable_shouldYield,xi=l.unstable_requestPaint,Vt=l.unstable_now,lu=l.unstable_getCurrentPriorityLevel,Jr=l.unstable_ImmediatePriority,eo=l.unstable_UserBlockingPriority,ls=l.unstable_NormalPriority,la=l.unstable_LowPriority,xl=l.unstable_IdlePriority,yi=l.log,Os=l.unstable_setDisableYieldValue,as=null,it=null;function Pt(e){if(typeof yi=="function"&&Os(e),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(as,e)}catch{}}var Qt=Math.clz32?Math.clz32:to,au=Math.log,$h=Math.LN2;function to(e){return e>>>=0,e===0?32:31-(au(e)/$h|0)|0}var zs=256,aa=262144,ia=4194304;function is(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ls(e,t,s){var i=e.pendingLanes;if(i===0)return 0;var o=0,d=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var y=i&134217727;return y!==0?(i=y&~d,i!==0?o=is(i):(m&=y,m!==0?o=is(m):s||(s=y&~e,s!==0&&(o=is(s))))):(y=i&~d,y!==0?o=is(y):m!==0?o=is(m):s||(s=i&~e,s!==0&&(o=is(s)))),o===0?0:t!==0&&t!==o&&(t&d)===0&&(d=o&-o,s=t&-t,d>=s||d===32&&(s&4194048)!==0)?t:o}function Nt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function vi(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rn(){var e=ia;return ia<<=1,(ia&62914560)===0&&(ia=4194304),e}function ra(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function rs(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Uh(e,t,s,i,o,d){var m=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var y=e.entanglements,S=e.expirationTimes,A=e.hiddenUpdates;for(s=m&~s;0<s;){var L=31-Qt(s),I=1<<L;y[L]=0,S[L]=-1;var D=A[L];if(D!==null)for(A[L]=null,L=0;L<D.length;L++){var M=D[L];M!==null&&(M.lane&=-536870913)}s&=~I}i!==0&&oa(e,i,0),d!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=d&~(m&~t))}function oa(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Qt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|s&261930}function Gn(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var i=31-Qt(s),o=1<<i;o&t|e[i]&t&&(e[i]|=t),s&=~o}}function no(e,t){var s=t&-t;return s=(s&42)!==0?1:yn(s),(s&(e.suspendedLanes|t))!==0?0:s}function yn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function yl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function so(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:ig(e.type))}function bi(e,t){var s=G.p;try{return G.p=e,t()}finally{G.p=s}}var Rn=Math.random().toString(36).slice(2),wt="__reactFiber$"+Rn,nt="__reactProps$"+Rn,Vn="__reactContainer$"+Rn,os="__reactEvents$"+Rn,vl="__reactListeners$"+Rn,Hh="__reactHandles$"+Rn,_i="__reactResources$"+Rn,ca="__reactMarker$"+Rn;function ua(e){delete e[wt],delete e[nt],delete e[os],delete e[vl],delete e[Hh]}function bl(e){var t=e[wt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Vn]||s[wt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=G0(e);e!==null;){if(s=e[wt])return s;e=G0(e)}return t}e=s,s=e.parentNode}return null}function _l(e){if(e=e[wt]||e[Vn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Sl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function $s(e){var t=e[_i];return t||(t=e[_i]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ot(e){e[ca]=!0}var Si=new Set,da={};function Pn(e,t){Qn(e,t),Qn(e+"Capture",t)}function Qn(e,t){for(da[e]=t,e=0;e<t.length;e++)Si.add(t[e])}var lo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fa={},Ni={};function ao(e){return gi.call(Ni,e)?!0:gi.call(fa,e)?!1:lo.test(e)?Ni[e]=!0:(fa[e]=!0,!1)}function Nl(e,t,s){if(ao(t))if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+s)}}function wl(e,t,s){if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+s)}}function On(e,t,s,i){if(i===null)e.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(t,s,""+i)}}function It(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function io(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ro(e,t,s){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,d=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){s=""+m,d.call(this,m)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(m){s=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function on(e){if(!e._valueTracker){var t=io(e)?"checked":"value";e._valueTracker=ro(e,t,""+e[t])}}function ha(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),i="";return e&&(i=io(e)?e.checked?"true":"false":e.value),e=i,e!==s?(t.setValue(e),!0):!1}function vn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ma=/[\n"\\]/g;function Rt(e){return e.replace(ma,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Us(e,t,s,i,o,d,m,y){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+It(t)):e.value!==""+It(t)&&(e.value=""+It(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Cl(e,m,It(t)):s!=null?Cl(e,m,It(s)):i!=null&&e.removeAttribute("value"),o==null&&d!=null&&(e.defaultChecked=!!d),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+It(y):e.removeAttribute("name")}function wi(e,t,s,i,o,d,m,y){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){on(e);return}s=s!=null?""+It(s):"",t=t!=null?""+It(t):s,y||t===e.value||(e.value=t),e.defaultValue=t}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=y?e.checked:!!i,e.defaultChecked=!!i,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),on(e)}function Cl(e,t,s){t==="number"&&vn(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function cs(e,t,s,i){if(e=e.options,t){t={};for(var o=0;o<s.length;o++)t["$"+s[o]]=!0;for(s=0;s<e.length;s++)o=t.hasOwnProperty("$"+e[s].value),e[s].selected!==o&&(e[s].selected=o),o&&i&&(e[s].defaultSelected=!0)}else{for(s=""+It(s),t=null,o=0;o<e.length;o++){if(e[o].value===s){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function _(e,t,s){if(t!=null&&(t=""+It(t),t!==e.value&&(e.value=t),s==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=s!=null?""+It(s):""}function oo(e,t,s,i){if(t==null){if(i!=null){if(s!=null)throw Error(r(92));if(ne(i)){if(1<i.length)throw Error(r(93));i=i[0]}s=i}s==null&&(s=""),t=s}s=It(t),e.defaultValue=s,i=e.textContent,i===s&&i!==""&&i!==null&&(e.value=i),on(e)}function zn(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Oe=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function El(e,t,s){var i=t.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,s):typeof s!="number"||s===0||Oe.has(t)?t==="float"?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function jl(e,t,s){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,s!=null){for(var i in s)!s.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&s[o]!==i&&El(e,o,i)}else for(var d in t)t.hasOwnProperty(d)&&El(e,d,t[d])}function Ci(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),co=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(e){return co.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function cn(){}var Ei=null;function ji(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var us=null,Hs=null;function uo(e){var t=_l(e);if(t&&(e=t.stateNode)){var s=e[nt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Us(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Rt(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var i=s[t];if(i!==e&&i.form===e.form){var o=i[nt]||null;if(!o)throw Error(r(90));Us(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<s.length;t++)i=s[t],i.form===e.form&&ha(i)}break e;case"textarea":_(e,s.value,s.defaultValue);break e;case"select":t=s.value,t!=null&&cs(e,!!s.multiple,t,!1)}}}var Ti=!1;function fo(e,t,s){if(Ti)return e(t,s);Ti=!0;try{var i=e(t);return i}finally{if(Ti=!1,(us!==null||Hs!==null)&&(Ko(),us&&(t=us,e=Hs,Hs=us=null,uo(t),e)))for(t=0;t<e.length;t++)uo(e[t])}}function Tl(e,t){var s=e.stateNode;if(s===null)return null;var i=s[nt]||null;if(i===null)return null;s=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,t,typeof s));return s}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ai=!1;if(Ln)try{var Al={};Object.defineProperty(Al,"passive",{get:function(){Ai=!0}}),window.addEventListener("test",Al,Al),window.removeEventListener("test",Al,Al)}catch{Ai=!1}var Xn=null,Di=null,ga=null;function ho(){if(ga)return ga;var e,t=Di,s=t.length,i,o="value"in Xn?Xn.value:Xn.textContent,d=o.length;for(e=0;e<s&&t[e]===o[e];e++);var m=s-e;for(i=1;i<=m&&t[s-i]===o[d-i];i++);return ga=o.slice(e,1<i?1-i:void 0)}function Xt(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xa(){return!0}function mo(){return!1}function Bt(e){function t(s,i,o,d,m){this._reactName=s,this._targetInst=o,this.type=i,this.nativeEvent=d,this.target=m,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(s=e[y],this[y]=s?s(d):d[y]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?xa:mo,this.isPropagationStopped=mo,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=xa)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=xa)},persist:function(){},isPersistent:xa}),t}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ya=Bt(ds),Dl=b({},ds,{view:0,detail:0}),ru=Bt(Dl),ki,Mi,kl,va=b({},Dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kl&&(kl&&e.type==="mousemove"?(ki=e.screenX-kl.screenX,Mi=e.screenY-kl.screenY):Mi=ki=0,kl=e),ki)},movementY:function(e){return"movementY"in e?e.movementY:Mi}}),po=Bt(va),Ih=b({},va,{dataTransfer:0}),w=Bt(Ih),B=b({},Dl,{relatedTarget:0}),O=Bt(B),$=b({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),q=Bt($),W=b({},ds,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),X=Bt(W),ze=b({},ds,{data:0}),Ne=Bt(ze),qt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ct={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ft={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function me(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ft[e])?!!t[e]:!1}function bn(){return me}var ba=b({},Dl,{key:function(e){if(e.key){var t=qt[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xt(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ct[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bn,charCode:function(e){return e.type==="keypress"?Xt(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xt(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bv=Bt(ba),_v=b({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bh=Bt(_v),Sv=b({},Dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bn}),Nv=Bt(Sv),wv=b({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cv=Bt(wv),Ev=b({},va,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jv=Bt(Ev),Tv=b({},ds,{newState:0,oldState:0}),Av=Bt(Tv),Dv=[9,13,27,32],ou=Ln&&"CompositionEvent"in window,Ri=null;Ln&&"documentMode"in document&&(Ri=document.documentMode);var kv=Ln&&"TextEvent"in window&&!Ri,qh=Ln&&(!ou||Ri&&8<Ri&&11>=Ri),Yh=" ",Gh=!1;function Vh(e,t){switch(e){case"keyup":return Dv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ph(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _a=!1;function Mv(e,t){switch(e){case"compositionend":return Ph(t);case"keypress":return t.which!==32?null:(Gh=!0,Yh);case"textInput":return e=t.data,e===Yh&&Gh?null:e;default:return null}}function Rv(e,t){if(_a)return e==="compositionend"||!ou&&Vh(e,t)?(e=ho(),ga=Di=Xn=null,_a=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qh&&t.locale!=="ko"?null:t.data;default:return null}}var Ov={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ov[e.type]:t==="textarea"}function Xh(e,t,s,i){us?Hs?Hs.push(i):Hs=[i]:us=i,t=lc(t,"onChange"),0<t.length&&(s=new ya("onChange","change",null,s,i),e.push({event:s,listeners:t}))}var Oi=null,zi=null;function zv(e){D0(e,0)}function go(e){var t=Sl(e);if(ha(t))return e}function Fh(e,t){if(e==="change")return t}var Zh=!1;if(Ln){var cu;if(Ln){var uu="oninput"in document;if(!uu){var Kh=document.createElement("div");Kh.setAttribute("oninput","return;"),uu=typeof Kh.oninput=="function"}cu=uu}else cu=!1;Zh=cu&&(!document.documentMode||9<document.documentMode)}function Wh(){Oi&&(Oi.detachEvent("onpropertychange",Jh),zi=Oi=null)}function Jh(e){if(e.propertyName==="value"&&go(zi)){var t=[];Xh(t,zi,e,ji(e)),fo(zv,t)}}function Lv(e,t,s){e==="focusin"?(Wh(),Oi=t,zi=s,Oi.attachEvent("onpropertychange",Jh)):e==="focusout"&&Wh()}function $v(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return go(zi)}function Uv(e,t){if(e==="click")return go(t)}function Hv(e,t){if(e==="input"||e==="change")return go(t)}function Iv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var un=typeof Object.is=="function"?Object.is:Iv;function Li(e,t){if(un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),i=Object.keys(t);if(s.length!==i.length)return!1;for(i=0;i<s.length;i++){var o=s[i];if(!gi.call(t,o)||!un(e[o],t[o]))return!1}return!0}function em(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tm(e,t){var s=em(e);e=0;for(var i;s;){if(s.nodeType===3){if(i=e+s.textContent.length,e<=t&&i>=t)return{node:s,offset:t-e};e=i}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=em(s)}}function nm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?nm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=vn(e.document);t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=vn(e.document)}return t}function du(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Bv=Ln&&"documentMode"in document&&11>=document.documentMode,Sa=null,fu=null,$i=null,hu=!1;function lm(e,t,s){var i=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;hu||Sa==null||Sa!==vn(i)||(i=Sa,"selectionStart"in i&&du(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),$i&&Li($i,i)||($i=i,i=lc(fu,"onSelect"),0<i.length&&(t=new ya("onSelect","select",null,t,s),e.push({event:t,listeners:i}),t.target=Sa)))}function Ml(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Na={animationend:Ml("Animation","AnimationEnd"),animationiteration:Ml("Animation","AnimationIteration"),animationstart:Ml("Animation","AnimationStart"),transitionrun:Ml("Transition","TransitionRun"),transitionstart:Ml("Transition","TransitionStart"),transitioncancel:Ml("Transition","TransitionCancel"),transitionend:Ml("Transition","TransitionEnd")},mu={},am={};Ln&&(am=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Rl(e){if(mu[e])return mu[e];if(!Na[e])return e;var t=Na[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in am)return mu[e]=t[s];return e}var im=Rl("animationend"),rm=Rl("animationiteration"),om=Rl("animationstart"),qv=Rl("transitionrun"),Yv=Rl("transitionstart"),Gv=Rl("transitioncancel"),cm=Rl("transitionend"),um=new Map,pu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pu.push("scrollEnd");function $n(e,t){um.set(e,t),Pn(t,[e])}var xo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},_n=[],wa=0,gu=0;function yo(){for(var e=wa,t=gu=wa=0;t<e;){var s=_n[t];_n[t++]=null;var i=_n[t];_n[t++]=null;var o=_n[t];_n[t++]=null;var d=_n[t];if(_n[t++]=null,i!==null&&o!==null){var m=i.pending;m===null?o.next=o:(o.next=m.next,m.next=o),i.pending=o}d!==0&&dm(s,o,d)}}function vo(e,t,s,i){_n[wa++]=e,_n[wa++]=t,_n[wa++]=s,_n[wa++]=i,gu|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function xu(e,t,s,i){return vo(e,t,s,i),bo(e)}function Ol(e,t){return vo(e,null,null,t),bo(e)}function dm(e,t,s){e.lanes|=s;var i=e.alternate;i!==null&&(i.lanes|=s);for(var o=!1,d=e.return;d!==null;)d.childLanes|=s,i=d.alternate,i!==null&&(i.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(o=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,o&&t!==null&&(o=31-Qt(s),e=d.hiddenUpdates,i=e[o],i===null?e[o]=[t]:i.push(t),t.lane=s|536870912),d):null}function bo(e){if(50<ar)throw ar=0,Ed=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ca={};function Vv(e,t,s,i){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,t,s,i){return new Vv(e,t,s,i)}function yu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fs(e,t){var s=e.alternate;return s===null?(s=dn(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function fm(e,t){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function _o(e,t,s,i,o,d){var m=0;if(i=e,typeof e=="function")yu(e)&&(m=1);else if(typeof e=="string")m=Zb(e,s,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ut:return e=dn(31,s,t,o),e.elementType=ut,e.lanes=d,e;case Z:return zl(s.children,o,d,t);case ce:m=8,o|=24;break;case te:return e=dn(12,s,t,o|2),e.elementType=te,e.lanes=d,e;case ct:return e=dn(13,s,t,o),e.elementType=ct,e.lanes=d,e;case Re:return e=dn(19,s,t,o),e.elementType=Re,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fe:m=10;break e;case le:m=9;break e;case de:m=11;break e;case ie:m=14;break e;case Ae:m=16,i=null;break e}m=29,s=Error(r(130,e===null?"null":typeof e,"")),i=null}return t=dn(m,s,t,o),t.elementType=e,t.type=i,t.lanes=d,t}function zl(e,t,s,i){return e=dn(7,e,i,t),e.lanes=s,e}function vu(e,t,s){return e=dn(6,e,null,t),e.lanes=s,e}function hm(e){var t=dn(18,null,null,0);return t.stateNode=e,t}function bu(e,t,s){return t=dn(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var mm=new WeakMap;function Sn(e,t){if(typeof e=="object"&&e!==null){var s=mm.get(e);return s!==void 0?s:(t={value:e,source:t,stack:pt(t)},mm.set(e,t),t)}return{value:e,source:t,stack:pt(t)}}var Ea=[],ja=0,So=null,Ui=0,Nn=[],wn=0,Is=null,Fn=1,Zn="";function hs(e,t){Ea[ja++]=Ui,Ea[ja++]=So,So=e,Ui=t}function pm(e,t,s){Nn[wn++]=Fn,Nn[wn++]=Zn,Nn[wn++]=Is,Is=e;var i=Fn;e=Zn;var o=32-Qt(i)-1;i&=~(1<<o),s+=1;var d=32-Qt(t)+o;if(30<d){var m=o-o%5;d=(i&(1<<m)-1).toString(32),i>>=m,o-=m,Fn=1<<32-Qt(t)+o|s<<o|i,Zn=d+e}else Fn=1<<d|s<<o|i,Zn=e}function _u(e){e.return!==null&&(hs(e,1),pm(e,1,0))}function Su(e){for(;e===So;)So=Ea[--ja],Ea[ja]=null,Ui=Ea[--ja],Ea[ja]=null;for(;e===Is;)Is=Nn[--wn],Nn[wn]=null,Zn=Nn[--wn],Nn[wn]=null,Fn=Nn[--wn],Nn[wn]=null}function gm(e,t){Nn[wn++]=Fn,Nn[wn++]=Zn,Nn[wn++]=Is,Fn=t.id,Zn=t.overflow,Is=e}var Ot=null,st=null,ke=!1,Bs=null,Cn=!1,Nu=Error(r(519));function qs(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hi(Sn(t,e)),Nu}function xm(e){var t=e.stateNode,s=e.type,i=e.memoizedProps;switch(t[wt]=e,t[nt]=i,s){case"dialog":Ce("cancel",t),Ce("close",t);break;case"iframe":case"object":case"embed":Ce("load",t);break;case"video":case"audio":for(s=0;s<rr.length;s++)Ce(rr[s],t);break;case"source":Ce("error",t);break;case"img":case"image":case"link":Ce("error",t),Ce("load",t);break;case"details":Ce("toggle",t);break;case"input":Ce("invalid",t),wi(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":Ce("invalid",t);break;case"textarea":Ce("invalid",t),oo(t,i.value,i.defaultValue,i.children)}s=i.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||t.textContent===""+s||i.suppressHydrationWarning===!0||O0(t.textContent,s)?(i.popover!=null&&(Ce("beforetoggle",t),Ce("toggle",t)),i.onScroll!=null&&Ce("scroll",t),i.onScrollEnd!=null&&Ce("scrollend",t),i.onClick!=null&&(t.onclick=cn),t=!0):t=!1,t||qs(e,!0)}function ym(e){for(Ot=e.return;Ot;)switch(Ot.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:Ot=Ot.return}}function Ta(e){if(e!==Ot)return!1;if(!ke)return ym(e),ke=!0,!1;var t=e.tag,s;if((s=t!==3&&t!==27)&&((s=t===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Bd(e.type,e.memoizedProps)),s=!s),s&&st&&qs(e),ym(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));st=Y0(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));st=Y0(e)}else t===27?(t=st,nl(e.type)?(e=Pd,Pd=null,st=e):st=t):st=Ot?jn(e.stateNode.nextSibling):null;return!0}function Ll(){st=Ot=null,ke=!1}function wu(){var e=Bs;return e!==null&&(sn===null?sn=e:sn.push.apply(sn,e),Bs=null),e}function Hi(e){Bs===null?Bs=[e]:Bs.push(e)}var Cu=C(null),$l=null,ms=null;function Ys(e,t,s){V(Cu,t._currentValue),t._currentValue=s}function ps(e){e._currentValue=Cu.current,H(Cu)}function Eu(e,t,s){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===s)break;e=e.return}}function ju(e,t,s,i){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){var m=o.child;d=d.firstContext;e:for(;d!==null;){var y=d;d=o;for(var S=0;S<t.length;S++)if(y.context===t[S]){d.lanes|=s,y=d.alternate,y!==null&&(y.lanes|=s),Eu(d.return,s,e),i||(m=null);break e}d=y.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(r(341));m.lanes|=s,d=m.alternate,d!==null&&(d.lanes|=s),Eu(m,s,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function Aa(e,t,s,i){e=null;for(var o=t,d=!1;o!==null;){if(!d){if((o.flags&524288)!==0)d=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(r(387));if(m=m.memoizedProps,m!==null){var y=o.type;un(o.pendingProps.value,m.value)||(e!==null?e.push(y):e=[y])}}else if(o===ge.current){if(m=o.alternate,m===null)throw Error(r(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(fr):e=[fr])}o=o.return}e!==null&&ju(t,e,s,i),t.flags|=262144}function No(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ul(e){$l=e,ms=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function zt(e){return vm($l,e)}function wo(e,t){return $l===null&&Ul(e),vm(e,t)}function vm(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},ms===null){if(e===null)throw Error(r(308));ms=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ms=ms.next=t;return s}var Pv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(s,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(s){return s()})}},Qv=l.unstable_scheduleCallback,Xv=l.unstable_NormalPriority,yt={$$typeof:fe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tu(){return{controller:new Pv,data:new Map,refCount:0}}function Ii(e){e.refCount--,e.refCount===0&&Qv(Xv,function(){e.controller.abort()})}var Bi=null,Au=0,Da=0,ka=null;function Fv(e,t){if(Bi===null){var s=Bi=[];Au=0,Da=Md(),ka={status:"pending",value:void 0,then:function(i){s.push(i)}}}return Au++,t.then(bm,bm),t}function bm(){if(--Au===0&&Bi!==null){ka!==null&&(ka.status="fulfilled");var e=Bi;Bi=null,Da=0,ka=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Zv(e,t){var s=[],i={status:"pending",value:null,reason:null,then:function(o){s.push(o)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var o=0;o<s.length;o++)(0,s[o])(t)},function(o){for(i.status="rejected",i.reason=o,o=0;o<s.length;o++)(0,s[o])(void 0)}),i}var _m=z.S;z.S=function(e,t){l0=Vt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Fv(e,t),_m!==null&&_m(e,t)};var Hl=C(null);function Du(){var e=Hl.current;return e!==null?e:Ze.pooledCache}function Co(e,t){t===null?V(Hl,Hl.current):V(Hl,t.pool)}function Sm(){var e=Du();return e===null?null:{parent:yt._currentValue,pool:e}}var Ma=Error(r(460)),ku=Error(r(474)),Eo=Error(r(542)),jo={then:function(){}};function Nm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function wm(e,t,s){switch(s=e[s],s===void 0?e.push(t):s!==t&&(t.then(cn,cn),t=s),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Em(e),e;default:if(typeof t.status=="string")t.then(cn,cn);else{if(e=Ze,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=i}},function(i){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Em(e),e}throw Bl=t,Ma}}function Il(e){try{var t=e._init;return t(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Bl=s,Ma):s}}var Bl=null;function Cm(){if(Bl===null)throw Error(r(459));var e=Bl;return Bl=null,e}function Em(e){if(e===Ma||e===Eo)throw Error(r(483))}var Ra=null,qi=0;function To(e){var t=qi;return qi+=1,Ra===null&&(Ra=[]),wm(Ra,e,t)}function Yi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ao(e,t){throw t.$$typeof===v?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function jm(e){function t(j,E){if(e){var T=j.deletions;T===null?(j.deletions=[E],j.flags|=16):T.push(E)}}function s(j,E){if(!e)return null;for(;E!==null;)t(j,E),E=E.sibling;return null}function i(j){for(var E=new Map;j!==null;)j.key!==null?E.set(j.key,j):E.set(j.index,j),j=j.sibling;return E}function o(j,E){return j=fs(j,E),j.index=0,j.sibling=null,j}function d(j,E,T){return j.index=T,e?(T=j.alternate,T!==null?(T=T.index,T<E?(j.flags|=67108866,E):T):(j.flags|=67108866,E)):(j.flags|=1048576,E)}function m(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function y(j,E,T,U){return E===null||E.tag!==6?(E=vu(T,j.mode,U),E.return=j,E):(E=o(E,T),E.return=j,E)}function S(j,E,T,U){var se=T.type;return se===Z?L(j,E,T.props.children,U,T.key):E!==null&&(E.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Ae&&Il(se)===E.type)?(E=o(E,T.props),Yi(E,T),E.return=j,E):(E=_o(T.type,T.key,T.props,null,j.mode,U),Yi(E,T),E.return=j,E)}function A(j,E,T,U){return E===null||E.tag!==4||E.stateNode.containerInfo!==T.containerInfo||E.stateNode.implementation!==T.implementation?(E=bu(T,j.mode,U),E.return=j,E):(E=o(E,T.children||[]),E.return=j,E)}function L(j,E,T,U,se){return E===null||E.tag!==7?(E=zl(T,j.mode,U,se),E.return=j,E):(E=o(E,T),E.return=j,E)}function I(j,E,T){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=vu(""+E,j.mode,T),E.return=j,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case R:return T=_o(E.type,E.key,E.props,null,j.mode,T),Yi(T,E),T.return=j,T;case P:return E=bu(E,j.mode,T),E.return=j,E;case Ae:return E=Il(E),I(j,E,T)}if(ne(E)||Ge(E))return E=zl(E,j.mode,T,null),E.return=j,E;if(typeof E.then=="function")return I(j,To(E),T);if(E.$$typeof===fe)return I(j,wo(j,E),T);Ao(j,E)}return null}function D(j,E,T,U){var se=E!==null?E.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return se!==null?null:y(j,E,""+T,U);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case R:return T.key===se?S(j,E,T,U):null;case P:return T.key===se?A(j,E,T,U):null;case Ae:return T=Il(T),D(j,E,T,U)}if(ne(T)||Ge(T))return se!==null?null:L(j,E,T,U,null);if(typeof T.then=="function")return D(j,E,To(T),U);if(T.$$typeof===fe)return D(j,E,wo(j,T),U);Ao(j,T)}return null}function M(j,E,T,U,se){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return j=j.get(T)||null,y(E,j,""+U,se);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case R:return j=j.get(U.key===null?T:U.key)||null,S(E,j,U,se);case P:return j=j.get(U.key===null?T:U.key)||null,A(E,j,U,se);case Ae:return U=Il(U),M(j,E,T,U,se)}if(ne(U)||Ge(U))return j=j.get(T)||null,L(E,j,U,se,null);if(typeof U.then=="function")return M(j,E,T,To(U),se);if(U.$$typeof===fe)return M(j,E,T,wo(E,U),se);Ao(E,U)}return null}function J(j,E,T,U){for(var se=null,Le=null,ee=E,ve=E=0,Te=null;ee!==null&&ve<T.length;ve++){ee.index>ve?(Te=ee,ee=null):Te=ee.sibling;var $e=D(j,ee,T[ve],U);if($e===null){ee===null&&(ee=Te);break}e&&ee&&$e.alternate===null&&t(j,ee),E=d($e,E,ve),Le===null?se=$e:Le.sibling=$e,Le=$e,ee=Te}if(ve===T.length)return s(j,ee),ke&&hs(j,ve),se;if(ee===null){for(;ve<T.length;ve++)ee=I(j,T[ve],U),ee!==null&&(E=d(ee,E,ve),Le===null?se=ee:Le.sibling=ee,Le=ee);return ke&&hs(j,ve),se}for(ee=i(ee);ve<T.length;ve++)Te=M(ee,j,ve,T[ve],U),Te!==null&&(e&&Te.alternate!==null&&ee.delete(Te.key===null?ve:Te.key),E=d(Te,E,ve),Le===null?se=Te:Le.sibling=Te,Le=Te);return e&&ee.forEach(function(rl){return t(j,rl)}),ke&&hs(j,ve),se}function ae(j,E,T,U){if(T==null)throw Error(r(151));for(var se=null,Le=null,ee=E,ve=E=0,Te=null,$e=T.next();ee!==null&&!$e.done;ve++,$e=T.next()){ee.index>ve?(Te=ee,ee=null):Te=ee.sibling;var rl=D(j,ee,$e.value,U);if(rl===null){ee===null&&(ee=Te);break}e&&ee&&rl.alternate===null&&t(j,ee),E=d(rl,E,ve),Le===null?se=rl:Le.sibling=rl,Le=rl,ee=Te}if($e.done)return s(j,ee),ke&&hs(j,ve),se;if(ee===null){for(;!$e.done;ve++,$e=T.next())$e=I(j,$e.value,U),$e!==null&&(E=d($e,E,ve),Le===null?se=$e:Le.sibling=$e,Le=$e);return ke&&hs(j,ve),se}for(ee=i(ee);!$e.done;ve++,$e=T.next())$e=M(ee,j,ve,$e.value,U),$e!==null&&(e&&$e.alternate!==null&&ee.delete($e.key===null?ve:$e.key),E=d($e,E,ve),Le===null?se=$e:Le.sibling=$e,Le=$e);return e&&ee.forEach(function(r1){return t(j,r1)}),ke&&hs(j,ve),se}function Qe(j,E,T,U){if(typeof T=="object"&&T!==null&&T.type===Z&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case R:e:{for(var se=T.key;E!==null;){if(E.key===se){if(se=T.type,se===Z){if(E.tag===7){s(j,E.sibling),U=o(E,T.props.children),U.return=j,j=U;break e}}else if(E.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Ae&&Il(se)===E.type){s(j,E.sibling),U=o(E,T.props),Yi(U,T),U.return=j,j=U;break e}s(j,E);break}else t(j,E);E=E.sibling}T.type===Z?(U=zl(T.props.children,j.mode,U,T.key),U.return=j,j=U):(U=_o(T.type,T.key,T.props,null,j.mode,U),Yi(U,T),U.return=j,j=U)}return m(j);case P:e:{for(se=T.key;E!==null;){if(E.key===se)if(E.tag===4&&E.stateNode.containerInfo===T.containerInfo&&E.stateNode.implementation===T.implementation){s(j,E.sibling),U=o(E,T.children||[]),U.return=j,j=U;break e}else{s(j,E);break}else t(j,E);E=E.sibling}U=bu(T,j.mode,U),U.return=j,j=U}return m(j);case Ae:return T=Il(T),Qe(j,E,T,U)}if(ne(T))return J(j,E,T,U);if(Ge(T)){if(se=Ge(T),typeof se!="function")throw Error(r(150));return T=se.call(T),ae(j,E,T,U)}if(typeof T.then=="function")return Qe(j,E,To(T),U);if(T.$$typeof===fe)return Qe(j,E,wo(j,T),U);Ao(j,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,E!==null&&E.tag===6?(s(j,E.sibling),U=o(E,T),U.return=j,j=U):(s(j,E),U=vu(T,j.mode,U),U.return=j,j=U),m(j)):s(j,E)}return function(j,E,T,U){try{qi=0;var se=Qe(j,E,T,U);return Ra=null,se}catch(ee){if(ee===Ma||ee===Eo)throw ee;var Le=dn(29,ee,null,j.mode);return Le.lanes=U,Le.return=j,Le}finally{}}}var ql=jm(!0),Tm=jm(!1),Gs=!1;function Mu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ru(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Vs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ps(e,t,s){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Ie&2)!==0){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,t=bo(e),dm(e,null,s),t}return vo(e,i,t,s),bo(e)}function Gi(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,s|=i,t.lanes=s,Gn(e,s)}}function Ou(e,t){var s=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,s===i)){var o=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var m={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?o=d=m:d=d.next=m,s=s.next}while(s!==null);d===null?o=d=t:d=d.next=t}else o=d=t;s={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:i.shared,callbacks:i.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var zu=!1;function Vi(){if(zu){var e=ka;if(e!==null)throw e}}function Pi(e,t,s,i){zu=!1;var o=e.updateQueue;Gs=!1;var d=o.firstBaseUpdate,m=o.lastBaseUpdate,y=o.shared.pending;if(y!==null){o.shared.pending=null;var S=y,A=S.next;S.next=null,m===null?d=A:m.next=A,m=S;var L=e.alternate;L!==null&&(L=L.updateQueue,y=L.lastBaseUpdate,y!==m&&(y===null?L.firstBaseUpdate=A:y.next=A,L.lastBaseUpdate=S))}if(d!==null){var I=o.baseState;m=0,L=A=S=null,y=d;do{var D=y.lane&-536870913,M=D!==y.lane;if(M?(je&D)===D:(i&D)===D){D!==0&&D===Da&&(zu=!0),L!==null&&(L=L.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var J=e,ae=y;D=t;var Qe=s;switch(ae.tag){case 1:if(J=ae.payload,typeof J=="function"){I=J.call(Qe,I,D);break e}I=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=ae.payload,D=typeof J=="function"?J.call(Qe,I,D):J,D==null)break e;I=b({},I,D);break e;case 2:Gs=!0}}D=y.callback,D!==null&&(e.flags|=64,M&&(e.flags|=8192),M=o.callbacks,M===null?o.callbacks=[D]:M.push(D))}else M={lane:D,tag:y.tag,payload:y.payload,callback:y.callback,next:null},L===null?(A=L=M,S=I):L=L.next=M,m|=D;if(y=y.next,y===null){if(y=o.shared.pending,y===null)break;M=y,y=M.next,M.next=null,o.lastBaseUpdate=M,o.shared.pending=null}}while(!0);L===null&&(S=I),o.baseState=S,o.firstBaseUpdate=A,o.lastBaseUpdate=L,d===null&&(o.shared.lanes=0),Ks|=m,e.lanes=m,e.memoizedState=I}}function Am(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Dm(e,t){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Am(s[e],t)}var Oa=C(null),Do=C(0);function km(e,t){e=ws,V(Do,e),V(Oa,t),ws=e|t.baseLanes}function Lu(){V(Do,ws),V(Oa,Oa.current)}function $u(){ws=Do.current,H(Oa),H(Do)}var fn=C(null),En=null;function Qs(e){var t=e.alternate;V(gt,gt.current&1),V(fn,e),En===null&&(t===null||Oa.current!==null||t.memoizedState!==null)&&(En=e)}function Uu(e){V(gt,gt.current),V(fn,e),En===null&&(En=e)}function Mm(e){e.tag===22?(V(gt,gt.current),V(fn,e),En===null&&(En=e)):Xs()}function Xs(){V(gt,gt.current),V(fn,fn.current)}function hn(e){H(fn),En===e&&(En=null),H(gt)}var gt=C(0);function ko(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Gd(s)||Vd(s)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gs=0,xe=null,Ve=null,vt=null,Mo=!1,za=!1,Yl=!1,Ro=0,Qi=0,La=null,Kv=0;function dt(){throw Error(r(321))}function Hu(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!un(e[s],t[s]))return!1;return!0}function Iu(e,t,s,i,o,d){return gs=d,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?pp:td,Yl=!1,d=s(i,o),Yl=!1,za&&(d=Om(t,s,i,o)),Rm(e),d}function Rm(e){z.H=Zi;var t=Ve!==null&&Ve.next!==null;if(gs=0,vt=Ve=xe=null,Mo=!1,Qi=0,La=null,t)throw Error(r(300));e===null||bt||(e=e.dependencies,e!==null&&No(e)&&(bt=!0))}function Om(e,t,s,i){xe=e;var o=0;do{if(za&&(La=null),Qi=0,za=!1,25<=o)throw Error(r(301));if(o+=1,vt=Ve=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}z.H=gp,d=t(s,i)}while(za);return d}function Wv(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?Xi(t):t,e=e.useState()[0],(Ve!==null?Ve.memoizedState:null)!==e&&(xe.flags|=1024),t}function Bu(){var e=Ro!==0;return Ro=0,e}function qu(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function Yu(e){if(Mo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Mo=!1}gs=0,vt=Ve=xe=null,za=!1,Qi=Ro=0,La=null}function Zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?xe.memoizedState=vt=e:vt=vt.next=e,vt}function xt(){if(Ve===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=vt===null?xe.memoizedState:vt.next;if(t!==null)vt=t,Ve=e;else{if(e===null)throw xe.alternate===null?Error(r(467)):Error(r(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},vt===null?xe.memoizedState=vt=e:vt=vt.next=e}return vt}function Oo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xi(e){var t=Qi;return Qi+=1,La===null&&(La=[]),e=wm(La,e,t),t=xe,(vt===null?t.memoizedState:vt.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?pp:td),e}function zo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Xi(e);if(e.$$typeof===fe)return zt(e)}throw Error(r(438,String(e)))}function Gu(e){var t=null,s=xe.updateQueue;if(s!==null&&(t=s.memoCache),t==null){var i=xe.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),s===null&&(s=Oo(),xe.updateQueue=s),s.memoCache=t,s=t.data[t.index],s===void 0)for(s=t.data[t.index]=Array(e),i=0;i<e;i++)s[i]=he;return t.index++,s}function xs(e,t){return typeof t=="function"?t(e):t}function Lo(e){var t=xt();return Vu(t,Ve,e)}function Vu(e,t,s){var i=e.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=s;var o=e.baseQueue,d=i.pending;if(d!==null){if(o!==null){var m=o.next;o.next=d.next,d.next=m}t.baseQueue=o=d,i.pending=null}if(d=e.baseState,o===null)e.memoizedState=d;else{t=o.next;var y=m=null,S=null,A=t,L=!1;do{var I=A.lane&-536870913;if(I!==A.lane?(je&I)===I:(gs&I)===I){var D=A.revertLane;if(D===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),I===Da&&(L=!0);else if((gs&D)===D){A=A.next,D===Da&&(L=!0);continue}else I={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},S===null?(y=S=I,m=d):S=S.next=I,xe.lanes|=D,Ks|=D;I=A.action,Yl&&s(d,I),d=A.hasEagerState?A.eagerState:s(d,I)}else D={lane:I,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},S===null?(y=S=D,m=d):S=S.next=D,xe.lanes|=I,Ks|=I;A=A.next}while(A!==null&&A!==t);if(S===null?m=d:S.next=y,!un(d,e.memoizedState)&&(bt=!0,L&&(s=ka,s!==null)))throw s;e.memoizedState=d,e.baseState=m,e.baseQueue=S,i.lastRenderedState=d}return o===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Pu(e){var t=xt(),s=t.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var i=s.dispatch,o=s.pending,d=t.memoizedState;if(o!==null){s.pending=null;var m=o=o.next;do d=e(d,m.action),m=m.next;while(m!==o);un(d,t.memoizedState)||(bt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),s.lastRenderedState=d}return[d,i]}function zm(e,t,s){var i=xe,o=xt(),d=ke;if(d){if(s===void 0)throw Error(r(407));s=s()}else s=t();var m=!un((Ve||o).memoizedState,s);if(m&&(o.memoizedState=s,bt=!0),o=o.queue,Fu(Um.bind(null,i,o,e),[e]),o.getSnapshot!==t||m||vt!==null&&vt.memoizedState.tag&1){if(i.flags|=2048,$a(9,{destroy:void 0},$m.bind(null,i,o,s,t),null),Ze===null)throw Error(r(349));d||(gs&127)!==0||Lm(i,t,s)}return s}function Lm(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=xe.updateQueue,t===null?(t=Oo(),xe.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function $m(e,t,s,i){t.value=s,t.getSnapshot=i,Hm(t)&&Im(e)}function Um(e,t,s){return s(function(){Hm(t)&&Im(e)})}function Hm(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!un(e,s)}catch{return!0}}function Im(e){var t=Ol(e,2);t!==null&&ln(t,e,2)}function Qu(e){var t=Zt();if(typeof e=="function"){var s=e;if(e=s(),Yl){Pt(!0);try{s()}finally{Pt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:e},t}function Bm(e,t,s,i){return e.baseState=s,Vu(e,Ve,typeof i=="function"?i:xs)}function Jv(e,t,s,i,o){if(Ho(e))throw Error(r(485));if(e=t.action,e!==null){var d={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){d.listeners.push(m)}};z.T!==null?s(!0):d.isTransition=!1,i(d),s=t.pending,s===null?(d.next=t.pending=d,qm(t,d)):(d.next=s.next,t.pending=s.next=d)}}function qm(e,t){var s=t.action,i=t.payload,o=e.state;if(t.isTransition){var d=z.T,m={};z.T=m;try{var y=s(o,i),S=z.S;S!==null&&S(m,y),Ym(e,t,y)}catch(A){Xu(e,t,A)}finally{d!==null&&m.types!==null&&(d.types=m.types),z.T=d}}else try{d=s(o,i),Ym(e,t,d)}catch(A){Xu(e,t,A)}}function Ym(e,t,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(i){Gm(e,t,i)},function(i){return Xu(e,t,i)}):Gm(e,t,s)}function Gm(e,t,s){t.status="fulfilled",t.value=s,Vm(t),e.state=s,t=e.pending,t!==null&&(s=t.next,s===t?e.pending=null:(s=s.next,t.next=s,qm(e,s)))}function Xu(e,t,s){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=s,Vm(t),t=t.next;while(t!==i)}e.action=null}function Vm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Pm(e,t){return t}function Qm(e,t){if(ke){var s=Ze.formState;if(s!==null){e:{var i=xe;if(ke){if(st){t:{for(var o=st,d=Cn;o.nodeType!==8;){if(!d){o=null;break t}if(o=jn(o.nextSibling),o===null){o=null;break t}}d=o.data,o=d==="F!"||d==="F"?o:null}if(o){st=jn(o.nextSibling),i=o.data==="F!";break e}}qs(i)}i=!1}i&&(t=s[0])}}return s=Zt(),s.memoizedState=s.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pm,lastRenderedState:t},s.queue=i,s=fp.bind(null,xe,i),i.dispatch=s,i=Qu(!1),d=ed.bind(null,xe,!1,i.queue),i=Zt(),o={state:t,dispatch:null,action:e,pending:null},i.queue=o,s=Jv.bind(null,xe,o,d,s),o.dispatch=s,i.memoizedState=e,[t,s,!1]}function Xm(e){var t=xt();return Fm(t,Ve,e)}function Fm(e,t,s){if(t=Vu(e,t,Pm)[0],e=Lo(xs)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Xi(t)}catch(m){throw m===Ma?Eo:m}else i=t;t=xt();var o=t.queue,d=o.dispatch;return s!==t.memoizedState&&(xe.flags|=2048,$a(9,{destroy:void 0},eb.bind(null,o,s),null)),[i,d,e]}function eb(e,t){e.action=t}function Zm(e){var t=xt(),s=Ve;if(s!==null)return Fm(t,s,e);xt(),t=t.memoizedState,s=xt();var i=s.queue.dispatch;return s.memoizedState=e,[t,i,!1]}function $a(e,t,s,i){return e={tag:e,create:s,deps:i,inst:t,next:null},t=xe.updateQueue,t===null&&(t=Oo(),xe.updateQueue=t),s=t.lastEffect,s===null?t.lastEffect=e.next=e:(i=s.next,s.next=e,e.next=i,t.lastEffect=e),e}function Km(){return xt().memoizedState}function $o(e,t,s,i){var o=Zt();xe.flags|=e,o.memoizedState=$a(1|t,{destroy:void 0},s,i===void 0?null:i)}function Uo(e,t,s,i){var o=xt();i=i===void 0?null:i;var d=o.memoizedState.inst;Ve!==null&&i!==null&&Hu(i,Ve.memoizedState.deps)?o.memoizedState=$a(t,d,s,i):(xe.flags|=e,o.memoizedState=$a(1|t,d,s,i))}function Wm(e,t){$o(8390656,8,e,t)}function Fu(e,t){Uo(2048,8,e,t)}function tb(e){xe.flags|=4;var t=xe.updateQueue;if(t===null)t=Oo(),xe.updateQueue=t,t.events=[e];else{var s=t.events;s===null?t.events=[e]:s.push(e)}}function Jm(e){var t=xt().memoizedState;return tb({ref:t,nextImpl:e}),function(){if((Ie&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function ep(e,t){return Uo(4,2,e,t)}function tp(e,t){return Uo(4,4,e,t)}function np(e,t){if(typeof t=="function"){e=e();var s=t(e);return function(){typeof s=="function"?s():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sp(e,t,s){s=s!=null?s.concat([e]):null,Uo(4,4,np.bind(null,t,e),s)}function Zu(){}function lp(e,t){var s=xt();t=t===void 0?null:t;var i=s.memoizedState;return t!==null&&Hu(t,i[1])?i[0]:(s.memoizedState=[e,t],e)}function ap(e,t){var s=xt();t=t===void 0?null:t;var i=s.memoizedState;if(t!==null&&Hu(t,i[1]))return i[0];if(i=e(),Yl){Pt(!0);try{e()}finally{Pt(!1)}}return s.memoizedState=[i,t],i}function Ku(e,t,s){return s===void 0||(gs&1073741824)!==0&&(je&261930)===0?e.memoizedState=t:(e.memoizedState=s,e=i0(),xe.lanes|=e,Ks|=e,s)}function ip(e,t,s,i){return un(s,t)?s:Oa.current!==null?(e=Ku(e,s,i),un(e,t)||(bt=!0),e):(gs&42)===0||(gs&1073741824)!==0&&(je&261930)===0?(bt=!0,e.memoizedState=s):(e=i0(),xe.lanes|=e,Ks|=e,t)}function rp(e,t,s,i,o){var d=G.p;G.p=d!==0&&8>d?d:8;var m=z.T,y={};z.T=y,ed(e,!1,t,s);try{var S=o(),A=z.S;if(A!==null&&A(y,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var L=Zv(S,i);Fi(e,t,L,gn(e))}else Fi(e,t,i,gn(e))}catch(I){Fi(e,t,{then:function(){},status:"rejected",reason:I},gn())}finally{G.p=d,m!==null&&y.types!==null&&(m.types=y.types),z.T=m}}function nb(){}function Wu(e,t,s,i){if(e.tag!==5)throw Error(r(476));var o=op(e).queue;rp(e,o,t,F,s===null?nb:function(){return cp(e),s(i)})}function op(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:F},next:null};var s={};return t.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:s},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function cp(e){var t=op(e);t.next===null&&(t=e.alternate.memoizedState),Fi(e,t.next.queue,{},gn())}function Ju(){return zt(fr)}function up(){return xt().memoizedState}function dp(){return xt().memoizedState}function sb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var s=gn();e=Vs(s);var i=Ps(t,e,s);i!==null&&(ln(i,t,s),Gi(i,t,s)),t={cache:Tu()},e.payload=t;return}t=t.return}}function lb(e,t,s){var i=gn();s={lane:i,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ho(e)?hp(t,s):(s=xu(e,t,s,i),s!==null&&(ln(s,e,i),mp(s,t,i)))}function fp(e,t,s){var i=gn();Fi(e,t,s,i)}function Fi(e,t,s,i){var o={lane:i,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ho(e))hp(t,o);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var m=t.lastRenderedState,y=d(m,s);if(o.hasEagerState=!0,o.eagerState=y,un(y,m))return vo(e,t,o,0),Ze===null&&yo(),!1}catch{}finally{}if(s=xu(e,t,o,i),s!==null)return ln(s,e,i),mp(s,t,i),!0}return!1}function ed(e,t,s,i){if(i={lane:2,revertLane:Md(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Ho(e)){if(t)throw Error(r(479))}else t=xu(e,s,i,2),t!==null&&ln(t,e,2)}function Ho(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function hp(e,t){za=Mo=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function mp(e,t,s){if((s&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,s|=i,t.lanes=s,Gn(e,s)}}var Zi={readContext:zt,use:zo,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};Zi.useEffectEvent=dt;var pp={readContext:zt,use:zo,useCallback:function(e,t){return Zt().memoizedState=[e,t===void 0?null:t],e},useContext:zt,useEffect:Wm,useImperativeHandle:function(e,t,s){s=s!=null?s.concat([e]):null,$o(4194308,4,np.bind(null,t,e),s)},useLayoutEffect:function(e,t){return $o(4194308,4,e,t)},useInsertionEffect:function(e,t){$o(4,2,e,t)},useMemo:function(e,t){var s=Zt();t=t===void 0?null:t;var i=e();if(Yl){Pt(!0);try{e()}finally{Pt(!1)}}return s.memoizedState=[i,t],i},useReducer:function(e,t,s){var i=Zt();if(s!==void 0){var o=s(t);if(Yl){Pt(!0);try{s(t)}finally{Pt(!1)}}}else o=t;return i.memoizedState=i.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},i.queue=e,e=e.dispatch=lb.bind(null,xe,e),[i.memoizedState,e]},useRef:function(e){var t=Zt();return e={current:e},t.memoizedState=e},useState:function(e){e=Qu(e);var t=e.queue,s=fp.bind(null,xe,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:Zu,useDeferredValue:function(e,t){var s=Zt();return Ku(s,e,t)},useTransition:function(){var e=Qu(!1);return e=rp.bind(null,xe,e.queue,!0,!1),Zt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var i=xe,o=Zt();if(ke){if(s===void 0)throw Error(r(407));s=s()}else{if(s=t(),Ze===null)throw Error(r(349));(je&127)!==0||Lm(i,t,s)}o.memoizedState=s;var d={value:s,getSnapshot:t};return o.queue=d,Wm(Um.bind(null,i,d,e),[e]),i.flags|=2048,$a(9,{destroy:void 0},$m.bind(null,i,d,s,t),null),s},useId:function(){var e=Zt(),t=Ze.identifierPrefix;if(ke){var s=Zn,i=Fn;s=(i&~(1<<32-Qt(i)-1)).toString(32)+s,t="_"+t+"R_"+s,s=Ro++,0<s&&(t+="H"+s.toString(32)),t+="_"}else s=Kv++,t="_"+t+"r_"+s.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ju,useFormState:Qm,useActionState:Qm,useOptimistic:function(e){var t=Zt();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=ed.bind(null,xe,!0,s),s.dispatch=t,[e,t]},useMemoCache:Gu,useCacheRefresh:function(){return Zt().memoizedState=sb.bind(null,xe)},useEffectEvent:function(e){var t=Zt(),s={impl:e};return t.memoizedState=s,function(){if((Ie&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},td={readContext:zt,use:zo,useCallback:lp,useContext:zt,useEffect:Fu,useImperativeHandle:sp,useInsertionEffect:ep,useLayoutEffect:tp,useMemo:ap,useReducer:Lo,useRef:Km,useState:function(){return Lo(xs)},useDebugValue:Zu,useDeferredValue:function(e,t){var s=xt();return ip(s,Ve.memoizedState,e,t)},useTransition:function(){var e=Lo(xs)[0],t=xt().memoizedState;return[typeof e=="boolean"?e:Xi(e),t]},useSyncExternalStore:zm,useId:up,useHostTransitionStatus:Ju,useFormState:Xm,useActionState:Xm,useOptimistic:function(e,t){var s=xt();return Bm(s,Ve,e,t)},useMemoCache:Gu,useCacheRefresh:dp};td.useEffectEvent=Jm;var gp={readContext:zt,use:zo,useCallback:lp,useContext:zt,useEffect:Fu,useImperativeHandle:sp,useInsertionEffect:ep,useLayoutEffect:tp,useMemo:ap,useReducer:Pu,useRef:Km,useState:function(){return Pu(xs)},useDebugValue:Zu,useDeferredValue:function(e,t){var s=xt();return Ve===null?Ku(s,e,t):ip(s,Ve.memoizedState,e,t)},useTransition:function(){var e=Pu(xs)[0],t=xt().memoizedState;return[typeof e=="boolean"?e:Xi(e),t]},useSyncExternalStore:zm,useId:up,useHostTransitionStatus:Ju,useFormState:Zm,useActionState:Zm,useOptimistic:function(e,t){var s=xt();return Ve!==null?Bm(s,Ve,e,t):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Gu,useCacheRefresh:dp};gp.useEffectEvent=Jm;function nd(e,t,s,i){t=e.memoizedState,s=s(i,t),s=s==null?t:b({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var sd={enqueueSetState:function(e,t,s){e=e._reactInternals;var i=gn(),o=Vs(i);o.payload=t,s!=null&&(o.callback=s),t=Ps(e,o,i),t!==null&&(ln(t,e,i),Gi(t,e,i))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var i=gn(),o=Vs(i);o.tag=1,o.payload=t,s!=null&&(o.callback=s),t=Ps(e,o,i),t!==null&&(ln(t,e,i),Gi(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=gn(),i=Vs(s);i.tag=2,t!=null&&(i.callback=t),t=Ps(e,i,s),t!==null&&(ln(t,e,s),Gi(t,e,s))}};function xp(e,t,s,i,o,d,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,d,m):t.prototype&&t.prototype.isPureReactComponent?!Li(s,i)||!Li(o,d):!0}function yp(e,t,s,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,i),t.state!==e&&sd.enqueueReplaceState(t,t.state,null)}function Gl(e,t){var s=t;if("ref"in t){s={};for(var i in t)i!=="ref"&&(s[i]=t[i])}if(e=e.defaultProps){s===t&&(s=b({},s));for(var o in e)s[o]===void 0&&(s[o]=e[o])}return s}function vp(e){xo(e)}function bp(e){console.error(e)}function _p(e){xo(e)}function Io(e,t){try{var s=e.onUncaughtError;s(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Sp(e,t,s){try{var i=e.onCaughtError;i(s.value,{componentStack:s.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function ld(e,t,s){return s=Vs(s),s.tag=3,s.payload={element:null},s.callback=function(){Io(e,t)},s}function Np(e){return e=Vs(e),e.tag=3,e}function wp(e,t,s,i){var o=s.type.getDerivedStateFromError;if(typeof o=="function"){var d=i.value;e.payload=function(){return o(d)},e.callback=function(){Sp(t,s,i)}}var m=s.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Sp(t,s,i),typeof o!="function"&&(Ws===null?Ws=new Set([this]):Ws.add(this));var y=i.stack;this.componentDidCatch(i.value,{componentStack:y!==null?y:""})})}function ab(e,t,s,i,o){if(s.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=s.alternate,t!==null&&Aa(t,s,o,!0),s=fn.current,s!==null){switch(s.tag){case 31:case 13:return En===null?Wo():s.alternate===null&&ft===0&&(ft=3),s.flags&=-257,s.flags|=65536,s.lanes=o,i===jo?s.flags|=16384:(t=s.updateQueue,t===null?s.updateQueue=new Set([i]):t.add(i),Ad(e,i,o)),!1;case 22:return s.flags|=65536,i===jo?s.flags|=16384:(t=s.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},s.updateQueue=t):(s=t.retryQueue,s===null?t.retryQueue=new Set([i]):s.add(i)),Ad(e,i,o)),!1}throw Error(r(435,s.tag))}return Ad(e,i,o),Wo(),!1}if(ke)return t=fn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==Nu&&(e=Error(r(422),{cause:i}),Hi(Sn(e,s)))):(i!==Nu&&(t=Error(r(423),{cause:i}),Hi(Sn(t,s))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,i=Sn(i,s),o=ld(e.stateNode,i,o),Ou(e,o),ft!==4&&(ft=2)),!1;var d=Error(r(520),{cause:i});if(d=Sn(d,s),lr===null?lr=[d]:lr.push(d),ft!==4&&(ft=2),t===null)return!0;i=Sn(i,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=o&-o,s.lanes|=e,e=ld(s.stateNode,i,e),Ou(s,e),!1;case 1:if(t=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ws===null||!Ws.has(d))))return s.flags|=65536,o&=-o,s.lanes|=o,o=Np(o),wp(o,e,s,i),Ou(s,o),!1}s=s.return}while(s!==null);return!1}var ad=Error(r(461)),bt=!1;function Lt(e,t,s,i){t.child=e===null?Tm(t,null,s,i):ql(t,e.child,s,i)}function Cp(e,t,s,i,o){s=s.render;var d=t.ref;if("ref"in i){var m={};for(var y in i)y!=="ref"&&(m[y]=i[y])}else m=i;return Ul(t),i=Iu(e,t,s,m,d,o),y=Bu(),e!==null&&!bt?(qu(e,t,o),ys(e,t,o)):(ke&&y&&_u(t),t.flags|=1,Lt(e,t,i,o),t.child)}function Ep(e,t,s,i,o){if(e===null){var d=s.type;return typeof d=="function"&&!yu(d)&&d.defaultProps===void 0&&s.compare===null?(t.tag=15,t.type=d,jp(e,t,d,i,o)):(e=_o(s.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!hd(e,o)){var m=d.memoizedProps;if(s=s.compare,s=s!==null?s:Li,s(m,i)&&e.ref===t.ref)return ys(e,t,o)}return t.flags|=1,e=fs(d,i),e.ref=t.ref,e.return=t,t.child=e}function jp(e,t,s,i,o){if(e!==null){var d=e.memoizedProps;if(Li(d,i)&&e.ref===t.ref)if(bt=!1,t.pendingProps=i=d,hd(e,o))(e.flags&131072)!==0&&(bt=!0);else return t.lanes=e.lanes,ys(e,t,o)}return id(e,t,s,i,o)}function Tp(e,t,s,i){var o=i.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,e!==null){for(i=t.child=e.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;i=o&~d}else i=0,t.child=null;return Ap(e,t,d,s,i)}if((s&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Co(t,d!==null?d.cachePool:null),d!==null?km(t,d):Lu(),Mm(t);else return i=t.lanes=536870912,Ap(e,t,d!==null?d.baseLanes|s:s,s,i)}else d!==null?(Co(t,d.cachePool),km(t,d),Xs(),t.memoizedState=null):(e!==null&&Co(t,null),Lu(),Xs());return Lt(e,t,o,s),t.child}function Ki(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ap(e,t,s,i,o){var d=Du();return d=d===null?null:{parent:yt._currentValue,pool:d},t.memoizedState={baseLanes:s,cachePool:d},e!==null&&Co(t,null),Lu(),Mm(t),e!==null&&Aa(e,t,i,!0),t.childLanes=o,null}function Bo(e,t){return t=Yo({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Dp(e,t,s){return ql(t,e.child,null,s),e=Bo(t,t.pendingProps),e.flags|=2,hn(t),t.memoizedState=null,e}function ib(e,t,s){var i=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ke){if(i.mode==="hidden")return e=Bo(t,i),t.lanes=536870912,Ki(null,e);if(Uu(t),(e=st)?(e=q0(e,Cn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Is!==null?{id:Fn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},s=hm(e),s.return=t,t.child=s,Ot=t,st=null)):e=null,e===null)throw qs(t);return t.lanes=536870912,null}return Bo(t,i)}var d=e.memoizedState;if(d!==null){var m=d.dehydrated;if(Uu(t),o)if(t.flags&256)t.flags&=-257,t=Dp(e,t,s);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(bt||Aa(e,t,s,!1),o=(s&e.childLanes)!==0,bt||o){if(i=Ze,i!==null&&(m=no(i,s),m!==0&&m!==d.retryLane))throw d.retryLane=m,Ol(e,m),ln(i,e,m),ad;Wo(),t=Dp(e,t,s)}else e=d.treeContext,st=jn(m.nextSibling),Ot=t,ke=!0,Bs=null,Cn=!1,e!==null&&gm(t,e),t=Bo(t,i),t.flags|=4096;return t}return e=fs(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function qo(e,t){var s=t.ref;if(s===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(t.flags|=4194816)}}function id(e,t,s,i,o){return Ul(t),s=Iu(e,t,s,i,void 0,o),i=Bu(),e!==null&&!bt?(qu(e,t,o),ys(e,t,o)):(ke&&i&&_u(t),t.flags|=1,Lt(e,t,s,o),t.child)}function kp(e,t,s,i,o,d){return Ul(t),t.updateQueue=null,s=Om(t,i,s,o),Rm(e),i=Bu(),e!==null&&!bt?(qu(e,t,d),ys(e,t,d)):(ke&&i&&_u(t),t.flags|=1,Lt(e,t,s,d),t.child)}function Mp(e,t,s,i,o){if(Ul(t),t.stateNode===null){var d=Ca,m=s.contextType;typeof m=="object"&&m!==null&&(d=zt(m)),d=new s(i,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=sd,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=i,d.state=t.memoizedState,d.refs={},Mu(t),m=s.contextType,d.context=typeof m=="object"&&m!==null?zt(m):Ca,d.state=t.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(nd(t,s,m,i),d.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(m=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),m!==d.state&&sd.enqueueReplaceState(d,d.state,null),Pi(t,i,d,o),Vi(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){d=t.stateNode;var y=t.memoizedProps,S=Gl(s,y);d.props=S;var A=d.context,L=s.contextType;m=Ca,typeof L=="object"&&L!==null&&(m=zt(L));var I=s.getDerivedStateFromProps;L=typeof I=="function"||typeof d.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,L||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y||A!==m)&&yp(t,d,i,m),Gs=!1;var D=t.memoizedState;d.state=D,Pi(t,i,d,o),Vi(),A=t.memoizedState,y||D!==A||Gs?(typeof I=="function"&&(nd(t,s,I,i),A=t.memoizedState),(S=Gs||xp(t,s,S,i,D,A,m))?(L||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=A),d.props=i,d.state=A,d.context=m,i=S):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{d=t.stateNode,Ru(e,t),m=t.memoizedProps,L=Gl(s,m),d.props=L,I=t.pendingProps,D=d.context,A=s.contextType,S=Ca,typeof A=="object"&&A!==null&&(S=zt(A)),y=s.getDerivedStateFromProps,(A=typeof y=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==I||D!==S)&&yp(t,d,i,S),Gs=!1,D=t.memoizedState,d.state=D,Pi(t,i,d,o),Vi();var M=t.memoizedState;m!==I||D!==M||Gs||e!==null&&e.dependencies!==null&&No(e.dependencies)?(typeof y=="function"&&(nd(t,s,y,i),M=t.memoizedState),(L=Gs||xp(t,s,L,i,D,M,S)||e!==null&&e.dependencies!==null&&No(e.dependencies))?(A||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(i,M,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(i,M,S)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=M),d.props=i,d.state=M,d.context=S,i=L):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),i=!1)}return d=i,qo(e,t),i=(t.flags&128)!==0,d||i?(d=t.stateNode,s=i&&typeof s.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&i?(t.child=ql(t,e.child,null,o),t.child=ql(t,null,s,o)):Lt(e,t,s,o),t.memoizedState=d.state,e=t.child):e=ys(e,t,o),e}function Rp(e,t,s,i){return Ll(),t.flags|=256,Lt(e,t,s,i),t.child}var rd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function od(e){return{baseLanes:e,cachePool:Sm()}}function cd(e,t,s){return e=e!==null?e.childLanes&~s:0,t&&(e|=pn),e}function Op(e,t,s){var i=t.pendingProps,o=!1,d=(t.flags&128)!==0,m;if((m=d)||(m=e!==null&&e.memoizedState===null?!1:(gt.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(ke){if(o?Qs(t):Xs(),(e=st)?(e=q0(e,Cn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Is!==null?{id:Fn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},s=hm(e),s.return=t,t.child=s,Ot=t,st=null)):e=null,e===null)throw qs(t);return Vd(e)?t.lanes=32:t.lanes=536870912,null}var y=i.children;return i=i.fallback,o?(Xs(),o=t.mode,y=Yo({mode:"hidden",children:y},o),i=zl(i,o,s,null),y.return=t,i.return=t,y.sibling=i,t.child=y,i=t.child,i.memoizedState=od(s),i.childLanes=cd(e,m,s),t.memoizedState=rd,Ki(null,i)):(Qs(t),ud(t,y))}var S=e.memoizedState;if(S!==null&&(y=S.dehydrated,y!==null)){if(d)t.flags&256?(Qs(t),t.flags&=-257,t=dd(e,t,s)):t.memoizedState!==null?(Xs(),t.child=e.child,t.flags|=128,t=null):(Xs(),y=i.fallback,o=t.mode,i=Yo({mode:"visible",children:i.children},o),y=zl(y,o,s,null),y.flags|=2,i.return=t,y.return=t,i.sibling=y,t.child=i,ql(t,e.child,null,s),i=t.child,i.memoizedState=od(s),i.childLanes=cd(e,m,s),t.memoizedState=rd,t=Ki(null,i));else if(Qs(t),Vd(y)){if(m=y.nextSibling&&y.nextSibling.dataset,m)var A=m.dgst;m=A,i=Error(r(419)),i.stack="",i.digest=m,Hi({value:i,source:null,stack:null}),t=dd(e,t,s)}else if(bt||Aa(e,t,s,!1),m=(s&e.childLanes)!==0,bt||m){if(m=Ze,m!==null&&(i=no(m,s),i!==0&&i!==S.retryLane))throw S.retryLane=i,Ol(e,i),ln(m,e,i),ad;Gd(y)||Wo(),t=dd(e,t,s)}else Gd(y)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,st=jn(y.nextSibling),Ot=t,ke=!0,Bs=null,Cn=!1,e!==null&&gm(t,e),t=ud(t,i.children),t.flags|=4096);return t}return o?(Xs(),y=i.fallback,o=t.mode,S=e.child,A=S.sibling,i=fs(S,{mode:"hidden",children:i.children}),i.subtreeFlags=S.subtreeFlags&65011712,A!==null?y=fs(A,y):(y=zl(y,o,s,null),y.flags|=2),y.return=t,i.return=t,i.sibling=y,t.child=i,Ki(null,i),i=t.child,y=e.child.memoizedState,y===null?y=od(s):(o=y.cachePool,o!==null?(S=yt._currentValue,o=o.parent!==S?{parent:S,pool:S}:o):o=Sm(),y={baseLanes:y.baseLanes|s,cachePool:o}),i.memoizedState=y,i.childLanes=cd(e,m,s),t.memoizedState=rd,Ki(e.child,i)):(Qs(t),s=e.child,e=s.sibling,s=fs(s,{mode:"visible",children:i.children}),s.return=t,s.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=s,t.memoizedState=null,s)}function ud(e,t){return t=Yo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Yo(e,t){return e=dn(22,e,null,t),e.lanes=0,e}function dd(e,t,s){return ql(t,e.child,null,s),e=ud(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zp(e,t,s){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Eu(e.return,t,s)}function fd(e,t,s,i,o,d){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:s,tailMode:o,treeForkCount:d}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=i,m.tail=s,m.tailMode=o,m.treeForkCount=d)}function Lp(e,t,s){var i=t.pendingProps,o=i.revealOrder,d=i.tail;i=i.children;var m=gt.current,y=(m&2)!==0;if(y?(m=m&1|2,t.flags|=128):m&=1,V(gt,m),Lt(e,t,i,s),i=ke?Ui:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zp(e,s,t);else if(e.tag===19)zp(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(s=t.child,o=null;s!==null;)e=s.alternate,e!==null&&ko(e)===null&&(o=s),s=s.sibling;s=o,s===null?(o=t.child,t.child=null):(o=s.sibling,s.sibling=null),fd(t,!1,o,s,d,i);break;case"backwards":case"unstable_legacy-backwards":for(s=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ko(e)===null){t.child=o;break}e=o.sibling,o.sibling=s,s=o,o=e}fd(t,!0,s,null,d,i);break;case"together":fd(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function ys(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Ks|=t.lanes,(s&t.childLanes)===0)if(e!==null){if(Aa(e,t,s,!1),(s&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,s=fs(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=fs(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function hd(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&No(e)))}function rb(e,t,s){switch(t.tag){case 3:at(t,t.stateNode.containerInfo),Ys(t,yt,e.memoizedState.cache),Ll();break;case 27:case 5:ns(t);break;case 4:at(t,t.stateNode.containerInfo);break;case 10:Ys(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Uu(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Qs(t),t.flags|=128,null):(s&t.child.childLanes)!==0?Op(e,t,s):(Qs(t),e=ys(e,t,s),e!==null?e.sibling:null);Qs(t);break;case 19:var o=(e.flags&128)!==0;if(i=(s&t.childLanes)!==0,i||(Aa(e,t,s,!1),i=(s&t.childLanes)!==0),o){if(i)return Lp(e,t,s);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),V(gt,gt.current),i)break;return null;case 22:return t.lanes=0,Tp(e,t,s,t.pendingProps);case 24:Ys(t,yt,e.memoizedState.cache)}return ys(e,t,s)}function $p(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps)bt=!0;else{if(!hd(e,s)&&(t.flags&128)===0)return bt=!1,rb(e,t,s);bt=(e.flags&131072)!==0}else bt=!1,ke&&(t.flags&1048576)!==0&&pm(t,Ui,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=Il(t.elementType),t.type=e,typeof e=="function")yu(e)?(i=Gl(e,i),t.tag=1,t=Mp(null,t,e,i,s)):(t.tag=0,t=id(null,t,e,i,s));else{if(e!=null){var o=e.$$typeof;if(o===de){t.tag=11,t=Cp(null,t,e,i,s);break e}else if(o===ie){t.tag=14,t=Ep(null,t,e,i,s);break e}}throw t=St(e)||e,Error(r(306,t,""))}}return t;case 0:return id(e,t,t.type,t.pendingProps,s);case 1:return i=t.type,o=Gl(i,t.pendingProps),Mp(e,t,i,o,s);case 3:e:{if(at(t,t.stateNode.containerInfo),e===null)throw Error(r(387));i=t.pendingProps;var d=t.memoizedState;o=d.element,Ru(e,t),Pi(t,i,null,s);var m=t.memoizedState;if(i=m.cache,Ys(t,yt,i),i!==d.cache&&ju(t,[yt],s,!0),Vi(),i=m.element,d.isDehydrated)if(d={element:i,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=Rp(e,t,i,s);break e}else if(i!==o){o=Sn(Error(r(424)),t),Hi(o),t=Rp(e,t,i,s);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(st=jn(e.firstChild),Ot=t,ke=!0,Bs=null,Cn=!0,s=Tm(t,null,i,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ll(),i===o){t=ys(e,t,s);break e}Lt(e,t,i,s)}t=t.child}return t;case 26:return qo(e,t),e===null?(s=X0(t.type,null,t.pendingProps,null))?t.memoizedState=s:ke||(s=t.type,e=t.pendingProps,i=ac(ye.current).createElement(s),i[wt]=t,i[nt]=e,$t(i,s,e),ot(i),t.stateNode=i):t.memoizedState=X0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ns(t),e===null&&ke&&(i=t.stateNode=V0(t.type,t.pendingProps,ye.current),Ot=t,Cn=!0,o=st,nl(t.type)?(Pd=o,st=jn(i.firstChild)):st=o),Lt(e,t,t.pendingProps.children,s),qo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ke&&((o=i=st)&&(i=$b(i,t.type,t.pendingProps,Cn),i!==null?(t.stateNode=i,Ot=t,st=jn(i.firstChild),Cn=!1,o=!0):o=!1),o||qs(t)),ns(t),o=t.type,d=t.pendingProps,m=e!==null?e.memoizedProps:null,i=d.children,Bd(o,d)?i=null:m!==null&&Bd(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=Iu(e,t,Wv,null,null,s),fr._currentValue=o),qo(e,t),Lt(e,t,i,s),t.child;case 6:return e===null&&ke&&((e=s=st)&&(s=Ub(s,t.pendingProps,Cn),s!==null?(t.stateNode=s,Ot=t,st=null,e=!0):e=!1),e||qs(t)),null;case 13:return Op(e,t,s);case 4:return at(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ql(t,null,i,s):Lt(e,t,i,s),t.child;case 11:return Cp(e,t,t.type,t.pendingProps,s);case 7:return Lt(e,t,t.pendingProps,s),t.child;case 8:return Lt(e,t,t.pendingProps.children,s),t.child;case 12:return Lt(e,t,t.pendingProps.children,s),t.child;case 10:return i=t.pendingProps,Ys(t,t.type,i.value),Lt(e,t,i.children,s),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,Ul(t),o=zt(o),i=i(o),t.flags|=1,Lt(e,t,i,s),t.child;case 14:return Ep(e,t,t.type,t.pendingProps,s);case 15:return jp(e,t,t.type,t.pendingProps,s);case 19:return Lp(e,t,s);case 31:return ib(e,t,s);case 22:return Tp(e,t,s,t.pendingProps);case 24:return Ul(t),i=zt(yt),e===null?(o=Du(),o===null&&(o=Ze,d=Tu(),o.pooledCache=d,d.refCount++,d!==null&&(o.pooledCacheLanes|=s),o=d),t.memoizedState={parent:i,cache:o},Mu(t),Ys(t,yt,o)):((e.lanes&s)!==0&&(Ru(e,t),Pi(t,null,null,s),Vi()),o=e.memoizedState,d=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Ys(t,yt,i)):(i=d.cache,Ys(t,yt,i),i!==o.cache&&ju(t,[yt],s,!0))),Lt(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function vs(e){e.flags|=4}function md(e,t,s,i,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(u0())e.flags|=8192;else throw Bl=jo,ku}else e.flags&=-16777217}function Up(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!J0(t))if(u0())e.flags|=8192;else throw Bl=jo,ku}function Go(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?rn():536870912,e.lanes|=t,Ba|=t)}function Wi(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,i=0;if(t)for(var o=e.child;o!==null;)s|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)s|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=s,t}function ob(e,t,s){var i=t.pendingProps;switch(Su(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return lt(t),null;case 3:return s=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ps(yt),tt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ta(t)?vs(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,wu())),lt(t),null;case 26:var o=t.type,d=t.memoizedState;return e===null?(vs(t),d!==null?(lt(t),Up(t,d)):(lt(t),md(t,o,null,i,s))):d?d!==e.memoizedState?(vs(t),lt(t),Up(t,d)):(lt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&vs(t),lt(t),md(t,o,e,i,s)),null;case 27:if(kn(t),s=ye.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&vs(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return lt(t),null}e=K.current,Ta(t)?xm(t):(e=V0(o,i,s),t.stateNode=e,vs(t))}return lt(t),null;case 5:if(kn(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&vs(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return lt(t),null}if(d=K.current,Ta(t))xm(t);else{var m=ac(ye.current);switch(d){case 1:d=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:d=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":d=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":d=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":d=m.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof i.is=="string"?m.createElement("select",{is:i.is}):m.createElement("select"),i.multiple?d.multiple=!0:i.size&&(d.size=i.size);break;default:d=typeof i.is=="string"?m.createElement(o,{is:i.is}):m.createElement(o)}}d[wt]=t,d[nt]=i;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)d.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=d;e:switch($t(d,o,i),o){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&vs(t)}}return lt(t),md(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,s),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&vs(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(r(166));if(e=ye.current,Ta(t)){if(e=t.stateNode,s=t.memoizedProps,i=null,o=Ot,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}e[wt]=t,e=!!(e.nodeValue===s||i!==null&&i.suppressHydrationWarning===!0||O0(e.nodeValue,s)),e||qs(t,!0)}else e=ac(e).createTextNode(i),e[wt]=t,t.stateNode=e}return lt(t),null;case 31:if(s=t.memoizedState,e===null||e.memoizedState!==null){if(i=Ta(t),s!==null){if(e===null){if(!i)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[wt]=t}else Ll(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;lt(t),e=!1}else s=wu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return t.flags&256?(hn(t),t):(hn(t),null);if((t.flags&128)!==0)throw Error(r(558))}return lt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Ta(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[wt]=t}else Ll(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;lt(t),o=!1}else o=wu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(hn(t),t):(hn(t),null)}return hn(t),(t.flags&128)!==0?(t.lanes=s,t):(s=i!==null,e=e!==null&&e.memoizedState!==null,s&&(i=t.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==o&&(i.flags|=2048)),s!==e&&s&&(t.child.flags|=8192),Go(t,t.updateQueue),lt(t),null);case 4:return tt(),e===null&&Ld(t.stateNode.containerInfo),lt(t),null;case 10:return ps(t.type),lt(t),null;case 19:if(H(gt),i=t.memoizedState,i===null)return lt(t),null;if(o=(t.flags&128)!==0,d=i.rendering,d===null)if(o)Wi(i,!1);else{if(ft!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=ko(e),d!==null){for(t.flags|=128,Wi(i,!1),e=d.updateQueue,t.updateQueue=e,Go(t,e),t.subtreeFlags=0,e=s,s=t.child;s!==null;)fm(s,e),s=s.sibling;return V(gt,gt.current&1|2),ke&&hs(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&Vt()>Fo&&(t.flags|=128,o=!0,Wi(i,!1),t.lanes=4194304)}else{if(!o)if(e=ko(d),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Go(t,e),Wi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!d.alternate&&!ke)return lt(t),null}else 2*Vt()-i.renderingStartTime>Fo&&s!==536870912&&(t.flags|=128,o=!0,Wi(i,!1),t.lanes=4194304);i.isBackwards?(d.sibling=t.child,t.child=d):(e=i.last,e!==null?e.sibling=d:t.child=d,i.last=d)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Vt(),e.sibling=null,s=gt.current,V(gt,o?s&1|2:s&1),ke&&hs(t,i.treeForkCount),e):(lt(t),null);case 22:case 23:return hn(t),$u(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(s&536870912)!==0&&(t.flags&128)===0&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),s=t.updateQueue,s!==null&&Go(t,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==s&&(t.flags|=2048),e!==null&&H(Hl),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),ps(yt),lt(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function cb(e,t){switch(Su(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ps(yt),tt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return kn(t),null;case 31:if(t.memoizedState!==null){if(hn(t),t.alternate===null)throw Error(r(340));Ll()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(hn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Ll()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return H(gt),null;case 4:return tt(),null;case 10:return ps(t.type),null;case 22:case 23:return hn(t),$u(),e!==null&&H(Hl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ps(yt),null;case 25:return null;default:return null}}function Hp(e,t){switch(Su(t),t.tag){case 3:ps(yt),tt();break;case 26:case 27:case 5:kn(t);break;case 4:tt();break;case 31:t.memoizedState!==null&&hn(t);break;case 13:hn(t);break;case 19:H(gt);break;case 10:ps(t.type);break;case 22:case 23:hn(t),$u(),e!==null&&H(Hl);break;case 24:ps(yt)}}function Ji(e,t){try{var s=t.updateQueue,i=s!==null?s.lastEffect:null;if(i!==null){var o=i.next;s=o;do{if((s.tag&e)===e){i=void 0;var d=s.create,m=s.inst;i=d(),m.destroy=i}s=s.next}while(s!==o)}}catch(y){Ye(t,t.return,y)}}function Fs(e,t,s){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var d=o.next;i=d;do{if((i.tag&e)===e){var m=i.inst,y=m.destroy;if(y!==void 0){m.destroy=void 0,o=t;var S=s,A=y;try{A()}catch(L){Ye(o,S,L)}}}i=i.next}while(i!==d)}}catch(L){Ye(t,t.return,L)}}function Ip(e){var t=e.updateQueue;if(t!==null){var s=e.stateNode;try{Dm(t,s)}catch(i){Ye(e,e.return,i)}}}function Bp(e,t,s){s.props=Gl(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(i){Ye(e,t,i)}}function er(e,t){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof s=="function"?e.refCleanup=s(i):s.current=i}}catch(o){Ye(e,t,o)}}function Kn(e,t){var s=e.ref,i=e.refCleanup;if(s!==null)if(typeof i=="function")try{i()}catch(o){Ye(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(o){Ye(e,t,o)}else s.current=null}function qp(e){var t=e.type,s=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&i.focus();break e;case"img":s.src?i.src=s.src:s.srcSet&&(i.srcset=s.srcSet)}}catch(o){Ye(e,e.return,o)}}function pd(e,t,s){try{var i=e.stateNode;kb(i,e.type,s,t),i[nt]=t}catch(o){Ye(e,e.return,o)}}function Yp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&nl(e.type)||e.tag===4}function gd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Yp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&nl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xd(e,t,s){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,t):(t=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,t.appendChild(e),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=cn));else if(i!==4&&(i===27&&nl(e.type)&&(s=e.stateNode,t=null),e=e.child,e!==null))for(xd(e,t,s),e=e.sibling;e!==null;)xd(e,t,s),e=e.sibling}function Vo(e,t,s){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(i!==4&&(i===27&&nl(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Vo(e,t,s),e=e.sibling;e!==null;)Vo(e,t,s),e=e.sibling}function Gp(e){var t=e.stateNode,s=e.memoizedProps;try{for(var i=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);$t(t,i,s),t[wt]=e,t[nt]=s}catch(d){Ye(e,e.return,d)}}var bs=!1,_t=!1,yd=!1,Vp=typeof WeakSet=="function"?WeakSet:Set,At=null;function ub(e,t){if(e=e.containerInfo,Hd=fc,e=sm(e),du(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var i=s.getSelection&&s.getSelection();if(i&&i.rangeCount!==0){s=i.anchorNode;var o=i.anchorOffset,d=i.focusNode;i=i.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var m=0,y=-1,S=-1,A=0,L=0,I=e,D=null;t:for(;;){for(var M;I!==s||o!==0&&I.nodeType!==3||(y=m+o),I!==d||i!==0&&I.nodeType!==3||(S=m+i),I.nodeType===3&&(m+=I.nodeValue.length),(M=I.firstChild)!==null;)D=I,I=M;for(;;){if(I===e)break t;if(D===s&&++A===o&&(y=m),D===d&&++L===i&&(S=m),(M=I.nextSibling)!==null)break;I=D,D=I.parentNode}I=M}s=y===-1||S===-1?null:{start:y,end:S}}else s=null}s=s||{start:0,end:0}}else s=null;for(Id={focusedElem:e,selectionRange:s},fc=!1,At=t;At!==null;)if(t=At,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,At=e;else for(;At!==null;){switch(t=At,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)o=e[s],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=t,o=d.memoizedProps,d=d.memoizedState,i=s.stateNode;try{var J=Gl(s.type,o);e=i.getSnapshotBeforeUpdate(J,d),i.__reactInternalSnapshotBeforeUpdate=e}catch(ae){Ye(s,s.return,ae)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,s=e.nodeType,s===9)Yd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Yd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,At=e;break}At=t.return}}function Pp(e,t,s){var i=s.flags;switch(s.tag){case 0:case 11:case 15:Ss(e,s),i&4&&Ji(5,s);break;case 1:if(Ss(e,s),i&4)if(e=s.stateNode,t===null)try{e.componentDidMount()}catch(m){Ye(s,s.return,m)}else{var o=Gl(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Ye(s,s.return,m)}}i&64&&Ip(s),i&512&&er(s,s.return);break;case 3:if(Ss(e,s),i&64&&(e=s.updateQueue,e!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{Dm(e,t)}catch(m){Ye(s,s.return,m)}}break;case 27:t===null&&i&4&&Gp(s);case 26:case 5:Ss(e,s),t===null&&i&4&&qp(s),i&512&&er(s,s.return);break;case 12:Ss(e,s);break;case 31:Ss(e,s),i&4&&Fp(e,s);break;case 13:Ss(e,s),i&4&&Zp(e,s),i&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=vb.bind(null,s),Hb(e,s))));break;case 22:if(i=s.memoizedState!==null||bs,!i){t=t!==null&&t.memoizedState!==null||_t,o=bs;var d=_t;bs=i,(_t=t)&&!d?Ns(e,s,(s.subtreeFlags&8772)!==0):Ss(e,s),bs=o,_t=d}break;case 30:break;default:Ss(e,s)}}function Qp(e){var t=e.alternate;t!==null&&(e.alternate=null,Qp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ua(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var rt=null,en=!1;function _s(e,t,s){for(s=s.child;s!==null;)Xp(e,t,s),s=s.sibling}function Xp(e,t,s){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(as,s)}catch{}switch(s.tag){case 26:_t||Kn(s,t),_s(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:_t||Kn(s,t);var i=rt,o=en;nl(s.type)&&(rt=s.stateNode,en=!1),_s(e,t,s),cr(s.stateNode),rt=i,en=o;break;case 5:_t||Kn(s,t);case 6:if(i=rt,o=en,rt=null,_s(e,t,s),rt=i,en=o,rt!==null)if(en)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(s.stateNode)}catch(d){Ye(s,t,d)}else try{rt.removeChild(s.stateNode)}catch(d){Ye(s,t,d)}break;case 18:rt!==null&&(en?(e=rt,I0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Fa(e)):I0(rt,s.stateNode));break;case 4:i=rt,o=en,rt=s.stateNode.containerInfo,en=!0,_s(e,t,s),rt=i,en=o;break;case 0:case 11:case 14:case 15:Fs(2,s,t),_t||Fs(4,s,t),_s(e,t,s);break;case 1:_t||(Kn(s,t),i=s.stateNode,typeof i.componentWillUnmount=="function"&&Bp(s,t,i)),_s(e,t,s);break;case 21:_s(e,t,s);break;case 22:_t=(i=_t)||s.memoizedState!==null,_s(e,t,s),_t=i;break;default:_s(e,t,s)}}function Fp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Fa(e)}catch(s){Ye(t,t.return,s)}}}function Zp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Fa(e)}catch(s){Ye(t,t.return,s)}}function db(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Vp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Vp),t;default:throw Error(r(435,e.tag))}}function Po(e,t){var s=db(e);t.forEach(function(i){if(!s.has(i)){s.add(i);var o=bb.bind(null,e,i);i.then(o,o)}})}function tn(e,t){var s=t.deletions;if(s!==null)for(var i=0;i<s.length;i++){var o=s[i],d=e,m=t,y=m;e:for(;y!==null;){switch(y.tag){case 27:if(nl(y.type)){rt=y.stateNode,en=!1;break e}break;case 5:rt=y.stateNode,en=!1;break e;case 3:case 4:rt=y.stateNode.containerInfo,en=!0;break e}y=y.return}if(rt===null)throw Error(r(160));Xp(d,m,o),rt=null,en=!1,d=o.alternate,d!==null&&(d.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Kp(t,e),t=t.sibling}var Un=null;function Kp(e,t){var s=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:tn(t,e),nn(e),i&4&&(Fs(3,e,e.return),Ji(3,e),Fs(5,e,e.return));break;case 1:tn(t,e),nn(e),i&512&&(_t||s===null||Kn(s,s.return)),i&64&&bs&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?i:s.concat(i))));break;case 26:var o=Un;if(tn(t,e),nn(e),i&512&&(_t||s===null||Kn(s,s.return)),i&4){var d=s!==null?s.memoizedState:null;if(i=e.memoizedState,s===null)if(i===null)if(e.stateNode===null){e:{i=e.type,s=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":d=o.getElementsByTagName("title")[0],(!d||d[ca]||d[wt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=o.createElement(i),o.head.insertBefore(d,o.querySelector("head > title"))),$t(d,i,s),d[wt]=e,ot(d),i=d;break e;case"link":var m=K0("link","href",o).get(i+(s.href||""));if(m){for(var y=0;y<m.length;y++)if(d=m[y],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){m.splice(y,1);break t}}d=o.createElement(i),$t(d,i,s),o.head.appendChild(d);break;case"meta":if(m=K0("meta","content",o).get(i+(s.content||""))){for(y=0;y<m.length;y++)if(d=m[y],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){m.splice(y,1);break t}}d=o.createElement(i),$t(d,i,s),o.head.appendChild(d);break;default:throw Error(r(468,i))}d[wt]=e,ot(d),i=d}e.stateNode=i}else W0(o,e.type,e.stateNode);else e.stateNode=Z0(o,i,e.memoizedProps);else d!==i?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,i===null?W0(o,e.type,e.stateNode):Z0(o,i,e.memoizedProps)):i===null&&e.stateNode!==null&&pd(e,e.memoizedProps,s.memoizedProps)}break;case 27:tn(t,e),nn(e),i&512&&(_t||s===null||Kn(s,s.return)),s!==null&&i&4&&pd(e,e.memoizedProps,s.memoizedProps);break;case 5:if(tn(t,e),nn(e),i&512&&(_t||s===null||Kn(s,s.return)),e.flags&32){o=e.stateNode;try{zn(o,"")}catch(J){Ye(e,e.return,J)}}i&4&&e.stateNode!=null&&(o=e.memoizedProps,pd(e,o,s!==null?s.memoizedProps:o)),i&1024&&(yd=!0);break;case 6:if(tn(t,e),nn(e),i&4){if(e.stateNode===null)throw Error(r(162));i=e.memoizedProps,s=e.stateNode;try{s.nodeValue=i}catch(J){Ye(e,e.return,J)}}break;case 3:if(oc=null,o=Un,Un=ic(t.containerInfo),tn(t,e),Un=o,nn(e),i&4&&s!==null&&s.memoizedState.isDehydrated)try{Fa(t.containerInfo)}catch(J){Ye(e,e.return,J)}yd&&(yd=!1,Wp(e));break;case 4:i=Un,Un=ic(e.stateNode.containerInfo),tn(t,e),nn(e),Un=i;break;case 12:tn(t,e),nn(e);break;case 31:tn(t,e),nn(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Po(e,i)));break;case 13:tn(t,e),nn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Xo=Vt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Po(e,i)));break;case 22:o=e.memoizedState!==null;var S=s!==null&&s.memoizedState!==null,A=bs,L=_t;if(bs=A||o,_t=L||S,tn(t,e),_t=L,bs=A,nn(e),i&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(s===null||S||bs||_t||Vl(e)),s=null,t=e;;){if(t.tag===5||t.tag===26){if(s===null){S=s=t;try{if(d=S.stateNode,o)m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{y=S.stateNode;var I=S.memoizedProps.style,D=I!=null&&I.hasOwnProperty("display")?I.display:null;y.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(J){Ye(S,S.return,J)}}}else if(t.tag===6){if(s===null){S=t;try{S.stateNode.nodeValue=o?"":S.memoizedProps}catch(J){Ye(S,S.return,J)}}}else if(t.tag===18){if(s===null){S=t;try{var M=S.stateNode;o?B0(M,!0):B0(S.stateNode,!1)}catch(J){Ye(S,S.return,J)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(s=i.retryQueue,s!==null&&(i.retryQueue=null,Po(e,s))));break;case 19:tn(t,e),nn(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Po(e,i)));break;case 30:break;case 21:break;default:tn(t,e),nn(e)}}function nn(e){var t=e.flags;if(t&2){try{for(var s,i=e.return;i!==null;){if(Yp(i)){s=i;break}i=i.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var o=s.stateNode,d=gd(e);Vo(e,d,o);break;case 5:var m=s.stateNode;s.flags&32&&(zn(m,""),s.flags&=-33);var y=gd(e);Vo(e,y,m);break;case 3:case 4:var S=s.stateNode.containerInfo,A=gd(e);xd(e,A,S);break;default:throw Error(r(161))}}catch(L){Ye(e,e.return,L)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Wp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ss(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Pp(e,t.alternate,t),t=t.sibling}function Vl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Fs(4,t,t.return),Vl(t);break;case 1:Kn(t,t.return);var s=t.stateNode;typeof s.componentWillUnmount=="function"&&Bp(t,t.return,s),Vl(t);break;case 27:cr(t.stateNode);case 26:case 5:Kn(t,t.return),Vl(t);break;case 22:t.memoizedState===null&&Vl(t);break;case 30:Vl(t);break;default:Vl(t)}e=e.sibling}}function Ns(e,t,s){for(s=s&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,o=e,d=t,m=d.flags;switch(d.tag){case 0:case 11:case 15:Ns(o,d,s),Ji(4,d);break;case 1:if(Ns(o,d,s),i=d,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(A){Ye(i,i.return,A)}if(i=d,o=i.updateQueue,o!==null){var y=i.stateNode;try{var S=o.shared.hiddenCallbacks;if(S!==null)for(o.shared.hiddenCallbacks=null,o=0;o<S.length;o++)Am(S[o],y)}catch(A){Ye(i,i.return,A)}}s&&m&64&&Ip(d),er(d,d.return);break;case 27:Gp(d);case 26:case 5:Ns(o,d,s),s&&i===null&&m&4&&qp(d),er(d,d.return);break;case 12:Ns(o,d,s);break;case 31:Ns(o,d,s),s&&m&4&&Fp(o,d);break;case 13:Ns(o,d,s),s&&m&4&&Zp(o,d);break;case 22:d.memoizedState===null&&Ns(o,d,s),er(d,d.return);break;case 30:break;default:Ns(o,d,s)}t=t.sibling}}function vd(e,t){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ii(s))}function bd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ii(e))}function Hn(e,t,s,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jp(e,t,s,i),t=t.sibling}function Jp(e,t,s,i){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Hn(e,t,s,i),o&2048&&Ji(9,t);break;case 1:Hn(e,t,s,i);break;case 3:Hn(e,t,s,i),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ii(e)));break;case 12:if(o&2048){Hn(e,t,s,i),e=t.stateNode;try{var d=t.memoizedProps,m=d.id,y=d.onPostCommit;typeof y=="function"&&y(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){Ye(t,t.return,S)}}else Hn(e,t,s,i);break;case 31:Hn(e,t,s,i);break;case 13:Hn(e,t,s,i);break;case 23:break;case 22:d=t.stateNode,m=t.alternate,t.memoizedState!==null?d._visibility&2?Hn(e,t,s,i):tr(e,t):d._visibility&2?Hn(e,t,s,i):(d._visibility|=2,Ua(e,t,s,i,(t.subtreeFlags&10256)!==0||!1)),o&2048&&vd(m,t);break;case 24:Hn(e,t,s,i),o&2048&&bd(t.alternate,t);break;default:Hn(e,t,s,i)}}function Ua(e,t,s,i,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,m=t,y=s,S=i,A=m.flags;switch(m.tag){case 0:case 11:case 15:Ua(d,m,y,S,o),Ji(8,m);break;case 23:break;case 22:var L=m.stateNode;m.memoizedState!==null?L._visibility&2?Ua(d,m,y,S,o):tr(d,m):(L._visibility|=2,Ua(d,m,y,S,o)),o&&A&2048&&vd(m.alternate,m);break;case 24:Ua(d,m,y,S,o),o&&A&2048&&bd(m.alternate,m);break;default:Ua(d,m,y,S,o)}t=t.sibling}}function tr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var s=e,i=t,o=i.flags;switch(i.tag){case 22:tr(s,i),o&2048&&vd(i.alternate,i);break;case 24:tr(s,i),o&2048&&bd(i.alternate,i);break;default:tr(s,i)}t=t.sibling}}var nr=8192;function Ha(e,t,s){if(e.subtreeFlags&nr)for(e=e.child;e!==null;)e0(e,t,s),e=e.sibling}function e0(e,t,s){switch(e.tag){case 26:Ha(e,t,s),e.flags&nr&&e.memoizedState!==null&&Kb(s,Un,e.memoizedState,e.memoizedProps);break;case 5:Ha(e,t,s);break;case 3:case 4:var i=Un;Un=ic(e.stateNode.containerInfo),Ha(e,t,s),Un=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=nr,nr=16777216,Ha(e,t,s),nr=i):Ha(e,t,s));break;default:Ha(e,t,s)}}function t0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function sr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var i=t[s];At=i,s0(i,e)}t0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)n0(e),e=e.sibling}function n0(e){switch(e.tag){case 0:case 11:case 15:sr(e),e.flags&2048&&Fs(9,e,e.return);break;case 3:sr(e);break;case 12:sr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Qo(e)):sr(e);break;default:sr(e)}}function Qo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var i=t[s];At=i,s0(i,e)}t0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Fs(8,t,t.return),Qo(t);break;case 22:s=t.stateNode,s._visibility&2&&(s._visibility&=-3,Qo(t));break;default:Qo(t)}e=e.sibling}}function s0(e,t){for(;At!==null;){var s=At;switch(s.tag){case 0:case 11:case 15:Fs(8,s,t);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var i=s.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ii(s.memoizedState.cache)}if(i=s.child,i!==null)i.return=s,At=i;else e:for(s=e;At!==null;){i=At;var o=i.sibling,d=i.return;if(Qp(i),i===s){At=null;break e}if(o!==null){o.return=d,At=o;break e}At=d}}}var fb={getCacheForType:function(e){var t=zt(yt),s=t.data.get(e);return s===void 0&&(s=e(),t.data.set(e,s)),s},cacheSignal:function(){return zt(yt).controller.signal}},hb=typeof WeakMap=="function"?WeakMap:Map,Ie=0,Ze=null,we=null,je=0,qe=0,mn=null,Zs=!1,Ia=!1,_d=!1,ws=0,ft=0,Ks=0,Pl=0,Sd=0,pn=0,Ba=0,lr=null,sn=null,Nd=!1,Xo=0,l0=0,Fo=1/0,Zo=null,Ws=null,Et=0,Js=null,qa=null,Cs=0,wd=0,Cd=null,a0=null,ar=0,Ed=null;function gn(){return(Ie&2)!==0&&je!==0?je&-je:z.T!==null?Md():so()}function i0(){if(pn===0)if((je&536870912)===0||ke){var e=aa;aa<<=1,(aa&3932160)===0&&(aa=262144),pn=e}else pn=536870912;return e=fn.current,e!==null&&(e.flags|=32),pn}function ln(e,t,s){(e===Ze&&(qe===2||qe===9)||e.cancelPendingCommit!==null)&&(Ya(e,0),el(e,je,pn,!1)),rs(e,s),((Ie&2)===0||e!==Ze)&&(e===Ze&&((Ie&2)===0&&(Pl|=s),ft===4&&el(e,je,pn,!1)),Wn(e))}function r0(e,t,s){if((Ie&6)!==0)throw Error(r(327));var i=!s&&(t&127)===0&&(t&e.expiredLanes)===0||Nt(e,t),o=i?gb(e,t):Td(e,t,!0),d=i;do{if(o===0){Ia&&!i&&el(e,t,0,!1);break}else{if(s=e.current.alternate,d&&!mb(s)){o=Td(e,t,!1),d=!1;continue}if(o===2){if(d=t,e.errorRecoveryDisabledLanes&d)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var y=e;o=lr;var S=y.current.memoizedState.isDehydrated;if(S&&(Ya(y,m).flags|=256),m=Td(y,m,!1),m!==2){if(_d&&!S){y.errorRecoveryDisabledLanes|=d,Pl|=d,o=4;break e}d=sn,sn=o,d!==null&&(sn===null?sn=d:sn.push.apply(sn,d))}o=m}if(d=!1,o!==2)continue}}if(o===1){Ya(e,0),el(e,t,0,!0);break}e:{switch(i=e,d=o,d){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:el(i,t,pn,!Zs);break e;case 2:sn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=Xo+300-Vt(),10<o)){if(el(i,t,pn,!Zs),Ls(i,0,!0)!==0)break e;Cs=t,i.timeoutHandle=U0(o0.bind(null,i,s,sn,Zo,Nd,t,pn,Pl,Ba,Zs,d,"Throttled",-0,0),o);break e}o0(i,s,sn,Zo,Nd,t,pn,Pl,Ba,Zs,d,null,-0,0)}}break}while(!0);Wn(e)}function o0(e,t,s,i,o,d,m,y,S,A,L,I,D,M){if(e.timeoutHandle=-1,I=t.subtreeFlags,I&8192||(I&16785408)===16785408){I={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:cn},e0(t,d,I);var J=(d&62914560)===d?Xo-Vt():(d&4194048)===d?l0-Vt():0;if(J=Wb(I,J),J!==null){Cs=d,e.cancelPendingCommit=J(g0.bind(null,e,t,d,s,i,o,m,y,S,L,I,null,D,M)),el(e,d,m,!A);return}}g0(e,t,d,s,i,o,m,y,S)}function mb(e){for(var t=e;;){var s=t.tag;if((s===0||s===11||s===15)&&t.flags&16384&&(s=t.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var i=0;i<s.length;i++){var o=s[i],d=o.getSnapshot;o=o.value;try{if(!un(d(),o))return!1}catch{return!1}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function el(e,t,s,i){t&=~Sd,t&=~Pl,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var o=t;0<o;){var d=31-Qt(o),m=1<<d;i[d]=-1,o&=~m}s!==0&&oa(e,s,t)}function Ko(){return(Ie&6)===0?(ir(0),!1):!0}function jd(){if(we!==null){if(qe===0)var e=we.return;else e=we,ms=$l=null,Yu(e),Ra=null,qi=0,e=we;for(;e!==null;)Hp(e.alternate,e),e=e.return;we=null}}function Ya(e,t){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Ob(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Cs=0,jd(),Ze=e,we=s=fs(e.current,null),je=t,qe=0,mn=null,Zs=!1,Ia=Nt(e,t),_d=!1,Ba=pn=Sd=Pl=Ks=ft=0,sn=lr=null,Nd=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var o=31-Qt(i),d=1<<o;t|=e[o],i&=~d}return ws=t,yo(),s}function c0(e,t){xe=null,z.H=Zi,t===Ma||t===Eo?(t=Cm(),qe=3):t===ku?(t=Cm(),qe=4):qe=t===ad?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,mn=t,we===null&&(ft=1,Io(e,Sn(t,e.current)))}function u0(){var e=fn.current;return e===null?!0:(je&4194048)===je?En===null:(je&62914560)===je||(je&536870912)!==0?e===En:!1}function d0(){var e=z.H;return z.H=Zi,e===null?Zi:e}function f0(){var e=z.A;return z.A=fb,e}function Wo(){ft=4,Zs||(je&4194048)!==je&&fn.current!==null||(Ia=!0),(Ks&134217727)===0&&(Pl&134217727)===0||Ze===null||el(Ze,je,pn,!1)}function Td(e,t,s){var i=Ie;Ie|=2;var o=d0(),d=f0();(Ze!==e||je!==t)&&(Zo=null,Ya(e,t)),t=!1;var m=ft;e:do try{if(qe!==0&&we!==null){var y=we,S=mn;switch(qe){case 8:jd(),m=6;break e;case 3:case 2:case 9:case 6:fn.current===null&&(t=!0);var A=qe;if(qe=0,mn=null,Ga(e,y,S,A),s&&Ia){m=0;break e}break;default:A=qe,qe=0,mn=null,Ga(e,y,S,A)}}pb(),m=ft;break}catch(L){c0(e,L)}while(!0);return t&&e.shellSuspendCounter++,ms=$l=null,Ie=i,z.H=o,z.A=d,we===null&&(Ze=null,je=0,yo()),m}function pb(){for(;we!==null;)h0(we)}function gb(e,t){var s=Ie;Ie|=2;var i=d0(),o=f0();Ze!==e||je!==t?(Zo=null,Fo=Vt()+500,Ya(e,t)):Ia=Nt(e,t);e:do try{if(qe!==0&&we!==null){t=we;var d=mn;t:switch(qe){case 1:qe=0,mn=null,Ga(e,t,d,1);break;case 2:case 9:if(Nm(d)){qe=0,mn=null,m0(t);break}t=function(){qe!==2&&qe!==9||Ze!==e||(qe=7),Wn(e)},d.then(t,t);break e;case 3:qe=7;break e;case 4:qe=5;break e;case 7:Nm(d)?(qe=0,mn=null,m0(t)):(qe=0,mn=null,Ga(e,t,d,7));break;case 5:var m=null;switch(we.tag){case 26:m=we.memoizedState;case 5:case 27:var y=we;if(m?J0(m):y.stateNode.complete){qe=0,mn=null;var S=y.sibling;if(S!==null)we=S;else{var A=y.return;A!==null?(we=A,Jo(A)):we=null}break t}}qe=0,mn=null,Ga(e,t,d,5);break;case 6:qe=0,mn=null,Ga(e,t,d,6);break;case 8:jd(),ft=6;break e;default:throw Error(r(462))}}xb();break}catch(L){c0(e,L)}while(!0);return ms=$l=null,z.H=i,z.A=o,Ie=s,we!==null?0:(Ze=null,je=0,yo(),ft)}function xb(){for(;we!==null&&!Wr();)h0(we)}function h0(e){var t=$p(e.alternate,e,ws);e.memoizedProps=e.pendingProps,t===null?Jo(e):we=t}function m0(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=kp(s,t,t.pendingProps,t.type,void 0,je);break;case 11:t=kp(s,t,t.pendingProps,t.type.render,t.ref,je);break;case 5:Yu(t);default:Hp(s,t),t=we=fm(t,ws),t=$p(s,t,ws)}e.memoizedProps=e.pendingProps,t===null?Jo(e):we=t}function Ga(e,t,s,i){ms=$l=null,Yu(t),Ra=null,qi=0;var o=t.return;try{if(ab(e,o,t,s,je)){ft=1,Io(e,Sn(s,e.current)),we=null;return}}catch(d){if(o!==null)throw we=o,d;ft=1,Io(e,Sn(s,e.current)),we=null;return}t.flags&32768?(ke||i===1?e=!0:Ia||(je&536870912)!==0?e=!1:(Zs=e=!0,(i===2||i===9||i===3||i===6)&&(i=fn.current,i!==null&&i.tag===13&&(i.flags|=16384))),p0(t,e)):Jo(t)}function Jo(e){var t=e;do{if((t.flags&32768)!==0){p0(t,Zs);return}e=t.return;var s=ob(t.alternate,t,ws);if(s!==null){we=s;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);ft===0&&(ft=5)}function p0(e,t){do{var s=cb(e.alternate,e);if(s!==null){s.flags&=32767,we=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&(e=e.sibling,e!==null)){we=e;return}we=e=s}while(e!==null);ft=6,we=null}function g0(e,t,s,i,o,d,m,y,S){e.cancelPendingCommit=null;do ec();while(Et!==0);if((Ie&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(d=t.lanes|t.childLanes,d|=gu,Uh(e,s,d,m,y,S),e===Ze&&(we=Ze=null,je=0),qa=t,Js=e,Cs=s,wd=d,Cd=o,a0=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_b(ls,function(){return _0(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=z.T,z.T=null,o=G.p,G.p=2,m=Ie,Ie|=4;try{ub(e,t,s)}finally{Ie=m,G.p=o,z.T=i}}Et=1,x0(),y0(),v0()}}function x0(){if(Et===1){Et=0;var e=Js,t=qa,s=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||s){s=z.T,z.T=null;var i=G.p;G.p=2;var o=Ie;Ie|=4;try{Kp(t,e);var d=Id,m=sm(e.containerInfo),y=d.focusedElem,S=d.selectionRange;if(m!==y&&y&&y.ownerDocument&&nm(y.ownerDocument.documentElement,y)){if(S!==null&&du(y)){var A=S.start,L=S.end;if(L===void 0&&(L=A),"selectionStart"in y)y.selectionStart=A,y.selectionEnd=Math.min(L,y.value.length);else{var I=y.ownerDocument||document,D=I&&I.defaultView||window;if(D.getSelection){var M=D.getSelection(),J=y.textContent.length,ae=Math.min(S.start,J),Qe=S.end===void 0?ae:Math.min(S.end,J);!M.extend&&ae>Qe&&(m=Qe,Qe=ae,ae=m);var j=tm(y,ae),E=tm(y,Qe);if(j&&E&&(M.rangeCount!==1||M.anchorNode!==j.node||M.anchorOffset!==j.offset||M.focusNode!==E.node||M.focusOffset!==E.offset)){var T=I.createRange();T.setStart(j.node,j.offset),M.removeAllRanges(),ae>Qe?(M.addRange(T),M.extend(E.node,E.offset)):(T.setEnd(E.node,E.offset),M.addRange(T))}}}}for(I=[],M=y;M=M.parentNode;)M.nodeType===1&&I.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<I.length;y++){var U=I[y];U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}fc=!!Hd,Id=Hd=null}finally{Ie=o,G.p=i,z.T=s}}e.current=t,Et=2}}function y0(){if(Et===2){Et=0;var e=Js,t=qa,s=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||s){s=z.T,z.T=null;var i=G.p;G.p=2;var o=Ie;Ie|=4;try{Pp(e,t.alternate,t)}finally{Ie=o,G.p=i,z.T=s}}Et=3}}function v0(){if(Et===4||Et===3){Et=0,xi();var e=Js,t=qa,s=Cs,i=a0;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Et=5:(Et=0,qa=Js=null,b0(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Ws=null),yl(s),t=t.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(as,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=z.T,o=G.p,G.p=2,z.T=null;try{for(var d=e.onRecoverableError,m=0;m<i.length;m++){var y=i[m];d(y.value,{componentStack:y.stack})}}finally{z.T=t,G.p=o}}(Cs&3)!==0&&ec(),Wn(e),o=e.pendingLanes,(s&261930)!==0&&(o&42)!==0?e===Ed?ar++:(ar=0,Ed=e):ar=0,ir(0)}}function b0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ii(t)))}function ec(){return x0(),y0(),v0(),_0()}function _0(){if(Et!==5)return!1;var e=Js,t=wd;wd=0;var s=yl(Cs),i=z.T,o=G.p;try{G.p=32>s?32:s,z.T=null,s=Cd,Cd=null;var d=Js,m=Cs;if(Et=0,qa=Js=null,Cs=0,(Ie&6)!==0)throw Error(r(331));var y=Ie;if(Ie|=4,n0(d.current),Jp(d,d.current,m,s),Ie=y,ir(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(as,d)}catch{}return!0}finally{G.p=o,z.T=i,b0(e,t)}}function S0(e,t,s){t=Sn(s,t),t=ld(e.stateNode,t,2),e=Ps(e,t,2),e!==null&&(rs(e,2),Wn(e))}function Ye(e,t,s){if(e.tag===3)S0(e,e,s);else for(;t!==null;){if(t.tag===3){S0(t,e,s);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ws===null||!Ws.has(i))){e=Sn(s,e),s=Np(2),i=Ps(t,s,2),i!==null&&(wp(s,i,t,e),rs(i,2),Wn(i));break}}t=t.return}}function Ad(e,t,s){var i=e.pingCache;if(i===null){i=e.pingCache=new hb;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(s)||(_d=!0,o.add(s),e=yb.bind(null,e,t,s),t.then(e,e))}function yb(e,t,s){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Ze===e&&(je&s)===s&&(ft===4||ft===3&&(je&62914560)===je&&300>Vt()-Xo?(Ie&2)===0&&Ya(e,0):Sd|=s,Ba===je&&(Ba=0)),Wn(e)}function N0(e,t){t===0&&(t=rn()),e=Ol(e,t),e!==null&&(rs(e,t),Wn(e))}function vb(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),N0(e,s)}function bb(e,t){var s=0;switch(e.tag){case 31:case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(s=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}i!==null&&i.delete(t),N0(e,s)}function _b(e,t){return Rs(e,t)}var tc=null,Va=null,Dd=!1,nc=!1,kd=!1,tl=0;function Wn(e){e!==Va&&e.next===null&&(Va===null?tc=Va=e:Va=Va.next=e),nc=!0,Dd||(Dd=!0,Nb())}function ir(e,t){if(!kd&&nc){kd=!0;do for(var s=!1,i=tc;i!==null;){if(e!==0){var o=i.pendingLanes;if(o===0)var d=0;else{var m=i.suspendedLanes,y=i.pingedLanes;d=(1<<31-Qt(42|e)+1)-1,d&=o&~(m&~y),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,j0(i,d))}else d=je,d=Ls(i,i===Ze?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(d&3)===0||Nt(i,d)||(s=!0,j0(i,d));i=i.next}while(s);kd=!1}}function Sb(){w0()}function w0(){nc=Dd=!1;var e=0;tl!==0&&Rb()&&(e=tl);for(var t=Vt(),s=null,i=tc;i!==null;){var o=i.next,d=C0(i,t);d===0?(i.next=null,s===null?tc=o:s.next=o,o===null&&(Va=s)):(s=i,(e!==0||(d&3)!==0)&&(nc=!0)),i=o}Et!==0&&Et!==5||ir(e),tl!==0&&(tl=0)}function C0(e,t){for(var s=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var m=31-Qt(d),y=1<<m,S=o[m];S===-1?((y&s)===0||(y&i)!==0)&&(o[m]=vi(y,t)):S<=t&&(e.expiredLanes|=y),d&=~y}if(t=Ze,s=je,s=Ls(e,e===t?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,s===0||e===t&&(qe===2||qe===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&ss(i),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Nt(e,s)){if(t=s&-s,t===e.callbackPriority)return t;switch(i!==null&&ss(i),yl(s)){case 2:case 8:s=eo;break;case 32:s=ls;break;case 268435456:s=xl;break;default:s=ls}return i=E0.bind(null,e),s=Rs(s,i),e.callbackPriority=t,e.callbackNode=s,t}return i!==null&&i!==null&&ss(i),e.callbackPriority=2,e.callbackNode=null,2}function E0(e,t){if(Et!==0&&Et!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ec()&&e.callbackNode!==s)return null;var i=je;return i=Ls(e,e===Ze?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(r0(e,i,t),C0(e,Vt()),e.callbackNode!=null&&e.callbackNode===s?E0.bind(null,e):null)}function j0(e,t){if(ec())return null;r0(e,t,!0)}function Nb(){zb(function(){(Ie&6)!==0?Rs(Jr,Sb):w0()})}function Md(){if(tl===0){var e=Da;e===0&&(e=zs,zs<<=1,(zs&261888)===0&&(zs=256)),tl=e}return tl}function T0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:pa(""+e)}function A0(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}function wb(e,t,s,i,o){if(t==="submit"&&s&&s.stateNode===o){var d=T0((o[nt]||null).action),m=i.submitter;m&&(t=(t=m[nt]||null)?T0(t.formAction):m.getAttribute("formAction"),t!==null&&(d=t,m=null));var y=new ya("action","action",null,i,o);e.push({event:y,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(tl!==0){var S=m?A0(o,m):new FormData(o);Wu(s,{pending:!0,data:S,method:o.method,action:d},null,S)}}else typeof d=="function"&&(y.preventDefault(),S=m?A0(o,m):new FormData(o),Wu(s,{pending:!0,data:S,method:o.method,action:d},d,S))},currentTarget:o}]})}}for(var Rd=0;Rd<pu.length;Rd++){var Od=pu[Rd],Cb=Od.toLowerCase(),Eb=Od[0].toUpperCase()+Od.slice(1);$n(Cb,"on"+Eb)}$n(im,"onAnimationEnd"),$n(rm,"onAnimationIteration"),$n(om,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(qv,"onTransitionRun"),$n(Yv,"onTransitionStart"),$n(Gv,"onTransitionCancel"),$n(cm,"onTransitionEnd"),Qn("onMouseEnter",["mouseout","mouseover"]),Qn("onMouseLeave",["mouseout","mouseover"]),Qn("onPointerEnter",["pointerout","pointerover"]),Qn("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rr));function D0(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var i=e[s],o=i.event;i=i.listeners;e:{var d=void 0;if(t)for(var m=i.length-1;0<=m;m--){var y=i[m],S=y.instance,A=y.currentTarget;if(y=y.listener,S!==d&&o.isPropagationStopped())break e;d=y,o.currentTarget=A;try{d(o)}catch(L){xo(L)}o.currentTarget=null,d=S}else for(m=0;m<i.length;m++){if(y=i[m],S=y.instance,A=y.currentTarget,y=y.listener,S!==d&&o.isPropagationStopped())break e;d=y,o.currentTarget=A;try{d(o)}catch(L){xo(L)}o.currentTarget=null,d=S}}}}function Ce(e,t){var s=t[os];s===void 0&&(s=t[os]=new Set);var i=e+"__bubble";s.has(i)||(k0(t,e,2,!1),s.add(i))}function zd(e,t,s){var i=0;t&&(i|=4),k0(s,e,i,t)}var sc="_reactListening"+Math.random().toString(36).slice(2);function Ld(e){if(!e[sc]){e[sc]=!0,Si.forEach(function(s){s!=="selectionchange"&&(jb.has(s)||zd(s,!1,e),zd(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[sc]||(t[sc]=!0,zd("selectionchange",!1,t))}}function k0(e,t,s,i){switch(ig(t)){case 2:var o=t1;break;case 8:o=n1;break;default:o=Kd}s=o.bind(null,t,s,e),o=void 0,!Ai||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,s,{capture:!0,passive:o}):e.addEventListener(t,s,!0):o!==void 0?e.addEventListener(t,s,{passive:o}):e.addEventListener(t,s,!1)}function $d(e,t,s,i,o){var d=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var m=i.tag;if(m===3||m===4){var y=i.stateNode.containerInfo;if(y===o)break;if(m===4)for(m=i.return;m!==null;){var S=m.tag;if((S===3||S===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;y!==null;){if(m=bl(y),m===null)return;if(S=m.tag,S===5||S===6||S===26||S===27){i=d=m;continue e}y=y.parentNode}}i=i.return}fo(function(){var A=d,L=ji(s),I=[];e:{var D=um.get(e);if(D!==void 0){var M=ya,J=e;switch(e){case"keypress":if(Xt(s)===0)break e;case"keydown":case"keyup":M=bv;break;case"focusin":J="focus",M=O;break;case"focusout":J="blur",M=O;break;case"beforeblur":case"afterblur":M=O;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=w;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=Nv;break;case im:case rm:case om:M=q;break;case cm:M=Cv;break;case"scroll":case"scrollend":M=ru;break;case"wheel":M=jv;break;case"copy":case"cut":case"paste":M=X;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Bh;break;case"toggle":case"beforetoggle":M=Av}var ae=(t&4)!==0,Qe=!ae&&(e==="scroll"||e==="scrollend"),j=ae?D!==null?D+"Capture":null:D;ae=[];for(var E=A,T;E!==null;){var U=E;if(T=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||T===null||j===null||(U=Tl(E,j),U!=null&&ae.push(or(E,U,T))),Qe)break;E=E.return}0<ae.length&&(D=new M(D,J,null,s,L),I.push({event:D,listeners:ae}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",D&&s!==Ei&&(J=s.relatedTarget||s.fromElement)&&(bl(J)||J[Vn]))break e;if((M||D)&&(D=L.window===L?L:(D=L.ownerDocument)?D.defaultView||D.parentWindow:window,M?(J=s.relatedTarget||s.toElement,M=A,J=J?bl(J):null,J!==null&&(Qe=f(J),ae=J.tag,J!==Qe||ae!==5&&ae!==27&&ae!==6)&&(J=null)):(M=null,J=A),M!==J)){if(ae=po,U="onMouseLeave",j="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(ae=Bh,U="onPointerLeave",j="onPointerEnter",E="pointer"),Qe=M==null?D:Sl(M),T=J==null?D:Sl(J),D=new ae(U,E+"leave",M,s,L),D.target=Qe,D.relatedTarget=T,U=null,bl(L)===A&&(ae=new ae(j,E+"enter",J,s,L),ae.target=T,ae.relatedTarget=Qe,U=ae),Qe=U,M&&J)t:{for(ae=Tb,j=M,E=J,T=0,U=j;U;U=ae(U))T++;U=0;for(var se=E;se;se=ae(se))U++;for(;0<T-U;)j=ae(j),T--;for(;0<U-T;)E=ae(E),U--;for(;T--;){if(j===E||E!==null&&j===E.alternate){ae=j;break t}j=ae(j),E=ae(E)}ae=null}else ae=null;M!==null&&M0(I,D,M,ae,!1),J!==null&&Qe!==null&&M0(I,Qe,J,ae,!0)}}e:{if(D=A?Sl(A):window,M=D.nodeName&&D.nodeName.toLowerCase(),M==="select"||M==="input"&&D.type==="file")var Le=Fh;else if(Qh(D))if(Zh)Le=Hv;else{Le=$v;var ee=Lv}else M=D.nodeName,!M||M.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?A&&Ci(A.elementType)&&(Le=Fh):Le=Uv;if(Le&&(Le=Le(e,A))){Xh(I,Le,s,L);break e}ee&&ee(e,D,A),e==="focusout"&&A&&D.type==="number"&&A.memoizedProps.value!=null&&Cl(D,"number",D.value)}switch(ee=A?Sl(A):window,e){case"focusin":(Qh(ee)||ee.contentEditable==="true")&&(Sa=ee,fu=A,$i=null);break;case"focusout":$i=fu=Sa=null;break;case"mousedown":hu=!0;break;case"contextmenu":case"mouseup":case"dragend":hu=!1,lm(I,s,L);break;case"selectionchange":if(Bv)break;case"keydown":case"keyup":lm(I,s,L)}var ve;if(ou)e:{switch(e){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else _a?Vh(e,s)&&(Te="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Te="onCompositionStart");Te&&(qh&&s.locale!=="ko"&&(_a||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&_a&&(ve=ho()):(Xn=L,Di="value"in Xn?Xn.value:Xn.textContent,_a=!0)),ee=lc(A,Te),0<ee.length&&(Te=new Ne(Te,e,null,s,L),I.push({event:Te,listeners:ee}),ve?Te.data=ve:(ve=Ph(s),ve!==null&&(Te.data=ve)))),(ve=kv?Mv(e,s):Rv(e,s))&&(Te=lc(A,"onBeforeInput"),0<Te.length&&(ee=new Ne("onBeforeInput","beforeinput",null,s,L),I.push({event:ee,listeners:Te}),ee.data=ve)),wb(I,e,A,s,L)}D0(I,t)})}function or(e,t,s){return{instance:e,listener:t,currentTarget:s}}function lc(e,t){for(var s=t+"Capture",i=[];e!==null;){var o=e,d=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||d===null||(o=Tl(e,s),o!=null&&i.unshift(or(e,o,d)),o=Tl(e,t),o!=null&&i.push(or(e,o,d))),e.tag===3)return i;e=e.return}return[]}function Tb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function M0(e,t,s,i,o){for(var d=t._reactName,m=[];s!==null&&s!==i;){var y=s,S=y.alternate,A=y.stateNode;if(y=y.tag,S!==null&&S===i)break;y!==5&&y!==26&&y!==27||A===null||(S=A,o?(A=Tl(s,d),A!=null&&m.unshift(or(s,A,S))):o||(A=Tl(s,d),A!=null&&m.push(or(s,A,S)))),s=s.return}m.length!==0&&e.push({event:t,listeners:m})}var Ab=/\r\n?/g,Db=/\u0000|\uFFFD/g;function R0(e){return(typeof e=="string"?e:""+e).replace(Ab,`
`).replace(Db,"")}function O0(e,t){return t=R0(t),R0(e)===t}function Pe(e,t,s,i,o,d){switch(s){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||zn(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&zn(e,""+i);break;case"className":wl(e,"class",i);break;case"tabIndex":wl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":wl(e,s,i);break;case"style":jl(e,i,d);break;case"data":if(t!=="object"){wl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||s!=="href")){e.removeAttribute(s);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(s);break}i=pa(""+i),e.setAttribute(s,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(t!=="input"&&Pe(e,t,"name",o.name,o,null),Pe(e,t,"formEncType",o.formEncType,o,null),Pe(e,t,"formMethod",o.formMethod,o,null),Pe(e,t,"formTarget",o.formTarget,o,null)):(Pe(e,t,"encType",o.encType,o,null),Pe(e,t,"method",o.method,o,null),Pe(e,t,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(s);break}i=pa(""+i),e.setAttribute(s,i);break;case"onClick":i!=null&&(e.onclick=cn);break;case"onScroll":i!=null&&Ce("scroll",e);break;case"onScrollEnd":i!=null&&Ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(s=i.__html,s!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}s=pa(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(s,""+i):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":i===!0?e.setAttribute(s,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(s,i):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(s,i):e.removeAttribute(s);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(s):e.setAttribute(s,i);break;case"popover":Ce("beforetoggle",e),Ce("toggle",e),Nl(e,"popover",i);break;case"xlinkActuate":On(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":On(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":On(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":On(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":On(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":On(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":On(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":On(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":On(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Nl(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=iu.get(s)||s,Nl(e,s,i))}}function Ud(e,t,s,i,o,d){switch(s){case"style":jl(e,i,d);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(s=i.__html,s!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof i=="string"?zn(e,i):(typeof i=="number"||typeof i=="bigint")&&zn(e,""+i);break;case"onScroll":i!=null&&Ce("scroll",e);break;case"onScrollEnd":i!=null&&Ce("scrollend",e);break;case"onClick":i!=null&&(e.onclick=cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!da.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(o=s.endsWith("Capture"),t=s.slice(2,o?s.length-7:void 0),d=e[nt]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(t,d,o),typeof i=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,i,o);break e}s in e?e[s]=i:i===!0?e.setAttribute(s,""):Nl(e,s,i)}}}function $t(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",e),Ce("load",e);var i=!1,o=!1,d;for(d in s)if(s.hasOwnProperty(d)){var m=s[d];if(m!=null)switch(d){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Pe(e,t,d,m,s,null)}}o&&Pe(e,t,"srcSet",s.srcSet,s,null),i&&Pe(e,t,"src",s.src,s,null);return;case"input":Ce("invalid",e);var y=d=m=o=null,S=null,A=null;for(i in s)if(s.hasOwnProperty(i)){var L=s[i];if(L!=null)switch(i){case"name":o=L;break;case"type":m=L;break;case"checked":S=L;break;case"defaultChecked":A=L;break;case"value":d=L;break;case"defaultValue":y=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,t));break;default:Pe(e,t,i,L,s,null)}}wi(e,d,y,S,A,m,o,!1);return;case"select":Ce("invalid",e),i=m=d=null;for(o in s)if(s.hasOwnProperty(o)&&(y=s[o],y!=null))switch(o){case"value":d=y;break;case"defaultValue":m=y;break;case"multiple":i=y;default:Pe(e,t,o,y,s,null)}t=d,s=m,e.multiple=!!i,t!=null?cs(e,!!i,t,!1):s!=null&&cs(e,!!i,s,!0);return;case"textarea":Ce("invalid",e),d=o=i=null;for(m in s)if(s.hasOwnProperty(m)&&(y=s[m],y!=null))switch(m){case"value":i=y;break;case"defaultValue":o=y;break;case"children":d=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:Pe(e,t,m,y,s,null)}oo(e,i,o,d);return;case"option":for(S in s)if(s.hasOwnProperty(S)&&(i=s[S],i!=null))switch(S){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Pe(e,t,S,i,s,null)}return;case"dialog":Ce("beforetoggle",e),Ce("toggle",e),Ce("cancel",e),Ce("close",e);break;case"iframe":case"object":Ce("load",e);break;case"video":case"audio":for(i=0;i<rr.length;i++)Ce(rr[i],e);break;case"image":Ce("error",e),Ce("load",e);break;case"details":Ce("toggle",e);break;case"embed":case"source":case"link":Ce("error",e),Ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in s)if(s.hasOwnProperty(A)&&(i=s[A],i!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Pe(e,t,A,i,s,null)}return;default:if(Ci(t)){for(L in s)s.hasOwnProperty(L)&&(i=s[L],i!==void 0&&Ud(e,t,L,i,s,void 0));return}}for(y in s)s.hasOwnProperty(y)&&(i=s[y],i!=null&&Pe(e,t,y,i,s,null))}function kb(e,t,s,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,d=null,m=null,y=null,S=null,A=null,L=null;for(M in s){var I=s[M];if(s.hasOwnProperty(M)&&I!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":S=I;default:i.hasOwnProperty(M)||Pe(e,t,M,null,i,I)}}for(var D in i){var M=i[D];if(I=s[D],i.hasOwnProperty(D)&&(M!=null||I!=null))switch(D){case"type":d=M;break;case"name":o=M;break;case"checked":A=M;break;case"defaultChecked":L=M;break;case"value":m=M;break;case"defaultValue":y=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,t));break;default:M!==I&&Pe(e,t,D,M,i,I)}}Us(e,m,y,S,A,L,d,o);return;case"select":M=m=y=D=null;for(d in s)if(S=s[d],s.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":M=S;default:i.hasOwnProperty(d)||Pe(e,t,d,null,i,S)}for(o in i)if(d=i[o],S=s[o],i.hasOwnProperty(o)&&(d!=null||S!=null))switch(o){case"value":D=d;break;case"defaultValue":y=d;break;case"multiple":m=d;default:d!==S&&Pe(e,t,o,d,i,S)}t=y,s=m,i=M,D!=null?cs(e,!!s,D,!1):!!i!=!!s&&(t!=null?cs(e,!!s,t,!0):cs(e,!!s,s?[]:"",!1));return;case"textarea":M=D=null;for(y in s)if(o=s[y],s.hasOwnProperty(y)&&o!=null&&!i.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Pe(e,t,y,null,i,o)}for(m in i)if(o=i[m],d=s[m],i.hasOwnProperty(m)&&(o!=null||d!=null))switch(m){case"value":D=o;break;case"defaultValue":M=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==d&&Pe(e,t,m,o,i,d)}_(e,D,M);return;case"option":for(var J in s)if(D=s[J],s.hasOwnProperty(J)&&D!=null&&!i.hasOwnProperty(J))switch(J){case"selected":e.selected=!1;break;default:Pe(e,t,J,null,i,D)}for(S in i)if(D=i[S],M=s[S],i.hasOwnProperty(S)&&D!==M&&(D!=null||M!=null))switch(S){case"selected":e.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Pe(e,t,S,D,i,M)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ae in s)D=s[ae],s.hasOwnProperty(ae)&&D!=null&&!i.hasOwnProperty(ae)&&Pe(e,t,ae,null,i,D);for(A in i)if(D=i[A],M=s[A],i.hasOwnProperty(A)&&D!==M&&(D!=null||M!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,t));break;default:Pe(e,t,A,D,i,M)}return;default:if(Ci(t)){for(var Qe in s)D=s[Qe],s.hasOwnProperty(Qe)&&D!==void 0&&!i.hasOwnProperty(Qe)&&Ud(e,t,Qe,void 0,i,D);for(L in i)D=i[L],M=s[L],!i.hasOwnProperty(L)||D===M||D===void 0&&M===void 0||Ud(e,t,L,D,i,M);return}}for(var j in s)D=s[j],s.hasOwnProperty(j)&&D!=null&&!i.hasOwnProperty(j)&&Pe(e,t,j,null,i,D);for(I in i)D=i[I],M=s[I],!i.hasOwnProperty(I)||D===M||D==null&&M==null||Pe(e,t,I,D,i,M)}function z0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Mb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,s=performance.getEntriesByType("resource"),i=0;i<s.length;i++){var o=s[i],d=o.transferSize,m=o.initiatorType,y=o.duration;if(d&&y&&z0(m)){for(m=0,y=o.responseEnd,i+=1;i<s.length;i++){var S=s[i],A=S.startTime;if(A>y)break;var L=S.transferSize,I=S.initiatorType;L&&z0(I)&&(S=S.responseEnd,m+=L*(S<y?1:(y-A)/(S-A)))}if(--i,t+=8*(d+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Hd=null,Id=null;function ac(e){return e.nodeType===9?e:e.ownerDocument}function L0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Bd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qd=null;function Rb(){var e=window.event;return e&&e.type==="popstate"?e===qd?!1:(qd=e,!0):(qd=null,!1)}var U0=typeof setTimeout=="function"?setTimeout:void 0,Ob=typeof clearTimeout=="function"?clearTimeout:void 0,H0=typeof Promise=="function"?Promise:void 0,zb=typeof queueMicrotask=="function"?queueMicrotask:typeof H0<"u"?function(e){return H0.resolve(null).then(e).catch(Lb)}:U0;function Lb(e){setTimeout(function(){throw e})}function nl(e){return e==="head"}function I0(e,t){var s=t,i=0;do{var o=s.nextSibling;if(e.removeChild(s),o&&o.nodeType===8)if(s=o.data,s==="/$"||s==="/&"){if(i===0){e.removeChild(o),Fa(t);return}i--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")i++;else if(s==="html")cr(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,cr(s);for(var d=s.firstChild;d;){var m=d.nextSibling,y=d.nodeName;d[ca]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=m}}else s==="body"&&cr(e.ownerDocument.body);s=o}while(s);Fa(t)}function B0(e,t){var s=e;e=0;do{var i=s.nextSibling;if(s.nodeType===1?t?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(t?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=i}while(s)}function Yd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Yd(s),ua(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function $b(e,t,s,i){for(;e.nodeType===1;){var o=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[ca])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function Ub(e,t,s){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=jn(e.nextSibling),e===null))return null;return e}function q0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=jn(e.nextSibling),e===null))return null;return e}function Gd(e){return e.data==="$?"||e.data==="$~"}function Vd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Hb(e,t){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||s.readyState!=="loading")t();else{var i=function(){t(),s.removeEventListener("DOMContentLoaded",i)};s.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function jn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Pd=null;function Y0(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(t===0)return jn(e.nextSibling);t--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||t++}e=e.nextSibling}return null}function G0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(t===0)return e;t--}else s!=="/$"&&s!=="/&"||t++}e=e.previousSibling}return null}function V0(e,t,s){switch(t=ac(s),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function cr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ua(e)}var Tn=new Map,P0=new Set;function ic(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Es=G.d;G.d={f:Ib,r:Bb,D:qb,C:Yb,L:Gb,m:Vb,X:Qb,S:Pb,M:Xb};function Ib(){var e=Es.f(),t=Ko();return e||t}function Bb(e){var t=_l(e);t!==null&&t.tag===5&&t.type==="form"?cp(t):Es.r(e)}var Pa=typeof document>"u"?null:document;function Q0(e,t,s){var i=Pa;if(i&&typeof t=="string"&&t){var o=Rt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof s=="string"&&(o+='[crossorigin="'+s+'"]'),P0.has(o)||(P0.add(o),e={rel:e,crossOrigin:s,href:t},i.querySelector(o)===null&&(t=i.createElement("link"),$t(t,"link",e),ot(t),i.head.appendChild(t)))}}function qb(e){Es.D(e),Q0("dns-prefetch",e,null)}function Yb(e,t){Es.C(e,t),Q0("preconnect",e,t)}function Gb(e,t,s){Es.L(e,t,s);var i=Pa;if(i&&e&&t){var o='link[rel="preload"][as="'+Rt(t)+'"]';t==="image"&&s&&s.imageSrcSet?(o+='[imagesrcset="'+Rt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(o+='[imagesizes="'+Rt(s.imageSizes)+'"]')):o+='[href="'+Rt(e)+'"]';var d=o;switch(t){case"style":d=Qa(e);break;case"script":d=Xa(e)}Tn.has(d)||(e=b({rel:"preload",href:t==="image"&&s&&s.imageSrcSet?void 0:e,as:t},s),Tn.set(d,e),i.querySelector(o)!==null||t==="style"&&i.querySelector(ur(d))||t==="script"&&i.querySelector(dr(d))||(t=i.createElement("link"),$t(t,"link",e),ot(t),i.head.appendChild(t)))}}function Vb(e,t){Es.m(e,t);var s=Pa;if(s&&e){var i=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Rt(i)+'"][href="'+Rt(e)+'"]',d=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Xa(e)}if(!Tn.has(d)&&(e=b({rel:"modulepreload",href:e},t),Tn.set(d,e),s.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(dr(d)))return}i=s.createElement("link"),$t(i,"link",e),ot(i),s.head.appendChild(i)}}}function Pb(e,t,s){Es.S(e,t,s);var i=Pa;if(i&&e){var o=$s(i).hoistableStyles,d=Qa(e);t=t||"default";var m=o.get(d);if(!m){var y={loading:0,preload:null};if(m=i.querySelector(ur(d)))y.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},s),(s=Tn.get(d))&&Qd(e,s);var S=m=i.createElement("link");ot(S),$t(S,"link",e),S._p=new Promise(function(A,L){S.onload=A,S.onerror=L}),S.addEventListener("load",function(){y.loading|=1}),S.addEventListener("error",function(){y.loading|=2}),y.loading|=4,rc(m,t,i)}m={type:"stylesheet",instance:m,count:1,state:y},o.set(d,m)}}}function Qb(e,t){Es.X(e,t);var s=Pa;if(s&&e){var i=$s(s).hoistableScripts,o=Xa(e),d=i.get(o);d||(d=s.querySelector(dr(o)),d||(e=b({src:e,async:!0},t),(t=Tn.get(o))&&Xd(e,t),d=s.createElement("script"),ot(d),$t(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},i.set(o,d))}}function Xb(e,t){Es.M(e,t);var s=Pa;if(s&&e){var i=$s(s).hoistableScripts,o=Xa(e),d=i.get(o);d||(d=s.querySelector(dr(o)),d||(e=b({src:e,async:!0,type:"module"},t),(t=Tn.get(o))&&Xd(e,t),d=s.createElement("script"),ot(d),$t(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},i.set(o,d))}}function X0(e,t,s,i){var o=(o=ye.current)?ic(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(t=Qa(s.href),s=$s(o).hoistableStyles,i=s.get(t),i||(i={type:"style",instance:null,count:0,state:null},s.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Qa(s.href);var d=$s(o).hoistableStyles,m=d.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,m),(d=o.querySelector(ur(e)))&&!d._p&&(m.instance=d,m.state.loading=5),Tn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Tn.set(e,s),d||Fb(o,e,s,m.state))),t&&i===null)throw Error(r(528,""));return m}if(t&&i!==null)throw Error(r(529,""));return null;case"script":return t=s.async,s=s.src,typeof s=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Xa(s),s=$s(o).hoistableScripts,i=s.get(t),i||(i={type:"script",instance:null,count:0,state:null},s.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Qa(e){return'href="'+Rt(e)+'"'}function ur(e){return'link[rel="stylesheet"]['+e+"]"}function F0(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Fb(e,t,s,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),$t(t,"link",s),ot(t),e.head.appendChild(t))}function Xa(e){return'[src="'+Rt(e)+'"]'}function dr(e){return"script[async]"+e}function Z0(e,t,s){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Rt(s.href)+'"]');if(i)return t.instance=i,ot(i),i;var o=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),ot(i),$t(i,"style",o),rc(i,s.precedence,e),t.instance=i;case"stylesheet":o=Qa(s.href);var d=e.querySelector(ur(o));if(d)return t.state.loading|=4,t.instance=d,ot(d),d;i=F0(s),(o=Tn.get(o))&&Qd(i,o),d=(e.ownerDocument||e).createElement("link"),ot(d);var m=d;return m._p=new Promise(function(y,S){m.onload=y,m.onerror=S}),$t(d,"link",i),t.state.loading|=4,rc(d,s.precedence,e),t.instance=d;case"script":return d=Xa(s.src),(o=e.querySelector(dr(d)))?(t.instance=o,ot(o),o):(i=s,(o=Tn.get(d))&&(i=b({},s),Xd(i,o)),e=e.ownerDocument||e,o=e.createElement("script"),ot(o),$t(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,rc(i,s.precedence,e));return t.instance}function rc(e,t,s){for(var i=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,d=o,m=0;m<i.length;m++){var y=i[m];if(y.dataset.precedence===t)d=y;else if(d!==o)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=s.nodeType===9?s.head:s,t.insertBefore(e,t.firstChild))}function Qd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Xd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var oc=null;function K0(e,t,s){if(oc===null){var i=new Map,o=oc=new Map;o.set(s,i)}else o=oc,i=o.get(s),i||(i=new Map,o.set(s,i));if(i.has(e))return i;for(i.set(e,null),s=s.getElementsByTagName(e),o=0;o<s.length;o++){var d=s[o];if(!(d[ca]||d[wt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var m=d.getAttribute(t)||"";m=e+m;var y=i.get(m);y?y.push(d):i.set(m,[d])}}return i}function W0(e,t,s){e=e.ownerDocument||e,e.head.insertBefore(s,t==="title"?e.querySelector("head > title"):null)}function Zb(e,t,s){if(s===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function J0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Kb(e,t,s,i){if(s.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var o=Qa(i.href),d=t.querySelector(ur(o));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=cc.bind(e),t.then(e,e)),s.state.loading|=4,s.instance=d,ot(d);return}d=t.ownerDocument||t,i=F0(i),(o=Tn.get(o))&&Qd(i,o),d=d.createElement("link"),ot(d);var m=d;m._p=new Promise(function(y,S){m.onload=y,m.onerror=S}),$t(d,"link",i),s.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=cc.bind(e),t.addEventListener("load",s),t.addEventListener("error",s))}}var Fd=0;function Wb(e,t){return e.stylesheets&&e.count===0&&dc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var i=setTimeout(function(){if(e.stylesheets&&dc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&Fd===0&&(Fd=62500*Mb());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&dc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Fd?50:800)+t);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(o)}}:null}function cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var uc=null;function dc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,uc=new Map,t.forEach(Jb,e),uc=null,cc.call(e))}function Jb(e,t){if(!(t.state.loading&4)){var s=uc.get(e);if(s)var i=s.get(null);else{s=new Map,uc.set(e,s);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<o.length;d++){var m=o[d];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(s.set(m.dataset.precedence,m),i=m)}i&&s.set(null,i)}o=t.instance,m=o.getAttribute("data-precedence"),d=s.get(m)||i,d===i&&s.set(null,o),s.set(m,o),this.count++,i=cc.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),d?d.parentNode.insertBefore(o,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var fr={$$typeof:fe,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function e1(e,t,s,i,o,d,m,y,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ra(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ra(0),this.hiddenUpdates=ra(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=d,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function eg(e,t,s,i,o,d,m,y,S,A,L,I){return e=new e1(e,t,s,m,S,A,L,I,y),t=1,d===!0&&(t|=24),d=dn(3,null,null,t),e.current=d,d.stateNode=e,t=Tu(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:i,isDehydrated:s,cache:t},Mu(d),e}function tg(e){return e?(e=Ca,e):Ca}function ng(e,t,s,i,o,d){o=tg(o),i.context===null?i.context=o:i.pendingContext=o,i=Vs(t),i.payload={element:s},d=d===void 0?null:d,d!==null&&(i.callback=d),s=Ps(e,i,t),s!==null&&(ln(s,e,t),Gi(s,e,t))}function sg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Zd(e,t){sg(e,t),(e=e.alternate)&&sg(e,t)}function lg(e){if(e.tag===13||e.tag===31){var t=Ol(e,67108864);t!==null&&ln(t,e,67108864),Zd(e,67108864)}}function ag(e){if(e.tag===13||e.tag===31){var t=gn();t=yn(t);var s=Ol(e,t);s!==null&&ln(s,e,t),Zd(e,t)}}var fc=!0;function t1(e,t,s,i){var o=z.T;z.T=null;var d=G.p;try{G.p=2,Kd(e,t,s,i)}finally{G.p=d,z.T=o}}function n1(e,t,s,i){var o=z.T;z.T=null;var d=G.p;try{G.p=8,Kd(e,t,s,i)}finally{G.p=d,z.T=o}}function Kd(e,t,s,i){if(fc){var o=Wd(i);if(o===null)$d(e,t,i,hc,s),rg(e,i);else if(l1(o,e,t,s,i))i.stopPropagation();else if(rg(e,i),t&4&&-1<s1.indexOf(e)){for(;o!==null;){var d=_l(o);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var m=is(d.pendingLanes);if(m!==0){var y=d;for(y.pendingLanes|=2,y.entangledLanes|=2;m;){var S=1<<31-Qt(m);y.entanglements[1]|=S,m&=~S}Wn(d),(Ie&6)===0&&(Fo=Vt()+500,ir(0))}}break;case 31:case 13:y=Ol(d,2),y!==null&&ln(y,d,2),Ko(),Zd(d,2)}if(d=Wd(i),d===null&&$d(e,t,i,hc,s),d===o)break;o=d}o!==null&&i.stopPropagation()}else $d(e,t,i,null,s)}}function Wd(e){return e=ji(e),Jd(e)}var hc=null;function Jd(e){if(hc=null,e=bl(e),e!==null){var t=f(e);if(t===null)e=null;else{var s=t.tag;if(s===13){if(e=h(t),e!==null)return e;e=null}else if(s===31){if(e=p(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return hc=e,null}function ig(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lu()){case Jr:return 2;case eo:return 8;case ls:case la:return 32;case xl:return 268435456;default:return 32}default:return 32}}var ef=!1,sl=null,ll=null,al=null,hr=new Map,mr=new Map,il=[],s1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rg(e,t){switch(e){case"focusin":case"focusout":sl=null;break;case"dragenter":case"dragleave":ll=null;break;case"mouseover":case"mouseout":al=null;break;case"pointerover":case"pointerout":hr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mr.delete(t.pointerId)}}function pr(e,t,s,i,o,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:s,eventSystemFlags:i,nativeEvent:d,targetContainers:[o]},t!==null&&(t=_l(t),t!==null&&lg(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function l1(e,t,s,i,o){switch(t){case"focusin":return sl=pr(sl,e,t,s,i,o),!0;case"dragenter":return ll=pr(ll,e,t,s,i,o),!0;case"mouseover":return al=pr(al,e,t,s,i,o),!0;case"pointerover":var d=o.pointerId;return hr.set(d,pr(hr.get(d)||null,e,t,s,i,o)),!0;case"gotpointercapture":return d=o.pointerId,mr.set(d,pr(mr.get(d)||null,e,t,s,i,o)),!0}return!1}function og(e){var t=bl(e.target);if(t!==null){var s=f(t);if(s!==null){if(t=s.tag,t===13){if(t=h(s),t!==null){e.blockedOn=t,bi(e.priority,function(){ag(s)});return}}else if(t===31){if(t=p(s),t!==null){e.blockedOn=t,bi(e.priority,function(){ag(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Wd(e.nativeEvent);if(s===null){s=e.nativeEvent;var i=new s.constructor(s.type,s);Ei=i,s.target.dispatchEvent(i),Ei=null}else return t=_l(s),t!==null&&lg(t),e.blockedOn=s,!1;t.shift()}return!0}function cg(e,t,s){mc(e)&&s.delete(t)}function a1(){ef=!1,sl!==null&&mc(sl)&&(sl=null),ll!==null&&mc(ll)&&(ll=null),al!==null&&mc(al)&&(al=null),hr.forEach(cg),mr.forEach(cg)}function pc(e,t){e.blockedOn===t&&(e.blockedOn=null,ef||(ef=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,a1)))}var gc=null;function ug(e){gc!==e&&(gc=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){gc===e&&(gc=null);for(var t=0;t<e.length;t+=3){var s=e[t],i=e[t+1],o=e[t+2];if(typeof i!="function"){if(Jd(i||s)===null)continue;break}var d=_l(s);d!==null&&(e.splice(t,3),t-=3,Wu(d,{pending:!0,data:o,method:s.method,action:i},i,o))}}))}function Fa(e){function t(S){return pc(S,e)}sl!==null&&pc(sl,e),ll!==null&&pc(ll,e),al!==null&&pc(al,e),hr.forEach(t),mr.forEach(t);for(var s=0;s<il.length;s++){var i=il[s];i.blockedOn===e&&(i.blockedOn=null)}for(;0<il.length&&(s=il[0],s.blockedOn===null);)og(s),s.blockedOn===null&&il.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(i=0;i<s.length;i+=3){var o=s[i],d=s[i+1],m=o[nt]||null;if(typeof d=="function")m||ug(s);else if(m){var y=null;if(d&&d.hasAttribute("formAction")){if(o=d,m=d[nt]||null)y=m.formAction;else if(Jd(o)!==null)continue}else y=m.action;typeof y=="function"?s[i+1]=y:(s.splice(i,3),i-=3),ug(s)}}}function dg(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),i||setTimeout(s,20)}function s(){if(!i&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(s,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function tf(e){this._internalRoot=e}xc.prototype.render=tf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var s=t.current,i=gn();ng(s,i,e,t,null,null)},xc.prototype.unmount=tf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ng(e.current,2,null,e,null,null),Ko(),t[Vn]=null}};function xc(e){this._internalRoot=e}xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=so();e={blockedOn:null,target:e,priority:t};for(var s=0;s<il.length&&t!==0&&t<il[s].priority;s++);il.splice(s,0,e),s===0&&og(e)}};var fg=n.version;if(fg!=="19.2.3")throw Error(r(527,fg,"19.2.3"));G.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(t),e=e!==null?N(e):null,e=e===null?null:e.stateNode,e};var i1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{as=yc.inject(i1),it=yc}catch{}}return xr.createRoot=function(e,t){if(!u(e))throw Error(r(299));var s=!1,i="",o=vp,d=bp,m=_p;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=eg(e,1,!1,null,null,s,i,null,o,d,m,dg),e[Vn]=t.current,Ld(e),new tf(t)},xr.hydrateRoot=function(e,t,s){if(!u(e))throw Error(r(299));var i=!1,o="",d=vp,m=bp,y=_p,S=null;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(y=s.onRecoverableError),s.formState!==void 0&&(S=s.formState)),t=eg(e,1,!0,t,s??null,i,o,S,d,m,y,dg),t.context=tg(null),s=t.current,i=gn(),i=yn(i),o=Vs(i),o.callback=null,Ps(s,o,i),s=i,t.current.lanes=s,rs(t,s),Wn(t),e[Vn]=t.current,Ld(e),new xc(t)},xr.version="19.2.3",xr}var Sg;function g1(){if(Sg)return lf.exports;Sg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),lf.exports=p1(),lf.exports}var x1=g1();const y1=kx(x1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),b1=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,a,r)=>r?r.toUpperCase():a.toLowerCase()),Ng=l=>{const n=b1(l);return n.charAt(0).toUpperCase()+n.slice(1)},Mx=(...l)=>l.filter((n,a,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===a).join(" ").trim(),_1=l=>{for(const n in l)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var S1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=k.forwardRef(({color:l="currentColor",size:n=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:u="",children:f,iconNode:h,...p},x)=>k.createElement("svg",{ref:x,...S1,width:n,height:n,stroke:l,strokeWidth:r?Number(a)*24/Number(n):a,className:Mx("lucide",u),...!f&&!_1(p)&&{"aria-hidden":"true"},...p},[...h.map(([g,N])=>k.createElement(g,N)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=(l,n)=>{const a=k.forwardRef(({className:r,...u},f)=>k.createElement(N1,{ref:f,iconNode:n,className:Mx(`lucide-${v1(Ng(l))}`,`lucide-${l}`,r),...u}));return a.displayName=Ng(l),a};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],C1=oe("arrow-right",w1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],wg=oe("book-open",E1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],T1=oe("calculator",j1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Qf=oe("calendar",A1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],k1=oe("chart-column",D1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],cf=oe("chart-pie",M1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Rx=oe("check",R1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],js=oe("chevron-left",O1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ol=oe("chevron-right",z1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$1=oe("circle-check-big",L1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ec=oe("circle-check",U1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],I1=oe("circle-x",H1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Cg=oe("clock",B1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1waht3"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"11",r:"3",key:"itu57m"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]],Y1=oe("contact",q1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],V1=oe("database",G1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Q1=oe("eye-off",P1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],F1=oe("eye",X1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Eg=oe("folder",Z1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Zl=oe("graduation-cap",K1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Xf=oe("history",W1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],e_=oe("house",J1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],n_=oe("layers",t_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Ox=oe("layout-dashboard",s_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],a_=oe("list",l_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],zx=oe("loader-circle",i_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],o_=oe("lock",r_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],jg=oe("log-in",c_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Tg=oe("log-out",u_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],f_=oe("message-circle",d_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Lx=oe("phone",h_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Sc=oe("plus",m_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],g_=oe("save",p_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],$x=oe("school",x_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ux=oe("search",y_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Hx=oe("settings",v_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Nc=oe("shield-check",b_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ff=oe("square-check-big",__);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ag=oe("square-pen",S_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],uf=oe("star",N_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ka=oe("trash-2",w_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Dg=oe("trending-up",C_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Zf=oe("triangle-alert",E_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],T_=oe("upload",j_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],D_=oe("user-minus",A_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],M_=oe("user",k_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ql=oe("users",R_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],kg=oe("wifi-off",O_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Jn=oe("x",z_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],wf=oe("zap",L_),$_=[{id:1,name:"1st Period",start:"08:10",end:"09:00"},{id:2,name:"2nd Period",start:"09:00",end:"09:45"},{id:3,name:"3rd Period",start:"09:45",end:"10:30"},{id:4,name:"4th Period",start:"10:30",end:"11:15"},{id:5,name:"Break",start:"11:15",end:"11:30",isBreak:!0},{id:6,name:"5th Period",start:"11:30",end:"12:15"},{id:7,name:"6th Period",start:"12:15",end:"13:00"},{id:8,name:"7th Period",start:"13:00",end:"13:30"}],wc={minimal_light:{id:"minimal_light",name:" Aurora Light",bg:"bg-gradient-to-br from-indigo-50 via-white to-pink-50",surface:"bg-white/80 backdrop-blur-sm border border-indigo-100 shadow-lg shadow-indigo-500/5",navBg:"bg-white/80 backdrop-blur-xl border-t border-indigo-200/50",sidebarBg:"bg-gradient-to-b from-white to-indigo-50/50 border-r border-indigo-100",textPrimary:"text-slate-800",textSecondary:"text-indigo-400",accent:"bg-gradient-to-r from-indigo-500 to-purple-500 text-white shadow-xl shadow-indigo-500/30 hover:shadow-2xl hover:shadow-indigo-500/40",accentText:"text-indigo-600",border:"border-indigo-200/60"},minimal_dark:{id:"minimal_dark",name:" Cosmic Dark",bg:"bg-gradient-to-br from-slate-950 via-indigo-950 to-slate-900",surface:"bg-slate-900/80 backdrop-blur-sm border border-indigo-500/20 shadow-xl shadow-indigo-500/5",navBg:"bg-slate-900/90 backdrop-blur-xl border-t border-indigo-500/20",sidebarBg:"bg-gradient-to-b from-slate-900 to-indigo-950/50 border-r border-indigo-500/20",textPrimary:"text-white",textSecondary:"text-indigo-300",accent:"bg-gradient-to-r from-violet-500 to-fuchsia-500 text-white shadow-xl shadow-violet-500/30 hover:shadow-2xl hover:shadow-violet-500/40",accentText:"text-violet-400",border:"border-indigo-500/20"},minimal_blue:{id:"minimal_blue",name:" Ocean Wave",bg:"bg-gradient-to-br from-cyan-50 via-blue-50 to-sky-100",surface:"bg-white/80 backdrop-blur-sm border border-cyan-200 shadow-lg shadow-cyan-500/10",navBg:"bg-white/80 backdrop-blur-xl border-t border-cyan-200/60",sidebarBg:"bg-gradient-to-b from-white to-cyan-50 border-r border-cyan-200",textPrimary:"text-slate-800",textSecondary:"text-cyan-600",accent:"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-xl shadow-cyan-500/30 hover:shadow-2xl hover:shadow-cyan-500/40",accentText:"text-cyan-600",border:"border-cyan-200"},minimal_purple:{id:"minimal_purple",name:" Violet Dream",bg:"bg-gradient-to-br from-purple-50 via-fuchsia-50 to-pink-50",surface:"bg-white/80 backdrop-blur-sm border border-purple-200 shadow-lg shadow-purple-500/10",navBg:"bg-white/80 backdrop-blur-xl border-t border-purple-200/60",sidebarBg:"bg-gradient-to-b from-white to-purple-50 border-r border-purple-200",textPrimary:"text-slate-800",textSecondary:"text-purple-500",accent:"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-xl shadow-purple-500/30 hover:shadow-2xl hover:shadow-purple-500/40",accentText:"text-purple-600",border:"border-purple-200"},minimal_gray:{id:"minimal_gray",name:" Midnight Steel",bg:"bg-gradient-to-br from-slate-100 via-gray-50 to-zinc-100",surface:"bg-white/90 backdrop-blur-sm border border-slate-200 shadow-lg shadow-slate-500/10",navBg:"bg-white/80 backdrop-blur-xl border-t border-slate-200/60",sidebarBg:"bg-gradient-to-b from-white to-slate-50 border-r border-slate-200",textPrimary:"text-slate-900",textSecondary:"text-slate-500",accent:"bg-gradient-to-r from-slate-700 to-slate-900 text-white shadow-xl shadow-slate-500/30 hover:shadow-2xl hover:shadow-slate-500/40",accentText:"text-slate-700",border:"border-slate-200"},minimal_green:{id:"minimal_green",name:" Emerald Forest",bg:"bg-gradient-to-br from-emerald-50 via-green-50 to-teal-50",surface:"bg-white/80 backdrop-blur-sm border border-emerald-200 shadow-lg shadow-emerald-500/10",navBg:"bg-white/80 backdrop-blur-xl border-t border-emerald-200/60",sidebarBg:"bg-gradient-to-b from-white to-emerald-50 border-r border-emerald-200",textPrimary:"text-slate-800",textSecondary:"text-emerald-600",accent:"bg-gradient-to-r from-emerald-500 to-teal-500 text-white shadow-xl shadow-emerald-500/30 hover:shadow-2xl hover:shadow-emerald-500/40",accentText:"text-emerald-600",border:"border-emerald-200"}},U_=()=>{};var Mg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q=function(l,n){if(!l)throw ci(n)},ci=function(l){return new Error("Firebase Database ("+Ix.SDK_VERSION+") INTERNAL ASSERT FAILED: "+l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=function(l){const n=[];let a=0;for(let r=0;r<l.length;r++){let u=l.charCodeAt(r);u<128?n[a++]=u:u<2048?(n[a++]=u>>6|192,n[a++]=u&63|128):(u&64512)===55296&&r+1<l.length&&(l.charCodeAt(r+1)&64512)===56320?(u=65536+((u&1023)<<10)+(l.charCodeAt(++r)&1023),n[a++]=u>>18|240,n[a++]=u>>12&63|128,n[a++]=u>>6&63|128,n[a++]=u&63|128):(n[a++]=u>>12|224,n[a++]=u>>6&63|128,n[a++]=u&63|128)}return n},H_=function(l){const n=[];let a=0,r=0;for(;a<l.length;){const u=l[a++];if(u<128)n[r++]=String.fromCharCode(u);else if(u>191&&u<224){const f=l[a++];n[r++]=String.fromCharCode((u&31)<<6|f&63)}else if(u>239&&u<365){const f=l[a++],h=l[a++],p=l[a++],x=((u&7)<<18|(f&63)<<12|(h&63)<<6|p&63)-65536;n[r++]=String.fromCharCode(55296+(x>>10)),n[r++]=String.fromCharCode(56320+(x&1023))}else{const f=l[a++],h=l[a++];n[r++]=String.fromCharCode((u&15)<<12|(f&63)<<6|h&63)}}return n.join("")},Kf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(l,n){if(!Array.isArray(l))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let u=0;u<l.length;u+=3){const f=l[u],h=u+1<l.length,p=h?l[u+1]:0,x=u+2<l.length,g=x?l[u+2]:0,N=f>>2,b=(f&3)<<4|p>>4;let v=(p&15)<<2|g>>6,R=g&63;x||(R=64,h||(v=64)),r.push(a[N],a[b],a[v],a[R])}return r.join("")},encodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(l):this.encodeByteArray(Bx(l),n)},decodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(l):H_(this.decodeStringToByteArray(l,n))},decodeStringToByteArray(l,n){this.init_();const a=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let u=0;u<l.length;){const f=a[l.charAt(u++)],p=u<l.length?a[l.charAt(u)]:0;++u;const g=u<l.length?a[l.charAt(u)]:64;++u;const b=u<l.length?a[l.charAt(u)]:64;if(++u,f==null||p==null||g==null||b==null)throw new I_;const v=f<<2|p>>4;if(r.push(v),g!==64){const R=p<<4&240|g>>2;if(r.push(R),b!==64){const P=g<<6&192|b;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let l=0;l<this.ENCODED_VALS.length;l++)this.byteToCharMap_[l]=this.ENCODED_VALS.charAt(l),this.charToByteMap_[this.byteToCharMap_[l]]=l,this.byteToCharMapWebSafe_[l]=this.ENCODED_VALS_WEBSAFE.charAt(l),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[l]]=l,l>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(l)]=l,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(l)]=l)}}};class I_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qx=function(l){const n=Bx(l);return Kf.encodeByteArray(n,!0)},jc=function(l){return qx(l).replace(/\./g,"")},Cf=function(l){try{return Kf.decodeString(l,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(l){return Yx(void 0,l)}function Yx(l,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const a=n;return new Date(a.getTime());case Object:l===void 0&&(l={});break;case Array:l=[];break;default:return n}for(const a in n)!n.hasOwnProperty(a)||!q_(a)||(l[a]=Yx(l[a],n[a]));return l}function q_(l){return l!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=()=>Y_().__FIREBASE_DEFAULTS__,V_=()=>{if(typeof process>"u"||typeof Mg>"u")return;const l=Mg.__FIREBASE_DEFAULTS__;if(l)return JSON.parse(l)},P_=()=>{if(typeof document>"u")return;let l;try{l=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=l&&Cf(l[1]);return n&&JSON.parse(n)},Gx=()=>{try{return U_()||G_()||V_()||P_()}catch(l){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${l}`);return}},Q_=l=>{var n,a;return(a=(n=Gx())==null?void 0:n.emulatorHosts)==null?void 0:a[l]},X_=l=>{const n=Q_(l);if(!n)return;const a=n.lastIndexOf(":");if(a<=0||a+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const r=parseInt(n.substring(a+1),10);return n[0]==="["?[n.substring(1,a-1),r]:[n.substring(0,a),r]},Vx=()=>{var l;return(l=Gx())==null?void 0:l.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,a)=>{this.resolve=n,this.reject=a})}wrapCallback(n){return(a,r)=>{a?this.reject(a):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(a):n(a,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(l){try{return(l.startsWith("http://")||l.startsWith("https://")?new URL(l).hostname:l).endsWith(".cloudworkstations.dev")}catch{return!1}}async function F_(l){return(await fetch(l,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(l,n){if(l.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},r=n||"demo-project",u=l.iat||0,f=l.sub||l.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:u,exp:u+3600,auth_time:u,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...l};return[jc(JSON.stringify(a)),jc(JSON.stringify(h)),""].join(".")}const Nr={};function K_(){const l={prod:[],emulator:[]};for(const n of Object.keys(Nr))Nr[n]?l.emulator.push(n):l.prod.push(n);return l}function W_(l){let n=document.getElementById(l),a=!1;return n||(n=document.createElement("div"),n.setAttribute("id",l),a=!0),{created:a,element:n}}let Rg=!1;function J_(l,n){if(typeof window>"u"||typeof document>"u"||!Wf(window.location.host)||Nr[l]===n||Nr[l]||Rg)return;Nr[l]=n;function a(v){return`__firebase__banner__${v}`}const r="__firebase__banner",f=K_().prod.length>0;function h(){const v=document.getElementById(r);v&&v.remove()}function p(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function x(v,R){v.setAttribute("width","24"),v.setAttribute("id",R),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function g(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Rg=!0,h()},v}function N(v,R){v.setAttribute("id",R),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function b(){const v=W_(r),R=a("text"),P=document.getElementById(R)||document.createElement("span"),Z=a("learnmore"),ce=document.getElementById(Z)||document.createElement("a"),te=a("preprendIcon"),le=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const fe=v.element;p(fe),N(ce,Z);const de=g();x(le,te),fe.append(le,P,ce,de),document.body.appendChild(fe)}f?(P.innerText="Preview backend disconnected.",le.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(le.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Px(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(e2())}function t2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function n2(){return Ix.NODE_ADMIN===!0}function s2(){try{return typeof indexedDB=="object"}catch{return!1}}function l2(){return new Promise((l,n)=>{try{let a=!0;const r="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(r);u.onsuccess=()=>{u.result.close(),a||self.indexedDB.deleteDatabase(r),l(!0)},u.onupgradeneeded=()=>{a=!1},u.onerror=()=>{var f;n(((f=u.error)==null?void 0:f.message)||"")}}catch(a){n(a)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="FirebaseError";class Yr extends Error{constructor(n,a,r){super(a),this.code=n,this.customData=r,this.name=a2,Object.setPrototypeOf(this,Yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qx.prototype.create)}}class Qx{constructor(n,a,r){this.service=n,this.serviceName=a,this.errors=r}create(n,...a){const r=a[0]||{},u=`${this.service}/${n}`,f=this.errors[n],h=f?i2(f,r):"Error",p=`${this.serviceName}: ${h} (${u}).`;return new Yr(u,p,r)}}function i2(l,n){return l.replace(r2,(a,r)=>{const u=n[r];return u!=null?String(u):`<${r}?>`})}const r2=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(l){return JSON.parse(l)}function Tt(l){return JSON.stringify(l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=function(l){let n={},a={},r={},u="";try{const f=l.split(".");n=Ar(Cf(f[0])||""),a=Ar(Cf(f[1])||""),u=f[2],r=a.d||{},delete a.d}catch{}return{header:n,claims:a,data:r,signature:u}},o2=function(l){const n=Xx(l),a=n.claims;return!!a&&typeof a=="object"&&a.hasOwnProperty("iat")},c2=function(l){const n=Xx(l).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(l,n){return Object.prototype.hasOwnProperty.call(l,n)}function ni(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]}function Og(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}function Tc(l,n,a){const r={};for(const u in l)Object.prototype.hasOwnProperty.call(l,u)&&(r[u]=n.call(a,l[u],u,l));return r}function Ac(l,n){if(l===n)return!0;const a=Object.keys(l),r=Object.keys(n);for(const u of a){if(!r.includes(u))return!1;const f=l[u],h=n[u];if(zg(f)&&zg(h)){if(!Ac(f,h))return!1}else if(f!==h)return!1}for(const u of r)if(!a.includes(u))return!1;return!0}function zg(l){return l!==null&&typeof l=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(l){const n=[];for(const[a,r]of Object.entries(l))Array.isArray(r)?r.forEach(u=>{n.push(encodeURIComponent(a)+"="+encodeURIComponent(u))}):n.push(encodeURIComponent(a)+"="+encodeURIComponent(r));return n.length?"&"+n.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,a){a||(a=0);const r=this.W_;if(typeof n=="string")for(let b=0;b<16;b++)r[b]=n.charCodeAt(a)<<24|n.charCodeAt(a+1)<<16|n.charCodeAt(a+2)<<8|n.charCodeAt(a+3),a+=4;else for(let b=0;b<16;b++)r[b]=n[a]<<24|n[a+1]<<16|n[a+2]<<8|n[a+3],a+=4;for(let b=16;b<80;b++){const v=r[b-3]^r[b-8]^r[b-14]^r[b-16];r[b]=(v<<1|v>>>31)&4294967295}let u=this.chain_[0],f=this.chain_[1],h=this.chain_[2],p=this.chain_[3],x=this.chain_[4],g,N;for(let b=0;b<80;b++){b<40?b<20?(g=p^f&(h^p),N=1518500249):(g=f^h^p,N=1859775393):b<60?(g=f&h|p&(f|h),N=2400959708):(g=f^h^p,N=3395469782);const v=(u<<5|u>>>27)+g+x+N+r[b]&4294967295;x=p,p=h,h=(f<<30|f>>>2)&4294967295,f=u,u=v}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+x&4294967295}update(n,a){if(n==null)return;a===void 0&&(a=n.length);const r=a-this.blockSize;let u=0;const f=this.buf_;let h=this.inbuf_;for(;u<a;){if(h===0)for(;u<=r;)this.compress_(n,u),u+=this.blockSize;if(typeof n=="string"){for(;u<a;)if(f[h]=n.charCodeAt(u),++h,++u,h===this.blockSize){this.compress_(f),h=0;break}}else for(;u<a;)if(f[h]=n[u],++h,++u,h===this.blockSize){this.compress_(f),h=0;break}}this.inbuf_=h,this.total_+=a}digest(){const n=[];let a=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let u=this.blockSize-1;u>=56;u--)this.buf_[u]=a&255,a/=256;this.compress_(this.buf_);let r=0;for(let u=0;u<5;u++)for(let f=24;f>=0;f-=8)n[r]=this.chain_[u]>>f&255,++r;return n}}function Pc(l,n){return`${l} failed: ${n} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=function(l){const n=[];let a=0;for(let r=0;r<l.length;r++){let u=l.charCodeAt(r);if(u>=55296&&u<=56319){const f=u-55296;r++,Q(r<l.length,"Surrogate pair missing trail surrogate.");const h=l.charCodeAt(r)-56320;u=65536+(f<<10)+h}u<128?n[a++]=u:u<2048?(n[a++]=u>>6|192,n[a++]=u&63|128):u<65536?(n[a++]=u>>12|224,n[a++]=u>>6&63|128,n[a++]=u&63|128):(n[a++]=u>>18|240,n[a++]=u>>12&63|128,n[a++]=u>>6&63|128,n[a++]=u&63|128)}return n},Qc=function(l){let n=0;for(let a=0;a<l.length;a++){const r=l.charCodeAt(a);r<128?n++:r<2048?n+=2:r>=55296&&r<=56319?(n+=4,a++):n+=3}return n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(l){return l&&l._delegate?l._delegate:l}class Dr{constructor(n,a,r){this.name=n,this.instanceFactory=a,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(n,a){this.name=n,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const a=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(a)){const r=new qr;if(this.instancesDeferred.set(a,r),this.isInitialized(a)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:a});u&&r.resolve(u)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(n){const a=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),r=(n==null?void 0:n.optional)??!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(r)return null;throw u}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(p2(n))try{this.getOrInitializeService({instanceIdentifier:Xl})}catch{}for(const[a,r]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);try{const f=this.getOrInitializeService({instanceIdentifier:u});r.resolve(f)}catch{}}}}clearInstance(n=Xl){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...n.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Xl){return this.instances.has(n)}getOptions(n=Xl){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:a={}}=n,r=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:r,options:a});for(const[f,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(f);r===p&&h.resolve(u)}return u}onInit(n,a){const r=this.normalizeInstanceIdentifier(a),u=this.onInitCallbacks.get(r)??new Set;u.add(n),this.onInitCallbacks.set(r,u);const f=this.instances.get(r);return f&&n(f,r),()=>{u.delete(n)}}invokeOnInitCallbacks(n,a){const r=this.onInitCallbacks.get(a);if(r)for(const u of r)try{u(n,a)}catch{}}getOrInitializeService({instanceIdentifier:n,options:a={}}){let r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:m2(n),options:a}),this.instances.set(n,r),this.instancesOptions.set(n,a),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch{}return r||null}normalizeInstanceIdentifier(n=Xl){return this.component?this.component.multipleInstances?n:Xl:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function m2(l){return l===Xl?void 0:l}function p2(l){return l.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const a=this.getProvider(n.name);if(a.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);a.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const a=new h2(n,this);return this.providers.set(n,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(l){l[l.DEBUG=0]="DEBUG",l[l.VERBOSE=1]="VERBOSE",l[l.INFO=2]="INFO",l[l.WARN=3]="WARN",l[l.ERROR=4]="ERROR",l[l.SILENT=5]="SILENT"})(Je||(Je={}));const x2={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},y2=Je.INFO,v2={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},b2=(l,n,...a)=>{if(n<l.logLevel)return;const r=new Date().toISOString(),u=v2[n];if(u)console[u](`[${r}]  ${l.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class Fx{constructor(n){this.name=n,this._logLevel=y2,this._logHandler=b2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Je))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?x2[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...n),this._logHandler(this,Je.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...n),this._logHandler(this,Je.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...n),this._logHandler(this,Je.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...n),this._logHandler(this,Je.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...n),this._logHandler(this,Je.ERROR,...n)}}const _2=(l,n)=>n.some(a=>l instanceof a);let Lg,$g;function S2(){return Lg||(Lg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function N2(){return $g||($g=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zx=new WeakMap,Ef=new WeakMap,Kx=new WeakMap,df=new WeakMap,Jf=new WeakMap;function w2(l){const n=new Promise((a,r)=>{const u=()=>{l.removeEventListener("success",f),l.removeEventListener("error",h)},f=()=>{a(ul(l.result)),u()},h=()=>{r(l.error),u()};l.addEventListener("success",f),l.addEventListener("error",h)});return n.then(a=>{a instanceof IDBCursor&&Zx.set(a,l)}).catch(()=>{}),Jf.set(n,l),n}function C2(l){if(Ef.has(l))return;const n=new Promise((a,r)=>{const u=()=>{l.removeEventListener("complete",f),l.removeEventListener("error",h),l.removeEventListener("abort",h)},f=()=>{a(),u()},h=()=>{r(l.error||new DOMException("AbortError","AbortError")),u()};l.addEventListener("complete",f),l.addEventListener("error",h),l.addEventListener("abort",h)});Ef.set(l,n)}let jf={get(l,n,a){if(l instanceof IDBTransaction){if(n==="done")return Ef.get(l);if(n==="objectStoreNames")return l.objectStoreNames||Kx.get(l);if(n==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return ul(l[n])},set(l,n,a){return l[n]=a,!0},has(l,n){return l instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in l}};function E2(l){jf=l(jf)}function j2(l){return l===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...a){const r=l.call(ff(this),n,...a);return Kx.set(r,n.sort?n.sort():[n]),ul(r)}:N2().includes(l)?function(...n){return l.apply(ff(this),n),ul(Zx.get(this))}:function(...n){return ul(l.apply(ff(this),n))}}function T2(l){return typeof l=="function"?j2(l):(l instanceof IDBTransaction&&C2(l),_2(l,S2())?new Proxy(l,jf):l)}function ul(l){if(l instanceof IDBRequest)return w2(l);if(df.has(l))return df.get(l);const n=T2(l);return n!==l&&(df.set(l,n),Jf.set(n,l)),n}const ff=l=>Jf.get(l);function A2(l,n,{blocked:a,upgrade:r,blocking:u,terminated:f}={}){const h=indexedDB.open(l,n),p=ul(h);return r&&h.addEventListener("upgradeneeded",x=>{r(ul(h.result),x.oldVersion,x.newVersion,ul(h.transaction),x)}),a&&h.addEventListener("blocked",x=>a(x.oldVersion,x.newVersion,x)),p.then(x=>{f&&x.addEventListener("close",()=>f()),u&&x.addEventListener("versionchange",g=>u(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const D2=["get","getKey","getAll","getAllKeys","count"],k2=["put","add","delete","clear"],hf=new Map;function Ug(l,n){if(!(l instanceof IDBDatabase&&!(n in l)&&typeof n=="string"))return;if(hf.get(n))return hf.get(n);const a=n.replace(/FromIndex$/,""),r=n!==a,u=k2.includes(a);if(!(a in(r?IDBIndex:IDBObjectStore).prototype)||!(u||D2.includes(a)))return;const f=async function(h,...p){const x=this.transaction(h,u?"readwrite":"readonly");let g=x.store;return r&&(g=g.index(p.shift())),(await Promise.all([g[a](...p),u&&x.done]))[0]};return hf.set(n,f),f}E2(l=>({...l,get:(n,a,r)=>Ug(n,a)||l.get(n,a,r),has:(n,a)=>!!Ug(n,a)||l.has(n,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(R2(a)){const r=a.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(a=>a).join(" ")}}function R2(l){const n=l.getComponent();return(n==null?void 0:n.type)==="VERSION"}const Tf="@firebase/app",Hg="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new Fx("@firebase/app"),O2="@firebase/app-compat",z2="@firebase/analytics-compat",L2="@firebase/analytics",$2="@firebase/app-check-compat",U2="@firebase/app-check",H2="@firebase/auth",I2="@firebase/auth-compat",B2="@firebase/database",q2="@firebase/data-connect",Y2="@firebase/database-compat",G2="@firebase/functions",V2="@firebase/functions-compat",P2="@firebase/installations",Q2="@firebase/installations-compat",X2="@firebase/messaging",F2="@firebase/messaging-compat",Z2="@firebase/performance",K2="@firebase/performance-compat",W2="@firebase/remote-config",J2="@firebase/remote-config-compat",eS="@firebase/storage",tS="@firebase/storage-compat",nS="@firebase/firestore",sS="@firebase/ai",lS="@firebase/firestore-compat",aS="firebase",iS="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="[DEFAULT]",rS={[Tf]:"fire-core",[O2]:"fire-core-compat",[L2]:"fire-analytics",[z2]:"fire-analytics-compat",[U2]:"fire-app-check",[$2]:"fire-app-check-compat",[H2]:"fire-auth",[I2]:"fire-auth-compat",[B2]:"fire-rtdb",[q2]:"fire-data-connect",[Y2]:"fire-rtdb-compat",[G2]:"fire-fn",[V2]:"fire-fn-compat",[P2]:"fire-iid",[Q2]:"fire-iid-compat",[X2]:"fire-fcm",[F2]:"fire-fcm-compat",[Z2]:"fire-perf",[K2]:"fire-perf-compat",[W2]:"fire-rc",[J2]:"fire-rc-compat",[eS]:"fire-gcs",[tS]:"fire-gcs-compat",[nS]:"fire-fst",[lS]:"fire-fst-compat",[sS]:"fire-vertex","fire-js":"fire-js",[aS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr=new Map,oS=new Map,Df=new Map;function Ig(l,n){try{l.container.addComponent(n)}catch(a){Ds.debug(`Component ${n.name} failed to register with FirebaseApp ${l.name}`,a)}}function Dc(l){const n=l.name;if(Df.has(n))return Ds.debug(`There were multiple attempts to register component ${n}.`),!1;Df.set(n,l);for(const a of kr.values())Ig(a,l);for(const a of oS.values())Ig(a,l);return!0}function cS(l,n){const a=l.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),l.container.getProvider(n)}function uS(l){return l==null?!1:l.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dl=new Qx("app","Firebase",dS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(n,a,r){this._isDeleted=!1,this._options={...n},this._config={...a},this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw dl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=iS;function Wx(l,n={}){let a=l;typeof n!="object"&&(n={name:n});const r={name:Af,automaticDataCollectionEnabled:!0,...n},u=r.name;if(typeof u!="string"||!u)throw dl.create("bad-app-name",{appName:String(u)});if(a||(a=Vx()),!a)throw dl.create("no-options");const f=kr.get(u);if(f){if(Ac(a,f.options)&&Ac(r,f.config))return f;throw dl.create("duplicate-app",{appName:u})}const h=new g2(u);for(const x of Df.values())h.addComponent(x);const p=new fS(a,r,h);return kr.set(u,p),p}function Jx(l=Af){const n=kr.get(l);if(!n&&l===Af&&Vx())return Wx();if(!n)throw dl.create("no-app",{appName:l});return n}function mS(){return Array.from(kr.values())}function Ja(l,n,a){let r=rS[l]??l;a&&(r+=`-${a}`);const u=r.match(/\s|\//),f=n.match(/\s|\//);if(u||f){const h=[`Unable to register library "${r}" with version "${n}":`];u&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),u&&f&&h.push("and"),f&&h.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Ds.warn(h.join(" "));return}Dc(new Dr(`${r}-version`,()=>({library:r,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="firebase-heartbeat-database",gS=1,Mr="firebase-heartbeat-store";let mf=null;function ey(){return mf||(mf=A2(pS,gS,{upgrade:(l,n)=>{switch(n){case 0:try{l.createObjectStore(Mr)}catch(a){console.warn(a)}}}}).catch(l=>{throw dl.create("idb-open",{originalErrorMessage:l.message})})),mf}async function xS(l){try{const a=(await ey()).transaction(Mr),r=await a.objectStore(Mr).get(ty(l));return await a.done,r}catch(n){if(n instanceof Yr)Ds.warn(n.message);else{const a=dl.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});Ds.warn(a.message)}}}async function Bg(l,n){try{const r=(await ey()).transaction(Mr,"readwrite");await r.objectStore(Mr).put(n,ty(l)),await r.done}catch(a){if(a instanceof Yr)Ds.warn(a.message);else{const r=dl.create("idb-set",{originalErrorMessage:a==null?void 0:a.message});Ds.warn(r.message)}}}function ty(l){return`${l.name}!${l.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=1024,vS=30;class bS{constructor(n){this.container=n,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new SS(a),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var n,a;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=qg();if(((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((a=this._heartbeatsCache)==null?void 0:a.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(h=>h.date===f))return;if(this._heartbeatsCache.heartbeats.push({date:f,agent:u}),this._heartbeatsCache.heartbeats.length>vS){const h=NS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ds.warn(r)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const a=qg(),{heartbeatsToSend:r,unsentEntries:u}=_S(this._heartbeatsCache.heartbeats),f=jc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=a,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(a){return Ds.warn(a),""}}}function qg(){return new Date().toISOString().substring(0,10)}function _S(l,n=yS){const a=[];let r=l.slice();for(const u of l){const f=a.find(h=>h.agent===u.agent);if(f){if(f.dates.push(u.date),Yg(a)>n){f.dates.pop();break}}else if(a.push({agent:u.agent,dates:[u.date]}),Yg(a)>n){a.pop();break}r=r.slice(1)}return{heartbeatsToSend:a,unsentEntries:r}}class SS{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s2()?l2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await xS(this.app);return a!=null&&a.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return Bg(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return Bg(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...n.heartbeats]})}else return}}function Yg(l){return jc(JSON.stringify({version:2,heartbeats:l})).length}function NS(l){if(l.length===0)return-1;let n=0,a=l[0].date;for(let r=1;r<l.length;r++)l[r].date<a&&(a=l[r].date,n=r);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(l){Dc(new Dr("platform-logger",n=>new M2(n),"PRIVATE")),Dc(new Dr("heartbeat",n=>new bS(n),"PRIVATE")),Ja(Tf,Hg,l),Ja(Tf,Hg,"esm2020"),Ja("fire-js","")}wS("");var CS="firebase",ES="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ja(CS,ES,"app");var Gg={};const Vg="@firebase/database",Pg="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ny="";function jS(l){ny=l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,a){a==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),Tt(a))}get(n){const a=this.domStorage_.getItem(this.prefixedName_(n));return a==null?null:Ar(a)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,a){a==null?delete this.cache_[n]:this.cache_[n]=a}get(n){return es(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=function(l){try{if(typeof window<"u"&&typeof window[l]<"u"){const n=window[l];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new TS(n)}}catch{}return new AS},Kl=sy("localStorage"),DS=sy("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=new Fx("@firebase/database"),kS=(function(){let l=1;return function(){return l++}})(),ly=function(l){const n=f2(l),a=new d2;a.update(n);const r=a.digest();return Kf.encodeByteArray(r)},Gr=function(...l){let n="";for(let a=0;a<l.length;a++){const r=l[a];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?n+=Gr.apply(null,r):typeof r=="object"?n+=Tt(r):n+=r,n+=" "}return n};let wr=null,Qg=!0;const MS=function(l,n){Q(!0,"Can't turn on custom loggers persistently."),ei.logLevel=Je.VERBOSE,wr=ei.log.bind(ei)},Ut=function(...l){if(Qg===!0&&(Qg=!1,wr===null&&DS.get("logging_enabled")===!0&&MS()),wr){const n=Gr.apply(null,l);wr(n)}},Vr=function(l){return function(...n){Ut(l,...n)}},kf=function(...l){const n="FIREBASE INTERNAL ERROR: "+Gr(...l);ei.error(n)},ks=function(...l){const n=`FIREBASE FATAL ERROR: ${Gr(...l)}`;throw ei.error(n),new Error(n)},Wt=function(...l){const n="FIREBASE WARNING: "+Gr(...l);ei.warn(n)},RS=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Wt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},eh=function(l){return typeof l=="number"&&(l!==l||l===Number.POSITIVE_INFINITY||l===Number.NEGATIVE_INFINITY)},OS=function(l){if(document.readyState==="complete")l();else{let n=!1;const a=function(){if(!document.body){setTimeout(a,Math.floor(10));return}n||(n=!0,l())};document.addEventListener?(document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&a()}),window.attachEvent("onload",a))}},si="[MIN_NAME]",Wl="[MAX_NAME]",ta=function(l,n){if(l===n)return 0;if(l===si||n===Wl)return-1;if(n===si||l===Wl)return 1;{const a=Xg(l),r=Xg(n);return a!==null?r!==null?a-r===0?l.length-n.length:a-r:-1:r!==null?1:l<n?-1:1}},zS=function(l,n){return l===n?0:l<n?-1:1},yr=function(l,n){if(n&&l in n)return n[l];throw new Error("Missing required key ("+l+") in object: "+Tt(n))},th=function(l){if(typeof l!="object"||l===null)return Tt(l);const n=[];for(const r in l)n.push(r);n.sort();let a="{";for(let r=0;r<n.length;r++)r!==0&&(a+=","),a+=Tt(n[r]),a+=":",a+=th(l[n[r]]);return a+="}",a},ay=function(l,n){const a=l.length;if(a<=n)return[l];const r=[];for(let u=0;u<a;u+=n)u+n>a?r.push(l.substring(u,a)):r.push(l.substring(u,u+n));return r};function Ht(l,n){for(const a in l)l.hasOwnProperty(a)&&n(a,l[a])}const iy=function(l){Q(!eh(l),"Invalid JSON number");const n=11,a=52,r=(1<<n-1)-1;let u,f,h,p,x;l===0?(f=0,h=0,u=1/l===-1/0?1:0):(u=l<0,l=Math.abs(l),l>=Math.pow(2,1-r)?(p=Math.min(Math.floor(Math.log(l)/Math.LN2),r),f=p+r,h=Math.round(l*Math.pow(2,a-p)-Math.pow(2,a))):(f=0,h=Math.round(l/Math.pow(2,1-r-a))));const g=[];for(x=a;x;x-=1)g.push(h%2?1:0),h=Math.floor(h/2);for(x=n;x;x-=1)g.push(f%2?1:0),f=Math.floor(f/2);g.push(u?1:0),g.reverse();const N=g.join("");let b="";for(x=0;x<64;x+=8){let v=parseInt(N.substr(x,8),2).toString(16);v.length===1&&(v="0"+v),b=b+v}return b.toLowerCase()},LS=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},$S=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function US(l,n){let a="Unknown Error";l==="too_big"?a="The data requested exceeds the maximum size that can be accessed with a single request.":l==="permission_denied"?a="Client doesn't have permission to access the desired data.":l==="unavailable"&&(a="The service is unavailable");const r=new Error(l+" at "+n._path.toString()+": "+a);return r.code=l.toUpperCase(),r}const HS=new RegExp("^-?(0*)\\d{1,10}$"),IS=-2147483648,BS=2147483647,Xg=function(l){if(HS.test(l)){const n=Number(l);if(n>=IS&&n<=BS)return n}return null},di=function(l){try{l()}catch(n){setTimeout(()=>{const a=n.stack||"";throw Wt("Exception was thrown by user callback.",a),n},Math.floor(0))}},qS=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Cr=function(l,n){const a=setTimeout(l,n);return typeof a=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(a):typeof a=="object"&&a.unref&&a.unref(),a};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(n,a){this.appCheckProvider=a,this.appName=n.name,uS(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=a==null?void 0:a.getImmediate({optional:!0}),this.appCheck||a==null||a.get().then(r=>this.appCheck=r)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((a,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(a,r):a(null)},0)})}addTokenChangeListener(n){var a;(a=this.appCheckProvider)==null||a.get().then(r=>r.addTokenListener(n))}notifyForInvalidToken(){Wt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(n,a,r){this.appName_=n,this.firebaseOptions_=a,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(u=>this.auth_=u)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(a=>a&&a.code==="auth/token-not-initialized"?(Ut("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(a)):new Promise((a,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(a,r):a(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(a=>a.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(a=>a.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Wt(n)}}class Cc{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}Cc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh="5",ry="v",oy="s",cy="r",uy="f",dy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,fy="ls",hy="p",Mf="ac",my="websocket",py="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(n,a,r,u,f=!1,h="",p=!1,x=!1,g=null){this.secure=a,this.namespace=r,this.webSocketOnly=u,this.nodeAdmin=f,this.persistenceKey=h,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=x,this.emulatorOptions=g,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Kl.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Kl.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",a=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${a}`}}function VS(l){return l.host!==l.internalHost||l.isCustomHost()||l.includeNamespaceInQueryParams}function xy(l,n,a){Q(typeof n=="string","typeof type must == string"),Q(typeof a=="object","typeof params must == object");let r;if(n===my)r=(l.secure?"wss://":"ws://")+l.internalHost+"/.ws?";else if(n===py)r=(l.secure?"https://":"http://")+l.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);VS(l)&&(a.ns=l.namespace);const u=[];return Ht(a,(f,h)=>{u.push(f+"="+h)}),r+u.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(){this.counters_={}}incrementCounter(n,a=1){es(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=a}get(){return B_(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf={},gf={};function sh(l){const n=l.toString();return pf[n]||(pf[n]=new PS),pf[n]}function QS(l,n){const a=l.toString();return gf[a]||(gf[a]=n()),gf[a]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,a){this.closeAfterResponse=n,this.onClose=a,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,a){for(this.pendingResponses[n]=a;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<r.length;++u)r[u]&&di(()=>{this.onMessage_(r[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="start",FS="close",ZS="pLPCommand",KS="pRTLPCB",yy="id",vy="pw",by="ser",WS="cb",JS="seg",eN="ts",tN="d",nN="dframe",_y=1870,Sy=30,sN=_y-Sy,lN=25e3,aN=3e4;class Wa{constructor(n,a,r,u,f,h,p){this.connId=n,this.repoInfo=a,this.applicationId=r,this.appCheckToken=u,this.authToken=f,this.transportSessionId=h,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Vr(n),this.stats_=sh(a),this.urlFn=x=>(this.appCheckToken&&(x[Mf]=this.appCheckToken),xy(a,py,x))}open(n,a){this.curSegmentNum=0,this.onDisconnect_=a,this.myPacketOrderer=new XS(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(aN)),OS(()=>{if(this.isClosed_)return;this.scriptTagHolder=new lh((...f)=>{const[h,p,x,g,N]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===Fg)this.id=p,this.password=x;else if(h===FS)p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...f)=>{const[h,p]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(h,p)},()=>{this.onClosed_()},this.urlFn);const r={};r[Fg]="t",r[by]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[WS]=this.scriptTagHolder.uniqueCallbackIdentifier),r[ry]=nh,this.transportSessionId&&(r[oy]=this.transportSessionId),this.lastSessionId&&(r[fy]=this.lastSessionId),this.applicationId&&(r[hy]=this.applicationId),this.appCheckToken&&(r[Mf]=this.appCheckToken),typeof location<"u"&&location.hostname&&dy.test(location.hostname)&&(r[cy]=uy);const u=this.urlFn(r);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Wa.forceAllow_=!0}static forceDisallow(){Wa.forceDisallow_=!0}static isAvailable(){return Wa.forceAllow_?!0:!Wa.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!LS()&&!$S()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const a=Tt(n);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const r=qx(a),u=ay(r,sN);for(let f=0;f<u.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[f]),this.curSegmentNum++}addDisconnectPingFrame(n,a){this.myDisconnFrame=document.createElement("iframe");const r={};r[nN]="t",r[yy]=n,r[vy]=a,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const a=Tt(n).length;this.bytesReceived+=a,this.stats_.incrementCounter("bytes_received",a)}}class lh{constructor(n,a,r,u){this.onDisconnect=r,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=kS(),window[ZS+this.uniqueCallbackIdentifier]=n,window[KS+this.uniqueCallbackIdentifier]=a,this.myIFrame=lh.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(p){Ut("frame writing exception"),p.stack&&Ut(p.stack),Ut(p)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||Ut("No IE domain setting required")}catch{const r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,a){for(this.myID=n,this.myPW=a,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[yy]=this.myID,n[vy]=this.myPW,n[by]=this.currentSerial;let a=this.urlFn(n),r="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Sy+r.length<=_y;){const h=this.pendingSegs.shift();r=r+"&"+JS+u+"="+h.seg+"&"+eN+u+"="+h.ts+"&"+tN+u+"="+h.d,u++}return a=a+r,this.addLongPollTag_(a,this.currentSerial),!0}else return!1}enqueueSegment(n,a,r){this.pendingSegs.push({seg:n,ts:a,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,a){this.outstandingRequests.add(a);const r=()=>{this.outstandingRequests.delete(a),this.newRequest_()},u=setTimeout(r,Math.floor(lN)),f=()=>{clearTimeout(u),r()};this.addTag(n,f)}addTag(n,a){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){const u=r.readyState;(!u||u==="loaded"||u==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),a())},r.onerror=()=>{Ut("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=16384,rN=45e3;let kc=null;typeof MozWebSocket<"u"?kc=MozWebSocket:typeof WebSocket<"u"&&(kc=WebSocket);class In{constructor(n,a,r,u,f,h,p){this.connId=n,this.applicationId=r,this.appCheckToken=u,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Vr(this.connId),this.stats_=sh(a),this.connURL=In.connectionURL_(a,h,p,u,r),this.nodeAdmin=a.nodeAdmin}static connectionURL_(n,a,r,u,f){const h={};return h[ry]=nh,typeof location<"u"&&location.hostname&&dy.test(location.hostname)&&(h[cy]=uy),a&&(h[oy]=a),r&&(h[fy]=r),u&&(h[Mf]=u),f&&(h[hy]=f),xy(n,my,h)}open(n,a){this.onDisconnect=a,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Kl.set("previous_websocket_failure",!0);try{let r;n2(),this.mySock=new kc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const u=r.message||r.data;u&&this.log_(u),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const u=r.message||r.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){In.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(a);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&kc!==null&&!In.forceDisallow_}static previouslyFailed(){return Kl.isInMemoryStorage||Kl.get("previous_websocket_failure")===!0}markConnectionHealthy(){Kl.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const a=this.frames.join("");this.frames=null;const r=Ar(a);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(Q(this.frames===null,"We already have a frame buffer"),n.length<=6){const a=Number(n);if(!isNaN(a))return this.handleNewFrameCount_(a),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const a=n.data;if(this.bytesReceived+=a.length,this.stats_.incrementCounter("bytes_received",a.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(a);else{const r=this.extractFrameCount_(a);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();const a=Tt(n);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const r=ay(a,iN);r.length>1&&this.sendString_(String(r.length));for(let u=0;u<r.length;u++)this.sendString_(r[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(rN))}sendString_(n){try{this.mySock.send(n)}catch(a){this.log_("Exception thrown from WebSocket.send():",a.message||a.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}In.responsesRequiredToBeHealthy=2;In.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{static get ALL_TRANSPORTS(){return[Wa,In]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const a=In&&In.isAvailable();let r=a&&!In.previouslyFailed();if(n.webSocketOnly&&(a||Wt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[In];else{const u=this.transports_=[];for(const f of Rr.ALL_TRANSPORTS)f&&f.isAvailable()&&u.push(f);Rr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Rr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=6e4,cN=5e3,uN=10*1024,dN=100*1024,xf="t",Zg="d",fN="s",Kg="r",hN="e",Wg="o",Jg="a",ex="n",tx="p",mN="h";class pN{constructor(n,a,r,u,f,h,p,x,g,N){this.id=n,this.repoInfo_=a,this.applicationId_=r,this.appCheckToken_=u,this.authToken_=f,this.onMessage_=h,this.onReady_=p,this.onDisconnect_=x,this.onKill_=g,this.lastSessionId=N,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Vr("c:"+this.id+":"),this.transportManager_=new Rr(a),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(a,r)},Math.floor(0));const u=n.healthyTimeout||0;u>0&&(this.healthyTimeout_=Cr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>dN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>uN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return a=>{n===this.conn_?this.onConnectionLost_(a):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return a=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(a):n===this.secondaryConn_?this.onSecondaryMessageReceived_(a):this.log_("message on old connection"))}}sendRequest(n){const a={t:"d",d:n};this.sendData_(a)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(xf in n){const a=n[xf];a===Jg?this.upgradeIfSecondaryHealthy_():a===Kg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):a===Wg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const a=yr("t",n),r=yr("d",n);if(a==="c")this.onSecondaryControl_(r);else if(a==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+a)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:tx,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Jg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ex,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const a=yr("t",n),r=yr("d",n);a==="c"?this.onControl_(r):a==="d"&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const a=yr(xf,n);if(Zg in n){const r=n[Zg];if(a===mN){const u={...r};this.repoInfo_.isUsingEmulator&&(u.h=this.repoInfo_.host),this.onHandshake_(u)}else if(a===ex){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else a===fN?this.onConnectionShutdown_(r):a===Kg?this.onReset_(r):a===hN?kf("Server Error: "+r):a===Wg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):kf("Unknown control packet command: "+a)}}onHandshake_(n){const a=n.ts,r=n.v,u=n.h;this.sessionId=n.s,this.repoInfo_.host=u,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,a),nh!==r&&Wt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(a,r),Cr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(oN))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,a){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(a,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Cr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(cN))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:tx,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Kl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{put(n,a,r,u){}merge(n,a,r,u){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,a,r){}onDisconnectMerge(n,a,r){}onDisconnectCancel(n,a){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(n){this.allowedEvents_=n,this.listeners_={},Q(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...a){if(Array.isArray(this.listeners_[n])){const r=[...this.listeners_[n]];for(let u=0;u<r.length;u++)r[u].callback.apply(r[u].context,a)}}on(n,a,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:a,context:r});const u=this.getInitialEvent(n);u&&a.apply(r,u)}off(n,a,r){this.validateEventType_(n);const u=this.listeners_[n]||[];for(let f=0;f<u.length;f++)if(u[f].callback===a&&(!r||r===u[f].context)){u.splice(f,1);return}}validateEventType_(n){Q(this.allowedEvents_.find(a=>a===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends wy{static getInstance(){return new Mc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Px()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return Q(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=32,sx=768;class Xe{constructor(n,a){if(a===void 0){this.pieces_=n.split("/");let r=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[r]=this.pieces_[u],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=a}toString(){let n="";for(let a=this.pieceNum_;a<this.pieces_.length;a++)this.pieces_[a]!==""&&(n+="/"+this.pieces_[a]);return n||"/"}}function Ue(){return new Xe("")}function be(l){return l.pieceNum_>=l.pieces_.length?null:l.pieces_[l.pieceNum_]}function ml(l){return l.pieces_.length-l.pieceNum_}function et(l){let n=l.pieceNum_;return n<l.pieces_.length&&n++,new Xe(l.pieces_,n)}function ah(l){return l.pieceNum_<l.pieces_.length?l.pieces_[l.pieces_.length-1]:null}function gN(l){let n="";for(let a=l.pieceNum_;a<l.pieces_.length;a++)l.pieces_[a]!==""&&(n+="/"+encodeURIComponent(String(l.pieces_[a])));return n||"/"}function Or(l,n=0){return l.pieces_.slice(l.pieceNum_+n)}function Cy(l){if(l.pieceNum_>=l.pieces_.length)return null;const n=[];for(let a=l.pieceNum_;a<l.pieces_.length-1;a++)n.push(l.pieces_[a]);return new Xe(n,0)}function ht(l,n){const a=[];for(let r=l.pieceNum_;r<l.pieces_.length;r++)a.push(l.pieces_[r]);if(n instanceof Xe)for(let r=n.pieceNum_;r<n.pieces_.length;r++)a.push(n.pieces_[r]);else{const r=n.split("/");for(let u=0;u<r.length;u++)r[u].length>0&&a.push(r[u])}return new Xe(a,0)}function Ee(l){return l.pieceNum_>=l.pieces_.length}function Kt(l,n){const a=be(l),r=be(n);if(a===null)return n;if(a===r)return Kt(et(l),et(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+l+")")}function xN(l,n){const a=Or(l,0),r=Or(n,0);for(let u=0;u<a.length&&u<r.length;u++){const f=ta(a[u],r[u]);if(f!==0)return f}return a.length===r.length?0:a.length<r.length?-1:1}function ih(l,n){if(ml(l)!==ml(n))return!1;for(let a=l.pieceNum_,r=n.pieceNum_;a<=l.pieces_.length;a++,r++)if(l.pieces_[a]!==n.pieces_[r])return!1;return!0}function An(l,n){let a=l.pieceNum_,r=n.pieceNum_;if(ml(l)>ml(n))return!1;for(;a<l.pieces_.length;){if(l.pieces_[a]!==n.pieces_[r])return!1;++a,++r}return!0}class yN{constructor(n,a){this.errorPrefix_=a,this.parts_=Or(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Qc(this.parts_[r]);Ey(this)}}function vN(l,n){l.parts_.length>0&&(l.byteLength_+=1),l.parts_.push(n),l.byteLength_+=Qc(n),Ey(l)}function bN(l){const n=l.parts_.pop();l.byteLength_-=Qc(n),l.parts_.length>0&&(l.byteLength_-=1)}function Ey(l){if(l.byteLength_>sx)throw new Error(l.errorPrefix_+"has a key path longer than "+sx+" bytes ("+l.byteLength_+").");if(l.parts_.length>nx)throw new Error(l.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+nx+") or object contains a cycle "+Fl(l))}function Fl(l){return l.parts_.length===0?"":"in property '"+l.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends wy{static getInstance(){return new rh}constructor(){super(["visible"]);let n,a;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(a="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(a="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(a="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(a="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,a&&document.addEventListener(a,()=>{const r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(n){return Q(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=1e3,_N=300*1e3,lx=30*1e3,SN=1.3,NN=3e4,wN="server_kill",ax=3;class As extends Ny{constructor(n,a,r,u,f,h,p,x){if(super(),this.repoInfo_=n,this.applicationId_=a,this.onDataUpdate_=r,this.onConnectStatus_=u,this.onServerInfoUpdate_=f,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=x,this.id=As.nextPersistentConnectionId_++,this.log_=Vr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=vr,this.maxReconnectDelay_=_N,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,x)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");rh.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Mc.getInstance().on("online",this.onOnline_,this)}sendRequest(n,a,r){const u=++this.requestNumber_,f={r:u,a:n,b:a};this.log_(Tt(f)),Q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),r&&(this.requestCBHash_[u]=r)}get(n){this.initConnection_();const a=new qr,u={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:h=>{const p=h.d;h.s==="ok"?a.resolve(p):a.reject(p)}};this.outstandingGets_.push(u),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),a.promise}listen(n,a,r,u){this.initConnection_();const f=n._queryIdentifier,h=n._path.toString();this.log_("Listen called for "+h+" "+f),this.listens.has(h)||this.listens.set(h,new Map),Q(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Q(!this.listens.get(h).has(f),"listen() called twice for same path/queryId.");const p={onComplete:u,hashFn:a,query:n,tag:r};this.listens.get(h).set(f,p),this.connected_&&this.sendListen_(p)}sendGet_(n){const a=this.outstandingGets_[n];this.sendRequest("g",a.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),a.onComplete&&a.onComplete(r)})}sendListen_(n){const a=n.query,r=a._path.toString(),u=a._queryIdentifier;this.log_("Listen on "+r+" for "+u);const f={p:r},h="q";n.tag&&(f.q=a._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest(h,f,p=>{const x=p.d,g=p.s;As.warnOnListenWarnings_(x,a),(this.listens.get(r)&&this.listens.get(r).get(u))===n&&(this.log_("listen response",p),g!=="ok"&&this.removeListen_(r,u),n.onComplete&&n.onComplete(g,x))})}static warnOnListenWarnings_(n,a){if(n&&typeof n=="object"&&es(n,"w")){const r=ni(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const u='".indexOn": "'+a._queryParams.getIndex().toString()+'"',f=a._path.toString();Wt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||c2(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=lx)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,a=o2(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(a,r,u=>{const f=u.s,h=u.d||"error";this.authToken_===n&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const a=n.s,r=n.d||"error";a==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(a,r)})}unlisten(n,a){const r=n._path.toString(),u=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+u),Q(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,u)&&this.connected_&&this.sendUnlisten_(r,u,n._queryObject,a)}sendUnlisten_(n,a,r,u){this.log_("Unlisten on "+n+" for "+a);const f={p:n},h="n";u&&(f.q=r,f.t=u),this.sendRequest(h,f)}onDisconnectPut(n,a,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,a,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:a,onComplete:r})}onDisconnectMerge(n,a,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,a,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:a,onComplete:r})}onDisconnectCancel(n,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,a):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:a})}sendOnDisconnect_(n,a,r,u){const f={p:a,d:r};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,h=>{u&&setTimeout(()=>{u(h.s,h.d)},Math.floor(0))})}put(n,a,r,u){this.putInternal("p",n,a,r,u)}merge(n,a,r,u){this.putInternal("m",n,a,r,u)}putInternal(n,a,r,u,f){this.initConnection_();const h={p:a,d:r};f!==void 0&&(h.h=f),this.outstandingPuts_.push({action:n,request:h,onComplete:u}),this.outstandingPutCount_++;const p=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(p):this.log_("Buffering put: "+a)}sendPut_(n){const a=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,u=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(a,r,f=>{this.log_(a+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),u&&u(f.s,f.d)})}reportStats(n){if(this.connected_){const a={c:n};this.log_("reportStats",a),this.sendRequest("s",a,r=>{if(r.s!=="ok"){const f=r.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Tt(n));const a=n.r,r=this.requestCBHash_[a];r&&(delete this.requestCBHash_[a],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,a){this.log_("handleServerMessage",n,a),n==="d"?this.onDataUpdate_(a.p,a.d,!1,a.t):n==="m"?this.onDataUpdate_(a.p,a.d,!0,a.t):n==="c"?this.onListenRevoked_(a.p,a.q):n==="ac"?this.onAuthRevoked_(a.s,a.d):n==="apc"?this.onAppCheckRevoked_(a.s,a.d):n==="sd"?this.onSecurityDebugPacket_(a):kf("Unrecognized action received from server: "+Tt(n)+`
Are you using the latest client?`)}onReady_(n,a){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=a,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){Q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=vr,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=vr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>NN&&(this.reconnectDelay_=vr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let a=Math.max(0,this.reconnectDelay_-n);a=Math.random()*a,this.log_("Trying to reconnect in "+a+"ms"),this.scheduleConnect_(a),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*SN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),a=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),u=this.id+":"+As.nextConnectionId_++,f=this.lastSessionId;let h=!1,p=null;const x=function(){p?p.close():(h=!0,r())},g=function(b){Q(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(b)};this.realtime_={close:x,sendRequest:g};const N=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[b,v]=await Promise.all([this.authTokenProvider_.getToken(N),this.appCheckTokenProvider_.getToken(N)]);h?Ut("getToken() completed but was canceled"):(Ut("getToken() completed. Creating connection."),this.authToken_=b&&b.accessToken,this.appCheckToken_=v&&v.token,p=new pN(u,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,a,r,R=>{Wt(R+" ("+this.repoInfo_.toString()+")"),this.interrupt(wN)},f))}catch(b){this.log_("Failed to get token: "+b),h||(this.repoInfo_.nodeAdmin&&Wt(b),x())}}}interrupt(n){Ut("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ut("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Og(this.interruptReasons_)&&(this.reconnectDelay_=vr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const a=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:a})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const a=this.outstandingPuts_[n];a&&"h"in a.request&&a.queued&&(a.onComplete&&a.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,a){let r;a?r=a.map(f=>th(f)).join("$"):r="default";const u=this.removeListen_(n,r);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(n,a){const r=new Xe(n).toString();let u;if(this.listens.has(r)){const f=this.listens.get(r);u=f.get(a),f.delete(a),f.size===0&&this.listens.delete(r)}else u=void 0;return u}onAuthRevoked_(n,a){Ut("Auth token revoked: "+n+"/"+a),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ax&&(this.reconnectDelay_=lx,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,a){Ut("App check token revoked: "+n+"/"+a),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ax&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const a of n.values())this.sendListen_(a);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let a="js";n["sdk."+a+"."+ny.replace(/\./g,"-")]=1,Px()?n["framework.cordova"]=1:t2()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Mc.getInstance().currentlyOnline();return Og(this.interruptReasons_)&&n}}As.nextPersistentConnectionId_=0;As.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(n,a){this.name=n,this.node=a}static Wrap(n,a){return new _e(n,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,a){const r=new _e(si,n),u=new _e(si,a);return this.compare(r,u)!==0}minPost(){return _e.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc;class jy extends Xc{static get __EMPTY_NODE(){return vc}static set __EMPTY_NODE(n){vc=n}compare(n,a){return ta(n.name,a.name)}isDefinedOn(n){throw ci("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,a){return!1}minPost(){return _e.MIN}maxPost(){return new _e(Wl,vc)}makePost(n,a){return Q(typeof n=="string","KeyIndex indexValue must always be a string."),new _e(n,vc)}toString(){return".key"}}const ti=new jy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(n,a,r,u,f=null){this.isReverse_=u,this.resultGenerator_=f,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(n=n,h=a?r(n.key,a):1,u&&(h*=-1),h<0)this.isReverse_?n=n.left:n=n.right;else if(h===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),a;if(this.resultGenerator_?a=this.resultGenerator_(n.key,n.value):a={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return a}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class kt{constructor(n,a,r,u,f){this.key=n,this.value=a,this.color=r??kt.RED,this.left=u??an.EMPTY_NODE,this.right=f??an.EMPTY_NODE}copy(n,a,r,u,f){return new kt(n??this.key,a??this.value,r??this.color,u??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,a,r){let u=this;const f=r(n,u.key);return f<0?u=u.copy(null,null,null,u.left.insert(n,a,r),null):f===0?u=u.copy(null,a,null,null,null):u=u.copy(null,null,null,null,u.right.insert(n,a,r)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return an.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,a){let r,u;if(r=this,a(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,a),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),a(n,r.key)===0){if(r.right.isEmpty())return an.EMPTY_NODE;u=r.right.min_(),r=r.copy(u.key,u.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,a))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,a)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}kt.RED=!0;kt.BLACK=!1;class CN{copy(n,a,r,u,f){return this}insert(n,a,r){return new kt(n,a,null)}remove(n,a){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class an{constructor(n,a=an.EMPTY_NODE){this.comparator_=n,this.root_=a}insert(n,a){return new an(this.comparator_,this.root_.insert(n,a,this.comparator_).copy(null,null,kt.BLACK,null,null))}remove(n){return new an(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,kt.BLACK,null,null))}get(n){let a,r=this.root_;for(;!r.isEmpty();){if(a=this.comparator_(n,r.key),a===0)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}getPredecessorKey(n){let a,r=this.root_,u=null;for(;!r.isEmpty();)if(a=this.comparator_(n,r.key),a===0){if(r.left.isEmpty())return u?u.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else a<0?r=r.left:a>0&&(u=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new bc(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,a){return new bc(this.root_,n,this.comparator_,!1,a)}getReverseIteratorFrom(n,a){return new bc(this.root_,n,this.comparator_,!0,a)}getReverseIterator(n){return new bc(this.root_,null,this.comparator_,!0,n)}}an.EMPTY_NODE=new CN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(l,n){return ta(l.name,n.name)}function oh(l,n){return ta(l,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rf;function jN(l){Rf=l}const Ty=function(l){return typeof l=="number"?"number:"+iy(l):"string:"+l},Ay=function(l){if(l.isLeafNode()){const n=l.val();Q(typeof n=="string"||typeof n=="number"||typeof n=="object"&&es(n,".sv"),"Priority must be a string or number.")}else Q(l===Rf||l.isEmpty(),"priority of unexpected type.");Q(l===Rf||l.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ix;class Dt{static set __childrenNodeConstructor(n){ix=n}static get __childrenNodeConstructor(){return ix}constructor(n,a=Dt.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=a,this.lazyHash_=null,Q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Ay(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new Dt(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:Dt.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Ee(n)?this:be(n)===".priority"?this.priorityNode_:Dt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,a){return null}updateImmediateChild(n,a){return n===".priority"?this.updatePriority(a):a.isEmpty()&&n!==".priority"?this:Dt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,a).updatePriority(this.priorityNode_)}updateChild(n,a){const r=be(n);return r===null?a:a.isEmpty()&&r!==".priority"?this:(Q(r!==".priority"||ml(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Dt.__childrenNodeConstructor.EMPTY_NODE.updateChild(et(n),a)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,a){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Ty(this.priorityNode_.val())+":");const a=typeof this.value_;n+=a+":",a==="number"?n+=iy(this.value_):n+=this.value_,this.lazyHash_=ly(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===Dt.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof Dt.__childrenNodeConstructor?-1:(Q(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const a=typeof n.value_,r=typeof this.value_,u=Dt.VALUE_TYPE_ORDER.indexOf(a),f=Dt.VALUE_TYPE_ORDER.indexOf(r);return Q(u>=0,"Unknown leaf type: "+a),Q(f>=0,"Unknown leaf type: "+r),u===f?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-u}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const a=n;return this.value_===a.value_&&this.priorityNode_.equals(a.priorityNode_)}else return!1}}Dt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dy,ky;function TN(l){Dy=l}function AN(l){ky=l}class DN extends Xc{compare(n,a){const r=n.node.getPriority(),u=a.node.getPriority(),f=r.compareTo(u);return f===0?ta(n.name,a.name):f}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,a){return!n.getPriority().equals(a.getPriority())}minPost(){return _e.MIN}maxPost(){return new _e(Wl,new Dt("[PRIORITY-POST]",ky))}makePost(n,a){const r=Dy(n);return new _e(a,new Dt("[PRIORITY-POST]",r))}toString(){return".priority"}}const mt=new DN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=Math.log(2);class MN{constructor(n){const a=f=>parseInt(Math.log(f)/kN,10),r=f=>parseInt(Array(f+1).join("1"),2);this.count=a(n+1),this.current_=this.count-1;const u=r(this.count);this.bits_=n+1&u}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Rc=function(l,n,a,r){l.sort(n);const u=function(x,g){const N=g-x;let b,v;if(N===0)return null;if(N===1)return b=l[x],v=a?a(b):b,new kt(v,b.node,kt.BLACK,null,null);{const R=parseInt(N/2,10)+x,P=u(x,R),Z=u(R+1,g);return b=l[R],v=a?a(b):b,new kt(v,b.node,kt.BLACK,P,Z)}},f=function(x){let g=null,N=null,b=l.length;const v=function(P,Z){const ce=b-P,te=b;b-=P;const le=u(ce+1,te),fe=l[ce],de=a?a(fe):fe;R(new kt(de,fe.node,Z,null,le))},R=function(P){g?(g.left=P,g=P):(N=P,g=P)};for(let P=0;P<x.count;++P){const Z=x.nextBitIsOne(),ce=Math.pow(2,x.count-(P+1));Z?v(ce,kt.BLACK):(v(ce,kt.BLACK),v(ce,kt.RED))}return N},h=new MN(l.length),p=f(h);return new an(r||n,p)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yf;const Za={};class Ts{static get Default(){return Q(Za&&mt,"ChildrenNode.ts has not been loaded"),yf=yf||new Ts({".priority":Za},{".priority":mt}),yf}constructor(n,a){this.indexes_=n,this.indexSet_=a}get(n){const a=ni(this.indexes_,n);if(!a)throw new Error("No index defined for "+n);return a instanceof an?a:null}hasIndex(n){return es(this.indexSet_,n.toString())}addIndex(n,a){Q(n!==ti,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let u=!1;const f=a.getIterator(_e.Wrap);let h=f.getNext();for(;h;)u=u||n.isDefinedOn(h.node),r.push(h),h=f.getNext();let p;u?p=Rc(r,n.getCompare()):p=Za;const x=n.toString(),g={...this.indexSet_};g[x]=n;const N={...this.indexes_};return N[x]=p,new Ts(N,g)}addToIndexes(n,a){const r=Tc(this.indexes_,(u,f)=>{const h=ni(this.indexSet_,f);if(Q(h,"Missing index implementation for "+f),u===Za)if(h.isDefinedOn(n.node)){const p=[],x=a.getIterator(_e.Wrap);let g=x.getNext();for(;g;)g.name!==n.name&&p.push(g),g=x.getNext();return p.push(n),Rc(p,h.getCompare())}else return Za;else{const p=a.get(n.name);let x=u;return p&&(x=x.remove(new _e(n.name,p))),x.insert(n,n.node)}});return new Ts(r,this.indexSet_)}removeFromIndexes(n,a){const r=Tc(this.indexes_,u=>{if(u===Za)return u;{const f=a.get(n.name);return f?u.remove(new _e(n.name,f)):u}});return new Ts(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let br;class re{static get EMPTY_NODE(){return br||(br=new re(new an(oh),null,Ts.Default))}constructor(n,a,r){this.children_=n,this.priorityNode_=a,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Ay(this.priorityNode_),this.children_.isEmpty()&&Q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||br}updatePriority(n){return this.children_.isEmpty()?this:new re(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const a=this.children_.get(n);return a===null?br:a}}getChild(n){const a=be(n);return a===null?this:this.getImmediateChild(a).getChild(et(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,a){if(Q(a,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(a);{const r=new _e(n,a);let u,f;a.isEmpty()?(u=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(r,this.children_)):(u=this.children_.insert(n,a),f=this.indexMap_.addToIndexes(r,this.children_));const h=u.isEmpty()?br:this.priorityNode_;return new re(u,h,f)}}updateChild(n,a){const r=be(n);if(r===null)return a;{Q(be(n)!==".priority"||ml(n)===1,".priority must be the last token in a path");const u=this.getImmediateChild(r).updateChild(et(n),a);return this.updateImmediateChild(r,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const a={};let r=0,u=0,f=!0;if(this.forEachChild(mt,(h,p)=>{a[h]=p.val(n),r++,f&&re.INTEGER_REGEXP_.test(h)?u=Math.max(u,Number(h)):f=!1}),!n&&f&&u<2*r){const h=[];for(const p in a)h[p]=a[p];return h}else return n&&!this.getPriority().isEmpty()&&(a[".priority"]=this.getPriority().val()),a}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+Ty(this.getPriority().val())+":"),this.forEachChild(mt,(a,r)=>{const u=r.hash();u!==""&&(n+=":"+a+":"+u)}),this.lazyHash_=n===""?"":ly(n)}return this.lazyHash_}getPredecessorChildName(n,a,r){const u=this.resolveIndex_(r);if(u){const f=u.getPredecessorKey(new _e(n,a));return f?f.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const a=this.resolveIndex_(n);if(a){const r=a.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){const a=this.getFirstChildName(n);return a?new _e(a,this.children_.get(a)):null}getLastChildName(n){const a=this.resolveIndex_(n);if(a){const r=a.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){const a=this.getLastChildName(n);return a?new _e(a,this.children_.get(a)):null}forEachChild(n,a){const r=this.resolveIndex_(n);return r?r.inorderTraversal(u=>a(u.name,u.node)):this.children_.inorderTraversal(a)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,a){const r=this.resolveIndex_(a);if(r)return r.getIteratorFrom(n,u=>u);{const u=this.children_.getIteratorFrom(n.name,_e.Wrap);let f=u.peek();for(;f!=null&&a.compare(f,n)<0;)u.getNext(),f=u.peek();return u}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,a){const r=this.resolveIndex_(a);if(r)return r.getReverseIteratorFrom(n,u=>u);{const u=this.children_.getReverseIteratorFrom(n.name,_e.Wrap);let f=u.peek();for(;f!=null&&a.compare(f,n)>0;)u.getNext(),f=u.peek();return u}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Pr?-1:0}withIndex(n){if(n===ti||this.indexMap_.hasIndex(n))return this;{const a=this.indexMap_.addIndex(n,this.children_);return new re(this.children_,this.priorityNode_,a)}}isIndexed(n){return n===ti||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const a=n;if(this.getPriority().equals(a.getPriority()))if(this.children_.count()===a.children_.count()){const r=this.getIterator(mt),u=a.getIterator(mt);let f=r.getNext(),h=u.getNext();for(;f&&h;){if(f.name!==h.name||!f.node.equals(h.node))return!1;f=r.getNext(),h=u.getNext()}return f===null&&h===null}else return!1;else return!1}}resolveIndex_(n){return n===ti?null:this.indexMap_.get(n.toString())}}re.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class RN extends re{constructor(){super(new an(oh),re.EMPTY_NODE,Ts.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return re.EMPTY_NODE}isEmpty(){return!1}}const Pr=new RN;Object.defineProperties(_e,{MIN:{value:new _e(si,re.EMPTY_NODE)},MAX:{value:new _e(Wl,Pr)}});jy.__EMPTY_NODE=re.EMPTY_NODE;Dt.__childrenNodeConstructor=re;jN(Pr);AN(Pr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=!0;function jt(l,n=null){if(l===null)return re.EMPTY_NODE;if(typeof l=="object"&&".priority"in l&&(n=l[".priority"]),Q(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof l=="object"&&".value"in l&&l[".value"]!==null&&(l=l[".value"]),typeof l!="object"||".sv"in l){const a=l;return new Dt(a,jt(n))}if(!(l instanceof Array)&&ON){const a=[];let r=!1;if(Ht(l,(h,p)=>{if(h.substring(0,1)!=="."){const x=jt(p);x.isEmpty()||(r=r||!x.getPriority().isEmpty(),a.push(new _e(h,x)))}}),a.length===0)return re.EMPTY_NODE;const f=Rc(a,EN,h=>h.name,oh);if(r){const h=Rc(a,mt.getCompare());return new re(f,jt(n),new Ts({".priority":h},{".priority":mt}))}else return new re(f,jt(n),Ts.Default)}else{let a=re.EMPTY_NODE;return Ht(l,(r,u)=>{if(es(l,r)&&r.substring(0,1)!=="."){const f=jt(u);(f.isLeafNode()||!f.isEmpty())&&(a=a.updateImmediateChild(r,f))}}),a.updatePriority(jt(n))}}TN(jt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN extends Xc{constructor(n){super(),this.indexPath_=n,Q(!Ee(n)&&be(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,a){const r=this.extractChild(n.node),u=this.extractChild(a.node),f=r.compareTo(u);return f===0?ta(n.name,a.name):f}makePost(n,a){const r=jt(n),u=re.EMPTY_NODE.updateChild(this.indexPath_,r);return new _e(a,u)}maxPost(){const n=re.EMPTY_NODE.updateChild(this.indexPath_,Pr);return new _e(Wl,n)}toString(){return Or(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN extends Xc{compare(n,a){const r=n.node.compareTo(a.node);return r===0?ta(n.name,a.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,a){return!n.equals(a)}minPost(){return _e.MIN}maxPost(){return _e.MAX}makePost(n,a){const r=jt(n);return new _e(a,r)}toString(){return".value"}}const $N=new LN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(l){return{type:"value",snapshotNode:l}}function li(l,n){return{type:"child_added",snapshotNode:n,childName:l}}function zr(l,n){return{type:"child_removed",snapshotNode:n,childName:l}}function Lr(l,n,a){return{type:"child_changed",snapshotNode:n,childName:l,oldSnap:a}}function UN(l,n){return{type:"child_moved",snapshotNode:n,childName:l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(n){this.index_=n}updateChild(n,a,r,u,f,h){Q(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=n.getImmediateChild(a);return p.getChild(u).equals(r.getChild(u))&&p.isEmpty()===r.isEmpty()||(h!=null&&(r.isEmpty()?n.hasChild(a)?h.trackChildChange(zr(a,p)):Q(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?h.trackChildChange(li(a,r)):h.trackChildChange(Lr(a,r,p))),n.isLeafNode()&&r.isEmpty())?n:n.updateImmediateChild(a,r).withIndex(this.index_)}updateFullNode(n,a,r){return r!=null&&(n.isLeafNode()||n.forEachChild(mt,(u,f)=>{a.hasChild(u)||r.trackChildChange(zr(u,f))}),a.isLeafNode()||a.forEachChild(mt,(u,f)=>{if(n.hasChild(u)){const h=n.getImmediateChild(u);h.equals(f)||r.trackChildChange(Lr(u,f,h))}else r.trackChildChange(li(u,f))})),a.withIndex(this.index_)}updatePriority(n,a){return n.isEmpty()?re.EMPTY_NODE:n.updatePriority(a)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(n){this.indexedFilter_=new ch(n.getIndex()),this.index_=n.getIndex(),this.startPost_=$r.getStartPost_(n),this.endPost_=$r.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const a=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,r=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return a&&r}updateChild(n,a,r,u,f,h){return this.matches(new _e(a,r))||(r=re.EMPTY_NODE),this.indexedFilter_.updateChild(n,a,r,u,f,h)}updateFullNode(n,a,r){a.isLeafNode()&&(a=re.EMPTY_NODE);let u=a.withIndex(this.index_);u=u.updatePriority(re.EMPTY_NODE);const f=this;return a.forEachChild(mt,(h,p)=>{f.matches(new _e(h,p))||(u=u.updateImmediateChild(h,re.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,u,r)}updatePriority(n,a){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const a=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),a)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const a=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),a)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(n){this.withinDirectionalStart=a=>this.reverse_?this.withinEndPost(a):this.withinStartPost(a),this.withinDirectionalEnd=a=>this.reverse_?this.withinStartPost(a):this.withinEndPost(a),this.withinStartPost=a=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),a);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=a=>{const r=this.index_.compare(a,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new $r(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,a,r,u,f,h){return this.rangedFilter_.matches(new _e(a,r))||(r=re.EMPTY_NODE),n.getImmediateChild(a).equals(r)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,a,r,u,f,h):this.fullLimitUpdateChild_(n,a,r,f,h)}updateFullNode(n,a,r){let u;if(a.isLeafNode()||a.isEmpty())u=re.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<a.numChildren()&&a.isIndexed(this.index_)){u=re.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=a.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=a.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;f.hasNext()&&h<this.limit_;){const p=f.getNext();if(this.withinDirectionalStart(p))if(this.withinDirectionalEnd(p))u=u.updateImmediateChild(p.name,p.node),h++;else break;else continue}}else{u=a.withIndex(this.index_),u=u.updatePriority(re.EMPTY_NODE);let f;this.reverse_?f=u.getReverseIterator(this.index_):f=u.getIterator(this.index_);let h=0;for(;f.hasNext();){const p=f.getNext();h<this.limit_&&this.withinDirectionalStart(p)&&this.withinDirectionalEnd(p)?h++:u=u.updateImmediateChild(p.name,re.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,u,r)}updatePriority(n,a){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,a,r,u,f){let h;if(this.reverse_){const b=this.index_.getCompare();h=(v,R)=>b(R,v)}else h=this.index_.getCompare();const p=n;Q(p.numChildren()===this.limit_,"");const x=new _e(a,r),g=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),N=this.rangedFilter_.matches(x);if(p.hasChild(a)){const b=p.getImmediateChild(a);let v=u.getChildAfterChild(this.index_,g,this.reverse_);for(;v!=null&&(v.name===a||p.hasChild(v.name));)v=u.getChildAfterChild(this.index_,v,this.reverse_);const R=v==null?1:h(v,x);if(N&&!r.isEmpty()&&R>=0)return f!=null&&f.trackChildChange(Lr(a,r,b)),p.updateImmediateChild(a,r);{f!=null&&f.trackChildChange(zr(a,b));const Z=p.updateImmediateChild(a,re.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(f!=null&&f.trackChildChange(li(v.name,v.node)),Z.updateImmediateChild(v.name,v.node)):Z}}else return r.isEmpty()?n:N&&h(g,x)>=0?(f!=null&&(f.trackChildChange(zr(g.name,g.node)),f.trackChildChange(li(a,r))),p.updateImmediateChild(a,r).updateImmediateChild(g.name,re.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=mt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:si}hasEnd(){return this.endSet_}getIndexEndValue(){return Q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Wl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===mt}copy(){const n=new uh;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function IN(l){return l.loadsAllData()?new ch(l.getIndex()):l.hasLimit()?new HN(l):new $r(l)}function rx(l){const n={};if(l.isDefault())return n;let a;if(l.index_===mt?a="$priority":l.index_===$N?a="$value":l.index_===ti?a="$key":(Q(l.index_ instanceof zN,"Unrecognized index type!"),a=l.index_.toString()),n.orderBy=Tt(a),l.startSet_){const r=l.startAfterSet_?"startAfter":"startAt";n[r]=Tt(l.indexStartValue_),l.startNameSet_&&(n[r]+=","+Tt(l.indexStartName_))}if(l.endSet_){const r=l.endBeforeSet_?"endBefore":"endAt";n[r]=Tt(l.indexEndValue_),l.endNameSet_&&(n[r]+=","+Tt(l.indexEndName_))}return l.limitSet_&&(l.isViewFromLeft()?n.limitToFirst=l.limit_:n.limitToLast=l.limit_),n}function ox(l){const n={};if(l.startSet_&&(n.sp=l.indexStartValue_,l.startNameSet_&&(n.sn=l.indexStartName_),n.sin=!l.startAfterSet_),l.endSet_&&(n.ep=l.indexEndValue_,l.endNameSet_&&(n.en=l.indexEndName_),n.ein=!l.endBeforeSet_),l.limitSet_){n.l=l.limit_;let a=l.viewFrom_;a===""&&(l.isViewFromLeft()?a="l":a="r"),n.vf=a}return l.index_!==mt&&(n.i=l.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends Ny{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,a){return a!==void 0?"tag$"+a:(Q(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,a,r,u){super(),this.repoInfo_=n,this.onDataUpdate_=a,this.authTokenProvider_=r,this.appCheckTokenProvider_=u,this.log_=Vr("p:rest:"),this.listens_={}}listen(n,a,r,u){const f=n._path.toString();this.log_("Listen called for "+f+" "+n._queryIdentifier);const h=Oc.getListenId_(n,r),p={};this.listens_[h]=p;const x=rx(n._queryParams);this.restRequest_(f+".json",x,(g,N)=>{let b=N;if(g===404&&(b=null,g=null),g===null&&this.onDataUpdate_(f,b,!1,r),ni(this.listens_,h)===p){let v;g?g===401?v="permission_denied":v="rest_error:"+g:v="ok",u(v,null)}})}unlisten(n,a){const r=Oc.getListenId_(n,a);delete this.listens_[r]}get(n){const a=rx(n._queryParams),r=n._path.toString(),u=new qr;return this.restRequest_(r+".json",a,(f,h)=>{let p=h;f===404&&(p=null,f=null),f===null?(this.onDataUpdate_(r,p,!1,null),u.resolve(p)):u.reject(new Error(p))}),u.promise}refreshAuthToken(n){}restRequest_(n,a={},r){return a.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,f])=>{u&&u.accessToken&&(a.auth=u.accessToken),f&&f.token&&(a.ac=f.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+u2(a);this.log_("Sending REST request for "+h);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(r&&p.readyState===4){this.log_("REST Response for "+h+" received. status:",p.status,"response:",p.responseText);let x=null;if(p.status>=200&&p.status<300){try{x=Ar(p.responseText)}catch{Wt("Failed to parse JSON response for "+h+": "+p.responseText)}r(null,x)}else p.status!==401&&p.status!==404&&Wt("Got unsuccessful REST response for "+h+" Status: "+p.status),r(p.status);r=null}},p.open("GET",h,!0),p.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this.rootNode_=re.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,a){this.rootNode_=this.rootNode_.updateChild(n,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(){return{value:null,children:new Map}}function Ry(l,n,a){if(Ee(n))l.value=a,l.children.clear();else if(l.value!==null)l.value=l.value.updateChild(n,a);else{const r=be(n);l.children.has(r)||l.children.set(r,zc());const u=l.children.get(r);n=et(n),Ry(u,n,a)}}function Of(l,n,a){l.value!==null?a(n,l.value):qN(l,(r,u)=>{const f=new Xe(n.toString()+"/"+r);Of(u,f,a)})}function qN(l,n){l.children.forEach((a,r)=>{n(r,a)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),a={...n};return this.last_&&Ht(this.last_,(r,u)=>{a[r]=a[r]-u}),this.last_=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=10*1e3,GN=30*1e3,VN=300*1e3;class PN{constructor(n,a){this.server_=a,this.statsToReport_={},this.statsListener_=new YN(n);const r=cx+(GN-cx)*Math.random();Cr(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const n=this.statsListener_.get(),a={};let r=!1;Ht(n,(u,f)=>{f>0&&es(this.statsToReport_,u)&&(a[u]=f,r=!0)}),r&&this.server_.reportStats(a),Cr(this.reportStats_.bind(this),Math.floor(Math.random()*2*VN))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bn;(function(l){l[l.OVERWRITE=0]="OVERWRITE",l[l.MERGE=1]="MERGE",l[l.ACK_USER_WRITE=2]="ACK_USER_WRITE",l[l.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Bn||(Bn={}));function dh(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function fh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function hh(l){return{fromUser:!1,fromServer:!0,queryId:l,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(n,a,r){this.path=n,this.affectedTree=a,this.revert=r,this.type=Bn.ACK_USER_WRITE,this.source=dh()}operationForChild(n){if(Ee(this.path)){if(this.affectedTree.value!=null)return Q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const a=this.affectedTree.subtree(new Xe(n));return new Lc(Ue(),a,this.revert)}}else return Q(be(this.path)===n,"operationForChild called for unrelated child."),new Lc(et(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(n,a){this.source=n,this.path=a,this.type=Bn.LISTEN_COMPLETE}operationForChild(n){return Ee(this.path)?new Ur(this.source,Ue()):new Ur(this.source,et(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(n,a,r){this.source=n,this.path=a,this.snap=r,this.type=Bn.OVERWRITE}operationForChild(n){return Ee(this.path)?new Jl(this.source,Ue(),this.snap.getImmediateChild(n)):new Jl(this.source,et(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(n,a,r){this.source=n,this.path=a,this.children=r,this.type=Bn.MERGE}operationForChild(n){if(Ee(this.path)){const a=this.children.subtree(new Xe(n));return a.isEmpty()?null:a.value?new Jl(this.source,Ue(),a.value):new ai(this.source,Ue(),a)}else return Q(be(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new ai(this.source,et(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(n,a,r){this.node_=n,this.fullyInitialized_=a,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(Ee(n))return this.isFullyInitialized()&&!this.filtered_;const a=be(n);return this.isCompleteForChild(a)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function XN(l,n,a,r){const u=[],f=[];return n.forEach(h=>{h.type==="child_changed"&&l.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&f.push(UN(h.childName,h.snapshotNode))}),_r(l,u,"child_removed",n,r,a),_r(l,u,"child_added",n,r,a),_r(l,u,"child_moved",f,r,a),_r(l,u,"child_changed",n,r,a),_r(l,u,"value",n,r,a),u}function _r(l,n,a,r,u,f){const h=r.filter(p=>p.type===a);h.sort((p,x)=>ZN(l,p,x)),h.forEach(p=>{const x=FN(l,p,f);u.forEach(g=>{g.respondsTo(p.type)&&n.push(g.createEvent(x,l.query_))})})}function FN(l,n,a){return n.type==="value"||n.type==="child_removed"||(n.prevName=a.getPredecessorChildName(n.childName,n.snapshotNode,l.index_)),n}function ZN(l,n,a){if(n.childName==null||a.childName==null)throw ci("Should only compare child_ events.");const r=new _e(n.childName,n.snapshotNode),u=new _e(a.childName,a.snapshotNode);return l.index_.compare(r,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(l,n){return{eventCache:l,serverCache:n}}function Er(l,n,a,r){return Fc(new pl(n,a,r),l.serverCache)}function Oy(l,n,a,r){return Fc(l.eventCache,new pl(n,a,r))}function $c(l){return l.eventCache.isFullyInitialized()?l.eventCache.getNode():null}function ea(l){return l.serverCache.isFullyInitialized()?l.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vf;const KN=()=>(vf||(vf=new an(zS)),vf);class We{static fromObject(n){let a=new We(null);return Ht(n,(r,u)=>{a=a.set(new Xe(r),u)}),a}constructor(n,a=KN()){this.value=n,this.children=a}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,a){if(this.value!=null&&a(this.value))return{path:Ue(),value:this.value};if(Ee(n))return null;{const r=be(n),u=this.children.get(r);if(u!==null){const f=u.findRootMostMatchingPathAndValue(et(n),a);return f!=null?{path:ht(new Xe(r),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(Ee(n))return this;{const a=be(n),r=this.children.get(a);return r!==null?r.subtree(et(n)):new We(null)}}set(n,a){if(Ee(n))return new We(a,this.children);{const r=be(n),f=(this.children.get(r)||new We(null)).set(et(n),a),h=this.children.insert(r,f);return new We(this.value,h)}}remove(n){if(Ee(n))return this.children.isEmpty()?new We(null):new We(null,this.children);{const a=be(n),r=this.children.get(a);if(r){const u=r.remove(et(n));let f;return u.isEmpty()?f=this.children.remove(a):f=this.children.insert(a,u),this.value===null&&f.isEmpty()?new We(null):new We(this.value,f)}else return this}}get(n){if(Ee(n))return this.value;{const a=be(n),r=this.children.get(a);return r?r.get(et(n)):null}}setTree(n,a){if(Ee(n))return a;{const r=be(n),f=(this.children.get(r)||new We(null)).setTree(et(n),a);let h;return f.isEmpty()?h=this.children.remove(r):h=this.children.insert(r,f),new We(this.value,h)}}fold(n){return this.fold_(Ue(),n)}fold_(n,a){const r={};return this.children.inorderTraversal((u,f)=>{r[u]=f.fold_(ht(n,u),a)}),a(n,this.value,r)}findOnPath(n,a){return this.findOnPath_(n,Ue(),a)}findOnPath_(n,a,r){const u=this.value?r(a,this.value):!1;if(u)return u;if(Ee(n))return null;{const f=be(n),h=this.children.get(f);return h?h.findOnPath_(et(n),ht(a,f),r):null}}foreachOnPath(n,a){return this.foreachOnPath_(n,Ue(),a)}foreachOnPath_(n,a,r){if(Ee(n))return this;{this.value&&r(a,this.value);const u=be(n),f=this.children.get(u);return f?f.foreachOnPath_(et(n),ht(a,u),r):new We(null)}}foreach(n){this.foreach_(Ue(),n)}foreach_(n,a){this.children.inorderTraversal((r,u)=>{u.foreach_(ht(n,r),a)}),this.value&&a(n,this.value)}foreachChild(n){this.children.inorderTraversal((a,r)=>{r.value&&n(a,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(n){this.writeTree_=n}static empty(){return new qn(new We(null))}}function jr(l,n,a){if(Ee(n))return new qn(new We(a));{const r=l.writeTree_.findRootMostValueAndPath(n);if(r!=null){const u=r.path;let f=r.value;const h=Kt(u,n);return f=f.updateChild(h,a),new qn(l.writeTree_.set(u,f))}else{const u=new We(a),f=l.writeTree_.setTree(n,u);return new qn(f)}}}function zf(l,n,a){let r=l;return Ht(a,(u,f)=>{r=jr(r,ht(n,u),f)}),r}function ux(l,n){if(Ee(n))return qn.empty();{const a=l.writeTree_.setTree(n,new We(null));return new qn(a)}}function Lf(l,n){return na(l,n)!=null}function na(l,n){const a=l.writeTree_.findRootMostValueAndPath(n);return a!=null?l.writeTree_.get(a.path).getChild(Kt(a.path,n)):null}function dx(l){const n=[],a=l.writeTree_.value;return a!=null?a.isLeafNode()||a.forEachChild(mt,(r,u)=>{n.push(new _e(r,u))}):l.writeTree_.children.inorderTraversal((r,u)=>{u.value!=null&&n.push(new _e(r,u.value))}),n}function fl(l,n){if(Ee(n))return l;{const a=na(l,n);return a!=null?new qn(new We(a)):new qn(l.writeTree_.subtree(n))}}function $f(l){return l.writeTree_.isEmpty()}function ii(l,n){return zy(Ue(),l.writeTree_,n)}function zy(l,n,a){if(n.value!=null)return a.updateChild(l,n.value);{let r=null;return n.children.inorderTraversal((u,f)=>{u===".priority"?(Q(f.value!==null,"Priority writes must always be leaf nodes"),r=f.value):a=zy(ht(l,u),f,a)}),!a.getChild(l).isEmpty()&&r!==null&&(a=a.updateChild(ht(l,".priority"),r)),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(l,n){return Hy(n,l)}function WN(l,n,a,r,u){Q(r>l.lastWriteId,"Stacking an older write on top of newer ones"),u===void 0&&(u=!0),l.allWrites.push({path:n,snap:a,writeId:r,visible:u}),u&&(l.visibleWrites=jr(l.visibleWrites,n,a)),l.lastWriteId=r}function JN(l,n,a,r){Q(r>l.lastWriteId,"Stacking an older merge on top of newer ones"),l.allWrites.push({path:n,children:a,writeId:r,visible:!0}),l.visibleWrites=zf(l.visibleWrites,n,a),l.lastWriteId=r}function ew(l,n){for(let a=0;a<l.allWrites.length;a++){const r=l.allWrites[a];if(r.writeId===n)return r}return null}function tw(l,n){const a=l.allWrites.findIndex(p=>p.writeId===n);Q(a>=0,"removeWrite called with nonexistent writeId.");const r=l.allWrites[a];l.allWrites.splice(a,1);let u=r.visible,f=!1,h=l.allWrites.length-1;for(;u&&h>=0;){const p=l.allWrites[h];p.visible&&(h>=a&&nw(p,r.path)?u=!1:An(r.path,p.path)&&(f=!0)),h--}if(u){if(f)return sw(l),!0;if(r.snap)l.visibleWrites=ux(l.visibleWrites,r.path);else{const p=r.children;Ht(p,x=>{l.visibleWrites=ux(l.visibleWrites,ht(r.path,x))})}return!0}else return!1}function nw(l,n){if(l.snap)return An(l.path,n);for(const a in l.children)if(l.children.hasOwnProperty(a)&&An(ht(l.path,a),n))return!0;return!1}function sw(l){l.visibleWrites=Ly(l.allWrites,lw,Ue()),l.allWrites.length>0?l.lastWriteId=l.allWrites[l.allWrites.length-1].writeId:l.lastWriteId=-1}function lw(l){return l.visible}function Ly(l,n,a){let r=qn.empty();for(let u=0;u<l.length;++u){const f=l[u];if(n(f)){const h=f.path;let p;if(f.snap)An(a,h)?(p=Kt(a,h),r=jr(r,p,f.snap)):An(h,a)&&(p=Kt(h,a),r=jr(r,Ue(),f.snap.getChild(p)));else if(f.children){if(An(a,h))p=Kt(a,h),r=zf(r,p,f.children);else if(An(h,a))if(p=Kt(h,a),Ee(p))r=zf(r,Ue(),f.children);else{const x=ni(f.children,be(p));if(x){const g=x.getChild(et(p));r=jr(r,Ue(),g)}}}else throw ci("WriteRecord should have .snap or .children")}}return r}function $y(l,n,a,r,u){if(!r&&!u){const f=na(l.visibleWrites,n);if(f!=null)return f;{const h=fl(l.visibleWrites,n);if($f(h))return a;if(a==null&&!Lf(h,Ue()))return null;{const p=a||re.EMPTY_NODE;return ii(h,p)}}}else{const f=fl(l.visibleWrites,n);if(!u&&$f(f))return a;if(!u&&a==null&&!Lf(f,Ue()))return null;{const h=function(g){return(g.visible||u)&&(!r||!~r.indexOf(g.writeId))&&(An(g.path,n)||An(n,g.path))},p=Ly(l.allWrites,h,n),x=a||re.EMPTY_NODE;return ii(p,x)}}}function aw(l,n,a){let r=re.EMPTY_NODE;const u=na(l.visibleWrites,n);if(u)return u.isLeafNode()||u.forEachChild(mt,(f,h)=>{r=r.updateImmediateChild(f,h)}),r;if(a){const f=fl(l.visibleWrites,n);return a.forEachChild(mt,(h,p)=>{const x=ii(fl(f,new Xe(h)),p);r=r.updateImmediateChild(h,x)}),dx(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}else{const f=fl(l.visibleWrites,n);return dx(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}}function iw(l,n,a,r,u){Q(r||u,"Either existingEventSnap or existingServerSnap must exist");const f=ht(n,a);if(Lf(l.visibleWrites,f))return null;{const h=fl(l.visibleWrites,f);return $f(h)?u.getChild(a):ii(h,u.getChild(a))}}function rw(l,n,a,r){const u=ht(n,a),f=na(l.visibleWrites,u);if(f!=null)return f;if(r.isCompleteForChild(a)){const h=fl(l.visibleWrites,u);return ii(h,r.getNode().getImmediateChild(a))}else return null}function ow(l,n){return na(l.visibleWrites,n)}function cw(l,n,a,r,u,f,h){let p;const x=fl(l.visibleWrites,n),g=na(x,Ue());if(g!=null)p=g;else if(a!=null)p=ii(x,a);else return[];if(p=p.withIndex(h),!p.isEmpty()&&!p.isLeafNode()){const N=[],b=h.getCompare(),v=f?p.getReverseIteratorFrom(r,h):p.getIteratorFrom(r,h);let R=v.getNext();for(;R&&N.length<u;)b(R,r)!==0&&N.push(R),R=v.getNext();return N}else return[]}function uw(){return{visibleWrites:qn.empty(),allWrites:[],lastWriteId:-1}}function Uc(l,n,a,r){return $y(l.writeTree,l.treePath,n,a,r)}function mh(l,n){return aw(l.writeTree,l.treePath,n)}function fx(l,n,a,r){return iw(l.writeTree,l.treePath,n,a,r)}function Hc(l,n){return ow(l.writeTree,ht(l.treePath,n))}function dw(l,n,a,r,u,f){return cw(l.writeTree,l.treePath,n,a,r,u,f)}function ph(l,n,a){return rw(l.writeTree,l.treePath,n,a)}function Uy(l,n){return Hy(ht(l.treePath,n),l.writeTree)}function Hy(l,n){return{treePath:l,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(){this.changeMap=new Map}trackChildChange(n){const a=n.type,r=n.childName;Q(a==="child_added"||a==="child_changed"||a==="child_removed","Only child changes supported for tracking"),Q(r!==".priority","Only non-priority child changes can be tracked.");const u=this.changeMap.get(r);if(u){const f=u.type;if(a==="child_added"&&f==="child_removed")this.changeMap.set(r,Lr(r,n.snapshotNode,u.snapshotNode));else if(a==="child_removed"&&f==="child_added")this.changeMap.delete(r);else if(a==="child_removed"&&f==="child_changed")this.changeMap.set(r,zr(r,u.oldSnap));else if(a==="child_changed"&&f==="child_added")this.changeMap.set(r,li(r,n.snapshotNode));else if(a==="child_changed"&&f==="child_changed")this.changeMap.set(r,Lr(r,n.snapshotNode,u.oldSnap));else throw ci("Illegal combination of changes: "+n+" occurred after "+u)}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{getCompleteChild(n){return null}getChildAfterChild(n,a,r){return null}}const Iy=new hw;class gh{constructor(n,a,r=null){this.writes_=n,this.viewCache_=a,this.optCompleteServerCache_=r}getCompleteChild(n){const a=this.viewCache_.eventCache;if(a.isCompleteForChild(n))return a.getNode().getImmediateChild(n);{const r=this.optCompleteServerCache_!=null?new pl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ph(this.writes_,n,r)}}getChildAfterChild(n,a,r){const u=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ea(this.viewCache_),f=dw(this.writes_,u,a,1,r,n);return f.length===0?null:f[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(l){return{filter:l}}function pw(l,n){Q(n.eventCache.getNode().isIndexed(l.filter.getIndex()),"Event snap not indexed"),Q(n.serverCache.getNode().isIndexed(l.filter.getIndex()),"Server snap not indexed")}function gw(l,n,a,r,u){const f=new fw;let h,p;if(a.type===Bn.OVERWRITE){const g=a;g.source.fromUser?h=Uf(l,n,g.path,g.snap,r,u,f):(Q(g.source.fromServer,"Unknown source."),p=g.source.tagged||n.serverCache.isFiltered()&&!Ee(g.path),h=Ic(l,n,g.path,g.snap,r,u,p,f))}else if(a.type===Bn.MERGE){const g=a;g.source.fromUser?h=yw(l,n,g.path,g.children,r,u,f):(Q(g.source.fromServer,"Unknown source."),p=g.source.tagged||n.serverCache.isFiltered(),h=Hf(l,n,g.path,g.children,r,u,p,f))}else if(a.type===Bn.ACK_USER_WRITE){const g=a;g.revert?h=_w(l,n,g.path,r,u,f):h=vw(l,n,g.path,g.affectedTree,r,u,f)}else if(a.type===Bn.LISTEN_COMPLETE)h=bw(l,n,a.path,r,f);else throw ci("Unknown operation type: "+a.type);const x=f.getChanges();return xw(n,h,x),{viewCache:h,changes:x}}function xw(l,n,a){const r=n.eventCache;if(r.isFullyInitialized()){const u=r.getNode().isLeafNode()||r.getNode().isEmpty(),f=$c(l);(a.length>0||!l.eventCache.isFullyInitialized()||u&&!r.getNode().equals(f)||!r.getNode().getPriority().equals(f.getPriority()))&&a.push(My($c(n)))}}function By(l,n,a,r,u,f){const h=n.eventCache;if(Hc(r,a)!=null)return n;{let p,x;if(Ee(a))if(Q(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const g=ea(n),N=g instanceof re?g:re.EMPTY_NODE,b=mh(r,N);p=l.filter.updateFullNode(n.eventCache.getNode(),b,f)}else{const g=Uc(r,ea(n));p=l.filter.updateFullNode(n.eventCache.getNode(),g,f)}else{const g=be(a);if(g===".priority"){Q(ml(a)===1,"Can't have a priority with additional path components");const N=h.getNode();x=n.serverCache.getNode();const b=fx(r,a,N,x);b!=null?p=l.filter.updatePriority(N,b):p=h.getNode()}else{const N=et(a);let b;if(h.isCompleteForChild(g)){x=n.serverCache.getNode();const v=fx(r,a,h.getNode(),x);v!=null?b=h.getNode().getImmediateChild(g).updateChild(N,v):b=h.getNode().getImmediateChild(g)}else b=ph(r,g,n.serverCache);b!=null?p=l.filter.updateChild(h.getNode(),g,b,N,u,f):p=h.getNode()}}return Er(n,p,h.isFullyInitialized()||Ee(a),l.filter.filtersNodes())}}function Ic(l,n,a,r,u,f,h,p){const x=n.serverCache;let g;const N=h?l.filter:l.filter.getIndexedFilter();if(Ee(a))g=N.updateFullNode(x.getNode(),r,null);else if(N.filtersNodes()&&!x.isFiltered()){const R=x.getNode().updateChild(a,r);g=N.updateFullNode(x.getNode(),R,null)}else{const R=be(a);if(!x.isCompleteForPath(a)&&ml(a)>1)return n;const P=et(a),ce=x.getNode().getImmediateChild(R).updateChild(P,r);R===".priority"?g=N.updatePriority(x.getNode(),ce):g=N.updateChild(x.getNode(),R,ce,P,Iy,null)}const b=Oy(n,g,x.isFullyInitialized()||Ee(a),N.filtersNodes()),v=new gh(u,b,f);return By(l,b,a,u,v,p)}function Uf(l,n,a,r,u,f,h){const p=n.eventCache;let x,g;const N=new gh(u,n,f);if(Ee(a))g=l.filter.updateFullNode(n.eventCache.getNode(),r,h),x=Er(n,g,!0,l.filter.filtersNodes());else{const b=be(a);if(b===".priority")g=l.filter.updatePriority(n.eventCache.getNode(),r),x=Er(n,g,p.isFullyInitialized(),p.isFiltered());else{const v=et(a),R=p.getNode().getImmediateChild(b);let P;if(Ee(v))P=r;else{const Z=N.getCompleteChild(b);Z!=null?ah(v)===".priority"&&Z.getChild(Cy(v)).isEmpty()?P=Z:P=Z.updateChild(v,r):P=re.EMPTY_NODE}if(R.equals(P))x=n;else{const Z=l.filter.updateChild(p.getNode(),b,P,v,N,h);x=Er(n,Z,p.isFullyInitialized(),l.filter.filtersNodes())}}}return x}function hx(l,n){return l.eventCache.isCompleteForChild(n)}function yw(l,n,a,r,u,f,h){let p=n;return r.foreach((x,g)=>{const N=ht(a,x);hx(n,be(N))&&(p=Uf(l,p,N,g,u,f,h))}),r.foreach((x,g)=>{const N=ht(a,x);hx(n,be(N))||(p=Uf(l,p,N,g,u,f,h))}),p}function mx(l,n,a){return a.foreach((r,u)=>{n=n.updateChild(r,u)}),n}function Hf(l,n,a,r,u,f,h,p){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let x=n,g;Ee(a)?g=r:g=new We(null).setTree(a,r);const N=n.serverCache.getNode();return g.children.inorderTraversal((b,v)=>{if(N.hasChild(b)){const R=n.serverCache.getNode().getImmediateChild(b),P=mx(l,R,v);x=Ic(l,x,new Xe(b),P,u,f,h,p)}}),g.children.inorderTraversal((b,v)=>{const R=!n.serverCache.isCompleteForChild(b)&&v.value===null;if(!N.hasChild(b)&&!R){const P=n.serverCache.getNode().getImmediateChild(b),Z=mx(l,P,v);x=Ic(l,x,new Xe(b),Z,u,f,h,p)}}),x}function vw(l,n,a,r,u,f,h){if(Hc(u,a)!=null)return n;const p=n.serverCache.isFiltered(),x=n.serverCache;if(r.value!=null){if(Ee(a)&&x.isFullyInitialized()||x.isCompleteForPath(a))return Ic(l,n,a,x.getNode().getChild(a),u,f,p,h);if(Ee(a)){let g=new We(null);return x.getNode().forEachChild(ti,(N,b)=>{g=g.set(new Xe(N),b)}),Hf(l,n,a,g,u,f,p,h)}else return n}else{let g=new We(null);return r.foreach((N,b)=>{const v=ht(a,N);x.isCompleteForPath(v)&&(g=g.set(N,x.getNode().getChild(v)))}),Hf(l,n,a,g,u,f,p,h)}}function bw(l,n,a,r,u){const f=n.serverCache,h=Oy(n,f.getNode(),f.isFullyInitialized()||Ee(a),f.isFiltered());return By(l,h,a,r,Iy,u)}function _w(l,n,a,r,u,f){let h;if(Hc(r,a)!=null)return n;{const p=new gh(r,n,u),x=n.eventCache.getNode();let g;if(Ee(a)||be(a)===".priority"){let N;if(n.serverCache.isFullyInitialized())N=Uc(r,ea(n));else{const b=n.serverCache.getNode();Q(b instanceof re,"serverChildren would be complete if leaf node"),N=mh(r,b)}N=N,g=l.filter.updateFullNode(x,N,f)}else{const N=be(a);let b=ph(r,N,n.serverCache);b==null&&n.serverCache.isCompleteForChild(N)&&(b=x.getImmediateChild(N)),b!=null?g=l.filter.updateChild(x,N,b,et(a),p,f):n.eventCache.getNode().hasChild(N)?g=l.filter.updateChild(x,N,re.EMPTY_NODE,et(a),p,f):g=x,g.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=Uc(r,ea(n)),h.isLeafNode()&&(g=l.filter.updateFullNode(g,h,f)))}return h=n.serverCache.isFullyInitialized()||Hc(r,Ue())!=null,Er(n,g,h,l.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(n,a){this.query_=n,this.eventRegistrations_=[];const r=this.query_._queryParams,u=new ch(r.getIndex()),f=IN(r);this.processor_=mw(f);const h=a.serverCache,p=a.eventCache,x=u.updateFullNode(re.EMPTY_NODE,h.getNode(),null),g=f.updateFullNode(re.EMPTY_NODE,p.getNode(),null),N=new pl(x,h.isFullyInitialized(),u.filtersNodes()),b=new pl(g,p.isFullyInitialized(),f.filtersNodes());this.viewCache_=Fc(b,N),this.eventGenerator_=new QN(this.query_)}get query(){return this.query_}}function Nw(l){return l.viewCache_.serverCache.getNode()}function ww(l){return $c(l.viewCache_)}function Cw(l,n){const a=ea(l.viewCache_);return a&&(l.query._queryParams.loadsAllData()||!Ee(n)&&!a.getImmediateChild(be(n)).isEmpty())?a.getChild(n):null}function px(l){return l.eventRegistrations_.length===0}function Ew(l,n){l.eventRegistrations_.push(n)}function gx(l,n,a){const r=[];if(a){Q(n==null,"A cancel should cancel all event registrations.");const u=l.query._path;l.eventRegistrations_.forEach(f=>{const h=f.createCancelEvent(a,u);h&&r.push(h)})}if(n){let u=[];for(let f=0;f<l.eventRegistrations_.length;++f){const h=l.eventRegistrations_[f];if(!h.matches(n))u.push(h);else if(n.hasAnyCallback()){u=u.concat(l.eventRegistrations_.slice(f+1));break}}l.eventRegistrations_=u}else l.eventRegistrations_=[];return r}function xx(l,n,a,r){n.type===Bn.MERGE&&n.source.queryId!==null&&(Q(ea(l.viewCache_),"We should always have a full cache before handling merges"),Q($c(l.viewCache_),"Missing event cache, even though we have a server cache"));const u=l.viewCache_,f=gw(l.processor_,u,n,a,r);return pw(l.processor_,f.viewCache),Q(f.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),l.viewCache_=f.viewCache,qy(l,f.changes,f.viewCache.eventCache.getNode(),null)}function jw(l,n){const a=l.viewCache_.eventCache,r=[];return a.getNode().isLeafNode()||a.getNode().forEachChild(mt,(f,h)=>{r.push(li(f,h))}),a.isFullyInitialized()&&r.push(My(a.getNode())),qy(l,r,a.getNode(),n)}function qy(l,n,a,r){const u=r?[r]:l.eventRegistrations_;return XN(l.eventGenerator_,n,a,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc;class Yy{constructor(){this.views=new Map}}function Tw(l){Q(!Bc,"__referenceConstructor has already been defined"),Bc=l}function Aw(){return Q(Bc,"Reference.ts has not been loaded"),Bc}function Dw(l){return l.views.size===0}function xh(l,n,a,r){const u=n.source.queryId;if(u!==null){const f=l.views.get(u);return Q(f!=null,"SyncTree gave us an op for an invalid query."),xx(f,n,a,r)}else{let f=[];for(const h of l.views.values())f=f.concat(xx(h,n,a,r));return f}}function Gy(l,n,a,r,u){const f=n._queryIdentifier,h=l.views.get(f);if(!h){let p=Uc(a,u?r:null),x=!1;p?x=!0:r instanceof re?(p=mh(a,r),x=!1):(p=re.EMPTY_NODE,x=!1);const g=Fc(new pl(p,x,!1),new pl(r,u,!1));return new Sw(n,g)}return h}function kw(l,n,a,r,u,f){const h=Gy(l,n,r,u,f);return l.views.has(n._queryIdentifier)||l.views.set(n._queryIdentifier,h),Ew(h,a),jw(h,a)}function Mw(l,n,a,r){const u=n._queryIdentifier,f=[];let h=[];const p=gl(l);if(u==="default")for(const[x,g]of l.views.entries())h=h.concat(gx(g,a,r)),px(g)&&(l.views.delete(x),g.query._queryParams.loadsAllData()||f.push(g.query));else{const x=l.views.get(u);x&&(h=h.concat(gx(x,a,r)),px(x)&&(l.views.delete(u),x.query._queryParams.loadsAllData()||f.push(x.query)))}return p&&!gl(l)&&f.push(new(Aw())(n._repo,n._path)),{removed:f,events:h}}function Vy(l){const n=[];for(const a of l.views.values())a.query._queryParams.loadsAllData()||n.push(a);return n}function hl(l,n){let a=null;for(const r of l.views.values())a=a||Cw(r,n);return a}function Py(l,n){if(n._queryParams.loadsAllData())return Kc(l);{const r=n._queryIdentifier;return l.views.get(r)}}function Qy(l,n){return Py(l,n)!=null}function gl(l){return Kc(l)!=null}function Kc(l){for(const n of l.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc;function Rw(l){Q(!qc,"__referenceConstructor has already been defined"),qc=l}function Ow(){return Q(qc,"Reference.ts has not been loaded"),qc}let zw=1;class yx{constructor(n){this.listenProvider_=n,this.syncPointTree_=new We(null),this.pendingWriteTree_=uw(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Xy(l,n,a,r,u){return WN(l.pendingWriteTree_,n,a,r,u),u?fi(l,new Jl(dh(),n,a)):[]}function Lw(l,n,a,r){JN(l.pendingWriteTree_,n,a,r);const u=We.fromObject(a);return fi(l,new ai(dh(),n,u))}function cl(l,n,a=!1){const r=ew(l.pendingWriteTree_,n);if(tw(l.pendingWriteTree_,n)){let f=new We(null);return r.snap!=null?f=f.set(Ue(),!0):Ht(r.children,h=>{f=f.set(new Xe(h),!0)}),fi(l,new Lc(r.path,f,a))}else return[]}function Qr(l,n,a){return fi(l,new Jl(fh(),n,a))}function $w(l,n,a){const r=We.fromObject(a);return fi(l,new ai(fh(),n,r))}function Uw(l,n){return fi(l,new Ur(fh(),n))}function Hw(l,n,a){const r=vh(l,a);if(r){const u=bh(r),f=u.path,h=u.queryId,p=Kt(f,n),x=new Ur(hh(h),p);return _h(l,f,x)}else return[]}function Yc(l,n,a,r,u=!1){const f=n._path,h=l.syncPointTree_.get(f);let p=[];if(h&&(n._queryIdentifier==="default"||Qy(h,n))){const x=Mw(h,n,a,r);Dw(h)&&(l.syncPointTree_=l.syncPointTree_.remove(f));const g=x.removed;if(p=x.events,!u){const N=g.findIndex(v=>v._queryParams.loadsAllData())!==-1,b=l.syncPointTree_.findOnPath(f,(v,R)=>gl(R));if(N&&!b){const v=l.syncPointTree_.subtree(f);if(!v.isEmpty()){const R=qw(v);for(let P=0;P<R.length;++P){const Z=R[P],ce=Z.query,te=Wy(l,Z);l.listenProvider_.startListening(Tr(ce),Hr(l,ce),te.hashFn,te.onComplete)}}}!b&&g.length>0&&!r&&(N?l.listenProvider_.stopListening(Tr(n),null):g.forEach(v=>{const R=l.queryToTagMap.get(Wc(v));l.listenProvider_.stopListening(Tr(v),R)}))}Yw(l,g)}return p}function Fy(l,n,a,r){const u=vh(l,r);if(u!=null){const f=bh(u),h=f.path,p=f.queryId,x=Kt(h,n),g=new Jl(hh(p),x,a);return _h(l,h,g)}else return[]}function Iw(l,n,a,r){const u=vh(l,r);if(u){const f=bh(u),h=f.path,p=f.queryId,x=Kt(h,n),g=We.fromObject(a),N=new ai(hh(p),x,g);return _h(l,h,N)}else return[]}function If(l,n,a,r=!1){const u=n._path;let f=null,h=!1;l.syncPointTree_.foreachOnPath(u,(v,R)=>{const P=Kt(v,u);f=f||hl(R,P),h=h||gl(R)});let p=l.syncPointTree_.get(u);p?(h=h||gl(p),f=f||hl(p,Ue())):(p=new Yy,l.syncPointTree_=l.syncPointTree_.set(u,p));let x;f!=null?x=!0:(x=!1,f=re.EMPTY_NODE,l.syncPointTree_.subtree(u).foreachChild((R,P)=>{const Z=hl(P,Ue());Z&&(f=f.updateImmediateChild(R,Z))}));const g=Qy(p,n);if(!g&&!n._queryParams.loadsAllData()){const v=Wc(n);Q(!l.queryToTagMap.has(v),"View does not exist, but we have a tag");const R=Gw();l.queryToTagMap.set(v,R),l.tagToQueryMap.set(R,v)}const N=Zc(l.pendingWriteTree_,u);let b=kw(p,n,a,N,f,x);if(!g&&!h&&!r){const v=Py(p,n);b=b.concat(Vw(l,n,v))}return b}function yh(l,n,a){const u=l.pendingWriteTree_,f=l.syncPointTree_.findOnPath(n,(h,p)=>{const x=Kt(h,n),g=hl(p,x);if(g)return g});return $y(u,n,f,a,!0)}function Bw(l,n){const a=n._path;let r=null;l.syncPointTree_.foreachOnPath(a,(g,N)=>{const b=Kt(g,a);r=r||hl(N,b)});let u=l.syncPointTree_.get(a);u?r=r||hl(u,Ue()):(u=new Yy,l.syncPointTree_=l.syncPointTree_.set(a,u));const f=r!=null,h=f?new pl(r,!0,!1):null,p=Zc(l.pendingWriteTree_,n._path),x=Gy(u,n,p,f?h.getNode():re.EMPTY_NODE,f);return ww(x)}function fi(l,n){return Zy(n,l.syncPointTree_,null,Zc(l.pendingWriteTree_,Ue()))}function Zy(l,n,a,r){if(Ee(l.path))return Ky(l,n,a,r);{const u=n.get(Ue());a==null&&u!=null&&(a=hl(u,Ue()));let f=[];const h=be(l.path),p=l.operationForChild(h),x=n.children.get(h);if(x&&p){const g=a?a.getImmediateChild(h):null,N=Uy(r,h);f=f.concat(Zy(p,x,g,N))}return u&&(f=f.concat(xh(u,l,r,a))),f}}function Ky(l,n,a,r){const u=n.get(Ue());a==null&&u!=null&&(a=hl(u,Ue()));let f=[];return n.children.inorderTraversal((h,p)=>{const x=a?a.getImmediateChild(h):null,g=Uy(r,h),N=l.operationForChild(h);N&&(f=f.concat(Ky(N,p,x,g)))}),u&&(f=f.concat(xh(u,l,r,a))),f}function Wy(l,n){const a=n.query,r=Hr(l,a);return{hashFn:()=>(Nw(n)||re.EMPTY_NODE).hash(),onComplete:u=>{if(u==="ok")return r?Hw(l,a._path,r):Uw(l,a._path);{const f=US(u,a);return Yc(l,a,null,f)}}}}function Hr(l,n){const a=Wc(n);return l.queryToTagMap.get(a)}function Wc(l){return l._path.toString()+"$"+l._queryIdentifier}function vh(l,n){return l.tagToQueryMap.get(n)}function bh(l){const n=l.indexOf("$");return Q(n!==-1&&n<l.length-1,"Bad queryKey."),{queryId:l.substr(n+1),path:new Xe(l.substr(0,n))}}function _h(l,n,a){const r=l.syncPointTree_.get(n);Q(r,"Missing sync point for query tag that we're tracking");const u=Zc(l.pendingWriteTree_,n);return xh(r,a,u,null)}function qw(l){return l.fold((n,a,r)=>{if(a&&gl(a))return[Kc(a)];{let u=[];return a&&(u=Vy(a)),Ht(r,(f,h)=>{u=u.concat(h)}),u}})}function Tr(l){return l._queryParams.loadsAllData()&&!l._queryParams.isDefault()?new(Ow())(l._repo,l._path):l}function Yw(l,n){for(let a=0;a<n.length;++a){const r=n[a];if(!r._queryParams.loadsAllData()){const u=Wc(r),f=l.queryToTagMap.get(u);l.queryToTagMap.delete(u),l.tagToQueryMap.delete(f)}}}function Gw(){return zw++}function Vw(l,n,a){const r=n._path,u=Hr(l,n),f=Wy(l,a),h=l.listenProvider_.startListening(Tr(n),u,f.hashFn,f.onComplete),p=l.syncPointTree_.subtree(r);if(u)Q(!gl(p.value),"If we're adding a query, it shouldn't be shadowed");else{const x=p.fold((g,N,b)=>{if(!Ee(g)&&N&&gl(N))return[Kc(N).query];{let v=[];return N&&(v=v.concat(Vy(N).map(R=>R.query))),Ht(b,(R,P)=>{v=v.concat(P)}),v}});for(let g=0;g<x.length;++g){const N=x[g];l.listenProvider_.stopListening(Tr(N),Hr(l,N))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(n){this.node_=n}getImmediateChild(n){const a=this.node_.getImmediateChild(n);return new Sh(a)}node(){return this.node_}}class Nh{constructor(n,a){this.syncTree_=n,this.path_=a}getImmediateChild(n){const a=ht(this.path_,n);return new Nh(this.syncTree_,a)}node(){return yh(this.syncTree_,this.path_)}}const Pw=function(l){return l=l||{},l.timestamp=l.timestamp||new Date().getTime(),l},vx=function(l,n,a){if(!l||typeof l!="object")return l;if(Q(".sv"in l,"Unexpected leaf node or priority contents"),typeof l[".sv"]=="string")return Qw(l[".sv"],n,a);if(typeof l[".sv"]=="object")return Xw(l[".sv"],n);Q(!1,"Unexpected server value: "+JSON.stringify(l,null,2))},Qw=function(l,n,a){switch(l){case"timestamp":return a.timestamp;default:Q(!1,"Unexpected server value: "+l)}},Xw=function(l,n,a){l.hasOwnProperty("increment")||Q(!1,"Unexpected server value: "+JSON.stringify(l,null,2));const r=l.increment;typeof r!="number"&&Q(!1,"Unexpected increment value: "+r);const u=n.node();if(Q(u!==null&&typeof u<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return r;const h=u.getValue();return typeof h!="number"?r:h+r},Jy=function(l,n,a,r){return wh(n,new Nh(a,l),r)},ev=function(l,n,a){return wh(l,new Sh(n),a)};function wh(l,n,a){const r=l.getPriority().val(),u=vx(r,n.getImmediateChild(".priority"),a);let f;if(l.isLeafNode()){const h=l,p=vx(h.getValue(),n,a);return p!==h.getValue()||u!==h.getPriority().val()?new Dt(p,jt(u)):l}else{const h=l;return f=h,u!==h.getPriority().val()&&(f=f.updatePriority(new Dt(u))),h.forEachChild(mt,(p,x)=>{const g=wh(x,n.getImmediateChild(p),a);g!==x&&(f=f.updateImmediateChild(p,g))}),f}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(n="",a=null,r={children:{},childCount:0}){this.name=n,this.parent=a,this.node=r}}function Eh(l,n){let a=n instanceof Xe?n:new Xe(n),r=l,u=be(a);for(;u!==null;){const f=ni(r.node.children,u)||{children:{},childCount:0};r=new Ch(u,r,f),a=et(a),u=be(a)}return r}function hi(l){return l.node.value}function tv(l,n){l.node.value=n,Bf(l)}function nv(l){return l.node.childCount>0}function Fw(l){return hi(l)===void 0&&!nv(l)}function Jc(l,n){Ht(l.node.children,(a,r)=>{n(new Ch(a,l,r))})}function sv(l,n,a,r){a&&n(l),Jc(l,u=>{sv(u,n,!0)})}function Zw(l,n,a){let r=l.parent;for(;r!==null;){if(n(r))return!0;r=r.parent}return!1}function Xr(l){return new Xe(l.parent===null?l.name:Xr(l.parent)+"/"+l.name)}function Bf(l){l.parent!==null&&Kw(l.parent,l.name,l)}function Kw(l,n,a){const r=Fw(a),u=es(l.node.children,n);r&&u?(delete l.node.children[n],l.node.childCount--,Bf(l)):!r&&!u&&(l.node.children[n]=a.node,l.node.childCount++,Bf(l))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=/[\[\].#$\/\u0000-\u001F\u007F]/,Jw=/[\[\].#$\u0000-\u001F\u007F]/,bf=10*1024*1024,jh=function(l){return typeof l=="string"&&l.length!==0&&!Ww.test(l)},lv=function(l){return typeof l=="string"&&l.length!==0&&!Jw.test(l)},eC=function(l){return l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),lv(l)},tC=function(l){return l===null||typeof l=="string"||typeof l=="number"&&!eh(l)||l&&typeof l=="object"&&es(l,".sv")},nC=function(l,n,a,r){eu(Pc(l,"value"),n,a)},eu=function(l,n,a){const r=a instanceof Xe?new yN(a,l):a;if(n===void 0)throw new Error(l+"contains undefined "+Fl(r));if(typeof n=="function")throw new Error(l+"contains a function "+Fl(r)+" with contents = "+n.toString());if(eh(n))throw new Error(l+"contains "+n.toString()+" "+Fl(r));if(typeof n=="string"&&n.length>bf/3&&Qc(n)>bf)throw new Error(l+"contains a string greater than "+bf+" utf8 bytes "+Fl(r)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let u=!1,f=!1;if(Ht(n,(h,p)=>{if(h===".value")u=!0;else if(h!==".priority"&&h!==".sv"&&(f=!0,!jh(h)))throw new Error(l+" contains an invalid key ("+h+") "+Fl(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);vN(r,h),eu(l,p,r),bN(r)}),u&&f)throw new Error(l+' contains ".value" child '+Fl(r)+" in addition to actual children.")}},sC=function(l,n){let a,r;for(a=0;a<n.length;a++){r=n[a];const f=Or(r);for(let h=0;h<f.length;h++)if(!(f[h]===".priority"&&h===f.length-1)){if(!jh(f[h]))throw new Error(l+"contains an invalid key ("+f[h]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(xN);let u=null;for(a=0;a<n.length;a++){if(r=n[a],u!==null&&An(u,r))throw new Error(l+"contains a path "+u.toString()+" that is ancestor of another path "+r.toString());u=r}},lC=function(l,n,a,r){const u=Pc(l,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(u+" must be an object containing the children to replace.");const f=[];Ht(n,(h,p)=>{const x=new Xe(h);if(eu(u,p,ht(a,x)),ah(x)===".priority"&&!tC(p))throw new Error(u+"contains an invalid value for '"+x.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");f.push(x)}),sC(u,f)},av=function(l,n,a,r){if(!lv(a))throw new Error(Pc(l,n)+'was an invalid path = "'+a+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},aC=function(l,n,a,r){a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),av(l,n,a)},iv=function(l,n){if(be(n)===".info")throw new Error(l+" failed = Can't modify data under /.info/")},iC=function(l,n){const a=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!jh(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||a.length!==0&&!eC(a))throw new Error(Pc(l,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function tu(l,n){let a=null;for(let r=0;r<n.length;r++){const u=n[r],f=u.getPath();a!==null&&!ih(f,a.path)&&(l.eventLists_.push(a),a=null),a===null&&(a={events:[],path:f}),a.events.push(u)}a&&l.eventLists_.push(a)}function rv(l,n,a){tu(l,a),ov(l,r=>ih(r,n))}function Dn(l,n,a){tu(l,a),ov(l,r=>An(r,n)||An(n,r))}function ov(l,n){l.recursionDepth_++;let a=!0;for(let r=0;r<l.eventLists_.length;r++){const u=l.eventLists_[r];if(u){const f=u.path;n(f)?(oC(l.eventLists_[r]),l.eventLists_[r]=null):a=!1}}a&&(l.eventLists_=[]),l.recursionDepth_--}function oC(l){for(let n=0;n<l.events.length;n++){const a=l.events[n];if(a!==null){l.events[n]=null;const r=a.getEventRunner();wr&&Ut("event: "+a.toString()),di(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="repo_interrupt",uC=25;class dC{constructor(n,a,r,u){this.repoInfo_=n,this.forceRestClient_=a,this.authTokenProvider_=r,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new rC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=zc(),this.transactionQueueTree_=new Ch,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function fC(l,n,a){if(l.stats_=sh(l.repoInfo_),l.forceRestClient_||qS())l.server_=new Oc(l.repoInfo_,(r,u,f,h)=>{bx(l,r,u,f,h)},l.authTokenProvider_,l.appCheckProvider_),setTimeout(()=>_x(l,!0),0);else{if(typeof a<"u"&&a!==null){if(typeof a!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Tt(a)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}l.persistentConnection_=new As(l.repoInfo_,n,(r,u,f,h)=>{bx(l,r,u,f,h)},r=>{_x(l,r)},r=>{mC(l,r)},l.authTokenProvider_,l.appCheckProvider_,a),l.server_=l.persistentConnection_}l.authTokenProvider_.addTokenChangeListener(r=>{l.server_.refreshAuthToken(r)}),l.appCheckProvider_.addTokenChangeListener(r=>{l.server_.refreshAppCheckToken(r.token)}),l.statsReporter_=QS(l.repoInfo_,()=>new PN(l.stats_,l.server_)),l.infoData_=new BN,l.infoSyncTree_=new yx({startListening:(r,u,f,h)=>{let p=[];const x=l.infoData_.getNode(r._path);return x.isEmpty()||(p=Qr(l.infoSyncTree_,r._path,x),setTimeout(()=>{h("ok")},0)),p},stopListening:()=>{}}),Th(l,"connected",!1),l.serverSyncTree_=new yx({startListening:(r,u,f,h)=>(l.server_.listen(r,f,u,(p,x)=>{const g=h(p,x);Dn(l.eventQueue_,r._path,g)}),[]),stopListening:(r,u)=>{l.server_.unlisten(r,u)}})}function hC(l){const a=l.infoData_.getNode(new Xe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+a}function nu(l){return Pw({timestamp:hC(l)})}function bx(l,n,a,r,u){l.dataUpdateCount++;const f=new Xe(n);a=l.interceptServerDataCallback_?l.interceptServerDataCallback_(n,a):a;let h=[];if(u)if(r){const x=Tc(a,g=>jt(g));h=Iw(l.serverSyncTree_,f,x,u)}else{const x=jt(a);h=Fy(l.serverSyncTree_,f,x,u)}else if(r){const x=Tc(a,g=>jt(g));h=$w(l.serverSyncTree_,f,x)}else{const x=jt(a);h=Qr(l.serverSyncTree_,f,x)}let p=f;h.length>0&&(p=ri(l,f)),Dn(l.eventQueue_,p,h)}function _x(l,n){Th(l,"connected",n),n===!1&&yC(l)}function mC(l,n){Ht(n,(a,r)=>{Th(l,a,r)})}function Th(l,n,a){const r=new Xe("/.info/"+n),u=jt(a);l.infoData_.updateSnapshot(r,u);const f=Qr(l.infoSyncTree_,r,u);Dn(l.eventQueue_,r,f)}function Ah(l){return l.nextWriteId_++}function pC(l,n,a){const r=Bw(l.serverSyncTree_,n);return r!=null?Promise.resolve(r):l.server_.get(n).then(u=>{const f=jt(u).withIndex(n._queryParams.getIndex());If(l.serverSyncTree_,n,a,!0);let h;if(n._queryParams.loadsAllData())h=Qr(l.serverSyncTree_,n._path,f);else{const p=Hr(l.serverSyncTree_,n);h=Fy(l.serverSyncTree_,n._path,f,p)}return Dn(l.eventQueue_,n._path,h),Yc(l.serverSyncTree_,n,a,null,!0),f},u=>(Fr(l,"get for query "+Tt(n)+" failed: "+u),Promise.reject(new Error(u))))}function gC(l,n,a,r,u){Fr(l,"set",{path:n.toString(),value:a,priority:r});const f=nu(l),h=jt(a,r),p=yh(l.serverSyncTree_,n),x=ev(h,p,f),g=Ah(l),N=Xy(l.serverSyncTree_,n,x,g,!0);tu(l.eventQueue_,N),l.server_.put(n.toString(),h.val(!0),(v,R)=>{const P=v==="ok";P||Wt("set at "+n+" failed: "+v);const Z=cl(l.serverSyncTree_,g,!P);Dn(l.eventQueue_,n,Z),qf(l,u,v,R)});const b=kh(l,n);ri(l,b),Dn(l.eventQueue_,b,[])}function xC(l,n,a,r){Fr(l,"update",{path:n.toString(),value:a});let u=!0;const f=nu(l),h={};if(Ht(a,(p,x)=>{u=!1,h[p]=Jy(ht(n,p),jt(x),l.serverSyncTree_,f)}),u)Ut("update() called with empty data.  Don't do anything."),qf(l,r,"ok",void 0);else{const p=Ah(l),x=Lw(l.serverSyncTree_,n,h,p);tu(l.eventQueue_,x),l.server_.merge(n.toString(),a,(g,N)=>{const b=g==="ok";b||Wt("update at "+n+" failed: "+g);const v=cl(l.serverSyncTree_,p,!b),R=v.length>0?ri(l,n):n;Dn(l.eventQueue_,R,v),qf(l,r,g,N)}),Ht(a,g=>{const N=kh(l,ht(n,g));ri(l,N)}),Dn(l.eventQueue_,n,[])}}function yC(l){Fr(l,"onDisconnectEvents");const n=nu(l),a=zc();Of(l.onDisconnect_,Ue(),(u,f)=>{const h=Jy(u,f,l.serverSyncTree_,n);Ry(a,u,h)});let r=[];Of(a,Ue(),(u,f)=>{r=r.concat(Qr(l.serverSyncTree_,u,f));const h=kh(l,u);ri(l,h)}),l.onDisconnect_=zc(),Dn(l.eventQueue_,Ue(),r)}function vC(l,n,a){let r;be(n._path)===".info"?r=If(l.infoSyncTree_,n,a):r=If(l.serverSyncTree_,n,a),rv(l.eventQueue_,n._path,r)}function cv(l,n,a){let r;be(n._path)===".info"?r=Yc(l.infoSyncTree_,n,a):r=Yc(l.serverSyncTree_,n,a),rv(l.eventQueue_,n._path,r)}function bC(l){l.persistentConnection_&&l.persistentConnection_.interrupt(cC)}function Fr(l,...n){let a="";l.persistentConnection_&&(a=l.persistentConnection_.id+":"),Ut(a,...n)}function qf(l,n,a,r){n&&di(()=>{if(a==="ok")n(null);else{const u=(a||"error").toUpperCase();let f=u;r&&(f+=": "+r);const h=new Error(f);h.code=u,n(h)}})}function uv(l,n,a){return yh(l.serverSyncTree_,n,a)||re.EMPTY_NODE}function Dh(l,n=l.transactionQueueTree_){if(n||su(l,n),hi(n)){const a=fv(l,n);Q(a.length>0,"Sending zero length transaction queue"),a.every(u=>u.status===0)&&_C(l,Xr(n),a)}else nv(n)&&Jc(n,a=>{Dh(l,a)})}function _C(l,n,a){const r=a.map(g=>g.currentWriteId),u=uv(l,n,r);let f=u;const h=u.hash();for(let g=0;g<a.length;g++){const N=a[g];Q(N.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),N.status=1,N.retryCount++;const b=Kt(n,N.path);f=f.updateChild(b,N.currentOutputSnapshotRaw)}const p=f.val(!0),x=n;l.server_.put(x.toString(),p,g=>{Fr(l,"transaction put response",{path:x.toString(),status:g});let N=[];if(g==="ok"){const b=[];for(let v=0;v<a.length;v++)a[v].status=2,N=N.concat(cl(l.serverSyncTree_,a[v].currentWriteId)),a[v].onComplete&&b.push(()=>a[v].onComplete(null,!0,a[v].currentOutputSnapshotResolved)),a[v].unwatcher();su(l,Eh(l.transactionQueueTree_,n)),Dh(l,l.transactionQueueTree_),Dn(l.eventQueue_,n,N);for(let v=0;v<b.length;v++)di(b[v])}else{if(g==="datastale")for(let b=0;b<a.length;b++)a[b].status===3?a[b].status=4:a[b].status=0;else{Wt("transaction at "+x.toString()+" failed: "+g);for(let b=0;b<a.length;b++)a[b].status=4,a[b].abortReason=g}ri(l,n)}},h)}function ri(l,n){const a=dv(l,n),r=Xr(a),u=fv(l,a);return SC(l,u,r),r}function SC(l,n,a){if(n.length===0)return;const r=[];let u=[];const h=n.filter(p=>p.status===0).map(p=>p.currentWriteId);for(let p=0;p<n.length;p++){const x=n[p],g=Kt(a,x.path);let N=!1,b;if(Q(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),x.status===4)N=!0,b=x.abortReason,u=u.concat(cl(l.serverSyncTree_,x.currentWriteId,!0));else if(x.status===0)if(x.retryCount>=uC)N=!0,b="maxretry",u=u.concat(cl(l.serverSyncTree_,x.currentWriteId,!0));else{const v=uv(l,x.path,h);x.currentInputSnapshot=v;const R=n[p].update(v.val());if(R!==void 0){eu("transaction failed: Data returned ",R,x.path);let P=jt(R);typeof R=="object"&&R!=null&&es(R,".priority")||(P=P.updatePriority(v.getPriority()));const ce=x.currentWriteId,te=nu(l),le=ev(P,v,te);x.currentOutputSnapshotRaw=P,x.currentOutputSnapshotResolved=le,x.currentWriteId=Ah(l),h.splice(h.indexOf(ce),1),u=u.concat(Xy(l.serverSyncTree_,x.path,le,x.currentWriteId,x.applyLocally)),u=u.concat(cl(l.serverSyncTree_,ce,!0))}else N=!0,b="nodata",u=u.concat(cl(l.serverSyncTree_,x.currentWriteId,!0))}Dn(l.eventQueue_,a,u),u=[],N&&(n[p].status=2,(function(v){setTimeout(v,Math.floor(0))})(n[p].unwatcher),n[p].onComplete&&(b==="nodata"?r.push(()=>n[p].onComplete(null,!1,n[p].currentInputSnapshot)):r.push(()=>n[p].onComplete(new Error(b),!1,null))))}su(l,l.transactionQueueTree_);for(let p=0;p<r.length;p++)di(r[p]);Dh(l,l.transactionQueueTree_)}function dv(l,n){let a,r=l.transactionQueueTree_;for(a=be(n);a!==null&&hi(r)===void 0;)r=Eh(r,a),n=et(n),a=be(n);return r}function fv(l,n){const a=[];return hv(l,n,a),a.sort((r,u)=>r.order-u.order),a}function hv(l,n,a){const r=hi(n);if(r)for(let u=0;u<r.length;u++)a.push(r[u]);Jc(n,u=>{hv(l,u,a)})}function su(l,n){const a=hi(n);if(a){let r=0;for(let u=0;u<a.length;u++)a[u].status!==2&&(a[r]=a[u],r++);a.length=r,tv(n,a.length>0?a:void 0)}Jc(n,r=>{su(l,r)})}function kh(l,n){const a=Xr(dv(l,n)),r=Eh(l.transactionQueueTree_,n);return Zw(r,u=>{_f(l,u)}),_f(l,r),sv(r,u=>{_f(l,u)}),a}function _f(l,n){const a=hi(n);if(a){const r=[];let u=[],f=-1;for(let h=0;h<a.length;h++)a[h].status===3||(a[h].status===1?(Q(f===h-1,"All SENT items should be at beginning of queue."),f=h,a[h].status=3,a[h].abortReason="set"):(Q(a[h].status===0,"Unexpected transaction status in abort"),a[h].unwatcher(),u=u.concat(cl(l.serverSyncTree_,a[h].currentWriteId,!0)),a[h].onComplete&&r.push(a[h].onComplete.bind(null,new Error("set"),!1,null))));f===-1?tv(n,void 0):a.length=f+1,Dn(l.eventQueue_,Xr(n),u);for(let h=0;h<r.length;h++)di(r[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(l){let n="";const a=l.split("/");for(let r=0;r<a.length;r++)if(a[r].length>0){let u=a[r];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch{}n+="/"+u}return n}function wC(l){const n={};l.charAt(0)==="?"&&(l=l.substring(1));for(const a of l.split("&")){if(a.length===0)continue;const r=a.split("=");r.length===2?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Wt(`Invalid query segment '${a}' in query '${l}'`)}return n}const Sx=function(l,n){const a=CC(l),r=a.namespace;a.domain==="firebase.com"&&ks(a.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&a.domain!=="localhost"&&ks("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),a.secure||RS();const u=a.scheme==="ws"||a.scheme==="wss";return{repoInfo:new gy(a.host,a.secure,r,u,n,"",r!==a.subdomain),path:new Xe(a.pathString)}},CC=function(l){let n="",a="",r="",u="",f="",h=!0,p="https",x=443;if(typeof l=="string"){let g=l.indexOf("//");g>=0&&(p=l.substring(0,g-1),l=l.substring(g+2));let N=l.indexOf("/");N===-1&&(N=l.length);let b=l.indexOf("?");b===-1&&(b=l.length),n=l.substring(0,Math.min(N,b)),N<b&&(u=NC(l.substring(N,b)));const v=wC(l.substring(Math.min(l.length,b)));g=n.indexOf(":"),g>=0?(h=p==="https"||p==="wss",x=parseInt(n.substring(g+1),10)):g=n.length;const R=n.slice(0,g);if(R.toLowerCase()==="localhost")a="localhost";else if(R.split(".").length<=2)a=R;else{const P=n.indexOf(".");r=n.substring(0,P).toLowerCase(),a=n.substring(P+1),f=r}"ns"in v&&(f=v.ns)}return{host:n,port:x,domain:a,subdomain:r,secure:h,scheme:p,pathString:u,namespace:f}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(n,a,r,u){this.eventType=n,this.eventRegistration=a,this.snapshot=r,this.prevName=u}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Tt(this.snapshot.exportVal())}}class jC{constructor(n,a,r){this.eventRegistration=n,this.error=a,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(n,a){this.snapshotCallback=n,this.cancelCallback=a}onValue(n,a){this.snapshotCallback.call(null,n,a)}onCancel(n){return Q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(n,a,r,u){this._repo=n,this._path=a,this._queryParams=r,this._orderByCalled=u}get key(){return Ee(this._path)?null:ah(this._path)}get ref(){return new Ms(this._repo,this._path)}get _queryIdentifier(){const n=ox(this._queryParams),a=th(n);return a==="{}"?"default":a}get _queryObject(){return ox(this._queryParams)}isEqual(n){if(n=ui(n),!(n instanceof Rh))return!1;const a=this._repo===n._repo,r=ih(this._path,n._path),u=this._queryIdentifier===n._queryIdentifier;return a&&r&&u}toJSON(){return this.toString()}toString(){return this._repo.toString()+gN(this._path)}}class Ms extends Rh{constructor(n,a){super(n,a,new uh,!1)}get parent(){const n=Cy(this._path);return n===null?null:new Ms(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class Ir{constructor(n,a,r){this._node=n,this.ref=a,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const a=new Xe(n),r=Yf(this.ref,n);return new Ir(this._node.getChild(a),r,mt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,u)=>n(new Ir(u,Yf(this.ref,r),mt)))}hasChild(n){const a=new Xe(n);return!this._node.getChild(a).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function He(l,n){return l=ui(l),l._checkNotDeleted("ref"),n!==void 0?Yf(l._root,n):l._root}function Yf(l,n){return l=ui(l),be(l._path)===null?aC("child","path",n):av("child","path",n),new Ms(l._repo,ht(l._path,n))}function mi(l){return iv("remove",l._path),ts(l,null)}function ts(l,n){l=ui(l),iv("set",l._path),nC("set",n,l._path);const a=new qr;return gC(l._repo,l._path,n,null,a.wrapCallback(()=>{})),a.promise}function Zr(l,n){lC("update",n,l._path);const a=new qr;return xC(l._repo,l._path,n,a.wrapCallback(()=>{})),a.promise}function Yn(l){l=ui(l);const n=new Mh(()=>{}),a=new Kr(n);return pC(l._repo,l,a).then(r=>new Ir(r,new Ms(l._repo,l._path),l._queryParams.getIndex()))}class Kr{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,a){const r=a._queryParams.getIndex();return new EC("value",this,new Ir(n.snapshotNode,new Ms(a._repo,a._path),r))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,a){return this.callbackContext.hasCancelCallback?new jC(this,n,a):null}matches(n){return n instanceof Kr?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function TC(l,n,a,r,u){const f=new Mh(a,void 0),h=new Kr(f);return vC(l._repo,l,h),()=>cv(l._repo,l,h)}function AC(l,n,a,r){return TC(l,"value",n)}function DC(l,n,a){let r=null;const u=a?new Mh(a):null;r=new Kr(u),cv(l._repo,l,r)}Tw(Ms);Rw(Ms);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="FIREBASE_DATABASE_EMULATOR_HOST",Gf={};let MC=!1;function RC(l,n,a,r){const u=n.lastIndexOf(":"),f=n.substring(0,u),h=Wf(f);l.repoInfo_=new gy(n,h,l.repoInfo_.namespace,l.repoInfo_.webSocketOnly,l.repoInfo_.nodeAdmin,l.repoInfo_.persistenceKey,l.repoInfo_.includeNamespaceInQueryParams,!0,a),r&&(l.authTokenProvider_=r)}function OC(l,n,a,r,u){let f=r||l.options.databaseURL;f===void 0&&(l.options.projectId||ks("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ut("Using default host for project ",l.options.projectId),f=`${l.options.projectId}-default-rtdb.firebaseio.com`);let h=Sx(f,u),p=h.repoInfo,x;typeof process<"u"&&Gg&&(x=Gg[kC]),x?(f=`http://${x}?ns=${p.namespace}`,h=Sx(f,u),p=h.repoInfo):h.repoInfo.secure;const g=new GS(l.name,l.options,n);iC("Invalid Firebase Database URL",h),Ee(h.path)||ks("Database URL must point to the root of a Firebase Database (not including a child path).");const N=LC(p,l,g,new YS(l,a));return new $C(N,l)}function zC(l,n){const a=Gf[n];(!a||a[l.key]!==l)&&ks(`Database ${n}(${l.repoInfo_}) has already been deleted.`),bC(l),delete a[l.key]}function LC(l,n,a,r){let u=Gf[n.name];u||(u={},Gf[n.name]=u);let f=u[l.toURLString()];return f&&ks("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new dC(l,MC,a,r),u[l.toURLString()]=f,f}class $C{constructor(n,a){this._repoInternal=n,this.app=a,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(fC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ms(this._repo,Ue())),this._rootInternal}_delete(){return this._rootInternal!==null&&(zC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&ks("Cannot call "+n+" on a deleted database.")}}function UC(l=Jx(),n){const a=cS(l,"database").getImmediate({identifier:n});if(!a._instanceStarted){const r=X_("database");r&&HC(a,...r)}return a}function HC(l,n,a,r={}){l=ui(l),l._checkNotDeleted("useEmulator");const u=`${n}:${a}`,f=l._repoInternal;if(l._instanceStarted){if(u===l._repoInternal.repoInfo_.host&&Ac(r,f.repoInfo_.emulatorOptions))return;ks("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(f.repoInfo_.nodeAdmin)r.mockUserToken&&ks('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Cc(Cc.OWNER);else if(r.mockUserToken){const p=typeof r.mockUserToken=="string"?r.mockUserToken:Z_(r.mockUserToken,l.app.options.projectId);h=new Cc(p)}Wf(n)&&(F_(n),J_("Database",!0)),RC(f,u,r,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(l){jS(hS),Dc(new Dr("database",(n,{instanceIdentifier:a})=>{const r=n.getProvider("app").getImmediate(),u=n.getProvider("auth-internal"),f=n.getProvider("app-check-internal");return OC(r,u,f,a)},"PUBLIC").setMultipleInstances(!0)),Ja(Vg,Pg,l),Ja(Vg,Pg,"esm2020")}As.prototype.simpleListen=function(l,n){this.sendRequest("q",{p:l},n)};As.prototype.echo=function(l,n){this.sendRequest("echo",{d:l},n)};IC();const mv="classtrack_theme_v1",Oh="classtrack_auth_session_v1",BC="classtrack_logo_cache_v1",pv="classtrack_offline_queue_v1",Nx={apiKey:"AIzaSyBwsZ9ZwMq6fBS6t-YfWbV0lLd-ndU5MXs",authDomain:"chatbot-classtrack.firebaseapp.com",projectId:"chatbot-classtrack",storageBucket:"chatbot-classtrack.firebasestorage.app",messagingSenderId:"1056660264918",appId:"1:1056660264918:web:82850292e8583f2ece7677",measurementId:"G-G6ZXY4FBYS",databaseURL:"https://chatbot-classtrack-default-rtdb.asia-southeast1.firebasedatabase.app"};let Me=null;try{const l=mS().length?Jx():Wx(Nx);Me=UC(l,Nx.databaseURL)}catch(l){console.error(" Database Init Error:",l)}const pi=()=>!!Me&&navigator.onLine,Gc=()=>JSON.parse(localStorage.getItem(pv)||"[]"),gv=l=>localStorage.setItem(pv,JSON.stringify(l)),zh=(l,n)=>{const a=Gc();a.push({id:`sync_${Date.now()}_${Math.random()}`,type:l,payload:n,timestamp:Date.now()}),gv(a)},wx=()=>Gc().length,oi=l=>{let n=0;for(let a=0;a<l.length;a++)n=(n<<5)-n+l.charCodeAt(a),n|=0;return n.toString()},qC=async(l,n)=>{if(!pi())return null;const a=await Yn(He(Me,"users")),r=Object.values(a.val()||{}),u=oi(n);return r.find(f=>f.username.toLowerCase()===l.toLowerCase()&&f.password===u)||null},YC=async l=>{if(!pi())return null;const n=await Yn(He(Me,"users"));return Object.values(n.val()||{}).find(r=>r.username.toLowerCase()===l.toLowerCase())||null},GC=async(l,n)=>{await Zr(He(Me,`users/${l}`),{password:oi(n)})},VC=async(l,n,a,r)=>{const u=`${r}_${n.toLowerCase().replace(/\s/g,"_")}`,f={id:u,name:l,username:n,role:r,password:oi(a)};return await ts(He(Me,`users/${u}`),f),f},Cx=async(l,n)=>{n.password&&(n.password=oi(n.password)),await Zr(He(Me,`users/${l}`),n)},PC=async()=>{const l=await Yn(He(Me,"users"));return Object.values(l.val()||{})},QC=async l=>mi(He(Me,`users/${l}`)),Sf=()=>JSON.parse(localStorage.getItem(Oh)||"null"),Vf=l=>localStorage.setItem(Oh,JSON.stringify(l)),XC=()=>localStorage.removeItem(Oh),FC=async()=>(await Yn(He(Me,"school_settings"))).val(),Ex=async l=>{await Zr(He(Me,"school_settings"),l)},ZC=()=>localStorage.getItem(BC),Lh=async()=>(await Yn(He(Me,"classes"))).val()||[],KC=async l=>{const n=await Lh();if(n.includes(l))throw new Error("Exists");const a=[...n,l];return await ts(He(Me,"classes"),a),a},WC=async l=>{const a=(await Lh()).filter(r=>r!==l);return await ts(He(Me,"classes"),a),a},Gt=async l=>{const n=await Yn(He(Me,"students")),a=Object.values(n.val()||{});return l?a.filter(r=>r.classId===l):a},JC=async(l,n,a)=>{const r=`s_${Date.now()}_${Math.random().toString(36).substr(2,5)}`,u={id:r,name:l,classId:n,avatarSeed:r,phone:a||null};return pi()?await ts(He(Me,`students/${r}`),u):zh("ADD_STUDENT",u),u},_c=(l,n)=>Zr(He(Me,`students/${l}`),n),eE=l=>mi(He(Me,`students/${l}`)),xv=async l=>{const n=`${l.date}_${l.classId.replace(/\//g,"_")}`;pi()?await ts(He(Me,`attendance/${n}`),l):zh("SAVE_ATTENDANCE",l)},Sr=async()=>{const l=await Yn(He(Me,"attendance"));return Object.values(l.val()||{})},tE=async(l,n)=>{const a=`${l}_${n.replace(/\//g,"_")}`;await mi(He(Me,`attendance/${a}`))},yv=async l=>{pi()?await ts(He(Me,`fees/${l.month}/${l.studentId}`),l):zh("SAVE_FEE",l)},jx=async l=>(await Yn(He(Me,`fees/${l}`))).val()||{},nE=async(l,n)=>mi(He(Me,`fees/${l}/${n}`)),sE=(l,n,a)=>{const r=`${l}_${n.replace(/\//g,"_")}`,u=He(Me,`attendance/${r}`),f=AC(u,h=>a(h.val()));return()=>DC(u,"value",f)},lE=async l=>{if(!pi())return;const n=Gc();if(n.length===0)return;l==null||l(`Syncing ${n.length} items...`);const a=[];for(const r of n)try{switch(r.type){case"SAVE_ATTENDANCE":await xv(r.payload);break;case"ADD_STUDENT":await ts(He(Me,`students/${r.payload.id}`),r.payload);break;case"SAVE_FEE":await yv(r.payload);break}a.push(r.id)}catch(u){console.error("Sync error",u)}gv(Gc().filter(r=>!a.includes(r.id)))},aE=async(l,n)=>(await Yn(He(Me,`attendance/${l}_${n.replace(/\//g,"_")}`))).val(),iE=(l,n)=>Zr(He(Me,`students/${l}`),{customFee:n}),rE=l=>localStorage.setItem(mv,l),oE=()=>localStorage.getItem(mv)||"minimal_light",cE=async l=>{const n=await Yn(He(Me,"todos"));return Object.values(n.val()||{}).filter(a=>a.userId===l)},Tx=l=>ts(He(Me,`todos/${l.id}`),l),uE=(l,n)=>mi(He(Me,`todos/${n}`)),dE=async l=>{const n=await Yn(He(Me,"projects"));return Object.values(n.val()||{}).filter(a=>a.userId===l)},fE=async l=>ts(He(Me,`projects/${l.id}`),l),hE=async(l,n)=>mi(He(Me,`projects/${n}`)),mE=({percentage:l,size:n=180,strokeWidth:a=15,label:r="",subLabel:u="Present",colorStart:f="#6366f1",colorEnd:h="#a855f7"})=>{const[p,x]=k.useState(0);k.useEffect(()=>{const P=performance.now(),Z=ce=>{const te=ce-P,le=Math.min(te/1200,1),fe=1-Math.pow(1-le,4);x(fe*l),le<1&&requestAnimationFrame(Z)};requestAnimationFrame(Z)},[l]);const g=(n-a)/2,N=g*2*Math.PI,b=N-p/100*N,v="gradient-chart";return c.jsxs("div",{className:"relative flex items-center justify-center p-4",children:[c.jsxs("svg",{width:n,height:n,viewBox:`0 0 ${n} ${n}`,className:"transform -rotate-90 relative z-10",children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:v,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:f}),c.jsx("stop",{offset:"100%",stopColor:h})]})}),c.jsx("circle",{cx:n/2,cy:n/2,r:g,stroke:"currentColor",strokeWidth:a,fill:"transparent",className:"text-slate-200 dark:text-slate-800 opacity-20",strokeLinecap:"round"}),c.jsx("circle",{cx:n/2,cy:n/2,r:g,stroke:`url(#${v})`,strokeWidth:a,fill:"transparent",strokeDasharray:N,strokeDashoffset:b,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.8s ease-out"}})]}),c.jsxs("div",{className:"absolute flex flex-col items-center justify-center text-center z-20 font-black",children:[c.jsxs("span",{className:"text-4xl md:text-5xl font-black tracking-tighter",children:[Math.round(p),"%"]}),u&&c.jsx("span",{className:"text-[10px] uppercase tracking-widest opacity-60 mt-1",children:u})]})]})},Mt=({children:l,variant:n="primary",fullWidth:a=!1,themeAccent:r,className:u="",loading:f=!1,...h})=>{const p="px-5 py-2.5 rounded-md font-medium text-sm transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2";let x="";return n==="primary"?x=`${r||"bg-[#2563eb]"} text-white hover:opacity-90 active:scale-[0.98] shadow-md`:n==="secondary"?x="bg-transparent text-current border border-current hover:bg-current/10 active:scale-[0.98]":n==="danger"&&(x="bg-transparent text-red-600 border border-red-600 hover:bg-red-500/10 active:scale-[0.98]"),c.jsx("button",{className:`${p} ${x} ${a?"w-full":""} ${u} ${f?"opacity-60 cursor-not-allowed":""}`,disabled:f||h.disabled,...h,children:f?c.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):l})},pE=({currentView:l,onChangeView:n,theme:a,user:r,onLogout:u,shouldHide:f,width:h,onStartResize:p,isResizing:x,logo:g})=>{const[N,b]=Br.useState(!1),v=h<125,R=()=>{const te=[{id:"home",icon:e_,label:"Home"},{id:"todo",icon:Ff,label:"Tasks"},{id:"history",icon:Xf,label:"History"}];return(r==null?void 0:r.role)==="admin"&&te.push({id:"admin-dashboard",icon:Ox,label:"Admin"}),te.push({id:"settings",icon:Hx,label:"Settings"}),te},P=l==="dashboard"||l==="attendance"?"home":l.startsWith("admin-")||l==="student-directory"||l==="timetable"||l==="calculator"||l==="student-profile"?"admin-dashboard":l,Z=()=>f?null:c.jsx("div",{className:`fixed bottom-0 left-0 right-0 ${a.navBg} border-t ${a.border} p-2 flex justify-around items-center z-[200] md:hidden`,children:R().map(te=>{const le=P===te.id,fe=te.icon;return c.jsxs("button",{onClick:()=>{n(te.id)},className:`flex flex-col items-center justify-center py-2.5 px-3 flex-1 rounded-xl transition-all active:scale-95 ${le?`${a.accentText} bg-current/10 font-bold`:`${a.textSecondary} hover:bg-black/5 dark:hover:bg-white/5`}`,children:[c.jsx(fe,{size:22,strokeWidth:le?2.5:2}),c.jsx("span",{className:"text-[11px] font-bold mt-1.5",children:te.label})]},te.id)})}),ce=()=>c.jsxs("div",{style:{width:`${h}px`},className:`hidden md:flex flex-col h-full ${a.sidebarBg} border-r ${a.border} px-4 py-6 relative select-none ${x?"":"transition-[width] duration-500 ease-[cubic-bezier(0.34,1.56,0.64,1)]"}`,children:[c.jsxs("div",{className:`mb-6 flex flex-col ${v?"items-center":"items-start"}`,children:[c.jsxs("div",{className:"flex items-center gap-3 w-full mb-6",children:[c.jsx("div",{className:`w-10 h-10 rounded-md ${a.accent} flex items-center justify-center text-white shrink-0 overflow-hidden`,children:g&&g.length>10?c.jsx("img",{src:g,alt:"Logo",className:"w-full h-full object-cover"}):c.jsx($x,{size:18,strokeWidth:2})}),!v&&c.jsx("h2",{className:`text-lg font-semibold ${a.textPrimary} truncate`,children:"IJ Education"})]}),r&&c.jsxs("div",{className:"w-full relative",children:[c.jsxs("button",{onClick:()=>b(!N),className:`w-full p-2.5 rounded-md flex items-center gap-3 transition-colors ${v?"justify-center":"hover:bg-black/5"}`,children:[c.jsx("div",{className:`w-9 h-9 rounded-md ${a.accent} flex items-center justify-center text-white font-semibold shrink-0`,children:r.avatar&&r.avatar.startsWith("data:image")?c.jsx("img",{src:r.avatar,alt:r.name,className:"w-full h-full object-cover rounded-md"}):c.jsx("span",{className:"text-sm",children:r.name.charAt(0).toUpperCase()})}),!v&&c.jsxs("div",{className:"text-left flex-1 overflow-hidden",children:[c.jsx("p",{className:`text-sm font-semibold ${a.textPrimary} truncate`,children:r.name}),c.jsx("p",{className:`text-xs ${a.textSecondary}`,children:r.role})]})]}),N&&!v&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-50",onClick:()=>b(!1)}),c.jsx("div",{className:`absolute top-full left-0 right-0 mt-2 p-1 rounded-md ${a.surface} border ${a.border} shadow-lg z-[60]`,children:c.jsxs("button",{onClick:u,className:"w-full flex items-center gap-2 p-2 rounded-md hover:bg-red-50 text-red-600 font-medium text-sm",children:[c.jsx(Tg,{size:16})," Logout"]})})]})]})]}),c.jsx("div",{className:"flex-1 space-y-1 overflow-x-hidden",children:R().map(te=>{const le=P===te.id,fe=te.icon;return c.jsxs("button",{onClick:()=>n(te.id),className:`w-full flex items-center ${v?"justify-center px-0":"gap-4 px-4"} py-3.5 rounded-xl transition-all active:scale-[0.98] ${le?`${a.accent} text-white shadow-md`:`${a.textSecondary} hover:bg-black/5 dark:hover:bg-white/5`}`,children:[c.jsx(fe,{size:22,strokeWidth:le?2.5:2,className:"shrink-0"}),!v&&c.jsx("span",{className:"font-bold text-base",children:te.label})]},te.id)})}),c.jsxs("button",{onClick:u,className:`w-full flex items-center ${v?"justify-center":"gap-4 px-4"} py-3.5 rounded-xl hover:bg-red-50 dark:hover:bg-red-900/20 text-red-600 mt-auto transition-all transition-colors active:scale-[0.98]`,children:[c.jsx(Tg,{size:22,strokeWidth:2.5,className:"shrink-0"}),!v&&c.jsx("span",{className:"font-bold text-base",children:"Logout"})]}),c.jsx("div",{onMouseDown:p,className:`absolute top-0 -right-1 w-2 h-full cursor-col-resize hover:bg-indigo-500/30 transition-colors z-50 ${x?"bg-indigo-500/50":""}`})]});return c.jsxs(c.Fragment,{children:[c.jsx(Z,{}),c.jsx(ce,{})]})},Vc=({avatar:l,name:n,size:a="md",className:r=""})=>{const u=l||n||"default",f=l!=null&&l.startsWith("http")?l:`https://picsum.photos/seed/${u}/200`;let h="w-10 h-10 text-base";return a==="sm"&&(h="w-8 h-8 text-xs"),a==="lg"&&(h="w-16 h-16 text-2xl"),a==="xl"&&(h="w-32 h-32 text-4xl"),c.jsx("img",{src:f,alt:n,className:`rounded-full object-cover border border-white/10 ${h} ${r}`,onError:p=>{p.target.src=`https://ui-avatars.com/api/?name=${n}&background=random`}})},gE=({theme:l,onLogin:n,onToast:a,logo:r})=>{const[u,f]=k.useState("login"),[h,p]=k.useState(""),[x,g]=k.useState(""),[N,b]=k.useState(null),[v,R]=k.useState(""),[P,Z]=k.useState(""),[ce,te]=k.useState(!1),[le,fe]=k.useState(!1),[de,ct]=k.useState(0);k.useEffect(()=>{ct(0);const he=setTimeout(()=>ct(1),100);return()=>clearTimeout(he)},[u]);const Re=async he=>{if(he.preventDefault(),!ce){te(!0);try{if(u==="login"){const Ke=await qC(h,x);Ke?n(Ke):a("Invalid credentials","error")}}catch{a("System Error or No Internet","error")}finally{te(!1)}}},ie=async()=>{if(!ce){te(!0);try{const he=await YC(h);he&&he.securityQuestion?b(he):a("User not identified","error")}finally{te(!1)}}},Ae=async()=>{var he;if(!(!N||ce)){te(!0);try{((he=N.securityAnswer)==null?void 0:he.toLowerCase().trim())===v.toLowerCase().trim()?(await GC(N.id,P),a("Access Restored. Please Login.","success"),f("login"),b(null)):a("Verification Failed","error")}finally{te(!1)}}},ut=()=>c.jsx("div",{className:"hidden lg:flex w-1/2 relative items-center justify-center overflow-hidden bg-slate-900",children:c.jsxs("div",{className:`relative z-10 p-16 transition-all duration-500 ${de?"translate-x-0 opacity-100":"-translate-x-10 opacity-0"}`,children:[c.jsx("div",{className:"w-16 h-16 rounded-md bg-white flex items-center justify-center mb-8",children:r?c.jsx("img",{src:r,className:"w-full h-full object-cover rounded-md"}):c.jsx(Zl,{size:36,className:"text-slate-900"})}),c.jsxs("h1",{className:"text-5xl font-semibold text-white mb-4 leading-tight",children:["Class",c.jsx("span",{className:"text-blue-400",children:"Track"})]}),c.jsx("p",{className:"text-lg text-slate-300 mb-10 max-w-md",children:"Professional student management and attendance tracking system."}),c.jsx("div",{className:"space-y-4",children:[{icon:Nc,label:"Secure",desc:"Local data encryption"},{icon:k1,label:"Analytics",desc:"Performance tracking"}].map((he,Ke)=>c.jsxs("div",{className:"flex gap-3 items-center",children:[c.jsx("div",{className:"w-10 h-10 rounded-md bg-white/10 flex items-center justify-center text-blue-400",children:c.jsx(he.icon,{size:20})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white font-medium text-sm",children:he.label}),c.jsx("p",{className:"text-slate-400 text-xs",children:he.desc})]})]},Ke))})]})});return c.jsxs("div",{className:"flex min-h-screen w-full bg-slate-900 overflow-hidden font-sans",children:[c.jsx(ut,{}),c.jsx("div",{className:"w-full lg:w-1/2 flex flex-col items-center justify-center p-6 md:p-12 relative",children:c.jsxs("div",{className:`w-full max-w-md relative z-10 transition-all duration-500 delay-150 ${de?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[c.jsxs("div",{className:"mb-8 text-center lg:text-left",children:[c.jsx("h2",{className:"text-3xl font-semibold text-white mb-2",children:u==="login"?"Login":"Password Recovery"}),c.jsx("p",{className:"text-slate-400",children:"Access your account"})]}),c.jsx("div",{className:"bg-slate-800 p-8 rounded-md border border-slate-700",children:c.jsx("form",{onSubmit:Re,className:"space-y-5",children:u==="login"?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Username"}),c.jsxs("div",{className:"relative",children:[c.jsx(M_,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),c.jsx("input",{type:"text",value:h,onChange:he=>p(he.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-md py-2.5 pl-10 pr-4 text-white text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"Enter username"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Password"}),c.jsx("button",{type:"button",onClick:()=>f("forgot"),className:"text-xs text-blue-400 hover:text-blue-300",children:"Forgot?"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(o_,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),c.jsx("input",{type:le?"text":"password",value:x,onChange:he=>g(he.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-md py-2.5 pl-10 pr-10 text-white text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"Enter password"}),c.jsx("button",{type:"button",onClick:()=>fe(!le),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-300",children:le?c.jsx(Q1,{size:18}):c.jsx(F1,{size:18})})]})]}),c.jsx(Mt,{type:"submit",fullWidth:!0,themeAccent:"bg-blue-600 text-white",disabled:ce,className:"py-2.5 font-medium",children:ce?c.jsx(zx,{size:20,className:"animate-spin m-auto"}):"Login"})]}):c.jsxs("div",{className:"space-y-5",children:[N?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 rounded-md bg-blue-500/10 border border-blue-500/20",children:[c.jsx("p",{className:"text-xs font-medium text-blue-400 mb-1",children:"Security Question"}),c.jsx("p",{className:"text-sm text-white",children:N.securityQuestion})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Your Answer"}),c.jsx("input",{type:"text",value:v,onChange:he=>R(he.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-md py-2.5 px-4 text-white text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Enter answer"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-slate-300",children:"New Password"}),c.jsx("input",{type:"password",value:P,onChange:he=>Z(he.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-md py-2.5 px-4 text-white text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Enter new password"})]}),c.jsx(Mt,{onClick:Ae,fullWidth:!0,themeAccent:"bg-blue-600 text-white",disabled:ce,children:"Reset Password"})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Account ID"}),c.jsx("input",{type:"text",value:h,onChange:he=>p(he.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-md py-2.5 px-4 text-white text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Enter account ID"})]}),c.jsx(Mt,{onClick:ie,fullWidth:!0,themeAccent:"bg-blue-600 text-white",disabled:ce,children:"Verify ID"})]}),c.jsx("button",{onClick:()=>{f("login"),b(null)},className:"w-full text-xs text-slate-400 hover:text-blue-400 transition-colors",children:"Back to Login"})]})})}),c.jsx("div",{className:"mt-8 text-center",children:c.jsx("p",{className:"text-xs text-slate-500",children:"Secure Access  ClassTrack v1.0"})})]})})]})},xE=({theme:l,onBack:n,availableClasses:a,selectedClass:r,onSelectClass:u,students:f,onViewProfile:h,attendanceStats:p})=>c.jsx("div",{className:"flex flex-col h-full animate-fade-in px-4 md:px-6 pt-6 pb-32 overflow-y-auto w-full",children:c.jsxs("div",{className:"max-w-2xl mx-auto w-full",children:[c.jsx("div",{className:"mb-6 flex items-center justify-between",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:n,className:`p-2 -ml-2 rounded-md hover:bg-black/5 transition-colors ${l.textPrimary}`,children:c.jsx(js,{size:20})}),c.jsxs("div",{children:[c.jsx("h2",{className:`text-xl md:text-2xl font-semibold ${l.textPrimary}`,children:"Student Directory"}),c.jsx("p",{className:`text-sm ${l.textSecondary}`,children:"View and contact students"})]})]})}),c.jsx("div",{className:"mb-4 flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:a.map(x=>c.jsxs("button",{onClick:()=>u(x),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors whitespace-nowrap border ${r===x?`${l.accent} text-white border-transparent`:`${l.surface} ${l.border} ${l.textSecondary} hover:bg-black/5`}`,children:["Class ",x]},x))}),c.jsx("div",{className:"space-y-2",children:f.length===0?c.jsx("div",{className:`text-center py-20 ${l.textSecondary}`,children:"No students in this class."}):f.sort((x,g)=>x.name.localeCompare(g.name)).map(x=>c.jsxs("div",{onClick:()=>h(x),className:`p-4 rounded-md ${l.surface} border ${l.border} flex justify-between items-center cursor-pointer hover:shadow-md transition-all`,children:[c.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[c.jsx(Vc,{avatar:x.avatarSeed,name:x.name,size:"md"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:`font-semibold ${l.textPrimary} truncate`,children:x.name}),c.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[c.jsxs("p",{className:`text-xs ${l.textSecondary} flex items-center gap-1`,children:[c.jsx(Lx,{size:12})," ",x.phone||"No number"]}),c.jsxs("span",{className:`text-xs font-medium ${p[x.id]>75?"text-green-600":"text-orange-600"}`,children:[p[x.id]||0,"% attendance"]})]})]})]}),x.phone&&c.jsx("button",{onClick:g=>{var N;g.stopPropagation(),window.open(`https://wa.me/${(N=x.phone)==null?void 0:N.replace(/\D/g,"")}`,"_blank")},className:"p-2 rounded-md bg-green-50 text-green-600 hover:bg-green-100 transition-colors ml-2",children:c.jsx(f_,{size:18})})]},x.id))})]})}),yE=({theme:l,themeId:n,onThemeChange:a,currentUser:r,onUpdateUser:u,onLogout:f,onToast:h,enableAnimations:p,onToggleAnimations:x,badges:g,onSaveBadges:N})=>{const[b,v]=k.useState("view"),[R,P]=k.useState(""),[Z,ce]=k.useState(""),[te,le]=k.useState(""),[fe,de]=k.useState(""),[ct,Re]=k.useState(""),[ie,Ae]=k.useState(""),[ut,he]=k.useState(""),[Ke,Ge]=k.useState(!1);k.useEffect(()=>{r&&(P(r.bio||""),ce(r.avatar||""),le(r.securityQuestion||""))},[r,b]);const Jt=async()=>{if(r){Ge(!0);try{const ne={bio:R,avatar:Z};fe.trim()&&(ne.securityQuestion=te,ne.securityAnswer=fe),await Cx(r.id,ne);const z={...r,...ne};u(z),Vf(z),v("view"),h("Profile Updated!","success")}catch{h("Failed to update profile.","error")}finally{Ge(!1)}}},St=async()=>{if(r){if(oi(ct)!==r.password){h("Incorrect current password","error");return}if(ie!==ut){h("Passwords do not match","error");return}if(ie.length<3){h("Password too short","error");return}Ge(!0);try{await Cx(r.id,{password:ie});const ne={...r,password:oi(ie)};u(ne),Vf(ne),v("view"),Re(""),Ae(""),he(""),h("Password Changed Successfully!","success")}catch{h("Failed to change password.","error")}finally{Ge(!1)}}};return c.jsx("div",{className:"flex flex-col h-full animate-fade-in px-4 md:px-6 pt-6 pb-32 overflow-y-auto w-full",children:c.jsxs("div",{className:"max-w-4xl mx-auto w-full",children:[c.jsx("h2",{className:`text-2xl md:text-3xl font-semibold ${l.textPrimary} mb-6`,children:"Settings"}),c.jsxs("div",{className:`flex gap-4 mb-6 border-b ${l.border} pb-2`,children:[c.jsxs("button",{onClick:()=>v("view"),className:`pb-2 text-sm font-medium transition-colors relative ${b==="view"?l.textPrimary:l.textSecondary}`,children:["Appearance",b==="view"&&c.jsx("div",{className:`absolute bottom-0 left-0 w-full h-0.5 ${l.accent.replace("bg-","bg-").replace("text-white","")} rounded-full`})]}),c.jsxs("button",{onClick:()=>v("edit"),className:`pb-2 text-sm font-medium transition-colors relative ${b==="edit"?l.textPrimary:l.textSecondary}`,children:["Profile",b==="edit"&&c.jsx("div",{className:`absolute bottom-0 left-0 w-full h-0.5 ${l.accentText.replace("text-","bg-")} rounded-full`})]}),c.jsxs("button",{onClick:()=>v("badges"),className:`pb-2 text-sm font-medium transition-colors relative ${b==="badges"?l.textPrimary:l.textSecondary}`,children:["Badges",b==="badges"&&c.jsx("div",{className:`absolute bottom-0 left-0 w-full h-0.5 ${l.accentText.replace("text-","bg-")} rounded-full`})]})]}),b==="view"&&c.jsxs("section",{children:[c.jsx("div",{className:"grid gap-3 md:grid-cols-2 mb-8",children:Object.values(wc).filter(ne=>ne&&ne.bg).map(ne=>c.jsxs("button",{onClick:()=>a(ne.id),className:`p-4 rounded-md border transition-all ${n===ne.id?`${l.accent} text-white border-transparent`:`${l.surface} ${l.border} ${l.textPrimary} hover:shadow-md`} flex items-center justify-between`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-5 h-5 rounded border ${ne.bg||"bg-gray-200"}`}),c.jsx("span",{className:"font-medium",children:ne.name||"Unknown"})]}),n===ne.id&&c.jsx(Ec,{size:18})]},ne.id))}),c.jsx("h3",{className:`text-xs font-semibold uppercase tracking-wide ${l.textSecondary} mb-3`,children:"Performance"}),c.jsxs("div",{className:`p-4 rounded-md ${l.surface} border ${l.border} flex items-center justify-between`,children:[c.jsxs("div",{children:[c.jsx("h4",{className:`text-sm font-medium ${l.textPrimary}`,children:"Animations"}),c.jsx("p",{className:`text-xs ${l.textSecondary}`,children:"Enable interface animations"})]}),c.jsx("button",{onClick:()=>x(!p),className:`w-11 h-6 rounded-full relative transition-colors duration-200 ${p?"bg-blue-600":"bg-gray-300"}`,children:c.jsx("div",{className:`absolute top-0.5 w-5 h-5 rounded-full bg-white transition-all duration-200 ${p?"left-5":"left-0.5"}`})})]})]}),b==="edit"&&c.jsxs("section",{className:"space-y-4 animate-slide-up",children:[c.jsxs("div",{className:`p-5 rounded-md ${l.surface} border ${l.border}`,children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx(Vc,{avatar:Z||(r==null?void 0:r.avatar),name:(r==null?void 0:r.name)||"?",size:"xl"}),c.jsxs("div",{children:[c.jsx("h3",{className:`text-lg font-semibold ${l.textPrimary}`,children:r==null?void 0:r.name}),c.jsxs("p",{className:`text-sm ${l.textSecondary}`,children:["@",r==null?void 0:r.username,"  ",r==null?void 0:r.role]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:`text-sm font-medium mb-2 block ${l.textPrimary}`,children:"Bio"}),c.jsx("textarea",{value:R,onChange:ne=>P(ne.target.value),className:`w-full p-3 rounded-md border ${l.border} ${l.textPrimary} outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-transparent`,placeholder:"Tell us about yourself...",rows:3})]}),c.jsxs("div",{className:`border-t ${l.border} pt-4`,children:[c.jsx("h4",{className:`text-sm font-medium ${l.textPrimary} mb-4`,children:"Security Recovery"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:`text-sm font-medium mb-2 block ${l.textPrimary}`,children:"Security Question"}),c.jsx("input",{type:"text",value:te,onChange:ne=>le(ne.target.value),className:`w-full p-3 rounded-md border ${l.border} ${l.textPrimary} outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-transparent`,placeholder:"e.g. Favorite Pet"})]}),c.jsxs("div",{children:[c.jsx("label",{className:`text-sm font-medium mb-2 block ${l.textPrimary}`,children:"Security Answer"}),c.jsx("input",{type:"text",value:fe,onChange:ne=>de(ne.target.value),className:`w-full p-3 rounded-md border ${l.border} ${l.textPrimary} outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-transparent`,placeholder:"Enter answer"})]})]})]}),c.jsx(Mt,{fullWidth:!0,onClick:Jt,themeAccent:l.accent,disabled:Ke,children:Ke?"Saving...":"Save Changes"})]})]}),c.jsxs("div",{className:"p-5 rounded-md bg-red-50 border border-red-200",children:[c.jsx("h3",{className:"font-medium text-red-600 mb-4",children:"Security"}),c.jsx(Mt,{variant:"danger",fullWidth:!0,onClick:()=>v("password"),children:"Change Password"})]})]}),b==="password"&&c.jsx("section",{className:"animate-slide-up",children:c.jsxs("div",{className:`p-5 rounded-md ${l.surface} border ${l.border} space-y-4`,children:[c.jsx("h3",{className:`font-semibold ${l.textPrimary} mb-4`,children:"Change Password"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:`text-sm font-medium mb-2 block ${l.textPrimary}`,children:"Current Password"}),c.jsx("input",{type:"password",value:ct,onChange:ne=>Re(ne.target.value),placeholder:"Enter current password",className:`w-full p-3 rounded-md border ${l.border} ${l.textPrimary} outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-transparent`})]}),c.jsxs("div",{children:[c.jsx("label",{className:`text-sm font-medium mb-2 block ${l.textPrimary}`,children:"New Password"}),c.jsx("input",{type:"password",value:ie,onChange:ne=>Ae(ne.target.value),placeholder:"Enter new password",className:`w-full p-3 rounded-md border ${l.border} ${l.textPrimary} outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-transparent`})]}),c.jsxs("div",{children:[c.jsx("label",{className:`text-sm font-medium mb-2 block ${l.textPrimary}`,children:"Confirm Password"}),c.jsx("input",{type:"password",value:ut,onChange:ne=>he(ne.target.value),placeholder:"Confirm new password",className:`w-full p-3 rounded-md border ${l.border} ${l.textPrimary} outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-transparent`})]})]}),c.jsxs("div",{className:"flex gap-2 mt-4",children:[c.jsx(Mt,{variant:"secondary",onClick:()=>v("edit"),children:"Cancel"}),c.jsx(Mt,{onClick:St,themeAccent:l.accent,disabled:Ke,children:"Update Password"})]})]})}),b==="badges"&&c.jsx("section",{className:"animate-slide-up space-y-6 pb-20",children:c.jsxs("div",{className:`p-6 rounded-3xl ${l.surface} border ${l.border}`,children:[c.jsx("h3",{className:`text-xl font-black ${l.textPrimary} mb-2`,children:"Monitor Badges"}),c.jsx("p",{className:`text-xs ${l.textSecondary} mb-6`,children:"Customize the badges teachers can award to students."}),c.jsx("div",{className:"space-y-4",children:g.map((ne,z)=>c.jsxs("div",{className:`p-4 rounded-2xl border ${l.border} bg-black/5 flex items-center justify-between group`,children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-white",style:{backgroundColor:ne.color},children:c.jsx(jg,{size:20})}),c.jsxs("div",{children:[c.jsx("input",{value:ne.name,onChange:G=>{const F=[...g];F[z]={...ne,name:G.target.value},N(F)},className:`bg-transparent border-none font-bold ${l.textPrimary} outline-none focus:ring-1 focus:ring-indigo-500/30 rounded px-1`}),c.jsx("p",{className:"text-[10px] opacity-40 uppercase font-black tracking-widest",children:ne.id})]})]}),c.jsx("input",{type:"color",value:ne.color,onChange:G=>{const F=[...g];F[z]={...ne,color:G.target.value},N(F)},className:"w-8 h-8 rounded-full border-none bg-transparent cursor-pointer"})]},ne.id))})]})}),c.jsx("div",{className:"mt-6",children:c.jsxs("button",{onClick:f,className:"w-full p-3 rounded-md bg-red-500 text-white font-medium hover:bg-red-600 transition-colors flex items-center justify-center gap-2",children:[c.jsx(jg,{className:"rotate-180",size:18})," Logout"]})}),c.jsxs("div",{className:"mt-6 text-center space-y-1",children:[c.jsx("p",{className:`text-xs ${l.textSecondary}`,children:"App Version 1.0.0"}),c.jsx("p",{className:`text-xs ${l.textSecondary}`,children:"Developed by M. Ayan & Abdul Wahab"})]})]})})},vE=({value:l})=>c.jsx("div",{className:"w-full h-1.5 bg-gray-200 rounded-full overflow-hidden",children:c.jsx("div",{className:`h-full transition-all duration-300 rounded-full ${l>=100?"bg-green-500":l>50?"bg-yellow-500/100":"bg-blue-500/100"}`,style:{width:`${l}%`}})}),bE=Br.memo(({date:l,setDate:n,todos:a,theme:r})=>{const[u,f]=k.useState(new Date(l));k.useEffect(()=>{f(new Date(l))},[l]);const h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],p=u.getFullYear(),x=u.getMonth(),g=new Date(p,x,1).getDay(),N=new Date(p,x+1,0).getDate();return c.jsxs("div",{className:`p-4 rounded-md ${r.surface} border ${r.border} space-y-4 w-full max-w-sm mx-auto flex-shrink-0 mb-6 lg:mb-0`,children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("h3",{className:`text-base font-semibold ${r.textPrimary}`,children:[h[x]," ",p]}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{onClick:()=>f(new Date(p,x-1)),className:"p-1.5 rounded-md hover:bg-black/5 transition-colors",children:c.jsx(js,{size:16})}),c.jsx("button",{onClick:()=>f(new Date(p,x+1)),className:"p-1.5 rounded-md hover:bg-black/5 transition-colors",children:c.jsx(ol,{size:16})})]})]}),c.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["S","M","T","W","T","F","S"].map(b=>c.jsx("div",{className:"text-center text-xs font-medium opacity-40 p-1",children:b},b)),Array.from({length:g}).map((b,v)=>c.jsx("div",{},`e-${v}`)),Array.from({length:N}).map((b,v)=>{const R=v+1,P=`${p}-${String(x+1).padStart(2,"0")}-${String(R).padStart(2,"0")}`,Z=l===P,ce=a.some(te=>te.dueDate===P&&!te.isCompleted);return c.jsxs("button",{onClick:()=>n(P),className:`aspect-square rounded-md flex flex-col items-center justify-center relative transition-colors ${Z?`${r.accent} text-white`:`hover:bg-black/5 ${r.textPrimary}`}`,children:[c.jsx("span",{className:"text-xs font-medium",children:R}),ce&&!Z&&c.jsx("div",{className:"absolute bottom-1 w-1 h-1 rounded-full bg-blue-500/100"})]},R)})]})]})}),Ax=Br.memo(({todo:l,project:n,theme:a,onToggle:r,onEdit:u,onDelete:f})=>{const h=l.dueDate&&l.dueDate<new Date().toISOString().split("T")[0]&&!l.isCompleted;return c.jsxs("div",{className:`group flex flex-col p-4 rounded-md ${a.surface} border ${a.border} hover:shadow-md transition-all relative`,children:[l.isCompleted&&c.jsx("div",{className:"absolute top-2 right-2 p-1 bg-green-100 text-green-600 rounded",children:c.jsx($1,{size:12})}),c.jsxs("div",{className:"flex gap-3 items-start",children:[c.jsx("button",{onClick:()=>r(l),className:`mt-0.5 flex-shrink-0 w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${l.isCompleted?"bg-green-500 border-green-500 text-white":"border-gray-300 hover:border-[#2563eb]"}`,children:l.isCompleted&&c.jsx(Rx,{size:10,strokeWidth:3})}),c.jsxs("div",{className:"flex-1 min-w-0",onClick:()=>u(l),children:[c.jsxs("div",{className:"flex justify-between items-start mb-1 gap-2",children:[c.jsx("h4",{className:`text-sm font-semibold truncate ${a.textPrimary} ${l.isCompleted?"line-through opacity-50":""}`,children:l.title}),c.jsx("button",{onClick:p=>{p.stopPropagation(),f(l.id)},className:"opacity-0 group-hover:opacity-100 p-1 text-red-500 hover:bg-red-500/10 rounded transition-opacity",children:c.jsx(Ka,{size:14})})]}),l.description&&c.jsx("p",{className:`text-xs ${a.textSecondary} line-clamp-2 mb-2 leading-relaxed`,children:l.description}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[n&&c.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 rounded-md bg-gray-100 text-xs",style:{color:n.color},children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:n.color}}),c.jsx("span",{className:"font-medium",children:n.name})]}),c.jsxs("div",{className:`flex items-center gap-1.5 text-xs ${h?"text-red-600":a.textSecondary}`,children:[c.jsx(Qf,{size:12})," ",l.dueDate||"No date"]})]})]})]}),c.jsxs("div",{className:"mt-3 flex items-center gap-3 pt-2 border-t border-current/10",children:[c.jsx("div",{className:"flex-1",children:c.jsx(vE,{value:l.progress})}),c.jsxs("span",{className:`text-xs ${a.textSecondary}`,children:[l.progress,"%"]})]})]})}),_E=({theme:l,currentUser:n,onToast:a})=>{const[r,u]=k.useState([]),[f,h]=k.useState([]),[p,x]=k.useState("list"),[g,N]=k.useState("all"),[b,v]=k.useState(""),[R,P]=k.useState(new Date().toISOString().split("T")[0]),[Z,ce]=k.useState("pending"),[te,le]=k.useState("none"),[fe,de]=k.useState(null),[ct,Re]=k.useState(""),[ie,Ae]=k.useState(""),[ut,he]=k.useState(new Date().toISOString().split("T")[0]),[Ke,Ge]=k.useState("medium"),[Jt,St]=k.useState(""),[ne,z]=k.useState(""),[G,F]=k.useState(0),[De,Se]=k.useState(""),[C,H]=k.useState("#6366f1"),V=k.useCallback(async()=>{if(n)try{const[Y,Be]=await Promise.all([cE(n.id),dE(n.id)]);u(Y.sort((Fe,xn)=>xn.createdAt-Fe.createdAt)),h(Be)}catch{a("Failed to load tasks","error")}},[n,a]);k.useEffect(()=>{V()},[V]);const K=()=>{de(null),Re(""),Ae(""),he(R),Ge("medium"),St(g!=="all"?g:""),z(""),F(0),le("add_todo")},ue=k.useCallback(Y=>{de(Y),Re(Y.title),Ae(Y.description||""),he(Y.dueDate||""),Ge(Y.priority),St(Y.projectId||""),z((Y.tags||[]).join(", ")),F(Y.progress||0),le("edit_todo")},[]),ye=async()=>{if(!n||!ct.trim()){a("Task title is required","error");return}const Y={id:fe?fe.id:`todo_${Date.now()}`,userId:n.id,title:ct.trim(),description:ie.trim(),isCompleted:G===100,progress:G,dueDate:ut,priority:Ke,projectId:Jt||null,tags:ne.split(",").map(Be=>Be.trim()).filter(Be=>Be.length>0),createdAt:fe?fe.createdAt:Date.now()};await Tx(Y),a(fe?"Task Updated":"Task Created Successfully!","success"),le("none"),V()},ge=k.useCallback(async Y=>{n&&(await uE(n.id,Y),a("Task deleted","success"),V())},[n,a,V]),at=k.useCallback(async Y=>{const Be=Y.isCompleted?0:100,Fe={...Y,isCompleted:!Y.isCompleted,progress:Be};await Tx(Fe),a(Fe.isCompleted?"Task Completed! Well done.":"Task marked as pending","success"),V()},[a,V]),tt=async()=>{if(!n||!De.trim())return;const Y={id:`proj_${Date.now()}`,name:De.trim(),color:C,userId:n.id};await fE(Y),Se(""),le("none"),a("New Project Added","success"),V()},ns=async Y=>{n&&(await hE(n.id,Y),g===Y&&N("all"),a("Board removed","success"),V())},kn=k.useMemo(()=>r.filter(Y=>{var sa;const Be=Y.title.toLowerCase().includes(b.toLowerCase())||((sa=Y.description)==null?void 0:sa.toLowerCase().includes(b.toLowerCase()))||Y.tags.some(pt=>pt.toLowerCase().includes(b.toLowerCase())),Fe=g==="all"||Y.projectId===g,xn=Z==="all"?!0:Z==="completed"?Y.isCompleted:!Y.isCompleted;return p==="calendar"?Fe&&(Y.dueDate===R||!Y.dueDate):Be&&Fe&&xn}),[r,b,g,Z,p,R]),Mn=k.useMemo(()=>{const Y=r.length,Be=r.filter(xn=>xn.isCompleted).length,Fe=Y-Be;return{total:Y,completed:Be,pending:Fe}},[r]);return c.jsxs("div",{className:"flex h-full w-full overflow-hidden bg-opacity-50 relative flex-col lg:flex-row",children:[c.jsx("div",{className:`hidden lg:flex flex-col w-56 h-full border-r ${l.border} p-4 transition-all duration-300`,children:c.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-hide",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:`text-xs font-semibold uppercase tracking-wide ${l.textSecondary}`,children:"Projects"}),c.jsx("button",{onClick:()=>le("add_project"),className:"p-1.5 rounded-lg hover:bg-black/5 transition-colors",children:c.jsx(Sc,{size:14})})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsxs("button",{onClick:()=>N("all"),className:`w-full flex items-center gap-2 p-2.5 rounded-xl transition-all ${g==="all"?`bg-gradient-to-r from-indigo-500/10 to-purple-500/10 ${l.textPrimary} font-medium border border-indigo-500/20`:`${l.textSecondary} hover:bg-black/5 border border-transparent`}`,children:[c.jsx(Eg,{size:16,className:"opacity-50"}),c.jsx("span",{className:"text-sm",children:"All Projects"})]}),f.length===0&&c.jsx("div",{className:"p-4 rounded-xl bg-indigo-500/5 border border-dashed border-indigo-500/20 text-center my-2",children:c.jsx("p",{className:"text-[10px] font-medium opacity-40 italic",children:"No projects yet"})}),f.map(Y=>c.jsxs("div",{className:`group w-full flex items-center justify-between rounded-xl transition-all ${g===Y.id?"bg-gradient-to-r from-indigo-500/10 to-purple-500/10 border border-indigo-500/20":"hover:bg-black/5 border border-transparent"}`,children:[c.jsxs("button",{onClick:()=>N(Y.id),className:`flex-1 flex items-center gap-2 p-2.5 ${g===Y.id?`${l.textPrimary} font-medium`:`${l.textSecondary}`}`,children:[c.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:Y.color}}),c.jsx("span",{className:"text-sm truncate",children:Y.name})]}),c.jsx("button",{onClick:Be=>{Be.stopPropagation(),ns(Y.id)},className:"opacity-0 group-hover:opacity-100 p-1.5 text-red-500 hover:bg-red-500/10 rounded-lg transition-all mr-1",children:c.jsx(Ka,{size:12})})]},Y.id))]})]})}),c.jsx("div",{className:"flex-1 h-full overflow-hidden flex flex-col p-3 md:p-6 lg:p-8",children:c.jsxs("div",{className:"max-w-5xl mx-auto w-full flex flex-col h-full bg-transparent",children:[c.jsxs("div",{className:"flex flex-col gap-4 mb-5",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:`text-xl md:text-3xl font-bold ${l.textPrimary}`,children:"Tasks"}),c.jsxs("p",{className:`text-xs md:text-sm ${l.textSecondary} mt-0.5`,children:[Mn.pending," pending  ",Mn.completed," done"]})]}),c.jsxs(Mt,{onClick:K,themeAccent:l.accent,className:"text-xs px-4",children:[c.jsx(Sc,{size:16,className:"mr-1"})," Add"]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("div",{className:`flex p-1 rounded-xl ${l.surface} border ${l.border}`,children:[c.jsx("button",{onClick:()=>x("list"),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${p==="list"?`${l.accent} text-white`:`${l.textSecondary} hover:bg-black/5`}`,children:c.jsx(a_,{size:14})}),c.jsx("button",{onClick:()=>x("calendar"),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${p==="calendar"?`${l.accent} text-white`:`${l.textSecondary} hover:bg-black/5`}`,children:c.jsx(Qf,{size:14})})]}),c.jsxs("div",{className:"relative flex-1",children:[c.jsx(Ux,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 opacity-40"}),c.jsx("input",{type:"text",placeholder:"Search...",value:b,onChange:Y=>v(Y.target.value),className:`w-full py-2 pl-9 pr-3 rounded-xl ${l.surface} border ${l.border} ${l.textPrimary} outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all text-sm`})]})]}),c.jsx("div",{className:"flex gap-2",children:["pending","completed","all"].map(Y=>c.jsx("button",{onClick:()=>ce(Y),className:`flex-1 py-2.5 rounded-xl text-xs font-semibold transition-all capitalize ${Z===Y?`${l.accent} text-white shadow-lg`:`${l.surface} border ${l.border} ${l.textSecondary} hover:bg-black/5`}`,children:Y},Y))})]}),c.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-hide pb-32 p-1",children:p==="calendar"?c.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 md:gap-8 items-start h-full",children:[c.jsx(bE,{date:R,setDate:P,todos:r,theme:l}),c.jsxs("div",{className:"flex-1 space-y-4 w-full pb-40 lg:pb-0",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("h4",{className:`text-xs font-black uppercase tracking-widest opacity-30 ${l.textPrimary}`,children:["Date HQ: ",R]}),c.jsxs(Mt,{onClick:K,themeAccent:l.accent,className:"py-2 px-4 shadow-lg text-[10px] font-black uppercase",children:[c.jsx(Sc,{size:14,className:"mr-1"})," Add Op"]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:kn.length===0?c.jsx("p",{className:"md:col-span-2 text-center py-20 opacity-20 text-xs font-black uppercase italic",children:"Zero ops detected."}):kn.map(Y=>c.jsx(Ax,{todo:Y,project:f.find(Be=>Be.id===Y.projectId),theme:l,onToggle:at,onEdit:ue,onDelete:ge},Y.id))})]})]}):c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 md:gap-4",children:kn.length===0?c.jsx("p",{className:"lg:col-span-2 text-center py-20 opacity-30 text-base font-medium",children:"No tasks found"}):kn.map(Y=>c.jsx(Ax,{todo:Y,project:f.find(Be=>Be.id===Y.projectId),theme:l,onToggle:at,onEdit:ue,onDelete:ge},Y.id))})})]})}),(te==="add_todo"||te==="edit_todo")&&c.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end md:items-center justify-center p-0 md:p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:()=>le("none")}),c.jsxs("div",{className:`${l.surface} w-full md:w-full max-w-xl rounded-t-3xl md:rounded-2xl shadow-2xl relative flex flex-col max-h-[90vh] md:max-h-[85vh] animate-slide-up`,onClick:Y=>Y.stopPropagation(),children:[c.jsxs("div",{className:`flex justify-between items-center p-5 border-b ${l.border} sticky top-0 bg-inherit z-10 rounded-t-3xl md:rounded-t-2xl`,children:[c.jsx("h3",{className:`text-xl font-bold ${l.textPrimary}`,children:te==="edit_todo"?"Edit Task":"New Task"}),c.jsx("button",{onClick:()=>le("none"),className:`p-2 rounded-full hover:bg-black/5 transition-colors ${l.textPrimary}`,children:c.jsx(Jn,{size:22})})]}),c.jsxs("div",{className:"overflow-y-auto overflow-x-hidden p-5 md:p-6 space-y-5 scrollbar-thin",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:`text-sm font-bold ${l.textPrimary}`,children:"Title"}),c.jsx("input",{autoFocus:!0,value:ct,onChange:Y=>Re(Y.target.value),className:`w-full p-3.5 rounded-xl border ${l.border} ${l.textPrimary} focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-base bg-transparent font-medium`,placeholder:"Enter task title..."})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:`text-sm font-bold ${l.textPrimary}`,children:"Description"}),c.jsx("textarea",{value:ie,onChange:Y=>Ae(Y.target.value),className:`w-full p-3.5 rounded-xl border ${l.border} ${l.textPrimary} focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none h-32 resize-none text-sm bg-transparent`,placeholder:"Add notes..."})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:`text-sm font-bold ${l.textPrimary}`,children:"Due Date"}),c.jsx("input",{type:"date",value:ut,onChange:Y=>he(Y.target.value),className:`w-full p-3.5 rounded-xl border ${l.border} ${l.textPrimary} outline-none text-sm bg-transparent`})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:`text-sm font-bold ${l.textPrimary}`,children:"Priority"}),c.jsx("div",{className:`flex gap-2 p-1.5 rounded-xl border ${l.border} bg-black/5`,children:["low","medium","high"].map(Y=>c.jsx("button",{onClick:()=>Ge(Y),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all capitalize ${Ke===Y?`${l.accent} text-white shadow-md`:`${l.textSecondary} hover:bg-black/5`}`,children:Y},Y))})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:`text-sm font-bold ${l.textPrimary}`,children:"Project"}),c.jsxs("select",{value:Jt,onChange:Y=>St(Y.target.value),className:`w-full p-3.5 rounded-xl border ${l.border} ${l.textPrimary} outline-none text-sm bg-transparent`,children:[c.jsx("option",{value:"",children:"No Project"}),f.map(Y=>c.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:`text-sm font-bold ${l.textPrimary}`,children:"Tags"}),c.jsx("input",{value:ne,onChange:Y=>z(Y.target.value),className:`w-full p-3.5 rounded-xl border ${l.border} ${l.textPrimary} outline-none text-sm bg-transparent`,placeholder:"exams, results..."})]})]}),c.jsxs("div",{className:"space-y-3 pt-2 pb-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("label",{className:`text-sm font-bold ${l.textPrimary}`,children:"Progress"}),c.jsxs("span",{className:`text-sm font-black ${l.accentText}`,children:[G,"%"]})]}),c.jsx("input",{type:"range",min:"0",max:"100",step:"10",value:G,onChange:Y=>F(parseInt(Y.target.value)),className:"w-full h-2 bg-gray-200 rounded-full appearance-none cursor-pointer accent-blue-500"})]})]}),c.jsx("div",{className:`p-5 border-t ${l.border} bg-inherit rounded-b-3xl md:rounded-b-2xl sticky bottom-0 z-10`,children:c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[c.jsx(Mt,{variant:"secondary",onClick:()=>le("none"),className:"flex-1 order-2 sm:order-1 py-3 text-sm",children:"Cancel"}),c.jsxs(Mt,{onClick:ye,themeAccent:l.accent,className:"flex-1 order-1 sm:order-2 py-3 text-sm shadow-lg",children:[c.jsx(g_,{size:18,className:"mr-2"}),fe?"Update Task":"Create Task"]})]})})]})]}),te==="add_project"&&c.jsxs("div",{className:"fixed inset-0 z-[120] flex items-end md:items-center justify-center md:p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>le("none")}),c.jsxs("div",{className:`${l.surface} border-t md:border ${l.border} w-full max-w-sm p-5 md:p-6 rounded-t-3xl md:rounded-2xl shadow-2xl relative flex flex-col gap-4`,onClick:Y=>Y.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 rounded-md bg-blue-500/100 text-white",children:c.jsx(Eg,{size:20})}),c.jsx("h3",{className:`text-lg font-semibold ${l.textPrimary}`,children:"New Project"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:`text-sm font-medium ${l.textPrimary}`,children:"Project Name"}),c.jsx("input",{autoFocus:!0,value:De,onChange:Y=>Se(Y.target.value),className:`w-full p-3 rounded-md border ${l.border} ${l.textPrimary} outline-none bg-transparent`,placeholder:"Enter project name..."})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:`text-sm font-medium ${l.textPrimary}`,children:"Color"}),c.jsx("div",{className:"grid grid-cols-7 gap-2",children:["#2563eb","#ec4899","#f59e0b","#10b981","#ef4444","#8b5cf6","#06b6d4"].map(Y=>c.jsx("button",{onClick:()=>H(Y),className:`w-8 h-8 rounded-md transition-all ${C===Y?"ring-2 ring-blue-500 scale-110":"opacity-50 hover:opacity-100 hover:scale-105"}`,style:{backgroundColor:Y}},Y))})]})]}),c.jsxs("div",{className:"flex gap-3 pt-2",children:[c.jsx(Mt,{variant:"secondary",onClick:()=>le("none"),className:"flex-1",children:"Cancel"}),c.jsx(Mt,{onClick:tt,themeAccent:l.accent,className:"flex-1",children:"Create"})]})]})]})]})},Nf=({value:l,options:n,onChange:a,theme:r,label:u})=>{const[f,h]=k.useState(!1);return c.jsxs("div",{className:"relative",children:[u&&c.jsx("label",{className:`text-[10px] font-bold uppercase tracking-wider ${r.textSecondary} mb-1 block ml-1`,children:u}),c.jsxs("button",{onClick:()=>h(!f),className:`flex items-center justify-between gap-3 px-4 py-2.5 rounded-lg ${r.surface} border ${r.border} ${r.textPrimary} font-semibold text-sm min-w-[140px] hover:bg-gray-500/10 transition-colors`,children:[c.jsxs("span",{className:"truncate",children:["Class ",l]}),c.jsx(ol,{size:14,className:`transition-transform ${f?"rotate-90":""}`})]}),f&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-[80]",onClick:()=>h(!1)}),c.jsx("div",{className:`absolute top-full left-0 right-0 mt-1 p-1 rounded-lg ${r.surface} border ${r.border} shadow-sm z-[90] max-h-60 overflow-y-auto`,children:n.map(p=>c.jsxs("button",{onClick:()=>{a(p),h(!1)},className:`w-full text-left px-3 py-2 rounded-md text-sm font-medium ${l===p?`${r.accent} text-white`:`${r.textPrimary} hover:bg-gray-500/10`} transition-colors`,children:["Class ",p]},p))})]})]})},SE=({isOpen:l,title:n,message:a,onConfirm:r,onCancel:u,theme:f})=>l?c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 p-6",children:c.jsxs("div",{className:`${f.surface} border ${f.border} w-full max-w-sm p-6 rounded-xl shadow-sm flex flex-col gap-4`,children:[c.jsxs("div",{className:"flex flex-col items-center text-center gap-2",children:[c.jsx("h3",{className:`text-lg font-bold ${f.textPrimary}`,children:n}),c.jsx("p",{className:`text-sm ${f.textSecondary}`,children:a})]}),c.jsxs("div",{className:"flex gap-2 mt-2",children:[c.jsx("button",{onClick:u,className:`flex-1 py-2.5 rounded-lg font-semibold border ${f.border} ${f.textPrimary} hover:bg-gray-500/10`,children:"Cancel"}),c.jsx("button",{onClick:r,className:"flex-1 py-2.5 rounded-lg font-semibold bg-red-600 text-white hover:bg-red-700",children:"Confirm"})]})]})}):null,Dx=({message:l,type:n,onClose:a})=>(k.useEffect(()=>{const r=setTimeout(()=>{a()},3e3);return()=>clearTimeout(r)},[]),c.jsxs("div",{className:`fixed top-6 left-1/2 -translate-x-1/2 z-[200] flex items-center gap-3 px-6 py-3 rounded-full shadow-sm  ${n==="success"?"bg-emerald-500 text-white":"bg-red-500 text-white"}`,children:[n==="success"?c.jsx(Ec,{size:20}):c.jsx(Zf,{size:20}),c.jsx("span",{className:"font-bold text-sm",children:l})]})),NE=()=>c.jsxs("div",{className:"fixed inset-0 z-[150] flex flex-col items-center justify-center bg-white dark:bg-slate-950",children:[c.jsx(zx,{className:"w-10 h-10 text-indigo-600 animate-spin"}),c.jsx("div",{className:"mt-4 text-xs font-semibold text-slate-500 uppercase tracking-widest",children:"Loading..."})]}),wE=({onFinish:l,logo:n})=>{const[a,r]=k.useState(!1);return k.useEffect(()=>{const u=setTimeout(()=>r(!0),300),f=setTimeout(()=>l(),500);return()=>{clearTimeout(u),clearTimeout(f)}},[l]),c.jsx("div",{className:`fixed inset-0 z-[100] flex flex-col items-center justify-center bg-slate-950 text-white transition-opacity duration-300 ${a?"opacity-0":"opacity-100"}`,children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:"w-24 h-24 rounded-2xl bg-indigo-600 flex items-center justify-center mb-4 shadow-lg",children:n&&n.length>10?c.jsx("img",{src:n,alt:"Logo",className:"w-full h-full object-cover rounded-2xl"}):c.jsx(Zl,{size:48,className:"text-white"})}),c.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white mb-1",children:"IJ EDUCATION"}),c.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-indigo-400 opacity-60",children:"Professional Hub"})]})})},CE=({theme:l,onClose:n})=>{const[a,r]=k.useState(0),u=[{title:"Welcome to ClassTrack",desc:"Your professional hub for student management. Let's get you started.",icon:wf},{title:"Master Controls",desc:"Use the bottom dock (mobile) or sidebar (PC) to navigate between Home, Tasks, and Settings.",icon:Ox},{title:"Attendance & Records",desc:"Click any Class Card on the home screen to start marking attendance instantly.",icon:Ql},{title:"Smart History",desc:"View detailed statistics and past attendance records in the History tab.",icon:Xf},{title:"Strategy Desk",desc:"Manage your personal tasks and to-do lists in the To-Do section.",icon:Ff},{title:"Ready to Start?",desc:"Head to the Admin menu to create your first class and populate your database.",icon:$x}],f=u[a],h=f.icon;return c.jsxs("div",{className:"fixed inset-0 z-[500] flex items-center justify-center p-6 sm:p-10 pointer-events-none",children:[c.jsx("div",{className:"absolute inset-0 bg-black/60  pointer-events-auto",onClick:n}),c.jsxs("div",{className:`${l.surface} border-2 border-indigo-500/30 w-full max-w-lg p-10 rounded-md shadow-[0_50px_100px_-20px_rgba(0,0,0,0.7)] relative animate-scale-up pointer-events-auto overflow-hidden`,children:[c.jsx("div",{className:"absolute -top-20 -right-20 w-64 h-64 bg-indigo-500/10 rounded-full blur-[80px]"}),c.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[c.jsx("div",{className:`w-24 h-24 rounded-lg ${l.accent} flex items-center justify-center text-white mb-8 shadow-sm scale-110`,children:c.jsx(h,{size:48,strokeWidth:2.5})}),c.jsxs("div",{className:"mb-2 text-[10px] font-black uppercase tracking-[0.4em] opacity-40 text-indigo-400",children:["Step ",a+1," of ",u.length]}),c.jsx("h2",{className:`text-2xl md:text-4xl font-black ${l.textPrimary} mb-4 tracking-tighter leading-tight`,children:f.title}),c.jsx("p",{className:`text-sm md:text-lg ${l.textSecondary} mb-12 leading-relaxed opacity-70`,children:f.desc}),c.jsxs("div",{className:"flex gap-4 w-full",children:[a>0?c.jsx("button",{onClick:()=>r(a-1),className:`flex-1 py-5 rounded-2xl bg-gray-500/10 font-black uppercase tracking-widest text-[11px] ${l.textPrimary}`,children:"Back"}):c.jsx("button",{onClick:n,className:`flex-1 py-5 rounded-2xl bg-gray-500/10 font-black uppercase tracking-widest text-[11px] ${l.textPrimary}`,children:"Skip"}),c.jsx("button",{onClick:()=>{a<u.length-1?r(a+1):n()},className:`flex-[2] py-5 rounded-2xl ${l.accent} text-white font-black uppercase tracking-widest text-[11px] shadow-sm shadow-indigo-500/30`,children:a===u.length-1?"Start Now":"Continue"})]})]})]})]})};class EE extends Br.Component{constructor(n){super(n),this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,a){console.error("Uncaught error:",n,a)}render(){return this.state.hasError?c.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-slate-950 text-white p-6 text-center",children:[c.jsx(Zf,{size:64,className:"text-red-500 mb-6 animate-bounce"}),c.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Something went wrong."}),c.jsx("p",{className:"text-slate-400 mb-8 max-w-md",children:"The application encountered an unexpected error. Please restart the app."}),c.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 rounded-xl bg-indigo-600 font-bold hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-500/30",children:"Restart Application"})]}):this.props.children}}function jE(){return c.jsx(EE,{children:c.jsx(TE,{})})}function TE(){const[l,n]=k.useState(!0),[a,r]=k.useState(!1),[u,f]=k.useState(!0),[h,p]=k.useState(()=>{const w=localStorage.getItem("classtrack_animations_v1");return w===null?!0:w==="true"}),[x,g]=k.useState(()=>{const w=localStorage.getItem("classtrack_theme_v1");return["minimal_light","minimal_dark","minimal_blue","minimal_gray","minimal_green","minimal_purple"].includes(w)?w:"minimal_light"});k.useEffect(()=>{h?document.body.classList.remove("disable-animations"):document.body.classList.add("disable-animations"),localStorage.setItem("classtrack_animations_v1",String(h))},[h]);const[N,b]=k.useState(()=>Sf()),[v,R]=k.useState(()=>Sf()?"home":"login"),[P,Z]=k.useState($_),[ce,te]=k.useState(!0),[le,fe]=k.useState(!1),[de,ct]=k.useState(null),[Re,ie]=k.useState(()=>ZC()||"./icons/icon-512x512.png"),[Ae,ut]=k.useState([]),[he,Ke]=k.useState(""),[Ge,Jt]=k.useState(""),[St]=k.useState(()=>new Date().toLocaleDateString("en-CA")),[ne,z]=k.useState(new Date),[G,F]=k.useState([]),[De,Se]=k.useState([]),[C,H]=k.useState({}),[V,K]=k.useState(null),[ue,ye]=k.useState([]),[ge,at]=k.useState([]),[tt,ns]=k.useState("history"),[kn,Mn]=k.useState(!1),[Y,Be]=k.useState(""),[Fe,xn]=k.useState(navigator.onLine),[sa,pt]=k.useState(!1),[gi,Rs]=k.useState(320),[ss,Wr]=k.useState(!1),[xi,Vt]=k.useState([{id:"monitor",name:"Class Monitor",icon:"ShieldCheck",color:"#6366f1"},{id:"punctual",name:"Punctual",icon:"Clock",color:"#10b981"},{id:"helper",name:"Top Helper",icon:"Star",color:"#f59e0b"}]),[lu,Jr]=k.useState(window.innerWidth);k.useEffect(()=>{const w=()=>Jr(window.innerWidth);return window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]);const eo=k.useCallback(()=>Wr(!0),[]),ls=k.useCallback(()=>{Wr(!1),Rs(w=>w<180?80:w>340?400:280)},[]),la=k.useCallback(w=>{if(ss){const B=w.clientX;B<180?Rs(80):B>340?Rs(400):Rs(280)}},[ss]);k.useEffect(()=>(ss?(window.addEventListener("mousemove",la),window.addEventListener("mouseup",ls)):(window.removeEventListener("mousemove",la),window.removeEventListener("mouseup",ls)),()=>{window.removeEventListener("mousemove",la),window.removeEventListener("mouseup",ls)}),[ss,la,ls]);const[xl,yi]=k.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),[Os,as]=k.useState(null),[it,Pt]=k.useState(null),[Qt,au]=k.useState(""),[$h,to]=k.useState(!1),[zs,aa]=k.useState(()=>localStorage.getItem("classtrack_tutorial_seen_v1")===null),ia=()=>{localStorage.setItem("classtrack_tutorial_seen_v1","true"),aa(!1)};k.useEffect(()=>{if(!l&&!u&&v==="home"&&Ae.length===0&&!zs){const w=setTimeout(()=>to(!0),1500);return()=>clearTimeout(w)}else to(!1)},[l,u,v,Ae.length,zs]);const[is,Ls]=k.useState("dashboard"),[Nt,vi]=k.useState("10"),[rn,ra]=k.useState(new Date),[rs,Uh]=k.useState(null),oa=k.useRef(null),[Gn,no]=k.useState(()=>new Date().toISOString().slice(0,7)),[yn,yl]=k.useState({}),[so,bi]=k.useState(!1),[Rn,wt]=k.useState({}),[nt,Vn]=k.useState("10"),[os,vl]=k.useState([]),[Hh,_i]=k.useState(""),[ca,ua]=k.useState(0),[bl,_l]=k.useState(!1),Sl=async(w,B)=>{const O=it||G.find(W=>W.id===w);if(!O)return;const $=O.badges||[];if($.includes(B))return Oe("Student already has this badge","info");const q=[...$,B];try{await _c(w,{badges:q}),Pt(W=>W?{...W,badges:q}:null),F(W=>W.map(X=>X.id===w?{...X,badges:q}:X)),Oe("Badge Awarded!","success")}catch{Oe("Failed to award badge","error")}},$s=async(w,B)=>{const O=it||G.find(q=>q.id===w);if(!O)return;const $=(O.badges||[]).filter(q=>q!==B);try{await _c(w,{badges:$}),Pt(q=>q?{...q,badges:$}:null),F(q=>q.map(W=>W.id===w?{...W,badges:$}:W)),Oe("Badge Removed","success")}catch{Oe("Failed to remove badge","error")}},[ot,Si]=k.useState(""),[da,Pn]=k.useState(""),[Qn,lo]=k.useState(""),[fa,Ni]=k.useState("teacher"),[ao,Nl]=k.useState(!1),[wl,On]=k.useState([]),It=k.useMemo(()=>{const w={};if(de&&G.length>0){const B=ge.filter(O=>O.classId===de);G.forEach(O=>{const $=B.filter(q=>q.records&&q.records[O.id]!==void 0);if($.length===0)w[O.id]=100;else{const q=$.filter(W=>{const X=W.records[O.id];return X==="present"||X===!0}).length;w[O.id]=Math.round(q/$.length*100)}})}if(os.length>0){const B=ge.filter(O=>O.classId===nt);os.forEach(O=>{if(!w[O.id]){const $=B.filter(q=>q.records&&q.records[O.id]!==void 0);if($.length===0)w[O.id]=100;else{const q=$.filter(W=>{const X=W.records[O.id];return X==="present"||X===!0}).length;w[O.id]=Math.round(q/$.length*100)}}})}return w},[de,ge,G,os,nt]),io=k.useMemo(()=>{const w=rn.getMonth(),B=rn.getFullYear(),O=ge.filter(Ct=>{const Ft=new Date(Ct.date);return Ct.classId===Nt&&Ft.getMonth()===w&&Ft.getFullYear()===B}),$=rs?O.filter(Ct=>new Date(Ct.date).getDate()===rs):O;let q=0,W=0,X=0;$.forEach(Ct=>{Ct.records&&Object.values(Ct.records).forEach(Ft=>{Ft==="present"||Ft===!0?q++:Ft==="leave"?X++:W++})});const ze=q+W+X,Ne=ze>0?q/ze*100:0,qt=ze>0?`conic-gradient(#10b981 0% ${Ne}%, #f97316 ${Ne}% ${Ne+X/ze*100}%, #ef4444 ${Ne+X/ze*100}% 100%)`:"conic-gradient(#334155 0% 100%)";return{totalPresent:q,totalAbsent:W,totalLeave:X,totalMarks:ze,presentPercentage:Ne,gradientStyle:qt}},[Nt,rn,rs,ge]),[ro,on]=k.useState("0"),[ha,vn]=k.useState(""),[ma,Rt]=k.useState(null),[Us,wi]=k.useState(""),[Cl,cs]=k.useState(""),_=wc[x]||wc.minimal_light,oo=["group-chat"].includes(v);k.useEffect(()=>{["midnight","forest","crimson","neon"].includes(x)?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[x]);const zn=(w,B,O)=>{yi({isOpen:!0,title:w,message:B,onConfirm:()=>{O(),yi($=>({...$,isOpen:!1}))}})},Oe=(w,B)=>{as({message:w,type:B})},El=k.useCallback(async()=>{const w=wx();ua(w),navigator.onLine&&w>0&&(await lE(B=>{_i(B),setTimeout(()=>_i(""),3e3)}),ua(wx()),v==="dashboard"&&de&&Gt(de).then(F),v==="admin-dashboard"&&Gt(Nt).then(Se),Sr().then(at))},[v,de,Nt]),jl=k.useCallback(async()=>{try{const w=await PC();On(w)}catch{}},[]);k.useEffect(()=>{v==="admin-users"&&jl()},[v,jl]),k.useEffect(()=>{(async()=>{const q=new Promise(Ne=>setTimeout(Ne,1200)),W=oE();["minimal_light","minimal_dark","minimal_blue","minimal_gray","minimal_green","minimal_purple"].includes(W)&&wc[W]?g(W):g("minimal_light");const ze=Sf();ze&&b(ze);try{const[Ne,qt,Ct,Ft]=await Promise.all([Lh(),FC(),Sr(),jx(Gn)]);yl(Ft),ut(Ne),Ne.length>0&&(vi(Ne[0]),Vn(Ne[0]),Gt(Ne[0]).then(me=>{Se(me),vl(me),F(me)})),qt&&(qt.logo&&ie(qt.logo),qt.classFees&&wt(qt.classFees)),at(Ct.sort((me,bn)=>bn.timestamp-me.timestamp))}catch(Ne){console.error("Initialization error:",Ne)}await q,r(!0),n(!1)})();const B=()=>{xn(navigator.onLine)};window.addEventListener("online",B),window.addEventListener("offline",B);const O=setInterval(()=>z(new Date),1e3);let $;return"serviceWorker"in navigator&&($=q=>{q.data&&q.data.type==="TRIGGER_SYNC"&&(console.log(" Sync triggered by Service Worker"),El())},navigator.serviceWorker.addEventListener("message",$)),()=>{clearInterval(O),window.removeEventListener("online",B),window.removeEventListener("offline",B),$&&navigator.serviceWorker.removeEventListener("message",$)}},[]),k.useEffect(()=>{let w;return Fe&&(El(),w=setInterval(El,3e4)),()=>{w&&clearInterval(w)}},[Fe,El]);const Ci=k.useCallback(()=>{f(!1),R(N?"home":"login")},[N]),iu=w=>{b(w),Vf(w),R("home")},co=()=>{XC(),b(null),R("login")},pa=w=>{g(w),rE(w)};k.useEffect(()=>{(v==="admin-dashboard"||v==="admin-menu")&&Gt(Nt).then(Se)},[v,Nt]),k.useEffect(()=>{(v==="admin-fees"||v==="attendance"||v==="student-profile")&&(bi(!0),jx(Gn).then(w=>{yl(w),bi(!1)}))},[v,Gn]),k.useEffect(()=>{(v==="admin-fees"||v==="student-directory")&&Gt(nt).then(vl)},[v,nt]),k.useEffect(()=>{v==="dashboard"&&de&&Gt(de).then(F)},[v,de]);const cn=async w=>{pt(!0);try{ct(w);const B=await aE(St,w),O=await Gt(w);if(F(O),B)H(B.records);else{const $={};O.forEach(q=>$[q.id]="present"),H($)}R("dashboard")}catch(B){console.error("Error loading class",B)}finally{pt(!1)}},Ei=async()=>{pt(!0);try{const w=await Sr();at(w.sort((B,O)=>O.timestamp-B.timestamp)),R("history")}finally{pt(!1)}},ji=w=>{navigator.vibrate&&navigator.vibrate(10),H(B=>{const O=B[w];let $;return O==="present"||O===!0?$="absent":O==="absent"||O===!1?$="leave":$="present",{...B,[w]:$}})},us=w=>{const B={};G.forEach(O=>B[O.id]=w?"present":"absent"),H(B),navigator.vibrate&&navigator.vibrate(20)},Hs=async()=>{if(de){pt(!0);try{const w={id:`${St}-${de}`,date:St,classId:de,timestamp:Date.now(),records:C};await xv(w);const B=G.map($=>{if($.classId===de&&C[$.id]==="present"){const q=$.xp||0,W=$.coins||0,X=q+15,ze=W+10,Ne=Math.floor(X/1e3)+1;return{...$,xp:X,coins:ze,level:Ne}}return $});F(B),await Promise.all(B.filter($=>$.classId===de&&C[$.id]==="present").map($=>_c($.id,$)));const O=await Sr();at(O.sort(($,q)=>q.timestamp-$.timestamp)),navigator.vibrate&&navigator.vibrate([30,50,30]),Fe||Oe("Saved Offline! Syncing when Online.","success"),R("dashboard")}catch{Oe("Failed to save. Action queued.","error"),R("dashboard")}finally{pt(!1)}}},uo=async()=>{var O,$;let w=de;if(v==="admin-dashboard"&&(w=Nt),(v==="student-directory"||v==="admin-fees")&&(w=nt),!Y.trim()||!w)return;const B=Y.split(`
`).filter(q=>q.trim().length>0);pt(!0);try{for(const W of B){const X=W.split(","),ze=(O=X[0])==null?void 0:O.trim(),Ne=($=X[1])==null?void 0:$.trim();ze&&await JC(ze,w,Ne)}Be(""),Mn(!1),Oe(Fe?"Sync Successful!":"Added Locally! Syncing soon...","success"),(()=>{v==="student-directory"||v==="admin-fees"?Gt(nt).then(vl):v==="admin-dashboard"?Gt(Nt).then(Se):de&&Gt(de).then(F)})()}catch{Oe("Action queued for sync.","error")}finally{pt(!1)}},Ti=async(w,B)=>{w.stopPropagation(),zn("Delete Student?","Are you sure you want to permanently delete this student? This action cannot be undone.",async()=>{await eE(B),navigator.vibrate&&navigator.vibrate(50),Oe(Fe?"Student deleted":"Pending Deletion","success"),v==="admin-dashboard"&&Gt(Nt).then(Se)})},fo=async(w,B)=>{w.stopPropagation(),zn("Delete Record?",`Delete attendance record for ${B.date} (Class ${B.classId})?`,async()=>{await tE(B.date,B.classId);const O=await Sr();at(O.sort(($,q)=>q.timestamp-$.timestamp)),Oe(Fe?"Record deleted":"Queued for deletion","success")})},Tl=async(w,B="history")=>{pt(!0);try{const O=await Gt(w.classId);ye(O),K(w),ns(B),R("history-detail")}finally{pt(!1)}};k.useEffect(()=>{if(v==="history-detail"&&V){const w=sE(V.date,V.classId,B=>{B&&K(B)});return()=>w()}},[v,V==null?void 0:V.id]);const Ln=async w=>{var $;const B=($=w.target.files)==null?void 0:$[0];if(!B)return;const O=new FileReader;O.onloadend=async()=>{if(typeof O.result=="string"){const q=O.result;ie(q),await Ex({logo:q}),Oe("School Logo Updated Everywhere!","success")}},O.readAsDataURL(B)},Ai=async w=>{const B=yn[w.id],O=(B==null?void 0:B.isPaid)||!1,$=Rn[w.classId]||2e3,q=(B==null?void 0:B.amount)||w.customFee||$,W={id:`${Gn}_${w.id}`,studentId:w.id,month:Gn,amount:q,isPaid:!O,paidAt:O?null:Date.now()};yl(X=>({...X,[w.id]:W}));try{O?(await nE(Gn,w.id),Oe("Payment Removed","success")):(await yv(W),navigator.vibrate&&navigator.vibrate(20),Oe("Fee Marked as Paid","success"))}catch{Oe("Sync Error: Payment queued","error")}},Al=async(w,B)=>{try{await iE(w,B),vl(O=>O.map($=>$.id===w?{...$,customFee:B}:$)),Oe("Custom fee updated","success")}catch{Oe("Failed to update custom fee","error")}},Xn=async()=>{if(he.trim()){pt(!0);try{const w=await KC(he.trim());ut(w),Ke(""),Oe(`Class ${he} added!`,"success")}catch(w){Oe(w.message||"Failed to add class","error")}finally{pt(!1)}}},Di=async w=>{zn("Delete Class?",`Are you sure you want to delete Class ${w}? This will NOT delete student data but will hide the class.`,async()=>{pt(!0);try{const B=await WC(w);ut(B),Nt===w&&B.length>0&&vi(B[0]),Oe(`Class ${w} removed`,"success")}catch{Oe("Failed to remove class","error")}finally{pt(!1)}})},ga=w=>{Rt(w),wi(w.name),cs(w.phone||""),au(w.classId)},ho=async()=>{if(!(!ma||!Us.trim())){pt(!0);try{await _c(ma.id,{name:Us.trim(),phone:Cl.trim(),classId:Qt}),Oe("Student Updated!","success"),it&&it.id===ma.id&&Pt({...it,name:Us.trim(),phone:Cl.trim()}),Rt(null),v==="student-directory"||v==="admin-fees"?Gt(nt).then(vl):v==="admin-dashboard"?Gt(Nt).then(Se):de&&Gt(de).then(F),v==="student-profile"&&it&&Gt(it.classId).then(F)}catch{Oe("Update failed","error")}finally{pt(!1)}}},Xt=w=>{if(w==="C"){on("0"),vn("");return}if(w==="="){try{const O=Function('"use strict";return ('+ha+")")();on(String(O)),vn(String(O))}catch{on("Error"),vn("")}return}const B=["+","-","*","/"].includes(w);if(ro==="0"&&!B)on(w),vn(w);else{if(B)on(w);else{const O=ha.slice(-1);["+","-","*","/"].includes(O)?on(w):on($=>$+w)}vn(O=>O+w)}},xa=()=>c.jsx("div",{className:"flex flex-col h-full  px-3 md:px-6 pt-4 md:pt-12 pb-32 w-full max-w-7xl mx-auto items-center justify-center",children:c.jsxs("div",{className:"w-full",children:[c.jsxs("div",{className:"text-center mb-6 md:mb-12",children:[c.jsx("h1",{className:`text-xl md:text-4xl font-black ${_.textPrimary} mb-1 md:mb-2`,children:"Admin Center"}),c.jsx("p",{className:`text-[10px] md:text-sm ${_.textSecondary}`,children:"Secure management & oversight panel"})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-4 gap-4 md:gap-6 w-full max-h-[70vh] overflow-y-auto pr-2 scrollbar-hide py-4",children:[c.jsxs("button",{onClick:()=>R("admin-dashboard"),className:`p-6 md:p-8 rounded-2xl ${_.surface} border ${_.border} shadow-sm hover:scale-[1.02] active:scale-95 transition-all group text-left relative overflow-hidden flex flex-col items-start min-h-[220px]`,children:[c.jsx("div",{className:"p-4 rounded-2xl bg-blue-500/10 text-blue-500 mb-6 group-hover:bg-blue-500 group-hover:text-white transition-colors",children:c.jsx(Ql,{size:24})}),c.jsx("h3",{className:`text-xl font-black ${_.textPrimary} mb-2`,children:"Registry"}),c.jsx("p",{className:`text-xs ${_.textSecondary} leading-relaxed opacity-60`,children:"Manage students, classes, and analytics."}),c.jsxs("div",{className:"mt-auto flex items-center gap-2 text-blue-500 font-bold text-[10px] uppercase tracking-widest",children:["Open ",c.jsx(ol,{size:14})]})]}),c.jsxs("button",{onClick:()=>R("admin-fees"),className:`p-6 md:p-8 rounded-2xl ${_.surface} border ${_.border} shadow-sm hover:scale-[1.02] active:scale-95 transition-all group text-left relative overflow-hidden flex flex-col items-start min-h-[220px]`,children:[c.jsx("div",{className:"p-4 rounded-2xl bg-emerald-500/10 text-emerald-500 mb-6 group-hover:bg-emerald-500 group-hover:text-white transition-colors",children:c.jsx(V1,{size:24})}),c.jsx("h3",{className:`text-xl font-black ${_.textPrimary} mb-2`,children:"Fees Desk"}),c.jsx("p",{className:`text-xs ${_.textSecondary} leading-relaxed opacity-60`,children:"Track payments and reports."}),c.jsxs("div",{className:"mt-auto flex items-center gap-2 text-emerald-500 font-bold text-[10px] uppercase tracking-widest",children:["Check ",c.jsx(ol,{size:14})]})]}),c.jsxs("button",{onClick:()=>R("student-directory"),className:`p-6 md:p-8 rounded-2xl ${_.surface} border ${_.border} shadow-sm hover:scale-[1.02] active:scale-95 transition-all group text-left relative overflow-hidden flex flex-col items-start min-h-[220px]`,children:[c.jsx("div",{className:"p-4 rounded-2xl bg-purple-500/10 text-purple-500 mb-6 group-hover:bg-purple-500 group-hover:text-white transition-colors",children:c.jsx(Y1,{size:24})}),c.jsx("h3",{className:`text-xl font-black ${_.textPrimary} mb-2`,children:"Contacts"}),c.jsx("p",{className:`text-xs ${_.textSecondary} leading-relaxed opacity-60`,children:"Directory & Verification."}),c.jsxs("div",{className:"mt-auto flex items-center gap-2 text-purple-500 font-bold text-[10px] uppercase tracking-widest",children:["View ",c.jsx(ol,{size:14})]})]}),c.jsxs("button",{onClick:()=>R("admin-users"),className:`p-6 md:p-8 rounded-2xl ${_.surface} border ${_.border} shadow-sm hover:scale-[1.02] active:scale-95 transition-all group text-left relative overflow-hidden flex flex-col items-start min-h-[220px]`,children:[c.jsx("div",{className:"p-4 rounded-2xl bg-orange-500/10 text-orange-500 mb-6 group-hover:bg-orange-500 group-hover:text-white transition-colors",children:c.jsx(Nc,{size:24})}),c.jsx("h3",{className:`text-xl font-black ${_.textPrimary} mb-2`,children:"Access"}),c.jsx("p",{className:`text-xs ${_.textSecondary} leading-relaxed opacity-60`,children:"Manage Admin/Teacher accounts."}),c.jsxs("div",{className:"mt-auto flex items-center gap-2 text-orange-500 font-bold text-[10px] uppercase tracking-widest",children:["Manage ",c.jsx(ol,{size:14})]})]})]}),c.jsx("div",{className:"mt-6 md:mt-12 text-center",children:c.jsx("button",{onClick:()=>R("home"),className:`px-5 md:px-8 py-3 md:py-4 rounded-xl md:rounded-2xl bg-gray-500/10 hover:bg-gray-500/20 ${_.textSecondary} font-black text-[9px] uppercase tracking-[0.2em] transition-all`,children:"Return to Workspace"})})]})}),mo=()=>{const w=async()=>{if(!ot||!da||!Qn)return Oe("All fields required","error");Nl(!0);try{await VC(Qn,ot,da,fa),Oe(`User ${ot} Created!`,"success"),Si(""),Pn(""),lo(""),jl()}catch{Oe("Failed to create user","error")}finally{Nl(!1)}},B=O=>{zn("Delete User?","This user will lose access immediately.",async()=>{try{await QC(O),Oe("User Deleted","success"),jl()}catch($){Oe($.message||"Failed","error")}})};return c.jsx("div",{className:"flex flex-col h-full  px-4 md:px-6 pt-6 md:pt-12 pb-32 overflow-y-auto w-full scrollbar-hide",children:c.jsxs("div",{className:"max-w-4xl mx-auto w-full space-y-8",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h1",{className:`text-3xl md:text-5xl font-black ${_.textPrimary} mb-2 tracking-tighter`,children:"Access Control"}),c.jsx("p",{className:`text-[10px] md:text-xs font-bold uppercase tracking-widest ${_.textSecondary} opacity-40`,children:"Admin Tools & Users"})]}),c.jsx("button",{onClick:()=>R("admin-menu"),className:`p-2 rounded-full hover:bg-gray-500/20 ${_.textPrimary}`,children:c.jsx(Jn,{size:28})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8",children:[c.jsxs("div",{className:`p-6 md:p-8 rounded-2xl ${_.surface} border ${_.border} shadow-sm flex flex-col gap-6`,children:[c.jsx("h3",{className:`text-lg font-bold ${_.textPrimary} flex items-center gap-2`,children:"Authorize New Account"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:`text-[10px] font-black uppercase tracking-widest ${_.textSecondary} mb-2 block opacity-50`,children:"Display Name"}),c.jsx("input",{value:Qn,onChange:O=>lo(O.target.value),className:`w-full p-4 rounded-xl bg-black/10 border ${_.border} ${_.textPrimary} font-bold outline-none focus:ring-2 focus:ring-indigo-500/30 transition-all`,placeholder:"e.g. Sir Daniyal"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:`text-[10px] font-black uppercase tracking-widest ${_.textSecondary} mb-2 block opacity-50`,children:"Username"}),c.jsx("input",{value:ot,onChange:O=>Si(O.target.value),className:`w-full p-4 rounded-xl bg-black/10 border ${_.border} ${_.textPrimary} font-bold outline-none focus:ring-2 focus:ring-indigo-500/30 transition-all`,placeholder:"Login ID"})]}),c.jsxs("div",{children:[c.jsx("label",{className:`text-[10px] font-black uppercase tracking-widest ${_.textSecondary} mb-2 block opacity-50`,children:"Password"}),c.jsx("input",{value:da,onChange:O=>Pn(O.target.value),type:"text",className:`w-full p-4 rounded-xl bg-black/10 border ${_.border} ${_.textPrimary} font-bold outline-none focus:ring-2 focus:ring-indigo-500/30 transition-all`,placeholder:"Pass"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:`text-[10px] font-black uppercase tracking-widest ${_.textSecondary} mb-2 block opacity-50`,children:"Permission Role"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>Ni("teacher"),className:`flex-1 p-4 rounded-xl border font-black transition-all ${fa==="teacher"?"bg-indigo-600 text-white border-indigo-600":`bg-black/10 border-slate-700 ${_.textSecondary}`}`,children:"Teacher"}),c.jsx("button",{onClick:()=>Ni("admin"),className:`flex-1 p-4 rounded-xl border font-black transition-all ${fa==="admin"?"bg-indigo-600 text-white border-indigo-600":`bg-black/10 border-slate-700 ${_.textSecondary}`}`,children:"Admin"})]})]}),c.jsx(Mt,{onClick:w,fullWidth:!0,themeAccent:_.accent,disabled:ao,children:ao?"Creating...":"Create Account"})]})]}),c.jsxs("div",{className:`p-6 md:p-8 rounded-2xl ${_.surface} border ${_.border} shadow-sm flex flex-col`,children:[c.jsx("h3",{className:`text-lg font-bold ${_.textPrimary} mb-6 flex items-center gap-2`,children:"Active Accounts"}),c.jsxs("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2 scrollbar-hide",children:[wl.length===0&&c.jsx("div",{className:"p-3 rounded-lg bg-gray-500/5 border border-dashed border-gray-500/20 text-center",children:c.jsx("p",{className:"text-[10px] font-medium opacity-40 italic uppercase tracking-widest",children:"No users found"})}),wl.map(O=>c.jsxs("div",{className:"p-4 rounded-2xl bg-gray-500/10 border border-gray-500/10 flex items-center justify-between group hover:border-white/10 transition-all",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center font-black text-[10px] ${O.role==="admin"?"bg-indigo-500/20 text-indigo-400":"bg-orange-500/20 text-orange-400"}`,children:O.role[0].toUpperCase()}),c.jsxs("div",{children:[c.jsx("h4",{className:`font-black text-xs md:text-sm ${_.textPrimary}`,children:O.name}),c.jsx("p",{className:"text-[8px] md:text-[9px] font-black opacity-30 uppercase tracking-widest",children:O.id})]})]}),!["admin_ayan","admin_wahab"].includes(O.id)&&c.jsx("button",{onClick:()=>B(O.id),className:"p-2 rounded-lg text-red-500 hover:bg-red-500/10 transition-all",children:c.jsx(Ka,{size:16})})]},O.id))]})]})]})]})})},Bt=()=>{let w=0,B=0,O=0;const $=os.filter(q=>q.classId===nt);return so?c.jsx("div",{className:"flex flex-col h-full px-4 md:px-6 pt-6 md:pt-12 pb-32 animate-pulse w-full",children:c.jsxs("div",{className:"max-w-4xl mx-auto w-full space-y-4",children:[c.jsx("div",{className:"h-10 w-48 bg-gray-500/10 rounded-lg"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx("div",{className:"h-24 bg-gray-500/10 rounded-2xl"}),c.jsx("div",{className:"h-24 bg-gray-500/10 rounded-2xl"})]}),c.jsx("div",{className:"h-64 bg-gray-500/10 rounded-3xl"})]})}):($.forEach(q=>{const W=yn[q.id];W!=null&&W.isPaid?(w+=W.amount,B++):O++}),c.jsx("div",{className:"flex flex-col h-full px-4 md:px-6 pt-6 md:pt-12 pb-32 overflow-y-auto w-full scrollbar-hide",children:c.jsxs("div",{className:"max-w-4xl mx-auto w-full",children:[c.jsxs("div",{className:"mb-8 flex flex-col gap-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:`text-3xl md:text-5xl font-black ${_.textPrimary} tracking-tighter`,children:"Finance Hub"}),c.jsx("p",{className:`text-[10px] md:text-sm font-bold uppercase tracking-widest ${_.textSecondary} opacity-40`,children:"Revenue & Fee Monitoring"})]}),c.jsx("button",{onClick:()=>R("admin-menu"),className:`p-3 rounded-full hover:bg-gray-500/10 ${_.textPrimary}`,children:c.jsx(Jn,{size:24})})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("label",{className:`text-[10px] font-black uppercase tracking-widest ${_.textSecondary} opacity-40 ml-1`,children:"Billing Month"}),c.jsx("input",{type:"month",value:Gn,onChange:q=>no(q.target.value),className:`w-full p-4 rounded-xl ${_.surface} border ${_.border} ${_.textPrimary} font-bold outline-none focus:ring-2 ring-indigo-500/30 transition-all`})]}),c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("label",{className:`text-[10px] font-black uppercase tracking-widest ${_.textSecondary} opacity-40 ml-1`,children:"Target Class"}),c.jsx(Nf,{value:nt,options:Ae,onChange:Vn,theme:_})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[c.jsxs("div",{className:"p-6 rounded-3xl bg-indigo-600 text-white shadow-xl shadow-indigo-500/20 col-span-1 md:col-span-1",children:[c.jsx("p",{className:"text-white/60 text-[10px] font-black uppercase tracking-widest mb-1",children:"Net Revenue"}),c.jsxs("h3",{className:"text-3xl font-black tracking-tight",children:["Rs. ",w.toLocaleString()]})]}),c.jsxs("div",{className:`p-6 rounded-3xl ${_.surface} border ${_.border} flex flex-col justify-between`,children:[c.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-40 mb-1",children:"Paid Accounts"}),c.jsxs("div",{className:"flex items-end justify-between",children:[c.jsx("h3",{className:`text-3xl font-black ${_.textPrimary}`,children:B}),c.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/10 text-emerald-500",children:c.jsx(Ec,{size:18})})]})]}),c.jsxs("div",{className:`p-6 rounded-3xl ${_.surface} border ${_.border} flex flex-col justify-between`,children:[c.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-40 mb-1",children:"Pending Dues"}),c.jsxs("div",{className:"flex items-end justify-between",children:[c.jsx("h3",{className:`text-3xl font-black ${_.textPrimary}`,children:O}),c.jsx("div",{className:"p-2 rounded-lg bg-red-500/10 text-red-500",children:c.jsx(Zf,{size:18})})]})]})]}),c.jsx("div",{className:"space-y-3",children:$.length===0?c.jsx("div",{className:"text-center py-20 opacity-30 italic text-sm",children:"No student records in this segment."}):$.map(q=>{const W=yn[q.id],X=(W==null?void 0:W.isPaid)||!1,ze=q.customFee||Rn[q.classId]||2e3;return c.jsx("div",{className:`p-4 rounded-2xl border transition-all ${X?`${_.surface} ${_.border} opacity-40`:`${_.surface} border-indigo-500/20 shadow-md`}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(Vc,{name:q.name,avatar:q.avatarSeed,size:"sm"}),c.jsxs("div",{children:[c.jsx("h4",{className:`font-black text-sm ${_.textPrimary}`,children:q.name}),c.jsxs("p",{className:`text-[9px] font-bold ${_.textSecondary} opacity-40 uppercase tracking-widest`,children:["ID: ",q.id.slice(-6),"  Rs. ",ze]})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"hidden sm:flex flex-col items-end",children:c.jsx("input",{type:"number",defaultValue:ze,onBlur:Ne=>Al(q.id,Number(Ne.target.value)),className:`w-20 bg-transparent text-right font-black text-xs ${_.textPrimary} border-b border-dashed border-gray-500/30 outline-none focus:border-indigo-500`})}),c.jsx("button",{onClick:()=>Ai(q),className:`px-6 py-2.5 rounded-xl font-black text-[10px] uppercase tracking-widest transition-all ${X?"bg-emerald-500/10 text-emerald-500":"bg-indigo-600 text-white shadow-lg shadow-indigo-500/20"}`,children:X?"PAID":"COLLECT"})]})]})},q.id)})})]})}))},ds=()=>{const{totalPresent:w,totalAbsent:B,totalLeave:O,totalMarks:$,presentPercentage:q,gradientStyle:W}=io;return c.jsx("div",{className:"flex flex-col h-full  px-4 md:px-6 pt-6 md:pt-12 pb-32 overflow-y-auto w-full",children:c.jsxs("div",{className:"max-w-7xl mx-auto w-full",children:[c.jsxs("div",{className:"mb-6 flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h1",{className:`text-2xl md:text-4xl font-black ${_.textPrimary}`,children:"Admin Console"}),c.jsx("p",{className:`text-xs md:text-sm ${_.textSecondary}`,children:"Analytics Hub"})]}),c.jsx("button",{onClick:()=>R("admin-menu"),className:`p-2 rounded-full hover:bg-gray-500/20 ${_.textPrimary}`,children:c.jsx(Jn,{size:24})})]}),c.jsxs("div",{className:`p-5 md:p-8 rounded-2xl md:rounded-2xl ${_.surface} border ${_.border} mb-6 shadow-sm`,children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6 border-b border-gray-500/10 pb-4",children:[" ",c.jsx("div",{className:"p-2 bg-orange-500/10 rounded-xl",children:c.jsx(Hx,{className:"text-orange-500",size:20})})," ",c.jsx("h3",{className:`font-black text-lg md:text-xl ${_.textPrimary}`,children:"Settings"})," "]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 md:gap-6 p-4 rounded-2xl bg-gray-500/10 border border-gray-500/10",children:[c.jsxs("div",{className:`w-24 h-24 rounded-full border-4 border-dashed ${_.border} flex items-center justify-center cursor-pointer hover:bg-white/5 overflow-hidden relative group transition-all`,onClick:()=>{var X;return(X=oa.current)==null?void 0:X.click()},children:[" ",Re?c.jsx("img",{src:Re,className:"w-full h-full object-cover"}):c.jsxs("div",{className:"text-center",children:[c.jsx(T_,{size:24,className:"mx-auto mb-1 opacity-50"}),c.jsx("span",{className:"text-[8px] opacity-50 uppercase tracking-widest font-black",children:"Logo"})]})," "]}),c.jsx("input",{type:"file","min-width":"0",ref:oa,className:"hidden",accept:"image/*",onChange:Ln}),c.jsxs("div",{className:"text-center sm:text-left",children:[" ",c.jsx("h4",{className:`text-base md:text-lg font-black ${_.textPrimary}`,children:"Identity"})," ",c.jsx("p",{className:`text-[10px] ${_.textSecondary} mb-2`,children:"512x512 recommended"})," ",c.jsx("button",{onClick:()=>{var X;return(X=oa.current)==null?void 0:X.click()},className:"px-4 py-2 bg-indigo-500 text-white rounded-xl text-[10px] font-black uppercase transition-all shadow-lg",children:"Change"})," "]})]}),c.jsxs("div",{className:`p-5 md:p-6 rounded-2xl bg-gray-500/10 border ${_.border}`,children:[c.jsx("h4",{className:`text-[10px] font-black ${_.textPrimary} mb-4 uppercase tracking-[0.2em] opacity-40`,children:"Management"}),c.jsxs("div",{className:"flex gap-2 mb-4",children:[c.jsx("input",{type:"text",value:he,onChange:X=>Ke(X.target.value),placeholder:"Add Class...",className:`flex-1 px-4 py-2 rounded-xl bg-white/5 border ${_.border} ${_.textPrimary} text-xs outline-none focus:ring-2 focus:ring-indigo-500/50`}),c.jsx("button",{onClick:Xn,disabled:!he.trim(),className:`px-4 py-2 rounded-xl ${_.accent} text-white font-black text-xs uppercase tracking-widest disabled:opacity-50`,children:"Add"})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:Ae.map(X=>c.jsxs("div",{className:`px-3 py-1 rounded-lg border ${_.border} ${_.surface} flex items-center gap-2`,children:[" ",c.jsx("span",{className:`text-[10px] font-black ${_.textPrimary}`,children:X})," ",c.jsx("button",{onClick:()=>Di(X),className:"text-red-400 hover:text-red-500",children:c.jsx(Jn,{size:10})})," "]},X))})]})]})]}),c.jsxs("div",{className:`p-4 md:p-6 rounded-2xl md:rounded-2xl ${_.surface} border ${_.border} mb-6`,children:[c.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between h4 font-black",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[" ",c.jsx(cf,{className:"text-emerald-500",size:18})," ",c.jsx("h3",{className:`font-black text-sm md:text-base ${_.textPrimary}`,children:"Performance"})," "]}),c.jsx(Nf,{value:Nt,options:Ae,onChange:vi,theme:_,label:"Registry Class"})]}),c.jsxs("div",{className:"flex items-center justify-between bg-gray-500/10 p-2 rounded-xl border border-gray-500/10",children:[c.jsx("button",{onClick:()=>ra(new Date(rn.getFullYear(),rn.getMonth()-1,1)),className:`p-2 rounded-lg hover:bg-gray-500/20 ${_.textPrimary}`,children:c.jsx(js,{size:14})}),c.jsxs("span",{className:`text-[10px] md:text-xs font-black uppercase tracking-widest ${_.textPrimary}`,children:[" ",rn.toLocaleDateString("en-US",{month:"short",year:"numeric"})," "]}),c.jsx("button",{onClick:()=>ra(new Date(rn.getFullYear(),rn.getMonth()+1,1)),disabled:new Date(rn.getFullYear(),rn.getMonth()+1,1)>new Date,className:`p-2 rounded-lg hover:bg-gray-500/20 ${_.textPrimary} disabled:opacity-20`,children:c.jsx(ol,{size:14})})]})]}),c.jsx("div",{className:"flex flex-col lg:flex-row items-center justify-center gap-8 md:gap-12 py-4",children:$===0?c.jsxs("div",{className:"h-40 flex flex-col items-center justify-center opacity-30 text-xs italic",children:[c.jsx(cf,{size:32,className:"mb-2"})," No Data"]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"relative w-48 h-48 md:w-64 md:h-64 rounded-full flex items-center justify-center shadow-sm",style:{background:W},children:c.jsxs("div",{className:`w-36 h-36 md:w-48 md:h-48 rounded-full ${_.surface} flex flex-col items-center justify-center shadow-inner`,children:[c.jsxs("span",{className:`text-4xl md:text-5xl font-black ${_.textPrimary}`,children:[Math.round(q),"%"]}),c.jsx("span",{className:`text-[10px] md:text-xs font-black uppercase opacity-40 ${_.textSecondary}`,children:"Presence"})]})}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-3 w-full max-w-md overflow-x-auto pb-2",children:[{label:"Present",count:w,color:"bg-emerald-500",bg:"bg-emerald-500/5"},{label:"Leave",count:O,color:"bg-orange-500",bg:"bg-orange-500/5"},{label:"Absent",count:B,color:"bg-red-500",bg:"bg-red-500/5"}].map(X=>c.jsxs("div",{className:`flex items-center justify-between p-4 rounded-2xl ${X.bg} border border-gray-500/10 min-w-[200px] hover:scale-[1.02] transition-transform`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-3 h-3 rounded-full ${X.color} shadow-[0_0_10px_rgba(0,0,0,0.2)]`}),c.jsx("span",{className:`text-sm font-black ${_.textPrimary}`,children:X.label})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`text-sm font-black ${_.textSecondary}`,children:X.count}),c.jsx("span",{className:"text-[10px] opacity-30 font-bold",children:"PTS"})]})]},X.label))})]})})]}),c.jsxs("div",{className:`p-5 md:p-8 rounded-2xl md:rounded-2xl ${_.surface} border ${_.border} mb-8`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-4 border-b border-gray-500/10 pb-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[" ",c.jsx(Ql,{className:"text-blue-500",size:18})," ",c.jsx("h3",{className:`font-black text-sm md:text-base ${_.textPrimary}`,children:"Students"})," "]}),c.jsx("button",{onClick:()=>Mn(!0),className:`px-4 py-2 rounded-xl text-[10px] font-black ${_.accent} text-white uppercase tracking-widest shadow-lg active:scale-95 transition-all`,children:"Add New"})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 max-h-80 overflow-y-auto pr-1 scrollbar-hide",children:De.length===0?c.jsx("div",{className:"col-span-full py-10 opacity-30 text-center text-xs italic",children:"No students detected"}):De.map((X,ze)=>c.jsxs("div",{onClick:()=>{Pt(X),Ls("admin-dashboard"),R("student-profile")},className:`flex items-center justify-between p-3 rounded-xl border ${_.border} bg-gray-500/10 hover:bg-white/5 transition-all cursor-pointer`,children:[" ",c.jsxs("div",{className:"flex items-center gap-3",children:[" ",c.jsx("div",{className:"w-6 h-6 rounded-lg bg-white/5 flex items-center justify-center text-[10px] font-black opacity-30",children:ze+1})," ",c.jsx("span",{className:`font-black text-xs md:text-sm ${_.textPrimary} truncate max-w-[120px]`,children:X.name})," "]})," ",c.jsx("button",{onClick:Ne=>Ti(Ne,X.id),className:"p-1.5 text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",children:c.jsx(Ka,{size:14})})," "]},X.id))})]})]})})},ya=()=>{var Ct,Ft;if(!it)return null;const w=it,B=It[w.id]||0,$=new Date().getDate()>10,q=ge.filter(me=>me.classId===w.classId),W=q.filter(me=>me.records&&(me.records[w.id]==="present"||me.records[w.id]===!0)).length,X=q.filter(me=>me.records&&(me.records[w.id]==="absent"||me.records[w.id]===!1)).length,ze=q.filter(me=>me.records&&me.records[w.id]==="leave").length,Ne=W+X+ze,qt=Ne>0?`conic-gradient(#10b981 0% ${W/Ne*100}%, #f97316 ${(W+ze)/Ne*100}% ${(W+ze)/Ne*100}%, #ef4444 ${(W+ze)/Ne*100}% 100%)`:"conic-gradient(#334155 0% 100%)";return c.jsx("div",{className:"flex flex-col h-full  px-4 md:px-6 pt-6 md:pt-12 pb-32 overflow-y-auto w-full",children:c.jsxs("div",{className:"max-w-2xl mx-auto w-full",children:[c.jsx("button",{onClick:()=>R(is),className:`p-2 -ml-2 mb-2 rounded-full hover:bg-gray-500/10 ${_.textPrimary}`,children:c.jsx(js,{size:24})}),c.jsxs("div",{className:`p-6 md:p-10 rounded-md md:rounded-3xl ${_.surface} border ${_.border} shadow-sm mb-6 flex flex-col items-center text-center gap-4`,children:[c.jsxs("div",{className:"relative",children:[" ",c.jsx(Vc,{avatar:w.avatarSeed,name:w.name,size:"xl"})," ",c.jsx("div",{className:"absolute -bottom-1 -right-1 w-10 h-10 rounded-full bg-indigo-500 border-4 border-slate-900 flex items-center justify-center text-white",children:c.jsx(Zl,{size:16})})," "]}),c.jsxs("div",{children:[c.jsx("h2",{className:`text-2xl md:text-3xl font-black ${_.textPrimary} tracking-tight mb-1`,children:w.name}),c.jsxs("p",{className:`${_.textSecondary} font-black uppercase tracking-[0.2em] text-[9px] opacity-40 mb-4`,children:["Class ",w.classId,"  ID: ",w.id.slice(-6).toUpperCase()]}),c.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-gray-500/10 border border-gray-500/10",children:[" ",c.jsx(Lx,{size:12,className:"text-indigo-400"})," ",c.jsx("span",{className:`text-xs font-black ${_.textPrimary}`,children:w.phone||"No Link"})," "]}),c.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-xl ${B>75?"bg-green-500/10 text-green-500":"bg-orange-500/10 text-orange-500"}`,children:[" ",c.jsx(Dg,{size:12})," ",c.jsxs("span",{className:"text-xs font-black",children:[B,"% Presence"]})," "]}),c.jsx("div",{className:`flex items-center gap-2 px-4 py-2 rounded-xl ${(Ct=yn[w.id])!=null&&Ct.isPaid?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":$?"bg-red-500 text-white border-red-600":"bg-slate-500/10 text-slate-400 border-slate-500/20"}`,children:c.jsx("span",{className:"text-xs font-black",children:(Ft=yn[w.id])!=null&&Ft.isPaid?"PAID":$?"DEBT":"UNPAID"})})]})]})]}),c.jsxs("div",{className:`p-6 md:p-10 rounded-md md:rounded-3xl ${_.surface} border ${_.border} shadow-sm mb-6`,children:[c.jsxs("h3",{className:`text-lg font-black ${_.textPrimary} mb-6 flex items-center gap-2`,children:[" ",c.jsx(cf,{className:"text-indigo-400",size:20})," Distribution "]}),c.jsxs("div",{className:"flex flex-col items-center justify-center gap-8",children:[c.jsxs("div",{className:"relative w-44 h-44 rounded-full flex items-center justify-center shadow-sm",style:{background:qt},children:[" ",c.jsxs("div",{className:`w-32 h-32 rounded-full ${_.surface} flex flex-col items-center justify-center shadow-inner`,children:[" ",c.jsxs("span",{className:`text-3xl font-black ${_.textPrimary}`,children:[B,"%"]})," ",c.jsx("span",{className:`text-[8px] font-black uppercase opacity-40 ${_.textSecondary}`,children:"Activity"})," "]})," "]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 w-full",children:[" ",[{label:"Present",count:W,color:"bg-emerald-500"},{label:"Leave",count:ze,color:"bg-orange-500"},{label:"Absent",count:X,color:"bg-red-500"}].map(me=>c.jsxs("div",{className:"flex flex-col items-center p-3 rounded-2xl bg-gray-500/10 border border-gray-500/10",children:[" ",c.jsx("span",{className:"text-[10px] font-black uppercase opacity-40 mb-1",children:me.label})," ",c.jsx("span",{className:`text-lg font-black ${_.textPrimary}`,children:me.count})," "]},me.label))," "]})]})]}),c.jsxs("div",{className:`p-6 md:p-10 rounded-md md:rounded-3xl ${_.surface} border ${_.border} shadow-sm mb-6`,children:[c.jsxs("h3",{className:`text-lg font-black ${_.textPrimary} mb-6 flex items-center gap-2`,children:[c.jsx(uf,{className:"text-yellow-400",size:20})," Achievements & Badges"]}),c.jsx("div",{className:"flex flex-wrap gap-3 mb-8",children:w.badges&&w.badges.length>0?w.badges.map(me=>{const bn=xi.find(ba=>ba.id===me);return bn?c.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-white text-[10px] font-black uppercase tracking-widest shadow-md relative pr-8",style:{backgroundColor:bn.color},children:[c.jsx("span",{children:bn.name}),c.jsx("button",{onClick:()=>$s(w.id,me),className:"absolute right-1 top-1/2 -translate-y-1/2 bg-black/20 hover:bg-black/40 rounded-full p-1 transition-colors",title:"Remove Badge",children:c.jsx(Jn,{size:10,strokeWidth:3})})]},me):null}):c.jsx("p",{className:`text-xs ${_.textSecondary} opacity-60 italic`,children:"No badges awarded yet."})}),c.jsxs("div",{className:"border-t border-gray-500/10 pt-6",children:[c.jsx("p",{className:`text-[10px] font-black uppercase tracking-widest ${_.textSecondary} mb-4 opacity-50`,children:"Award New Badge"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:xi.map(me=>{var ba;const bn=(ba=w.badges)==null?void 0:ba.includes(me.id);return c.jsx("button",{disabled:bn,onClick:()=>Sl(w.id,me.id),className:`p-3 rounded-2xl border transition-all flex flex-col items-center gap-2 min-w-[100px] ${bn?"opacity-30 grayscale cursor-not-allowed":"hover:scale-105 active:scale-95"}`,style:{borderColor:me.color+"40",backgroundColor:me.color+"10"},children:c.jsx("span",{className:"text-sm",style:{color:me.color},children:me.name})},me.id)})})]})]}),c.jsxs("button",{onClick:()=>ga(w),className:`w-full p-4 rounded-lg ${_.surface} border ${_.border} flex items-center justify-center gap-3 hover:bg-white/5 transition-all shadow-lg active:scale-95`,children:[" ",c.jsx(Ag,{size:18,className:"text-indigo-500"})," ",c.jsx("span",{className:`text-xs font-black uppercase tracking-widest ${_.textPrimary}`,children:"Update Archive"})," "]})]})})},Dl=()=>{const w=lu<768,B=[{gradient:"from-violet-500 to-purple-600",shadow:"shadow-violet-500/25",iconBg:"bg-white/20"},{gradient:"from-blue-500 to-cyan-500",shadow:"shadow-blue-500/25",iconBg:"bg-white/20"},{gradient:"from-emerald-500 to-teal-500",shadow:"shadow-emerald-500/25",iconBg:"bg-white/20"},{gradient:"from-orange-500 to-amber-500",shadow:"shadow-orange-500/25",iconBg:"bg-white/20"},{gradient:"from-rose-500 to-pink-500",shadow:"shadow-rose-500/25",iconBg:"bg-white/20"},{gradient:"from-indigo-500 to-blue-600",shadow:"shadow-indigo-500/25",iconBg:"bg-white/20"}];return w?c.jsx("div",{className:"flex flex-col min-h-full bg-transparent overflow-y-auto scrollbar-hide pb-40 w-full",children:c.jsxs("div",{className:"px-4 py-8 w-full",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:`text-3xl font-bold ${_.textPrimary}`,children:"My Classes"}),c.jsx("p",{className:`text-xs ${_.textSecondary} mt-1`,children:"Select a class to continue"})]}),c.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white shadow-lg shadow-indigo-500/30 overflow-hidden",children:Re?c.jsx("img",{src:Re,className:"w-full h-full object-cover"}):c.jsx(Zl,{size:24})})]}),c.jsx("div",{className:"grid grid-cols-2 gap-4",children:Ae.length===0?[1,2,3,4].map(O=>c.jsx("div",{className:`aspect-[4/5] rounded-3xl ${_.surface} border ${_.border} animate-pulse`},O)):Ae.map((O,$)=>{const q=[wg,Zl,Ql,Nc,uf,wf],W=q[$%q.length],X=B[$%B.length];return c.jsxs("button",{onClick:()=>cn(O),className:`group relative flex flex-col items-start p-5 rounded-3xl bg-gradient-to-br ${X.gradient} text-white shadow-xl ${X.shadow} hover:scale-[1.03] hover:shadow-2xl active:scale-[0.98] transition-all duration-300 text-left aspect-[4/5] overflow-hidden`,children:[c.jsx("div",{className:"absolute -top-8 -right-8 w-24 h-24 rounded-full bg-white/10"}),c.jsx("div",{className:"absolute -bottom-6 -left-6 w-20 h-20 rounded-full bg-white/5"}),c.jsx("div",{className:`relative z-10 p-4 rounded-2xl ${X.iconBg} backdrop-blur-sm mb-auto rotate-[-8deg] group-hover:rotate-[-15deg] group-hover:scale-110 transition-all duration-300 shadow-lg`,children:c.jsx(W,{size:28,strokeWidth:2})}),c.jsxs("div",{className:"relative z-10 mt-auto",children:[c.jsx("p",{className:"text-xs font-medium text-white/60 mb-1",children:"Grade"}),c.jsxs("h3",{className:"text-2xl font-bold leading-tight tracking-tight",children:["Class ",O]})]}),c.jsx("div",{className:"absolute bottom-4 right-4 opacity-0 group-hover:opacity-100 translate-x-2 group-hover:translate-x-0 transition-all duration-300",children:c.jsx(C1,{size:20})})]},O)})})]})}):c.jsx("div",{className:"flex flex-col h-full pt-10 px-8 md:px-12 pb-32 overflow-y-auto w-full scrollbar-hide",children:c.jsxs("div",{className:"max-w-7xl mx-auto w-full",children:[c.jsxs("div",{className:"mb-10 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:`text-4xl md:text-5xl font-bold ${_.textPrimary} mb-2`,children:"Welcome Back"}),c.jsxs("p",{className:`${_.textSecondary} text-base`,children:["IJ Education System  ",N==null?void 0:N.name]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{onClick:()=>xn(!Fe),className:`flex items-center gap-2 text-sm px-4 py-2 rounded-full border cursor-pointer transition-all hover:scale-105 ${Fe?"text-emerald-600 border-emerald-300 bg-emerald-50 dark:bg-emerald-500/10":"text-orange-600 border-orange-300 bg-orange-50 dark:bg-orange-500/10"}`,children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${Fe?"bg-emerald-500 animate-pulse":"bg-orange-500"}`}),Fe?"Online":"Offline"]}),c.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white shadow-xl shadow-indigo-500/30 overflow-hidden",children:Re?c.jsx("img",{src:Re,className:"w-full h-full object-cover"}):c.jsx(Zl,{size:28})})]})]}),c.jsxs("h2",{className:`text-lg font-semibold ${_.textSecondary} mb-6 flex items-center gap-2`,children:[c.jsx(n_,{size:18,className:"text-indigo-500"})," Select a Class"]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:Ae.length===0?[1,2,3].map(O=>c.jsx("div",{className:`h-48 rounded-3xl ${_.surface} border ${_.border} animate-pulse`},O)):Ae.map((O,$)=>{const q=[wg,Zl,Ql,Nc,uf,wf],W=q[$%q.length],X=B[$%B.length];return c.jsxs("button",{onClick:()=>cn(O),className:`group relative flex flex-col p-8 rounded-3xl bg-gradient-to-br ${X.gradient} text-white shadow-xl ${X.shadow} hover:scale-[1.04] hover:shadow-2xl active:scale-[0.98] transition-all duration-300 text-left h-52 overflow-hidden`,children:[c.jsx("div",{className:"absolute -top-12 -right-12 w-40 h-40 rounded-full bg-white/10 group-hover:scale-110 transition-transform duration-500"}),c.jsx("div",{className:"absolute -bottom-8 -left-8 w-32 h-32 rounded-full bg-white/5 group-hover:scale-110 transition-transform duration-500"}),c.jsx("div",{className:"absolute top-1/2 right-8 w-16 h-16 rounded-full bg-white/5 group-hover:translate-x-2 transition-transform duration-500"}),c.jsxs("div",{className:"relative z-10 flex items-start justify-between w-full",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-white/70 mb-1 uppercase tracking-wider",children:"Grade Level"}),c.jsxs("h2",{className:"text-4xl font-bold tracking-tight",children:["Class ",O]})]}),c.jsx("div",{className:`p-5 rounded-2xl ${X.iconBg} backdrop-blur-sm rotate-[-12deg] group-hover:rotate-[-20deg] group-hover:scale-115 transition-all duration-300 shadow-xl`,children:c.jsx(W,{size:32,strokeWidth:1.5})})]}),c.jsxs("div",{className:"relative z-10 flex items-center justify-between mt-auto",children:[c.jsx("span",{className:"text-sm font-medium text-white/70",children:"View Dashboard"}),c.jsxs("div",{className:"flex items-center gap-2 opacity-70 group-hover:opacity-100 translate-x-0 group-hover:translate-x-1 transition-all duration-300",children:[c.jsx("span",{className:"text-sm font-semibold",children:"Enter"}),c.jsx(ol,{size:18})]})]})]},O)})})]})})},ru=()=>{const w=C&&G?{total:G.length,present:G.filter($=>C[$.id]==="present"||C[$.id]===!0).length}:{total:0,present:0},B=w.total>0?w.present/w.total*100:0,O=w.total-w.present;return c.jsxs("div",{className:"flex flex-col h-full relative w-full",children:[c.jsxs("div",{className:`px-4 md:px-6 pt-6 pb-4 flex items-center justify-between border-b ${_.border}`,children:[c.jsx("button",{onClick:()=>R("home"),className:`p-2.5 -ml-2 rounded-xl hover:bg-gray-500/10 transition-all active:scale-95 ${_.textPrimary}`,children:c.jsx(js,{size:22})}),c.jsx("div",{className:"flex flex-col items-center",children:c.jsx(Nf,{value:de||"",options:Ae,onChange:cn,theme:_,label:"Current Workspace"})}),c.jsxs("div",{className:"w-10 flex justify-end",children:[" ",!Fe&&c.jsx(kg,{size:18,className:"text-orange-500"})," "]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto pb-32 px-4 md:px-6 scrollbar-hide w-full",children:c.jsxs("div",{className:"max-w-7xl mx-auto w-full py-6",children:[c.jsxs("div",{className:"mb-8 text-center",children:[c.jsx("h3",{className:`text-4xl md:text-5xl font-bold ${_.textPrimary} mb-2 tracking-tight`,children:ne.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),c.jsx("p",{className:`text-sm ${_.textSecondary}`,children:new Date().toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[c.jsxs("button",{onClick:()=>R("todo"),className:"group relative overflow-hidden flex flex-col items-center justify-center gap-3 p-6 rounded-3xl bg-gradient-to-br from-indigo-500 to-purple-600 text-white shadow-xl shadow-indigo-500/25 hover:scale-[1.02] hover:shadow-2xl active:scale-[0.98] transition-all duration-300",children:[c.jsx("div",{className:"absolute -top-6 -right-6 w-20 h-20 rounded-full bg-white/10 group-hover:scale-125 transition-transform duration-500"}),c.jsx("div",{className:"p-3 rounded-2xl bg-white/20 group-hover:rotate-[-8deg] group-hover:scale-110 transition-all duration-300",children:c.jsx(Ff,{size:28})}),c.jsx("span",{className:"text-sm font-bold tracking-wide",children:"Tasks"})]}),c.jsxs("button",{onClick:()=>R("attendance"),className:"group relative overflow-hidden flex flex-col items-center justify-center gap-3 p-6 rounded-3xl bg-gradient-to-br from-emerald-500 to-teal-500 text-white shadow-xl shadow-emerald-500/25 hover:scale-[1.02] hover:shadow-2xl active:scale-[0.98] transition-all duration-300",children:[c.jsx("div",{className:"absolute -top-6 -right-6 w-20 h-20 rounded-full bg-white/10 group-hover:scale-125 transition-transform duration-500"}),c.jsx("div",{className:"p-3 rounded-2xl bg-white/20 group-hover:rotate-[-8deg] group-hover:scale-110 transition-all duration-300",children:c.jsx(Ql,{size:28})}),c.jsx("span",{className:"text-sm font-bold tracking-wide",children:"Attendance"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 mb-6",children:[c.jsxs("div",{className:`md:col-span-5 flex flex-col items-center justify-center p-8 rounded-3xl ${_.surface} border ${_.border} hover:shadow-lg transition-shadow`,children:[c.jsx(mE,{percentage:B,size:window.innerWidth<768?150:190,colorStart:"#10b981",colorEnd:"#14b8a6"}),c.jsx("p",{className:`mt-4 text-sm font-medium ${_.textSecondary}`,children:"Today's Attendance"})]}),c.jsxs("div",{className:"md:col-span-7 flex flex-col gap-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"group p-5 rounded-2xl bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-500/10 dark:to-emerald-500/5 border border-emerald-200/50 dark:border-emerald-500/20 text-center hover:scale-[1.02] transition-all cursor-default",children:[c.jsx("span",{className:"block text-4xl font-bold text-emerald-600 dark:text-emerald-400 mb-1 group-hover:scale-110 transition-transform",children:w.present}),c.jsx("span",{className:"text-xs font-medium text-emerald-600/70 dark:text-emerald-400/70 uppercase tracking-wider",children:"Present"})]}),c.jsxs("div",{className:"group p-5 rounded-2xl bg-gradient-to-br from-red-50 to-red-100 dark:from-red-500/10 dark:to-red-500/5 border border-red-200/50 dark:border-red-500/20 text-center hover:scale-[1.02] transition-all cursor-default",children:[c.jsx("span",{className:"block text-4xl font-bold text-red-600 dark:text-red-400 mb-1 group-hover:scale-110 transition-transform",children:O}),c.jsx("span",{className:"text-xs font-medium text-red-600/70 dark:text-red-400/70 uppercase tracking-wider",children:"Absent"})]})]}),c.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{id:"timetable",icon:Cg,label:"Timeline",gradient:"from-blue-500 to-cyan-500",shadow:"shadow-blue-500/20"},{id:"calculator",icon:T1,label:"Calculator",gradient:"from-orange-500 to-amber-500",shadow:"shadow-orange-500/20"}].map($=>c.jsxs("button",{onClick:()=>R($.id),className:`group relative overflow-hidden p-5 rounded-2xl bg-gradient-to-br ${$.gradient} text-white shadow-lg ${$.shadow} flex items-center gap-4 hover:scale-[1.02] hover:shadow-xl active:scale-[0.98] transition-all duration-300`,children:[c.jsx("div",{className:"absolute -top-4 -right-4 w-12 h-12 rounded-full bg-white/10 group-hover:scale-150 transition-transform duration-500"}),c.jsx("div",{className:"p-2.5 rounded-xl bg-white/20 group-hover:rotate-[-6deg] transition-transform duration-300",children:c.jsx($.icon,{size:22})}),c.jsx("span",{className:"text-sm font-bold",children:$.label})]},$.id))})]})]})]})})]})},ki=()=>{const B=new Date().getDate()>10;return c.jsxs("div",{className:"flex flex-col h-full bg-opacity-50 w-full",children:[c.jsxs("div",{className:`px-4 md:px-6 pt-4 pb-3 flex items-center justify-between z-20 ${_.surface} border-b ${_.border} sticky top-0`,children:[c.jsx("button",{onClick:()=>R("dashboard"),className:`p-2 -ml-2 rounded-md hover:bg-gray-500/10 transition-colors ${_.textPrimary}`,children:c.jsx(js,{size:20})}),c.jsx("div",{className:"flex flex-col items-center",children:c.jsxs("div",{className:"flex items-center gap-2",children:[!Fe&&c.jsx(kg,{size:14,className:"text-orange-500"}),c.jsx("h2",{className:`text-base md:text-lg font-semibold ${_.textPrimary}`,children:"Attendance Registry"})]})}),c.jsx("button",{onClick:Hs,className:`px-4 py-2 rounded-md ${_.accent} text-white text-sm font-medium transition-colors`,children:Fe?"Sync":"Save"})]}),c.jsx("div",{className:`px-4 py-3 ${_.bg}`,children:c.jsxs("div",{className:"relative",children:[c.jsx(Ux,{className:`absolute left-3 top-1/2 -translate-y-1/2 ${_.textSecondary} opacity-50`,size:16}),c.jsx("input",{value:Ge,onChange:O=>Jt(O.target.value),placeholder:"Search student by name or ID...",className:`w-full p-3 pl-10 rounded-2xl ${_.surface} border ${_.border} ${_.textPrimary} text-sm outline-none focus:ring-2 focus:ring-[#2563eb] focus:border-transparent transition-all placeholder:opacity-40`})]})}),c.jsxs("div",{className:`px-4 py-2 flex gap-3 ${_.bg}`,children:[c.jsxs("button",{onClick:()=>us(!0),className:"flex-1 py-3 rounded-xl bg-green-500/10 text-green-600 dark:text-green-400 text-xs font-bold flex items-center justify-center gap-2 border border-green-500/20 hover:bg-green-500/20 transition-all active:scale-95",children:[c.jsx(Ec,{size:16})," Mark All Present"]}),c.jsxs("button",{onClick:()=>us(!1),className:"flex-1 py-3 rounded-xl bg-red-500/10 text-red-600 dark:text-red-400 text-xs font-bold flex items-center justify-center gap-2 border border-red-500/20 hover:bg-red-500/20 transition-all active:scale-95",children:[c.jsx(I1,{size:16})," Mark All Absent"]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto px-4 pb-32 pt-3 scrollbar-hide",children:c.jsx("div",{className:"max-w-7xl mx-auto w-full",children:a?G.length===0?c.jsxs("div",{className:"text-center py-20 opacity-50 flex flex-col items-center",children:[c.jsx(Ql,{size:40,className:"mb-4"}),c.jsx("p",{className:`text-sm ${_.textSecondary}`,children:"No students found"})]}):c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:G.filter(O=>Ge===""||O.name.toLowerCase().includes(Ge.toLowerCase())||O.id.toLowerCase().includes(Ge.toLowerCase())).map((O,$)=>{var Ne,qt,Ct;const q=C[O.id],W=q==="present"||q===!0,X=q==="leave",ze=It[O.id]||0;return B&&((Ne=yn[O.id])!=null&&Ne.isPaid),c.jsxs("div",{className:`flex flex-col p-5 rounded-2xl border transition-all hover:shadow-lg hover:scale-[1.02] ${W?`${_.surface} border-green-500/30`:X?"bg-orange-500/5 border-orange-500/20":"bg-red-500/5 border-red-500/20"}`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center gap-3 cursor-pointer flex-1",onClick:()=>{Pt(O),Ls("attendance"),R("student-profile")},children:[c.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center border-2 font-black text-xs ${W?"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/20":X?"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-500/20":"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20"}`,children:$+1}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:`font-semibold text-sm ${_.textPrimary} truncate`,children:O.name}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:[c.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-0.5 rounded-full border ${ze>75?"bg-green-500/10 text-green-600 border-green-500/20":"bg-orange-500/10 text-orange-600 border-orange-500/20"}`,children:[c.jsx(Dg,{size:10}),c.jsxs("span",{className:"text-[10px] font-bold",children:[ze,"%"]})]}),c.jsx("span",{className:`text-[10px] font-black uppercase tracking-wider px-2 py-0.5 rounded-full border ${(qt=yn[O.id])!=null&&qt.isPaid?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":B?"bg-red-500 text-white border-red-600 animate-pulse":"bg-slate-500/10 text-slate-400 border-slate-500/20"}`,children:(Ct=yn[O.id])!=null&&Ct.isPaid?"Paid":B?"Debt":"Unpaid"})]})]})]}),c.jsx("button",{onClick:()=>ji(O.id),className:`w-9 h-9 rounded-md flex items-center justify-center transition-colors ${W?"bg-green-500 text-white hover:bg-green-600":X?"bg-orange-500 text-white hover:bg-orange-600":"bg-red-500 text-white hover:bg-red-600"}`,children:W?c.jsx(Rx,{size:16,strokeWidth:3}):X?c.jsx(D_,{size:16,strokeWidth:2.5}):c.jsx(Jn,{size:16,strokeWidth:3})})]}),c.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-current/10",children:[c.jsxs("span",{className:`text-xs ${_.textSecondary}`,children:["ID: ",O.id.slice(-6).toUpperCase()]}),c.jsx("span",{className:`text-xs font-medium ${W?"text-green-600":X?"text-orange-600":"text-red-600"}`,children:W?"Present":X?"Leave":"Absent"})]})]},O.id)})}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[1,2,3].map(O=>c.jsx("div",{className:`h-24 rounded-2xl ${_.surface} border ${_.border} animate-pulse`},O))})})})]})},Mi=()=>ge?c.jsx("div",{className:"flex flex-col h-full  px-6 pt-12 pb-32 w-full",children:c.jsxs("div",{className:"max-w-7xl mx-auto w-full",children:[c.jsx("h2",{className:`text-3xl font-bold ${_.textPrimary} mb-6`,children:"Attendance History"}),c.jsx("div",{className:"pb-20",children:ge.length===0?c.jsxs("div",{className:`text-center py-20 opacity-50 ${_.textSecondary}`,children:[c.jsx(Xf,{size:64,className:"mx-auto mb-4 opacity-20"}),c.jsx("p",{className:"text-xl font-medium",children:"No records found yet"}),c.jsx("p",{className:"text-sm mt-1",children:"Attendance data will appear here once saved."})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ge.map(w=>{if(!w||!w.date)return null;const B=new Date(w.date),O=w.records||{},$=Object.values(O).filter(q=>q===!0||q==="present").length;return Object.keys(O).length,c.jsxs("div",{onClick:()=>Tl(w),className:`p-6 rounded-3xl ${_.surface} border ${_.border} flex justify-between items-center cursor-pointer hover:border-indigo-500/50 shadow-sm transition-all group`,children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 rounded-2xl bg-gray-500/10 group-hover:bg-indigo-500/10 transition-colors",children:c.jsx(Qf,{size:20,className:_.textPrimary})}),c.jsxs("div",{children:[c.jsx("h3",{className:`font-black text-sm ${_.textPrimary}`,children:B.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})}),c.jsxs("p",{className:`text-[10px] font-bold uppercase tracking-widest opacity-30 ${_.textSecondary}`,children:["Class ",w.classId]})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:`text-lg font-black ${_.textPrimary}`,children:$}),c.jsx("p",{className:"text-[8px] opacity-30 uppercase font-black tracking-widest",children:"Present"})]}),(N==null?void 0:N.role)==="admin"&&c.jsx("button",{onClick:q=>fo(q,w),className:"p-2 rounded-xl bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white transition-all shadow-sm",children:c.jsx(Ka,{size:16})})]})]},w.id||`${w.date}_${w.classId}`)})})})]})}):null,kl=()=>V?c.jsxs("div",{className:"flex flex-col h-full bg-opacity-50",children:[c.jsxs("div",{className:`px-4 md:px-6 pt-12 pb-4 flex items-center justify-between z-20 ${_.surface} border-b ${_.border}`,children:[c.jsx("button",{onClick:()=>R(tt),className:`p-2 -ml-2 rounded-full hover:bg-gray-500/10 ${_.textPrimary}`,children:c.jsx(js,{})}),c.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.jsx("h2",{className:`text-lg font-bold ${_.textPrimary}`,children:new Date(V.date).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})}),c.jsxs("p",{className:`text-[10px] font-black uppercase tracking-widest ${_.textSecondary}`,children:["Class ",V.classId]})]}),c.jsx("div",{className:"w-10"})]}),c.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 py-4 pb-32",children:c.jsx("div",{className:"max-w-3xl mx-auto space-y-4",children:ue.map((w,B)=>{const O=V.records?V.records[w.id]:!1,$=O==="present"||O===!0,q=O==="leave";return c.jsx("div",{className:`flex flex-col p-4 md:p-5 rounded-3xl border ${_.surface} ${_.border} hover:shadow-lg transition-all gap-3 relative w-full overflow-hidden`,children:c.jsxs("div",{className:"flex items-center justify-between w-full overflow-x-auto scrollbar-hide",children:[c.jsxs("div",{className:"flex items-center gap-4 min-w-[150px]",children:[c.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border ${_.border} text-[10px] font-bold opacity-30 flex-shrink-0`,children:B+1}),c.jsx("span",{className:`font-bold ${_.textPrimary} text-sm md:text-md truncate`,children:w.name})]}),c.jsx("div",{className:"flex items-center gap-1.5 md:gap-2",children:c.jsx("span",{className:`px-3 md:px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest ${$?"bg-emerald-500/10 text-emerald-500":q?"bg-orange-500/10 text-orange-500":"bg-red-500/10 text-red-500"}`,children:$?"Present":q?"Leave":"Absent"})})]})},w.id)})})})]}):null,va=()=>{const w=()=>{const $=Math.max(0,...P.map(q=>q.id))+1;Z([...P,{id:$,name:"New Period",start:"00:00",end:"00:00"}])},B=$=>{Z(P.filter(q=>q.id!==$))},O=($,q,W)=>{Z(P.map(X=>X.id===$?{...X,[q]:W}:X))};return c.jsx("div",{className:`flex flex-col h-full ${_.bg} overflow-hidden px-4 md:px-10 pt-12 pb-32`,children:c.jsxs("div",{className:"max-w-4xl mx-auto w-full",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:`text-4xl font-black ${_.textPrimary}`,children:"Timeline"}),c.jsx("p",{className:`text-sm ${_.textSecondary} mt-2 opacity-50`,children:"Schedule & Daily Roadmap"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>fe(!le),className:`p-4 rounded-2xl ${le?_.accent:"bg-gray-500/10"} ${le?"text-white":_.textPrimary} transition-all active:scale-95`,children:c.jsx(Ag,{size:20})}),c.jsx("button",{onClick:()=>R("dashboard"),className:`p-4 rounded-2xl bg-gray-500/10 ${_.textPrimary} transition-all`,children:c.jsx(Jn,{size:20})})]})]}),c.jsxs("div",{className:"space-y-4",children:[P.map($=>{const q=ne.getHours()*60+ne.getMinutes(),[W,X]=$.start.split(":").map(Number),[ze,Ne]=$.end.split(":").map(Number),qt=W*60+X,Ct=ze*60+Ne,Ft=q>=qt&&q<Ct;return c.jsxs("div",{className:`group relative p-5 md:p-6 rounded-md border transition-all duration-300 ${Ft?`${_.accent} text-white shadow-sm scale-[1.02] border-transparent`:`${_.surface} ${_.border} hover:border-white/20 shadow-sm`}`,children:[le&&c.jsx("button",{onClick:()=>B($.id),className:"absolute -right-2 -top-2 w-8 h-8 rounded-full bg-red-500 text-white flex items-center justify-center shadow-lg hover:scale-110 active:scale-95 transition-all z-10",children:c.jsx(Ka,{size:14})}),c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex-1",children:[le?c.jsx("input",{value:$.name,onChange:me=>O($.id,"name",me.target.value),className:`w-full bg-gray-500/10 border ${_.border} rounded-xl px-3 py-2 text-sm font-black ${_.textPrimary} outline-none focus:ring-2 ring-indigo-500/50 mb-2`}):c.jsx("h3",{className:"font-black text-lg tracking-tight",children:$.name}),c.jsxs("div",{className:"flex items-center gap-3 opacity-60",children:[c.jsx(Cg,{size:12}),c.jsx("div",{className:"flex items-center gap-2",children:le?c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"time",value:$.start,onChange:me=>O($.id,"start",me.target.value),className:"bg-transparent border-none p-0 text-[10px] font-bold uppercase tracking-widest outline-none"}),c.jsx("span",{children:"-"}),c.jsx("input",{type:"time",value:$.end,onChange:me=>O($.id,"end",me.target.value),className:"bg-transparent border-none p-0 text-[10px] font-bold uppercase tracking-widest outline-none"})]}):c.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest",children:[$.start," - ",$.end]})})]})]}),le&&c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-[9px] font-black uppercase opacity-60",children:"Is Break?"}),c.jsx("input",{type:"checkbox",checked:!!$.isBreak,onChange:me=>O($.id,"isBreak",me.target.checked),className:"w-5 h-5 accent-orange-500"})]})]})]},$.id)}),le&&c.jsxs("button",{onClick:w,className:`w-full p-6 dashed-border rounded-md border-2 border-dashed ${_.border} flex items-center justify-center gap-3 hover:bg-white/5 transition-all text-xs font-black uppercase tracking-widest opacity-60 hover:opacity-100 ${_.textPrimary}`,children:[c.jsx(Sc,{size:20})," Add Time Slot"]})]})]})})},po=()=>c.jsx("div",{className:"flex flex-col h-full  px-6 pt-12 pb-32 w-full items-center justify-center relative",children:c.jsxs("div",{className:"max-w-md w-full",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[c.jsx("button",{onClick:()=>R("dashboard"),className:`p-3 rounded-2xl hover:bg-gray-500/10 ${_.textPrimary} transition-all`,children:c.jsx(js,{size:24})}),c.jsx("h2",{className:`text-4xl font-black ${_.textPrimary}`,children:"Calculator"})]}),c.jsxs("div",{className:`w-full p-8 rounded-3xl ${_.surface} border ${_.border} shadow-sm`,children:[c.jsxs("div",{className:`mb-8 p-10 rounded-md bg-black/10 border ${_.border} text-right overflow-hidden shadow-inner`,children:[c.jsx("div",{className:`text-xs ${_.textSecondary} font-mono mb-2 h-4 opacity-50`,children:ha}),c.jsx("div",{className:`text-5xl font-mono font-bold ${_.textPrimary} tracking-tighter truncate`,children:ro})]}),c.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[c.jsx("button",{onClick:()=>{on("0"),vn("")},className:"p-6 rounded-2xl bg-red-500/10 text-red-500 font-black text-xl hover:bg-red-500 hover:text-white transition-all",children:"AC"}),c.jsx("button",{onClick:()=>{on(w=>w.length>1?w.slice(0,-1):"0"),vn(w=>w.length>1?w.slice(0,-1):"")},className:`p-6 rounded-2xl ${_.bg} ${_.textPrimary} font-black text-xl hover:bg-gray-500/20 transition-all`,children:c.jsx(js,{size:24,className:"mx-auto"})}),c.jsx("button",{onClick:()=>Xt("/"),className:"p-6 rounded-2xl bg-indigo-500/10 text-indigo-500 font-black text-xl hover:bg-indigo-500 hover:text-white transition-all",children:""}),c.jsx("button",{onClick:()=>Xt("*"),className:"p-6 rounded-2xl bg-indigo-500/10 text-indigo-500 font-black text-xl hover:bg-indigo-500 hover:text-white transition-all",children:""}),[7,8,9].map(w=>c.jsx("button",{onClick:()=>Xt(String(w)),className:`p-6 rounded-2xl ${_.bg} ${_.textPrimary} font-black text-2xl hover:bg-gray-500/20 transition-all`,children:w},w)),c.jsx("button",{onClick:()=>Xt("-"),className:"p-6 rounded-2xl bg-indigo-500/10 text-indigo-500 font-black text-xl hover:bg-indigo-500 hover:text-white transition-all",children:""}),[4,5,6].map(w=>c.jsx("button",{onClick:()=>Xt(String(w)),className:`p-6 rounded-2xl ${_.bg} ${_.textPrimary} font-black text-2xl hover:bg-gray-500/20 transition-all`,children:w},w)),c.jsx("button",{onClick:()=>Xt("+"),className:"p-6 rounded-2xl bg-indigo-500/10 text-indigo-500 font-black text-xl hover:bg-indigo-500 hover:text-white transition-all",children:"+"}),[1,2,3].map(w=>c.jsx("button",{onClick:()=>Xt(String(w)),className:`p-6 rounded-2xl ${_.bg} ${_.textPrimary} font-black text-2xl hover:bg-gray-500/20 transition-all`,children:w},w)),c.jsx("button",{onClick:()=>Xt("="),className:`p-6 rounded-2xl ${_.accent} text-white font-black text-2xl shadow-sm shadow-indigo-500/20 active:scale-90 transition-all`,children:"="}),c.jsx("button",{onClick:()=>Xt("0"),className:`col-span-2 p-6 rounded-2xl ${_.bg} ${_.textPrimary} font-black text-2xl hover:bg-gray-500/20 transition-all`,children:"0"}),c.jsx("button",{onClick:()=>Xt("."),className:`p-6 rounded-2xl ${_.bg} ${_.textPrimary} font-black text-2xl hover:bg-gray-500/20 transition-all`,children:"."})]})]})]})});return v==="login"?c.jsxs("div",{className:`h-screen w-screen overflow-hidden ${_.bg}`,children:[Os&&c.jsx(Dx,{message:Os.message,type:Os.type,onClose:()=>as(null)}),c.jsx(gE,{theme:_,onLogin:iu,onToast:Oe,logo:Re})]}):c.jsxs("div",{className:`h-screen w-screen overflow-hidden ${_.bg} ${_.textPrimary} flex flex-col md:flex-row relative transition-colors duration-300`,children:[sa&&c.jsxs("div",{className:"fixed inset-0 z-[300] bg-black/60  flex items-center justify-center flex-col text-white",children:[c.jsx("div",{className:"w-12 h-12 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin mb-4"}),c.jsx("p",{className:"font-bold tracking-wider animate-pulse",children:"Loading Class Data..."})]}),kn&&c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 p-6",children:c.jsxs("div",{className:`${_.surface} border ${_.border} w-full max-w-md p-6 rounded-md shadow-sm flex flex-col`,children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:`text-xl font-bold ${_.textPrimary}`,children:"Add Students"}),c.jsx("button",{onClick:()=>Mn(!1),className:`p-2 rounded-full hover:bg-white/5 ${_.textPrimary}`,children:c.jsx(Jn,{size:20})})]}),c.jsxs("p",{className:`text-xs ${_.textSecondary} mb-4`,children:["Enter names (one per line) for ",c.jsxs("strong",{children:["Class ",v==="admin-dashboard"?Nt:de]}),"."]}),c.jsx("textarea",{value:Y,onChange:w=>Be(w.target.value),className:`w-full h-32 p-4 rounded-xl bg-gray-500/10 border ${_.border} ${_.textPrimary} outline-none focus:ring-2 focus:ring-indigo-500/50 resize-none mb-4`,placeholder:`Ali, +92 335 1234567
Ahmed, 0300 1234567
Sara...`}),c.jsxs("div",{className:"flex gap-3 mt-auto",children:[c.jsx(Mt,{variant:"secondary",onClick:()=>Mn(!1),fullWidth:!0,className:_.textPrimary,children:"Cancel"}),c.jsx(Mt,{onClick:uo,fullWidth:!0,themeAccent:_.accent,children:"Add Students"})]})]})}),ma&&c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 p-6",children:c.jsxs("div",{className:`${_.surface} border ${_.border} w-full max-w-sm p-8 rounded-md shadow-sm flex flex-col gap-6`,children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h3",{className:`text-2xl font-black ${_.textPrimary}`,children:"Edit Student"}),c.jsx("button",{onClick:()=>Rt(null),className:`p-2 rounded-full hover:bg-white/5 ${_.textPrimary}`,children:c.jsx(Jn,{size:20})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("input",{type:"text",value:Us,onChange:w=>wi(w.target.value),className:`w-full p-4 rounded-2xl bg-gray-500/10 border ${_.border} ${_.textPrimary} outline-none`}),c.jsx("input",{type:"text",value:Cl,onChange:w=>cs(w.target.value),className:`w-full p-4 rounded-2xl bg-gray-500/10 border ${_.border} ${_.textPrimary} outline-none`,placeholder:"+92..."})]}),c.jsxs("div",{className:"flex gap-3 mt-4",children:[c.jsx(Mt,{variant:"secondary",onClick:()=>Rt(null),fullWidth:!0,className:_.textPrimary,children:"Cancel"}),c.jsx(Mt,{onClick:ho,fullWidth:!0,themeAccent:_.accent,children:"Save Changes"})]})]})}),Os&&c.jsx(Dx,{message:Os.message,type:Os.type,onClose:()=>as(null)}),c.jsx(SE,{isOpen:xl.isOpen,title:xl.title,message:xl.message,onConfirm:xl.onConfirm,onCancel:()=>yi(w=>({...w,isOpen:!1})),theme:_}),l?c.jsx(NE,{}):u?c.jsx(wE,{onFinish:Ci,logo:Re}):c.jsxs(c.Fragment,{children:[c.jsx(pE,{currentView:v,onChangeView:w=>{w==="history"?Ei():R(w==="admin-dashboard"?"admin-menu":w)},theme:_,user:N,onLogout:co,width:gi,onStartResize:eo,isResizing:ss,logo:Re,shouldHide:oo}),c.jsxs("div",{className:"flex-1 h-full min-h-0 relative scrollbar-hide overflow-y-auto overflow-x-auto w-full flex flex-col",children:[v==="home"&&Dl(),v==="dashboard"&&ru(),v==="attendance"&&ki(),v==="history"&&Mi(),v==="history-detail"&&kl(),v==="todo"&&c.jsx(_E,{theme:_,currentUser:N,onToast:Oe}),v==="settings"&&c.jsx(yE,{theme:_,themeId:x,onThemeChange:pa,currentUser:N,onUpdateUser:b,onLogout:co,onToast:Oe,enableAnimations:h,onToggleAnimations:p,badges:xi,onSaveBadges:w=>{Vt(w),Ex({badges:w})}}),v==="timetable"&&va(),v==="calculator"&&po(),v==="admin-dashboard"&&(N==null?void 0:N.role)==="admin"&&ds(),v==="admin-menu"&&(N==null?void 0:N.role)==="admin"&&xa(),v==="admin-fees"&&(N==null?void 0:N.role)==="admin"&&Bt(),v==="admin-users"&&(N==null?void 0:N.role)==="admin"&&mo(),v==="student-directory"&&c.jsx(xE,{theme:_,onBack:()=>R("admin-menu"),availableClasses:Ae,selectedClass:nt,onSelectClass:Vn,students:os,onViewProfile:w=>{Pt(w),Ls("student-directory"),R("student-profile")},attendanceStats:It}),v==="student-profile"&&it&&ya(),zs&&v==="home"&&c.jsx(CE,{theme:_,onClose:ia})]},v)]})]})}const vv=document.getElementById("root");if(!vv)throw new Error("Could not find root element to mount to");const AE=y1.createRoot(vv);AE.render(c.jsx(Br.StrictMode,{children:c.jsx(jE,{})}));
