(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function s(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(c){if(c.ep)return;c.ep=!0;const f=s(c);fetch(c.href,f)}})();function ty(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var zd={exports:{}},Ua={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg;function Vx(){if(Gg)return Ua;Gg=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(r,c,f){var h=null;if(f!==void 0&&(h=""+f),c.key!==void 0&&(h=""+c.key),"key"in c){f={};for(var p in c)p!=="key"&&(f[p]=c[p])}else f=c;return c=f.ref,{$$typeof:l,type:r,key:h,ref:c!==void 0?c:null,props:f}}return Ua.Fragment=n,Ua.jsx=s,Ua.jsxs=s,Ua}var Vg;function Qx(){return Vg||(Vg=1,zd.exports=Vx()),zd.exports}var d=Qx(),Ld={exports:{}},oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg;function Xx(){if(Qg)return oe;Qg=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),N=Symbol.iterator;function I(C){return C===null||typeof C!="object"?null:(C=N&&C[N]||C["@@iterator"],typeof C=="function"?C:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,ce={};function Ce(C,L,G){this.props=C,this.context=L,this.refs=ce,this.updater=G||B}Ce.prototype.isReactComponent={},Ce.prototype.setState=function(C,L){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,L,"setState")},Ce.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function we(){}we.prototype=Ce.prototype;function ue(C,L,G){this.props=C,this.context=L,this.refs=ce,this.updater=G||B}var Ve=ue.prototype=new we;Ve.constructor=ue,J(Ve,Ce.prototype),Ve.isPureReactComponent=!0;var wt=Array.isArray;function nt(){}var ie={H:null,A:null,T:null,S:null},Le=Object.prototype.hasOwnProperty;function Tt(C,L,G){var Q=G.ref;return{$$typeof:l,type:C,key:L,ref:Q!==void 0?Q:null,props:G}}function At(C,L){return Tt(C.type,L,C.props)}function ae(C){return typeof C=="object"&&C!==null&&C.$$typeof===l}function re(C){var L={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(G){return L[G]})}var Ue=/\/+/g;function qt(C,L){return typeof C=="object"&&C!==null&&C.key!=null?re(""+C.key):L.toString(36)}function ln(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(nt,nt):(C.status="pending",C.then(function(L){C.status==="pending"&&(C.status="fulfilled",C.value=L)},function(L){C.status==="pending"&&(C.status="rejected",C.reason=L)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function R(C,L,G,Q,W){var pe=typeof C;(pe==="undefined"||pe==="boolean")&&(C=null);var je=!1;if(C===null)je=!0;else switch(pe){case"bigint":case"string":case"number":je=!0;break;case"object":switch(C.$$typeof){case l:case n:je=!0;break;case x:return je=C._init,R(je(C._payload),L,G,Q,W)}}if(je)return W=W(C),je=Q===""?"."+qt(C,0):Q,wt(W)?(G="",je!=null&&(G=je.replace(Ue,"$&/")+"/"),R(W,L,G,"",function(Gn){return Gn})):W!=null&&(ae(W)&&(W=At(W,G+(W.key==null||C&&C.key===W.key?"":(""+W.key).replace(Ue,"$&/")+"/")+je)),L.push(W)),1;je=0;var De=Q===""?".":Q+":";if(wt(C))for(var Xe=0;Xe<C.length;Xe++)Q=C[Xe],pe=De+qt(Q,Xe),je+=R(Q,L,G,pe,W);else if(Xe=I(C),typeof Xe=="function")for(C=Xe.call(C),Xe=0;!(Q=C.next()).done;)Q=Q.value,pe=De+qt(Q,Xe++),je+=R(Q,L,G,pe,W);else if(pe==="object"){if(typeof C.then=="function")return R(ln(C),L,G,Q,W);throw L=String(C),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return je}function Y(C,L,G){if(C==null)return C;var Q=[],W=0;return R(C,Q,"","",function(pe){return L.call(G,pe,W++)}),Q}function ne(C){if(C._status===-1){var L=C._result;L=L(),L.then(function(G){(C._status===0||C._status===-1)&&(C._status=1,C._result=G)},function(G){(C._status===0||C._status===-1)&&(C._status=2,C._result=G)}),C._status===-1&&(C._status=0,C._result=L)}if(C._status===1)return C._result.default;throw C._result}var ze=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},He={map:Y,forEach:function(C,L,G){Y(C,function(){L.apply(this,arguments)},G)},count:function(C){var L=0;return Y(C,function(){L++}),L},toArray:function(C){return Y(C,function(L){return L})||[]},only:function(C){if(!ae(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return oe.Activity=_,oe.Children=He,oe.Component=Ce,oe.Fragment=s,oe.Profiler=c,oe.PureComponent=ue,oe.StrictMode=r,oe.Suspense=g,oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,oe.__COMPILER_RUNTIME={__proto__:null,c:function(C){return ie.H.useMemoCache(C)}},oe.cache=function(C){return function(){return C.apply(null,arguments)}},oe.cacheSignal=function(){return null},oe.cloneElement=function(C,L,G){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var Q=J({},C.props),W=C.key;if(L!=null)for(pe in L.key!==void 0&&(W=""+L.key),L)!Le.call(L,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&L.ref===void 0||(Q[pe]=L[pe]);var pe=arguments.length-2;if(pe===1)Q.children=G;else if(1<pe){for(var je=Array(pe),De=0;De<pe;De++)je[De]=arguments[De+2];Q.children=je}return Tt(C.type,W,Q)},oe.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},oe.createElement=function(C,L,G){var Q,W={},pe=null;if(L!=null)for(Q in L.key!==void 0&&(pe=""+L.key),L)Le.call(L,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(W[Q]=L[Q]);var je=arguments.length-2;if(je===1)W.children=G;else if(1<je){for(var De=Array(je),Xe=0;Xe<je;Xe++)De[Xe]=arguments[Xe+2];W.children=De}if(C&&C.defaultProps)for(Q in je=C.defaultProps,je)W[Q]===void 0&&(W[Q]=je[Q]);return Tt(C,pe,W)},oe.createRef=function(){return{current:null}},oe.forwardRef=function(C){return{$$typeof:p,render:C}},oe.isValidElement=ae,oe.lazy=function(C){return{$$typeof:x,_payload:{_status:-1,_result:C},_init:ne}},oe.memo=function(C,L){return{$$typeof:y,type:C,compare:L===void 0?null:L}},oe.startTransition=function(C){var L=ie.T,G={};ie.T=G;try{var Q=C(),W=ie.S;W!==null&&W(G,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(nt,ze)}catch(pe){ze(pe)}finally{L!==null&&G.types!==null&&(L.types=G.types),ie.T=L}},oe.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},oe.use=function(C){return ie.H.use(C)},oe.useActionState=function(C,L,G){return ie.H.useActionState(C,L,G)},oe.useCallback=function(C,L){return ie.H.useCallback(C,L)},oe.useContext=function(C){return ie.H.useContext(C)},oe.useDebugValue=function(){},oe.useDeferredValue=function(C,L){return ie.H.useDeferredValue(C,L)},oe.useEffect=function(C,L){return ie.H.useEffect(C,L)},oe.useEffectEvent=function(C){return ie.H.useEffectEvent(C)},oe.useId=function(){return ie.H.useId()},oe.useImperativeHandle=function(C,L,G){return ie.H.useImperativeHandle(C,L,G)},oe.useInsertionEffect=function(C,L){return ie.H.useInsertionEffect(C,L)},oe.useLayoutEffect=function(C,L){return ie.H.useLayoutEffect(C,L)},oe.useMemo=function(C,L){return ie.H.useMemo(C,L)},oe.useOptimistic=function(C,L){return ie.H.useOptimistic(C,L)},oe.useReducer=function(C,L,G){return ie.H.useReducer(C,L,G)},oe.useRef=function(C){return ie.H.useRef(C)},oe.useState=function(C){return ie.H.useState(C)},oe.useSyncExternalStore=function(C,L,G){return ie.H.useSyncExternalStore(C,L,G)},oe.useTransition=function(){return ie.H.useTransition()},oe.version="19.2.3",oe}var Xg;function Ef(){return Xg||(Xg=1,Ld.exports=Xx()),Ld.exports}var $=Ef();const ny=ty($);var Ud={exports:{}},Ha={},Hd={exports:{}},Id={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg;function Fx(){return Fg||(Fg=1,(function(l){function n(R,Y){var ne=R.length;R.push(Y);e:for(;0<ne;){var ze=ne-1>>>1,He=R[ze];if(0<c(He,Y))R[ze]=Y,R[ne]=He,ne=ze;else break e}}function s(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var Y=R[0],ne=R.pop();if(ne!==Y){R[0]=ne;e:for(var ze=0,He=R.length,C=He>>>1;ze<C;){var L=2*(ze+1)-1,G=R[L],Q=L+1,W=R[Q];if(0>c(G,ne))Q<He&&0>c(W,G)?(R[ze]=W,R[Q]=ne,ze=Q):(R[ze]=G,R[L]=ne,ze=L);else if(Q<He&&0>c(W,ne))R[ze]=W,R[Q]=ne,ze=Q;else break e}}return Y}function c(R,Y){var ne=R.sortIndex-Y.sortIndex;return ne!==0?ne:R.id-Y.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;l.unstable_now=function(){return f.now()}}else{var h=Date,p=h.now();l.unstable_now=function(){return h.now()-p}}var g=[],y=[],x=1,_=null,N=3,I=!1,B=!1,J=!1,ce=!1,Ce=typeof setTimeout=="function"?setTimeout:null,we=typeof clearTimeout=="function"?clearTimeout:null,ue=typeof setImmediate<"u"?setImmediate:null;function Ve(R){for(var Y=s(y);Y!==null;){if(Y.callback===null)r(y);else if(Y.startTime<=R)r(y),Y.sortIndex=Y.expirationTime,n(g,Y);else break;Y=s(y)}}function wt(R){if(J=!1,Ve(R),!B)if(s(g)!==null)B=!0,nt||(nt=!0,re());else{var Y=s(y);Y!==null&&ln(wt,Y.startTime-R)}}var nt=!1,ie=-1,Le=5,Tt=-1;function At(){return ce?!0:!(l.unstable_now()-Tt<Le)}function ae(){if(ce=!1,nt){var R=l.unstable_now();Tt=R;var Y=!0;try{e:{B=!1,J&&(J=!1,we(ie),ie=-1),I=!0;var ne=N;try{t:{for(Ve(R),_=s(g);_!==null&&!(_.expirationTime>R&&At());){var ze=_.callback;if(typeof ze=="function"){_.callback=null,N=_.priorityLevel;var He=ze(_.expirationTime<=R);if(R=l.unstable_now(),typeof He=="function"){_.callback=He,Ve(R),Y=!0;break t}_===s(g)&&r(g),Ve(R)}else r(g);_=s(g)}if(_!==null)Y=!0;else{var C=s(y);C!==null&&ln(wt,C.startTime-R),Y=!1}}break e}finally{_=null,N=ne,I=!1}Y=void 0}}finally{Y?re():nt=!1}}}var re;if(typeof ue=="function")re=function(){ue(ae)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,qt=Ue.port2;Ue.port1.onmessage=ae,re=function(){qt.postMessage(null)}}else re=function(){Ce(ae,0)};function ln(R,Y){ie=Ce(function(){R(l.unstable_now())},Y)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(R){R.callback=null},l.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Le=0<R?Math.floor(1e3/R):5},l.unstable_getCurrentPriorityLevel=function(){return N},l.unstable_next=function(R){switch(N){case 1:case 2:case 3:var Y=3;break;default:Y=N}var ne=N;N=Y;try{return R()}finally{N=ne}},l.unstable_requestPaint=function(){ce=!0},l.unstable_runWithPriority=function(R,Y){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var ne=N;N=R;try{return Y()}finally{N=ne}},l.unstable_scheduleCallback=function(R,Y,ne){var ze=l.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ze+ne:ze):ne=ze,R){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=ne+He,R={id:x++,callback:Y,priorityLevel:R,startTime:ne,expirationTime:He,sortIndex:-1},ne>ze?(R.sortIndex=ne,n(y,R),s(g)===null&&R===s(y)&&(J?(we(ie),ie=-1):J=!0,ln(wt,ne-ze))):(R.sortIndex=He,n(g,R),B||I||(B=!0,nt||(nt=!0,re()))),R},l.unstable_shouldYield=At,l.unstable_wrapCallback=function(R){var Y=N;return function(){var ne=N;N=Y;try{return R.apply(this,arguments)}finally{N=ne}}}})(Id)),Id}var Pg;function Px(){return Pg||(Pg=1,Hd.exports=Fx()),Hd.exports}var Bd={exports:{}},Bt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kg;function Kx(){if(Kg)return Bt;Kg=1;var l=Ef();function n(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(g,y,x){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:_==null?null:""+_,children:g,containerInfo:y,implementation:x}}var h=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Bt.createPortal=function(g,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return f(g,y,null,x)},Bt.flushSync=function(g){var y=h.T,x=r.p;try{if(h.T=null,r.p=2,g)return g()}finally{h.T=y,r.p=x,r.d.f()}},Bt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},Bt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Bt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var x=y.as,_=p(x,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,I=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:_,integrity:N,fetchPriority:I}):x==="script"&&r.d.X(g,{crossOrigin:_,integrity:N,fetchPriority:I,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Bt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=p(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},Bt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,_=p(x,y.crossOrigin);r.d.L(g,x,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Bt.preloadModule=function(g,y){if(typeof g=="string")if(y){var x=p(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},Bt.requestFormReset=function(g){r.d.r(g)},Bt.unstable_batchedUpdates=function(g,y){return g(y)},Bt.useFormState=function(g,y,x){return h.H.useFormState(g,y,x)},Bt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Bt.version="19.2.3",Bt}var Zg;function Zx(){if(Zg)return Bd.exports;Zg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Bd.exports=Kx(),Bd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg;function Jx(){if(Jg)return Ha;Jg=1;var l=Px(),n=Ef(),s=Zx();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(r(188))}function y(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var i=e,a=t;;){var o=i.return;if(o===null)break;var u=o.alternate;if(u===null){if(a=o.return,a!==null){i=a;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===i)return g(o),e;if(u===a)return g(o),t;u=u.sibling}throw Error(r(188))}if(i.return!==a.return)i=o,a=u;else{for(var m=!1,v=o.child;v;){if(v===i){m=!0,i=o,a=u;break}if(v===a){m=!0,a=o,i=u;break}v=v.sibling}if(!m){for(v=u.child;v;){if(v===i){m=!0,i=u,a=o;break}if(v===a){m=!0,a=u,i=o;break}v=v.sibling}if(!m)throw Error(r(189))}}if(i.alternate!==a)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,N=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),ce=Symbol.for("react.strict_mode"),Ce=Symbol.for("react.profiler"),we=Symbol.for("react.consumer"),ue=Symbol.for("react.context"),Ve=Symbol.for("react.forward_ref"),wt=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),Le=Symbol.for("react.lazy"),Tt=Symbol.for("react.activity"),At=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function re(e){return e===null||typeof e!="object"?null:(e=ae&&e[ae]||e["@@iterator"],typeof e=="function"?e:null)}var Ue=Symbol.for("react.client.reference");function qt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ue?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case Ce:return"Profiler";case ce:return"StrictMode";case wt:return"Suspense";case nt:return"SuspenseList";case Tt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case B:return"Portal";case ue:return e.displayName||"Context";case we:return(e._context.displayName||"Context")+".Consumer";case Ve:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ie:return t=e.displayName||null,t!==null?t:qt(e.type)||"Memo";case Le:t=e._payload,e=e._init;try{return qt(e(t))}catch{}}return null}var ln=Array.isArray,R=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},ze=[],He=-1;function C(e){return{current:e}}function L(e){0>He||(e.current=ze[He],ze[He]=null,He--)}function G(e,t){He++,ze[He]=e.current,e.current=t}var Q=C(null),W=C(null),pe=C(null),je=C(null);function De(e,t){switch(G(pe,t),G(W,e),G(Q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?hg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=hg(t),e=mg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(Q),G(Q,e)}function Xe(){L(Q),L(W),L(pe)}function Gn(e){e.memoizedState!==null&&G(je,e);var t=Q.current,i=mg(t,e.type);t!==i&&(G(W,e),G(Q,i))}function _i(e){W.current===e&&(L(Q),L(W)),je.current===e&&(L(je),Ra._currentValue=ne)}var zl,En;function fn(e){if(zl===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);zl=t&&t[1]||"",En=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zl+e+En}var Hs=!1;function ll(e,t){if(!e||Hs)return"";Hs=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var U=function(){throw Error()};if(Object.defineProperty(U.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(U,[])}catch(M){var D=M}Reflect.construct(e,[],U)}else{try{U.call()}catch(M){D=M}e.call(U.prototype)}}else{try{throw Error()}catch(M){D=M}(U=e())&&typeof U.catch=="function"&&U.catch(function(){})}}catch(M){if(M&&D&&typeof M.stack=="string")return[M.stack,D.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=a.DetermineComponentFrameRoot(),m=u[0],v=u[1];if(m&&v){var S=m.split(`
`),j=v.split(`
`);for(o=a=0;a<S.length&&!S[a].includes("DetermineComponentFrameRoot");)a++;for(;o<j.length&&!j[o].includes("DetermineComponentFrameRoot");)o++;if(a===S.length||o===j.length)for(a=S.length-1,o=j.length-1;1<=a&&0<=o&&S[a]!==j[o];)o--;for(;1<=a&&0<=o;a--,o--)if(S[a]!==j[o]){if(a!==1||o!==1)do if(a--,o--,0>o||S[a]!==j[o]){var O=`
`+S[a].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=a&&0<=o);break}}}finally{Hs=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?fn(i):""}function jt(e,t){switch(e.tag){case 26:case 27:case 5:return fn(e.type);case 16:return fn("Lazy");case 13:return e.child!==t&&t!==null?fn("Suspense Fallback"):fn("Suspense");case 19:return fn("SuspenseList");case 0:case 15:return ll(e.type,!1);case 11:return ll(e.type.render,!1);case 1:return ll(e.type,!0);case 31:return fn("Activity");default:return""}}function Ll(e){try{var t="",i=null;do t+=jt(e,i),i=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var zn=Object.prototype.hasOwnProperty,Ul=l.unstable_scheduleCallback,Xt=l.unstable_cancelCallback,br=l.unstable_shouldYield,Is=l.unstable_requestPaint,bt=l.unstable_now,Cc=l.unstable_getCurrentPriorityLevel,Vn=l.unstable_ImmediatePriority,Bs=l.unstable_UserBlockingPriority,Qn=l.unstable_NormalPriority,Hl=l.unstable_LowPriority,Dt=l.unstable_IdlePriority,$s=l.log,sl=l.unstable_setDisableYieldValue,Cn=null,Ht=null;function wn(e){if(typeof $s=="function"&&sl(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Cn,e)}catch{}}var gt=Math.clz32?Math.clz32:wc,Sr=Math.log,qs=Math.LN2;function wc(e){return e>>>=0,e===0?32:31-(Sr(e)/qs|0)|0}var al=256,Ft=262144,xi=4194304;function Yt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Xn(e,t,i){var a=e.pendingLanes;if(a===0)return 0;var o=0,u=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var v=a&134217727;return v!==0?(a=v&~u,a!==0?o=Yt(a):(m&=v,m!==0?o=Yt(m):i||(i=v&~e,i!==0&&(o=Yt(i))))):(v=a&~u,v!==0?o=Yt(v):m!==0?o=Yt(m):i||(i=a&~e,i!==0&&(o=Yt(i)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,i=t&-t,u>=i||u===32&&(i&4194048)!==0)?t:o}function Ln(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Il(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ys(){var e=xi;return xi<<=1,(xi&62914560)===0&&(xi=4194304),e}function rl(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function bi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function b(e,t,i,a,o,u){var m=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var v=e.entanglements,S=e.expirationTimes,j=e.hiddenUpdates;for(i=m&~i;0<i;){var O=31-gt(i),U=1<<O;v[O]=0,S[O]=-1;var D=j[O];if(D!==null)for(j[O]=null,O=0;O<D.length;O++){var M=D[O];M!==null&&(M.lane&=-536870913)}i&=~U}a!==0&&Nr(e,a,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(m&~t))}function Nr(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-gt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|i&261930}function Bl(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-gt(i),o=1<<a;o&t|e[a]&t&&(e[a]|=t),i&=~o}}function We(e,t){var i=t&-t;return i=(i&42)!==0?1:Gs(i),(i&(e.suspendedLanes|t))!==0?0:i}function Gs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Qs(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:Ug(e.type))}function Er(e,t){var i=Y.p;try{return Y.p=e,t()}finally{Y.p=i}}var Un=Math.random().toString(36).slice(2),yt="__reactFiber$"+Un,It="__reactProps$"+Un,Fn="__reactContainer$"+Un,Xs="__reactEvents$"+Un,Tc="__reactListeners$"+Un,Ac="__reactHandles$"+Un,Cr="__reactResources$"+Un,ol="__reactMarker$"+Un;function Fs(e){delete e[yt],delete e[It],delete e[Xs],delete e[Tc],delete e[Ac]}function Si(e){var t=e[yt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Fn]||i[yt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=bg(e);e!==null;){if(i=e[yt])return i;e=bg(e)}return t}e=i,i=e.parentNode}return null}function Ni(e){if(e=e[yt]||e[Fn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function cl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Ei(e){var t=e[Cr];return t||(t=e[Cr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ut(e){e[ol]=!0}var Ps=new Set,wr={};function St(e,t){Ci(e,t),Ci(e+"Capture",t)}function Ci(e,t){for(wr[e]=t,e=0;e<t.length;e++)Ps.add(t[e])}var jc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tr={},Ar={};function Dc(e){return zn.call(Ar,e)?!0:zn.call(Tr,e)?!1:jc.test(e)?Ar[e]=!0:(Tr[e]=!0,!1)}function $l(e,t,i){if(Dc(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function ql(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Tn(e,t,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+a)}}function Pt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jr(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function w(e,t,i){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var o=a.get,u=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){i=""+m,u.call(this,m)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return i},setValue:function(m){i=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function H(e){if(!e._valueTracker){var t=jr(e)?"checked":"value";e._valueTracker=w(e,t,""+e[t])}}function z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=jr(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function X(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var V=/[\n"\\]/g;function P(e){return e.replace(V,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function K(e,t,i,a,o,u,m,v){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Pt(t)):e.value!==""+Pt(t)&&(e.value=""+Pt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?fe(e,m,Pt(t)):i!=null?fe(e,m,Pt(i)):a!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Pt(v):e.removeAttribute("name")}function ge(e,t,i,a,o,u,m,v){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||i!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){H(e);return}i=i!=null?""+Pt(i):"",t=t!=null?""+Pt(t):i,v||t===e.value||(e.value=t),e.defaultValue=t}a=a??o,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=v?e.checked:!!a,e.defaultChecked=!!a,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),H(e)}function fe(e,t,i){t==="number"&&X(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function ee(e,t,i,a){if(e=e.options,t){t={};for(var o=0;o<i.length;o++)t["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=t.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&a&&(e[i].defaultSelected=!0)}else{for(i=""+Pt(i),t=null,o=0;o<e.length;o++){if(e[o].value===i){e[o].selected=!0,a&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function it(e,t,i){if(t!=null&&(t=""+Pt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Pt(i):""}function An(e,t,i,a){if(t==null){if(a!=null){if(i!=null)throw Error(r(92));if(ln(a)){if(1<a.length)throw Error(r(93));a=a[0]}i=a}i==null&&(i=""),t=i}i=Pt(t),e.defaultValue=i,a=e.textContent,a===i&&a!==""&&a!==null&&(e.value=a),H(e)}function Yl(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Bv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uh(e,t,i){var a=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,i):typeof i!="number"||i===0||Bv.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function dh(e,t,i){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,i!=null){for(var a in i)!i.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var o in t)a=t[o],t.hasOwnProperty(o)&&i[o]!==a&&uh(e,o,a)}else for(var u in t)t.hasOwnProperty(u)&&uh(e,u,t[u])}function Mc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $v=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dr(e){return qv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Pn(){}var Oc=null;function Rc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gl=null,Vl=null;function fh(e){var t=Ni(e);if(t&&(e=t.stateNode)){var i=e[It]||null;e:switch(e=t.stateNode,t.type){case"input":if(K(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+P(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var o=a[It]||null;if(!o)throw Error(r(90));K(a,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<i.length;t++)a=i[t],a.form===e.form&&z(a)}break e;case"textarea":it(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&ee(e,!!i.multiple,t,!1)}}}var kc=!1;function hh(e,t,i){if(kc)return e(t,i);kc=!0;try{var a=e(t);return a}finally{if(kc=!1,(Gl!==null||Vl!==null)&&(vo(),Gl&&(t=Gl,e=Vl,Vl=Gl=null,fh(t),e)))for(t=0;t<e.length;t++)fh(e[t])}}function Ks(e,t){var i=e.stateNode;if(i===null)return null;var a=i[It]||null;if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,t,typeof i));return i}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zc=!1;if(Kn)try{var Zs={};Object.defineProperty(Zs,"passive",{get:function(){zc=!0}}),window.addEventListener("test",Zs,Zs),window.removeEventListener("test",Zs,Zs)}catch{zc=!1}var wi=null,Lc=null,Mr=null;function mh(){if(Mr)return Mr;var e,t=Lc,i=t.length,a,o="value"in wi?wi.value:wi.textContent,u=o.length;for(e=0;e<i&&t[e]===o[e];e++);var m=i-e;for(a=1;a<=m&&t[i-a]===o[u-a];a++);return Mr=o.slice(e,1<a?1-a:void 0)}function Or(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rr(){return!0}function ph(){return!1}function Kt(e){function t(i,a,o,u,m){this._reactName=i,this._targetInst=o,this.type=a,this.nativeEvent=u,this.target=m,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(i=e[v],this[v]=i?i(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Rr:ph,this.isPropagationStopped=ph,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Rr)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Rr)},persist:function(){},isPersistent:Rr}),t}var ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kr=Kt(ul),Js=_({},ul,{view:0,detail:0}),Yv=Kt(Js),Uc,Hc,Ws,zr=_({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ws&&(Ws&&e.type==="mousemove"?(Uc=e.screenX-Ws.screenX,Hc=e.screenY-Ws.screenY):Hc=Uc=0,Ws=e),Uc)},movementY:function(e){return"movementY"in e?e.movementY:Hc}}),gh=Kt(zr),Gv=_({},zr,{dataTransfer:0}),Vv=Kt(Gv),Qv=_({},Js,{relatedTarget:0}),Ic=Kt(Qv),Xv=_({},ul,{animationName:0,elapsedTime:0,pseudoElement:0}),Fv=Kt(Xv),Pv=_({},ul,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kv=Kt(Pv),Zv=_({},ul,{data:0}),yh=Kt(Zv),Jv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=e_[e])?!!t[e]:!1}function Bc(){return t_}var n_=_({},Js,{key:function(e){if(e.key){var t=Jv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Or(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bc,charCode:function(e){return e.type==="keypress"?Or(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Or(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),i_=Kt(n_),l_=_({},zr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vh=Kt(l_),s_=_({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bc}),a_=Kt(s_),r_=_({},ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),o_=Kt(r_),c_=_({},zr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),u_=Kt(c_),d_=_({},ul,{newState:0,oldState:0}),f_=Kt(d_),h_=[9,13,27,32],$c=Kn&&"CompositionEvent"in window,ea=null;Kn&&"documentMode"in document&&(ea=document.documentMode);var m_=Kn&&"TextEvent"in window&&!ea,_h=Kn&&(!$c||ea&&8<ea&&11>=ea),xh=" ",bh=!1;function Sh(e,t){switch(e){case"keyup":return h_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ql=!1;function p_(e,t){switch(e){case"compositionend":return Nh(t);case"keypress":return t.which!==32?null:(bh=!0,xh);case"textInput":return e=t.data,e===xh&&bh?null:e;default:return null}}function g_(e,t){if(Ql)return e==="compositionend"||!$c&&Sh(e,t)?(e=mh(),Mr=Lc=wi=null,Ql=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _h&&t.locale!=="ko"?null:t.data;default:return null}}var y_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!y_[e.type]:t==="textarea"}function Ch(e,t,i,a){Gl?Vl?Vl.push(a):Vl=[a]:Gl=a,t=Co(t,"onChange"),0<t.length&&(i=new kr("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var ta=null,na=null;function v_(e){rg(e,0)}function Lr(e){var t=cl(e);if(z(t))return e}function wh(e,t){if(e==="change")return t}var Th=!1;if(Kn){var qc;if(Kn){var Yc="oninput"in document;if(!Yc){var Ah=document.createElement("div");Ah.setAttribute("oninput","return;"),Yc=typeof Ah.oninput=="function"}qc=Yc}else qc=!1;Th=qc&&(!document.documentMode||9<document.documentMode)}function jh(){ta&&(ta.detachEvent("onpropertychange",Dh),na=ta=null)}function Dh(e){if(e.propertyName==="value"&&Lr(na)){var t=[];Ch(t,na,e,Rc(e)),hh(v_,t)}}function __(e,t,i){e==="focusin"?(jh(),ta=t,na=i,ta.attachEvent("onpropertychange",Dh)):e==="focusout"&&jh()}function x_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Lr(na)}function b_(e,t){if(e==="click")return Lr(t)}function S_(e,t){if(e==="input"||e==="change")return Lr(t)}function N_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sn=typeof Object.is=="function"?Object.is:N_;function ia(e,t){if(sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var o=i[a];if(!zn.call(t,o)||!sn(e[o],t[o]))return!1}return!0}function Mh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Oh(e,t){var i=Mh(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Mh(i)}}function Rh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=X(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=X(e.document)}return t}function Gc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var E_=Kn&&"documentMode"in document&&11>=document.documentMode,Xl=null,Vc=null,la=null,Qc=!1;function zh(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Qc||Xl==null||Xl!==X(a)||(a=Xl,"selectionStart"in a&&Gc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),la&&ia(la,a)||(la=a,a=Co(Vc,"onSelect"),0<a.length&&(t=new kr("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=Xl)))}function dl(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Fl={animationend:dl("Animation","AnimationEnd"),animationiteration:dl("Animation","AnimationIteration"),animationstart:dl("Animation","AnimationStart"),transitionrun:dl("Transition","TransitionRun"),transitionstart:dl("Transition","TransitionStart"),transitioncancel:dl("Transition","TransitionCancel"),transitionend:dl("Transition","TransitionEnd")},Xc={},Lh={};Kn&&(Lh=document.createElement("div").style,"AnimationEvent"in window||(delete Fl.animationend.animation,delete Fl.animationiteration.animation,delete Fl.animationstart.animation),"TransitionEvent"in window||delete Fl.transitionend.transition);function fl(e){if(Xc[e])return Xc[e];if(!Fl[e])return e;var t=Fl[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Lh)return Xc[e]=t[i];return e}var Uh=fl("animationend"),Hh=fl("animationiteration"),Ih=fl("animationstart"),C_=fl("transitionrun"),w_=fl("transitionstart"),T_=fl("transitioncancel"),Bh=fl("transitionend"),$h=new Map,Fc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fc.push("scrollEnd");function jn(e,t){$h.set(e,t),St(t,[e])}var Ur=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},hn=[],Pl=0,Pc=0;function Hr(){for(var e=Pl,t=Pc=Pl=0;t<e;){var i=hn[t];hn[t++]=null;var a=hn[t];hn[t++]=null;var o=hn[t];hn[t++]=null;var u=hn[t];if(hn[t++]=null,a!==null&&o!==null){var m=a.pending;m===null?o.next=o:(o.next=m.next,m.next=o),a.pending=o}u!==0&&qh(i,o,u)}}function Ir(e,t,i,a){hn[Pl++]=e,hn[Pl++]=t,hn[Pl++]=i,hn[Pl++]=a,Pc|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Kc(e,t,i,a){return Ir(e,t,i,a),Br(e)}function hl(e,t){return Ir(e,null,null,t),Br(e)}function qh(e,t,i){e.lanes|=i;var a=e.alternate;a!==null&&(a.lanes|=i);for(var o=!1,u=e.return;u!==null;)u.childLanes|=i,a=u.alternate,a!==null&&(a.childLanes|=i),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-gt(i),e=u.hiddenUpdates,a=e[o],a===null?e[o]=[t]:a.push(t),t.lane=i|536870912),u):null}function Br(e){if(50<wa)throw wa=0,sd=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Kl={};function A_(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(e,t,i,a){return new A_(e,t,i,a)}function Zc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zn(e,t){var i=e.alternate;return i===null?(i=an(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Yh(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function $r(e,t,i,a,o,u){var m=0;if(a=e,typeof e=="function")Zc(e)&&(m=1);else if(typeof e=="string")m=Rx(e,i,Q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Tt:return e=an(31,i,t,o),e.elementType=Tt,e.lanes=u,e;case J:return ml(i.children,o,u,t);case ce:m=8,o|=24;break;case Ce:return e=an(12,i,t,o|2),e.elementType=Ce,e.lanes=u,e;case wt:return e=an(13,i,t,o),e.elementType=wt,e.lanes=u,e;case nt:return e=an(19,i,t,o),e.elementType=nt,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ue:m=10;break e;case we:m=9;break e;case Ve:m=11;break e;case ie:m=14;break e;case Le:m=16,a=null;break e}m=29,i=Error(r(130,e===null?"null":typeof e,"")),a=null}return t=an(m,i,t,o),t.elementType=e,t.type=a,t.lanes=u,t}function ml(e,t,i,a){return e=an(7,e,a,t),e.lanes=i,e}function Jc(e,t,i){return e=an(6,e,null,t),e.lanes=i,e}function Gh(e){var t=an(18,null,null,0);return t.stateNode=e,t}function Wc(e,t,i){return t=an(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vh=new WeakMap;function mn(e,t){if(typeof e=="object"&&e!==null){var i=Vh.get(e);return i!==void 0?i:(t={value:e,source:t,stack:Ll(t)},Vh.set(e,t),t)}return{value:e,source:t,stack:Ll(t)}}var Zl=[],Jl=0,qr=null,sa=0,pn=[],gn=0,Ti=null,Hn=1,In="";function Jn(e,t){Zl[Jl++]=sa,Zl[Jl++]=qr,qr=e,sa=t}function Qh(e,t,i){pn[gn++]=Hn,pn[gn++]=In,pn[gn++]=Ti,Ti=e;var a=Hn;e=In;var o=32-gt(a)-1;a&=~(1<<o),i+=1;var u=32-gt(t)+o;if(30<u){var m=o-o%5;u=(a&(1<<m)-1).toString(32),a>>=m,o-=m,Hn=1<<32-gt(t)+o|i<<o|a,In=u+e}else Hn=1<<u|i<<o|a,In=e}function eu(e){e.return!==null&&(Jn(e,1),Qh(e,1,0))}function tu(e){for(;e===qr;)qr=Zl[--Jl],Zl[Jl]=null,sa=Zl[--Jl],Zl[Jl]=null;for(;e===Ti;)Ti=pn[--gn],pn[gn]=null,In=pn[--gn],pn[gn]=null,Hn=pn[--gn],pn[gn]=null}function Xh(e,t){pn[gn++]=Hn,pn[gn++]=In,pn[gn++]=Ti,Hn=t.id,In=t.overflow,Ti=e}var Mt=null,Ze=null,Te=!1,Ai=null,yn=!1,nu=Error(r(519));function ji(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw aa(mn(t,e)),nu}function Fh(e){var t=e.stateNode,i=e.type,a=e.memoizedProps;switch(t[yt]=e,t[It]=a,i){case"dialog":xe("cancel",t),xe("close",t);break;case"iframe":case"object":case"embed":xe("load",t);break;case"video":case"audio":for(i=0;i<Aa.length;i++)xe(Aa[i],t);break;case"source":xe("error",t);break;case"img":case"image":case"link":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"input":xe("invalid",t),ge(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":xe("invalid",t);break;case"textarea":xe("invalid",t),An(t,a.value,a.defaultValue,a.children)}i=a.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||a.suppressHydrationWarning===!0||dg(t.textContent,i)?(a.popover!=null&&(xe("beforetoggle",t),xe("toggle",t)),a.onScroll!=null&&xe("scroll",t),a.onScrollEnd!=null&&xe("scrollend",t),a.onClick!=null&&(t.onclick=Pn),t=!0):t=!1,t||ji(e,!0)}function Ph(e){for(Mt=e.return;Mt;)switch(Mt.tag){case 5:case 31:case 13:yn=!1;return;case 27:case 3:yn=!0;return;default:Mt=Mt.return}}function Wl(e){if(e!==Mt)return!1;if(!Te)return Ph(e),Te=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||xd(e.type,e.memoizedProps)),i=!i),i&&Ze&&ji(e),Ph(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ze=xg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ze=xg(e)}else t===27?(t=Ze,Yi(e.type)?(e=Cd,Cd=null,Ze=e):Ze=t):Ze=Mt?_n(e.stateNode.nextSibling):null;return!0}function pl(){Ze=Mt=null,Te=!1}function iu(){var e=Ai;return e!==null&&(en===null?en=e:en.push.apply(en,e),Ai=null),e}function aa(e){Ai===null?Ai=[e]:Ai.push(e)}var lu=C(null),gl=null,Wn=null;function Di(e,t,i){G(lu,t._currentValue),t._currentValue=i}function ei(e){e._currentValue=lu.current,L(lu)}function su(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function au(e,t,i,a){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var m=o.child;u=u.firstContext;e:for(;u!==null;){var v=u;u=o;for(var S=0;S<t.length;S++)if(v.context===t[S]){u.lanes|=i,v=u.alternate,v!==null&&(v.lanes|=i),su(u.return,i,e),a||(m=null);break e}u=v.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(r(341));m.lanes|=i,u=m.alternate,u!==null&&(u.lanes|=i),su(m,i,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function es(e,t,i,a){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(r(387));if(m=m.memoizedProps,m!==null){var v=o.type;sn(o.pendingProps.value,m.value)||(e!==null?e.push(v):e=[v])}}else if(o===je.current){if(m=o.alternate,m===null)throw Error(r(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Ra):e=[Ra])}o=o.return}e!==null&&au(t,e,i,a),t.flags|=262144}function Yr(e){for(e=e.firstContext;e!==null;){if(!sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function yl(e){gl=e,Wn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ot(e){return Kh(gl,e)}function Gr(e,t){return gl===null&&yl(e),Kh(e,t)}function Kh(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},Wn===null){if(e===null)throw Error(r(308));Wn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Wn=Wn.next=t;return i}var j_=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},D_=l.unstable_scheduleCallback,M_=l.unstable_NormalPriority,dt={$$typeof:ue,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ru(){return{controller:new j_,data:new Map,refCount:0}}function ra(e){e.refCount--,e.refCount===0&&D_(M_,function(){e.controller.abort()})}var oa=null,ou=0,ts=0,ns=null;function O_(e,t){if(oa===null){var i=oa=[];ou=0,ts=dd(),ns={status:"pending",value:void 0,then:function(a){i.push(a)}}}return ou++,t.then(Zh,Zh),t}function Zh(){if(--ou===0&&oa!==null){ns!==null&&(ns.status="fulfilled");var e=oa;oa=null,ts=0,ns=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function R_(e,t){var i=[],a={status:"pending",value:null,reason:null,then:function(o){i.push(o)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var o=0;o<i.length;o++)(0,i[o])(t)},function(o){for(a.status="rejected",a.reason=o,o=0;o<i.length;o++)(0,i[o])(void 0)}),a}var Jh=R.S;R.S=function(e,t){zp=bt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&O_(e,t),Jh!==null&&Jh(e,t)};var vl=C(null);function cu(){var e=vl.current;return e!==null?e:Qe.pooledCache}function Vr(e,t){t===null?G(vl,vl.current):G(vl,t.pool)}function Wh(){var e=cu();return e===null?null:{parent:dt._currentValue,pool:e}}var is=Error(r(460)),uu=Error(r(474)),Qr=Error(r(542)),Xr={then:function(){}};function em(e){return e=e.status,e==="fulfilled"||e==="rejected"}function tm(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Pn,Pn),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,im(e),e;default:if(typeof t.status=="string")t.then(Pn,Pn);else{if(e=Qe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=a}},function(a){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,im(e),e}throw xl=t,is}}function _l(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(xl=i,is):i}}var xl=null;function nm(){if(xl===null)throw Error(r(459));var e=xl;return xl=null,e}function im(e){if(e===is||e===Qr)throw Error(r(483))}var ls=null,ca=0;function Fr(e){var t=ca;return ca+=1,ls===null&&(ls=[]),tm(ls,e,t)}function ua(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Pr(e,t){throw t.$$typeof===N?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function lm(e){function t(T,E){if(e){var A=T.deletions;A===null?(T.deletions=[E],T.flags|=16):A.push(E)}}function i(T,E){if(!e)return null;for(;E!==null;)t(T,E),E=E.sibling;return null}function a(T){for(var E=new Map;T!==null;)T.key!==null?E.set(T.key,T):E.set(T.index,T),T=T.sibling;return E}function o(T,E){return T=Zn(T,E),T.index=0,T.sibling=null,T}function u(T,E,A){return T.index=A,e?(A=T.alternate,A!==null?(A=A.index,A<E?(T.flags|=67108866,E):A):(T.flags|=67108866,E)):(T.flags|=1048576,E)}function m(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function v(T,E,A,k){return E===null||E.tag!==6?(E=Jc(A,T.mode,k),E.return=T,E):(E=o(E,A),E.return=T,E)}function S(T,E,A,k){var te=A.type;return te===J?O(T,E,A.props.children,k,A.key):E!==null&&(E.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===Le&&_l(te)===E.type)?(E=o(E,A.props),ua(E,A),E.return=T,E):(E=$r(A.type,A.key,A.props,null,T.mode,k),ua(E,A),E.return=T,E)}function j(T,E,A,k){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=Wc(A,T.mode,k),E.return=T,E):(E=o(E,A.children||[]),E.return=T,E)}function O(T,E,A,k,te){return E===null||E.tag!==7?(E=ml(A,T.mode,k,te),E.return=T,E):(E=o(E,A),E.return=T,E)}function U(T,E,A){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Jc(""+E,T.mode,A),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case I:return A=$r(E.type,E.key,E.props,null,T.mode,A),ua(A,E),A.return=T,A;case B:return E=Wc(E,T.mode,A),E.return=T,E;case Le:return E=_l(E),U(T,E,A)}if(ln(E)||re(E))return E=ml(E,T.mode,A,null),E.return=T,E;if(typeof E.then=="function")return U(T,Fr(E),A);if(E.$$typeof===ue)return U(T,Gr(T,E),A);Pr(T,E)}return null}function D(T,E,A,k){var te=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return te!==null?null:v(T,E,""+A,k);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case I:return A.key===te?S(T,E,A,k):null;case B:return A.key===te?j(T,E,A,k):null;case Le:return A=_l(A),D(T,E,A,k)}if(ln(A)||re(A))return te!==null?null:O(T,E,A,k,null);if(typeof A.then=="function")return D(T,E,Fr(A),k);if(A.$$typeof===ue)return D(T,E,Gr(T,A),k);Pr(T,A)}return null}function M(T,E,A,k,te){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return T=T.get(A)||null,v(E,T,""+k,te);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case I:return T=T.get(k.key===null?A:k.key)||null,S(E,T,k,te);case B:return T=T.get(k.key===null?A:k.key)||null,j(E,T,k,te);case Le:return k=_l(k),M(T,E,A,k,te)}if(ln(k)||re(k))return T=T.get(A)||null,O(E,T,k,te,null);if(typeof k.then=="function")return M(T,E,A,Fr(k),te);if(k.$$typeof===ue)return M(T,E,A,Gr(E,k),te);Pr(E,k)}return null}function F(T,E,A,k){for(var te=null,Me=null,Z=E,he=E=0,Ne=null;Z!==null&&he<A.length;he++){Z.index>he?(Ne=Z,Z=null):Ne=Z.sibling;var Oe=D(T,Z,A[he],k);if(Oe===null){Z===null&&(Z=Ne);break}e&&Z&&Oe.alternate===null&&t(T,Z),E=u(Oe,E,he),Me===null?te=Oe:Me.sibling=Oe,Me=Oe,Z=Ne}if(he===A.length)return i(T,Z),Te&&Jn(T,he),te;if(Z===null){for(;he<A.length;he++)Z=U(T,A[he],k),Z!==null&&(E=u(Z,E,he),Me===null?te=Z:Me.sibling=Z,Me=Z);return Te&&Jn(T,he),te}for(Z=a(Z);he<A.length;he++)Ne=M(Z,T,he,A[he],k),Ne!==null&&(e&&Ne.alternate!==null&&Z.delete(Ne.key===null?he:Ne.key),E=u(Ne,E,he),Me===null?te=Ne:Me.sibling=Ne,Me=Ne);return e&&Z.forEach(function(Fi){return t(T,Fi)}),Te&&Jn(T,he),te}function le(T,E,A,k){if(A==null)throw Error(r(151));for(var te=null,Me=null,Z=E,he=E=0,Ne=null,Oe=A.next();Z!==null&&!Oe.done;he++,Oe=A.next()){Z.index>he?(Ne=Z,Z=null):Ne=Z.sibling;var Fi=D(T,Z,Oe.value,k);if(Fi===null){Z===null&&(Z=Ne);break}e&&Z&&Fi.alternate===null&&t(T,Z),E=u(Fi,E,he),Me===null?te=Fi:Me.sibling=Fi,Me=Fi,Z=Ne}if(Oe.done)return i(T,Z),Te&&Jn(T,he),te;if(Z===null){for(;!Oe.done;he++,Oe=A.next())Oe=U(T,Oe.value,k),Oe!==null&&(E=u(Oe,E,he),Me===null?te=Oe:Me.sibling=Oe,Me=Oe);return Te&&Jn(T,he),te}for(Z=a(Z);!Oe.done;he++,Oe=A.next())Oe=M(Z,T,he,Oe.value,k),Oe!==null&&(e&&Oe.alternate!==null&&Z.delete(Oe.key===null?he:Oe.key),E=u(Oe,E,he),Me===null?te=Oe:Me.sibling=Oe,Me=Oe);return e&&Z.forEach(function(Gx){return t(T,Gx)}),Te&&Jn(T,he),te}function Ye(T,E,A,k){if(typeof A=="object"&&A!==null&&A.type===J&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case I:e:{for(var te=A.key;E!==null;){if(E.key===te){if(te=A.type,te===J){if(E.tag===7){i(T,E.sibling),k=o(E,A.props.children),k.return=T,T=k;break e}}else if(E.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===Le&&_l(te)===E.type){i(T,E.sibling),k=o(E,A.props),ua(k,A),k.return=T,T=k;break e}i(T,E);break}else t(T,E);E=E.sibling}A.type===J?(k=ml(A.props.children,T.mode,k,A.key),k.return=T,T=k):(k=$r(A.type,A.key,A.props,null,T.mode,k),ua(k,A),k.return=T,T=k)}return m(T);case B:e:{for(te=A.key;E!==null;){if(E.key===te)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){i(T,E.sibling),k=o(E,A.children||[]),k.return=T,T=k;break e}else{i(T,E);break}else t(T,E);E=E.sibling}k=Wc(A,T.mode,k),k.return=T,T=k}return m(T);case Le:return A=_l(A),Ye(T,E,A,k)}if(ln(A))return F(T,E,A,k);if(re(A)){if(te=re(A),typeof te!="function")throw Error(r(150));return A=te.call(A),le(T,E,A,k)}if(typeof A.then=="function")return Ye(T,E,Fr(A),k);if(A.$$typeof===ue)return Ye(T,E,Gr(T,A),k);Pr(T,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,E!==null&&E.tag===6?(i(T,E.sibling),k=o(E,A),k.return=T,T=k):(i(T,E),k=Jc(A,T.mode,k),k.return=T,T=k),m(T)):i(T,E)}return function(T,E,A,k){try{ca=0;var te=Ye(T,E,A,k);return ls=null,te}catch(Z){if(Z===is||Z===Qr)throw Z;var Me=an(29,Z,null,T.mode);return Me.lanes=k,Me.return=T,Me}finally{}}}var bl=lm(!0),sm=lm(!1),Mi=!1;function du(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Oi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ri(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(ke&2)!==0){var o=a.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),a.pending=t,t=Br(e),qh(e,null,i),t}return Ir(e,a,t,i),Br(e)}function da(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,Bl(e,i)}}function hu(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var o=null,u=null;if(i=i.firstBaseUpdate,i!==null){do{var m={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};u===null?o=u=m:u=u.next=m,i=i.next}while(i!==null);u===null?o=u=t:u=u.next=t}else o=u=t;i={baseState:a.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:a.shared,callbacks:a.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var mu=!1;function fa(){if(mu){var e=ns;if(e!==null)throw e}}function ha(e,t,i,a){mu=!1;var o=e.updateQueue;Mi=!1;var u=o.firstBaseUpdate,m=o.lastBaseUpdate,v=o.shared.pending;if(v!==null){o.shared.pending=null;var S=v,j=S.next;S.next=null,m===null?u=j:m.next=j,m=S;var O=e.alternate;O!==null&&(O=O.updateQueue,v=O.lastBaseUpdate,v!==m&&(v===null?O.firstBaseUpdate=j:v.next=j,O.lastBaseUpdate=S))}if(u!==null){var U=o.baseState;m=0,O=j=S=null,v=u;do{var D=v.lane&-536870913,M=D!==v.lane;if(M?(Se&D)===D:(a&D)===D){D!==0&&D===ts&&(mu=!0),O!==null&&(O=O.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var F=e,le=v;D=t;var Ye=i;switch(le.tag){case 1:if(F=le.payload,typeof F=="function"){U=F.call(Ye,U,D);break e}U=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=le.payload,D=typeof F=="function"?F.call(Ye,U,D):F,D==null)break e;U=_({},U,D);break e;case 2:Mi=!0}}D=v.callback,D!==null&&(e.flags|=64,M&&(e.flags|=8192),M=o.callbacks,M===null?o.callbacks=[D]:M.push(D))}else M={lane:D,tag:v.tag,payload:v.payload,callback:v.callback,next:null},O===null?(j=O=M,S=U):O=O.next=M,m|=D;if(v=v.next,v===null){if(v=o.shared.pending,v===null)break;M=v,v=M.next,M.next=null,o.lastBaseUpdate=M,o.shared.pending=null}}while(!0);O===null&&(S=U),o.baseState=S,o.firstBaseUpdate=j,o.lastBaseUpdate=O,u===null&&(o.shared.lanes=0),Hi|=m,e.lanes=m,e.memoizedState=U}}function am(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function rm(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)am(i[e],t)}var ss=C(null),Kr=C(0);function om(e,t){e=ci,G(Kr,e),G(ss,t),ci=e|t.baseLanes}function pu(){G(Kr,ci),G(ss,ss.current)}function gu(){ci=Kr.current,L(ss),L(Kr)}var rn=C(null),vn=null;function ki(e){var t=e.alternate;G(ot,ot.current&1),G(rn,e),vn===null&&(t===null||ss.current!==null||t.memoizedState!==null)&&(vn=e)}function yu(e){G(ot,ot.current),G(rn,e),vn===null&&(vn=e)}function cm(e){e.tag===22?(G(ot,ot.current),G(rn,e),vn===null&&(vn=e)):zi()}function zi(){G(ot,ot.current),G(rn,rn.current)}function on(e){L(rn),vn===e&&(vn=null),L(ot)}var ot=C(0);function Zr(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Nd(i)||Ed(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=0,de=null,$e=null,ft=null,Jr=!1,as=!1,Sl=!1,Wr=0,ma=0,rs=null,k_=0;function lt(){throw Error(r(321))}function vu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!sn(e[i],t[i]))return!1;return!0}function _u(e,t,i,a,o,u){return ti=u,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=e===null||e.memoizedState===null?Qm:ku,Sl=!1,u=i(a,o),Sl=!1,as&&(u=dm(t,i,a,o)),um(e),u}function um(e){R.H=ya;var t=$e!==null&&$e.next!==null;if(ti=0,ft=$e=de=null,Jr=!1,ma=0,rs=null,t)throw Error(r(300));e===null||ht||(e=e.dependencies,e!==null&&Yr(e)&&(ht=!0))}function dm(e,t,i,a){de=e;var o=0;do{if(as&&(rs=null),ma=0,as=!1,25<=o)throw Error(r(301));if(o+=1,ft=$e=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}R.H=Xm,u=t(i,a)}while(as);return u}function z_(){var e=R.H,t=e.useState()[0];return t=typeof t.then=="function"?pa(t):t,e=e.useState()[0],($e!==null?$e.memoizedState:null)!==e&&(de.flags|=1024),t}function xu(){var e=Wr!==0;return Wr=0,e}function bu(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Su(e){if(Jr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Jr=!1}ti=0,ft=$e=de=null,as=!1,ma=Wr=0,rs=null}function Gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?de.memoizedState=ft=e:ft=ft.next=e,ft}function ct(){if($e===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=ft===null?de.memoizedState:ft.next;if(t!==null)ft=t,$e=e;else{if(e===null)throw de.alternate===null?Error(r(467)):Error(r(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},ft===null?de.memoizedState=ft=e:ft=ft.next=e}return ft}function eo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pa(e){var t=ma;return ma+=1,rs===null&&(rs=[]),e=tm(rs,e,t),t=de,(ft===null?t.memoizedState:ft.next)===null&&(t=t.alternate,R.H=t===null||t.memoizedState===null?Qm:ku),e}function to(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return pa(e);if(e.$$typeof===ue)return Ot(e)}throw Error(r(438,String(e)))}function Nu(e){var t=null,i=de.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var a=de.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=eo(),de.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),a=0;a<e;a++)i[a]=At;return t.index++,i}function ni(e,t){return typeof t=="function"?t(e):t}function no(e){var t=ct();return Eu(t,$e,e)}function Eu(e,t,i){var a=e.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var o=e.baseQueue,u=a.pending;if(u!==null){if(o!==null){var m=o.next;o.next=u.next,u.next=m}t.baseQueue=o=u,a.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var v=m=null,S=null,j=t,O=!1;do{var U=j.lane&-536870913;if(U!==j.lane?(Se&U)===U:(ti&U)===U){var D=j.revertLane;if(D===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),U===ts&&(O=!0);else if((ti&D)===D){j=j.next,D===ts&&(O=!0);continue}else U={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},S===null?(v=S=U,m=u):S=S.next=U,de.lanes|=D,Hi|=D;U=j.action,Sl&&i(u,U),u=j.hasEagerState?j.eagerState:i(u,U)}else D={lane:U,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},S===null?(v=S=D,m=u):S=S.next=D,de.lanes|=U,Hi|=U;j=j.next}while(j!==null&&j!==t);if(S===null?m=u:S.next=v,!sn(u,e.memoizedState)&&(ht=!0,O&&(i=ns,i!==null)))throw i;e.memoizedState=u,e.baseState=m,e.baseQueue=S,a.lastRenderedState=u}return o===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Cu(e){var t=ct(),i=t.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var a=i.dispatch,o=i.pending,u=t.memoizedState;if(o!==null){i.pending=null;var m=o=o.next;do u=e(u,m.action),m=m.next;while(m!==o);sn(u,t.memoizedState)||(ht=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),i.lastRenderedState=u}return[u,a]}function fm(e,t,i){var a=de,o=ct(),u=Te;if(u){if(i===void 0)throw Error(r(407));i=i()}else i=t();var m=!sn(($e||o).memoizedState,i);if(m&&(o.memoizedState=i,ht=!0),o=o.queue,Au(pm.bind(null,a,o,e),[e]),o.getSnapshot!==t||m||ft!==null&&ft.memoizedState.tag&1){if(a.flags|=2048,os(9,{destroy:void 0},mm.bind(null,a,o,i,t),null),Qe===null)throw Error(r(349));u||(ti&127)!==0||hm(a,t,i)}return i}function hm(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=de.updateQueue,t===null?(t=eo(),de.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function mm(e,t,i,a){t.value=i,t.getSnapshot=a,gm(t)&&ym(e)}function pm(e,t,i){return i(function(){gm(t)&&ym(e)})}function gm(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!sn(e,i)}catch{return!0}}function ym(e){var t=hl(e,2);t!==null&&tn(t,e,2)}function wu(e){var t=Gt();if(typeof e=="function"){var i=e;if(e=i(),Sl){wn(!0);try{i()}finally{wn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:e},t}function vm(e,t,i,a){return e.baseState=i,Eu(e,$e,typeof a=="function"?a:ni)}function L_(e,t,i,a,o){if(so(e))throw Error(r(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){u.listeners.push(m)}};R.T!==null?i(!0):u.isTransition=!1,a(u),i=t.pending,i===null?(u.next=t.pending=u,_m(t,u)):(u.next=i.next,t.pending=i.next=u)}}function _m(e,t){var i=t.action,a=t.payload,o=e.state;if(t.isTransition){var u=R.T,m={};R.T=m;try{var v=i(o,a),S=R.S;S!==null&&S(m,v),xm(e,t,v)}catch(j){Tu(e,t,j)}finally{u!==null&&m.types!==null&&(u.types=m.types),R.T=u}}else try{u=i(o,a),xm(e,t,u)}catch(j){Tu(e,t,j)}}function xm(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(a){bm(e,t,a)},function(a){return Tu(e,t,a)}):bm(e,t,i)}function bm(e,t,i){t.status="fulfilled",t.value=i,Sm(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,_m(e,i)))}function Tu(e,t,i){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=i,Sm(t),t=t.next;while(t!==a)}e.action=null}function Sm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Nm(e,t){return t}function Em(e,t){if(Te){var i=Qe.formState;if(i!==null){e:{var a=de;if(Te){if(Ze){t:{for(var o=Ze,u=yn;o.nodeType!==8;){if(!u){o=null;break t}if(o=_n(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){Ze=_n(o.nextSibling),a=o.data==="F!";break e}}ji(a)}a=!1}a&&(t=i[0])}}return i=Gt(),i.memoizedState=i.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nm,lastRenderedState:t},i.queue=a,i=Ym.bind(null,de,a),a.dispatch=i,a=wu(!1),u=Ru.bind(null,de,!1,a.queue),a=Gt(),o={state:t,dispatch:null,action:e,pending:null},a.queue=o,i=L_.bind(null,de,o,u,i),o.dispatch=i,a.memoizedState=e,[t,i,!1]}function Cm(e){var t=ct();return wm(t,$e,e)}function wm(e,t,i){if(t=Eu(e,t,Nm)[0],e=no(ni)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=pa(t)}catch(m){throw m===is?Qr:m}else a=t;t=ct();var o=t.queue,u=o.dispatch;return i!==t.memoizedState&&(de.flags|=2048,os(9,{destroy:void 0},U_.bind(null,o,i),null)),[a,u,e]}function U_(e,t){e.action=t}function Tm(e){var t=ct(),i=$e;if(i!==null)return wm(t,i,e);ct(),t=t.memoizedState,i=ct();var a=i.queue.dispatch;return i.memoizedState=e,[t,a,!1]}function os(e,t,i,a){return e={tag:e,create:i,deps:a,inst:t,next:null},t=de.updateQueue,t===null&&(t=eo(),de.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e),e}function Am(){return ct().memoizedState}function io(e,t,i,a){var o=Gt();de.flags|=e,o.memoizedState=os(1|t,{destroy:void 0},i,a===void 0?null:a)}function lo(e,t,i,a){var o=ct();a=a===void 0?null:a;var u=o.memoizedState.inst;$e!==null&&a!==null&&vu(a,$e.memoizedState.deps)?o.memoizedState=os(t,u,i,a):(de.flags|=e,o.memoizedState=os(1|t,u,i,a))}function jm(e,t){io(8390656,8,e,t)}function Au(e,t){lo(2048,8,e,t)}function H_(e){de.flags|=4;var t=de.updateQueue;if(t===null)t=eo(),de.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function Dm(e){var t=ct().memoizedState;return H_({ref:t,nextImpl:e}),function(){if((ke&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Mm(e,t){return lo(4,2,e,t)}function Om(e,t){return lo(4,4,e,t)}function Rm(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function km(e,t,i){i=i!=null?i.concat([e]):null,lo(4,4,Rm.bind(null,t,e),i)}function ju(){}function zm(e,t){var i=ct();t=t===void 0?null:t;var a=i.memoizedState;return t!==null&&vu(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function Lm(e,t){var i=ct();t=t===void 0?null:t;var a=i.memoizedState;if(t!==null&&vu(t,a[1]))return a[0];if(a=e(),Sl){wn(!0);try{e()}finally{wn(!1)}}return i.memoizedState=[a,t],a}function Du(e,t,i){return i===void 0||(ti&1073741824)!==0&&(Se&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=Up(),de.lanes|=e,Hi|=e,i)}function Um(e,t,i,a){return sn(i,t)?i:ss.current!==null?(e=Du(e,i,a),sn(e,t)||(ht=!0),e):(ti&42)===0||(ti&1073741824)!==0&&(Se&261930)===0?(ht=!0,e.memoizedState=i):(e=Up(),de.lanes|=e,Hi|=e,t)}function Hm(e,t,i,a,o){var u=Y.p;Y.p=u!==0&&8>u?u:8;var m=R.T,v={};R.T=v,Ru(e,!1,t,i);try{var S=o(),j=R.S;if(j!==null&&j(v,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var O=R_(S,a);ga(e,t,O,dn(e))}else ga(e,t,a,dn(e))}catch(U){ga(e,t,{then:function(){},status:"rejected",reason:U},dn())}finally{Y.p=u,m!==null&&v.types!==null&&(m.types=v.types),R.T=m}}function I_(){}function Mu(e,t,i,a){if(e.tag!==5)throw Error(r(476));var o=Im(e).queue;Hm(e,o,t,ne,i===null?I_:function(){return Bm(e),i(a)})}function Im(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:ne},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Bm(e){var t=Im(e);t.next===null&&(t=e.alternate.memoizedState),ga(e,t.next.queue,{},dn())}function Ou(){return Ot(Ra)}function $m(){return ct().memoizedState}function qm(){return ct().memoizedState}function B_(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=dn();e=Oi(i);var a=Ri(t,e,i);a!==null&&(tn(a,t,i),da(a,t,i)),t={cache:ru()},e.payload=t;return}t=t.return}}function $_(e,t,i){var a=dn();i={lane:a,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},so(e)?Gm(t,i):(i=Kc(e,t,i,a),i!==null&&(tn(i,e,a),Vm(i,t,a)))}function Ym(e,t,i){var a=dn();ga(e,t,i,a)}function ga(e,t,i,a){var o={lane:a,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(so(e))Gm(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var m=t.lastRenderedState,v=u(m,i);if(o.hasEagerState=!0,o.eagerState=v,sn(v,m))return Ir(e,t,o,0),Qe===null&&Hr(),!1}catch{}finally{}if(i=Kc(e,t,o,a),i!==null)return tn(i,e,a),Vm(i,t,a),!0}return!1}function Ru(e,t,i,a){if(a={lane:2,revertLane:dd(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},so(e)){if(t)throw Error(r(479))}else t=Kc(e,i,a,2),t!==null&&tn(t,e,2)}function so(e){var t=e.alternate;return e===de||t!==null&&t===de}function Gm(e,t){as=Jr=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Vm(e,t,i){if((i&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,Bl(e,i)}}var ya={readContext:Ot,use:to,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useInsertionEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useSyncExternalStore:lt,useId:lt,useHostTransitionStatus:lt,useFormState:lt,useActionState:lt,useOptimistic:lt,useMemoCache:lt,useCacheRefresh:lt};ya.useEffectEvent=lt;var Qm={readContext:Ot,use:to,useCallback:function(e,t){return Gt().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:jm,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,io(4194308,4,Rm.bind(null,t,e),i)},useLayoutEffect:function(e,t){return io(4194308,4,e,t)},useInsertionEffect:function(e,t){io(4,2,e,t)},useMemo:function(e,t){var i=Gt();t=t===void 0?null:t;var a=e();if(Sl){wn(!0);try{e()}finally{wn(!1)}}return i.memoizedState=[a,t],a},useReducer:function(e,t,i){var a=Gt();if(i!==void 0){var o=i(t);if(Sl){wn(!0);try{i(t)}finally{wn(!1)}}}else o=t;return a.memoizedState=a.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},a.queue=e,e=e.dispatch=$_.bind(null,de,e),[a.memoizedState,e]},useRef:function(e){var t=Gt();return e={current:e},t.memoizedState=e},useState:function(e){e=wu(e);var t=e.queue,i=Ym.bind(null,de,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:ju,useDeferredValue:function(e,t){var i=Gt();return Du(i,e,t)},useTransition:function(){var e=wu(!1);return e=Hm.bind(null,de,e.queue,!0,!1),Gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var a=de,o=Gt();if(Te){if(i===void 0)throw Error(r(407));i=i()}else{if(i=t(),Qe===null)throw Error(r(349));(Se&127)!==0||hm(a,t,i)}o.memoizedState=i;var u={value:i,getSnapshot:t};return o.queue=u,jm(pm.bind(null,a,u,e),[e]),a.flags|=2048,os(9,{destroy:void 0},mm.bind(null,a,u,i,t),null),i},useId:function(){var e=Gt(),t=Qe.identifierPrefix;if(Te){var i=In,a=Hn;i=(a&~(1<<32-gt(a)-1)).toString(32)+i,t="_"+t+"R_"+i,i=Wr++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=k_++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ou,useFormState:Em,useActionState:Em,useOptimistic:function(e){var t=Gt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Ru.bind(null,de,!0,i),i.dispatch=t,[e,t]},useMemoCache:Nu,useCacheRefresh:function(){return Gt().memoizedState=B_.bind(null,de)},useEffectEvent:function(e){var t=Gt(),i={impl:e};return t.memoizedState=i,function(){if((ke&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}},ku={readContext:Ot,use:to,useCallback:zm,useContext:Ot,useEffect:Au,useImperativeHandle:km,useInsertionEffect:Mm,useLayoutEffect:Om,useMemo:Lm,useReducer:no,useRef:Am,useState:function(){return no(ni)},useDebugValue:ju,useDeferredValue:function(e,t){var i=ct();return Um(i,$e.memoizedState,e,t)},useTransition:function(){var e=no(ni)[0],t=ct().memoizedState;return[typeof e=="boolean"?e:pa(e),t]},useSyncExternalStore:fm,useId:$m,useHostTransitionStatus:Ou,useFormState:Cm,useActionState:Cm,useOptimistic:function(e,t){var i=ct();return vm(i,$e,e,t)},useMemoCache:Nu,useCacheRefresh:qm};ku.useEffectEvent=Dm;var Xm={readContext:Ot,use:to,useCallback:zm,useContext:Ot,useEffect:Au,useImperativeHandle:km,useInsertionEffect:Mm,useLayoutEffect:Om,useMemo:Lm,useReducer:Cu,useRef:Am,useState:function(){return Cu(ni)},useDebugValue:ju,useDeferredValue:function(e,t){var i=ct();return $e===null?Du(i,e,t):Um(i,$e.memoizedState,e,t)},useTransition:function(){var e=Cu(ni)[0],t=ct().memoizedState;return[typeof e=="boolean"?e:pa(e),t]},useSyncExternalStore:fm,useId:$m,useHostTransitionStatus:Ou,useFormState:Tm,useActionState:Tm,useOptimistic:function(e,t){var i=ct();return $e!==null?vm(i,$e,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Nu,useCacheRefresh:qm};Xm.useEffectEvent=Dm;function zu(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:_({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Lu={enqueueSetState:function(e,t,i){e=e._reactInternals;var a=dn(),o=Oi(a);o.payload=t,i!=null&&(o.callback=i),t=Ri(e,o,a),t!==null&&(tn(t,e,a),da(t,e,a))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=dn(),o=Oi(a);o.tag=1,o.payload=t,i!=null&&(o.callback=i),t=Ri(e,o,a),t!==null&&(tn(t,e,a),da(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=dn(),a=Oi(i);a.tag=2,t!=null&&(a.callback=t),t=Ri(e,a,i),t!==null&&(tn(t,e,i),da(t,e,i))}};function Fm(e,t,i,a,o,u,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,u,m):t.prototype&&t.prototype.isPureReactComponent?!ia(i,a)||!ia(o,u):!0}function Pm(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&Lu.enqueueReplaceState(t,t.state,null)}function Nl(e,t){var i=t;if("ref"in t){i={};for(var a in t)a!=="ref"&&(i[a]=t[a])}if(e=e.defaultProps){i===t&&(i=_({},i));for(var o in e)i[o]===void 0&&(i[o]=e[o])}return i}function Km(e){Ur(e)}function Zm(e){console.error(e)}function Jm(e){Ur(e)}function ao(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Wm(e,t,i){try{var a=e.onCaughtError;a(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Uu(e,t,i){return i=Oi(i),i.tag=3,i.payload={element:null},i.callback=function(){ao(e,t)},i}function ep(e){return e=Oi(e),e.tag=3,e}function tp(e,t,i,a){var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var u=a.value;e.payload=function(){return o(u)},e.callback=function(){Wm(t,i,a)}}var m=i.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Wm(t,i,a),typeof o!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var v=a.stack;this.componentDidCatch(a.value,{componentStack:v!==null?v:""})})}function q_(e,t,i,a,o){if(i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=i.alternate,t!==null&&es(t,i,o,!0),i=rn.current,i!==null){switch(i.tag){case 31:case 13:return vn===null?_o():i.alternate===null&&st===0&&(st=3),i.flags&=-257,i.flags|=65536,i.lanes=o,a===Xr?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([a]):t.add(a),od(e,a,o)),!1;case 22:return i.flags|=65536,a===Xr?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([a]):i.add(a)),od(e,a,o)),!1}throw Error(r(435,i.tag))}return od(e,a,o),_o(),!1}if(Te)return t=rn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,a!==nu&&(e=Error(r(422),{cause:a}),aa(mn(e,i)))):(a!==nu&&(t=Error(r(423),{cause:a}),aa(mn(t,i))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,a=mn(a,i),o=Uu(e.stateNode,a,o),hu(e,o),st!==4&&(st=2)),!1;var u=Error(r(520),{cause:a});if(u=mn(u,i),Ca===null?Ca=[u]:Ca.push(u),st!==4&&(st=2),t===null)return!0;a=mn(a,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=o&-o,i.lanes|=e,e=Uu(i.stateNode,a,e),hu(i,e),!1;case 1:if(t=i.type,u=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Ii===null||!Ii.has(u))))return i.flags|=65536,o&=-o,i.lanes|=o,o=ep(o),tp(o,e,i,a),hu(i,o),!1}i=i.return}while(i!==null);return!1}var Hu=Error(r(461)),ht=!1;function Rt(e,t,i,a){t.child=e===null?sm(t,null,i,a):bl(t,e.child,i,a)}function np(e,t,i,a,o){i=i.render;var u=t.ref;if("ref"in a){var m={};for(var v in a)v!=="ref"&&(m[v]=a[v])}else m=a;return yl(t),a=_u(e,t,i,m,u,o),v=xu(),e!==null&&!ht?(bu(e,t,o),ii(e,t,o)):(Te&&v&&eu(t),t.flags|=1,Rt(e,t,a,o),t.child)}function ip(e,t,i,a,o){if(e===null){var u=i.type;return typeof u=="function"&&!Zc(u)&&u.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=u,lp(e,t,u,a,o)):(e=$r(i.type,null,a,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Qu(e,o)){var m=u.memoizedProps;if(i=i.compare,i=i!==null?i:ia,i(m,a)&&e.ref===t.ref)return ii(e,t,o)}return t.flags|=1,e=Zn(u,a),e.ref=t.ref,e.return=t,t.child=e}function lp(e,t,i,a,o){if(e!==null){var u=e.memoizedProps;if(ia(u,a)&&e.ref===t.ref)if(ht=!1,t.pendingProps=a=u,Qu(e,o))(e.flags&131072)!==0&&(ht=!0);else return t.lanes=e.lanes,ii(e,t,o)}return Iu(e,t,i,a,o)}function sp(e,t,i,a){var o=a.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|i:i,e!==null){for(a=t.child=e.child,o=0;a!==null;)o=o|a.lanes|a.childLanes,a=a.sibling;a=o&~u}else a=0,t.child=null;return ap(e,t,u,i,a)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vr(t,u!==null?u.cachePool:null),u!==null?om(t,u):pu(),cm(t);else return a=t.lanes=536870912,ap(e,t,u!==null?u.baseLanes|i:i,i,a)}else u!==null?(Vr(t,u.cachePool),om(t,u),zi(),t.memoizedState=null):(e!==null&&Vr(t,null),pu(),zi());return Rt(e,t,o,i),t.child}function va(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ap(e,t,i,a,o){var u=cu();return u=u===null?null:{parent:dt._currentValue,pool:u},t.memoizedState={baseLanes:i,cachePool:u},e!==null&&Vr(t,null),pu(),cm(t),e!==null&&es(e,t,a,!0),t.childLanes=o,null}function ro(e,t){return t=co({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function rp(e,t,i){return bl(t,e.child,null,i),e=ro(t,t.pendingProps),e.flags|=2,on(t),t.memoizedState=null,e}function Y_(e,t,i){var a=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Te){if(a.mode==="hidden")return e=ro(t,a),t.lanes=536870912,va(null,e);if(yu(t),(e=Ze)?(e=_g(e,yn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ti!==null?{id:Hn,overflow:In}:null,retryLane:536870912,hydrationErrors:null},i=Gh(e),i.return=t,t.child=i,Mt=t,Ze=null)):e=null,e===null)throw ji(t);return t.lanes=536870912,null}return ro(t,a)}var u=e.memoizedState;if(u!==null){var m=u.dehydrated;if(yu(t),o)if(t.flags&256)t.flags&=-257,t=rp(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(ht||es(e,t,i,!1),o=(i&e.childLanes)!==0,ht||o){if(a=Qe,a!==null&&(m=We(a,i),m!==0&&m!==u.retryLane))throw u.retryLane=m,hl(e,m),tn(a,e,m),Hu;_o(),t=rp(e,t,i)}else e=u.treeContext,Ze=_n(m.nextSibling),Mt=t,Te=!0,Ai=null,yn=!1,e!==null&&Xh(t,e),t=ro(t,a),t.flags|=4096;return t}return e=Zn(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function oo(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Iu(e,t,i,a,o){return yl(t),i=_u(e,t,i,a,void 0,o),a=xu(),e!==null&&!ht?(bu(e,t,o),ii(e,t,o)):(Te&&a&&eu(t),t.flags|=1,Rt(e,t,i,o),t.child)}function op(e,t,i,a,o,u){return yl(t),t.updateQueue=null,i=dm(t,a,i,o),um(e),a=xu(),e!==null&&!ht?(bu(e,t,u),ii(e,t,u)):(Te&&a&&eu(t),t.flags|=1,Rt(e,t,i,u),t.child)}function cp(e,t,i,a,o){if(yl(t),t.stateNode===null){var u=Kl,m=i.contextType;typeof m=="object"&&m!==null&&(u=Ot(m)),u=new i(a,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Lu,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=a,u.state=t.memoizedState,u.refs={},du(t),m=i.contextType,u.context=typeof m=="object"&&m!==null?Ot(m):Kl,u.state=t.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(zu(t,i,m,a),u.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(m=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),m!==u.state&&Lu.enqueueReplaceState(u,u.state,null),ha(t,a,u,o),fa(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){u=t.stateNode;var v=t.memoizedProps,S=Nl(i,v);u.props=S;var j=u.context,O=i.contextType;m=Kl,typeof O=="object"&&O!==null&&(m=Ot(O));var U=i.getDerivedStateFromProps;O=typeof U=="function"||typeof u.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,O||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v||j!==m)&&Pm(t,u,a,m),Mi=!1;var D=t.memoizedState;u.state=D,ha(t,a,u,o),fa(),j=t.memoizedState,v||D!==j||Mi?(typeof U=="function"&&(zu(t,i,U,a),j=t.memoizedState),(S=Mi||Fm(t,i,S,a,D,j,m))?(O||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=j),u.props=a,u.state=j,u.context=m,a=S):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{u=t.stateNode,fu(e,t),m=t.memoizedProps,O=Nl(i,m),u.props=O,U=t.pendingProps,D=u.context,j=i.contextType,S=Kl,typeof j=="object"&&j!==null&&(S=Ot(j)),v=i.getDerivedStateFromProps,(j=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==U||D!==S)&&Pm(t,u,a,S),Mi=!1,D=t.memoizedState,u.state=D,ha(t,a,u,o),fa();var M=t.memoizedState;m!==U||D!==M||Mi||e!==null&&e.dependencies!==null&&Yr(e.dependencies)?(typeof v=="function"&&(zu(t,i,v,a),M=t.memoizedState),(O=Mi||Fm(t,i,O,a,D,M,S)||e!==null&&e.dependencies!==null&&Yr(e.dependencies))?(j||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(a,M,S),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(a,M,S)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=M),u.props=a,u.state=M,u.context=S,a=O):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),a=!1)}return u=a,oo(e,t),a=(t.flags&128)!==0,u||a?(u=t.stateNode,i=a&&typeof i.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&a?(t.child=bl(t,e.child,null,o),t.child=bl(t,null,i,o)):Rt(e,t,i,o),t.memoizedState=u.state,e=t.child):e=ii(e,t,o),e}function up(e,t,i,a){return pl(),t.flags|=256,Rt(e,t,i,a),t.child}var Bu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $u(e){return{baseLanes:e,cachePool:Wh()}}function qu(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=un),e}function dp(e,t,i){var a=t.pendingProps,o=!1,u=(t.flags&128)!==0,m;if((m=u)||(m=e!==null&&e.memoizedState===null?!1:(ot.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Te){if(o?ki(t):zi(),(e=Ze)?(e=_g(e,yn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ti!==null?{id:Hn,overflow:In}:null,retryLane:536870912,hydrationErrors:null},i=Gh(e),i.return=t,t.child=i,Mt=t,Ze=null)):e=null,e===null)throw ji(t);return Ed(e)?t.lanes=32:t.lanes=536870912,null}var v=a.children;return a=a.fallback,o?(zi(),o=t.mode,v=co({mode:"hidden",children:v},o),a=ml(a,o,i,null),v.return=t,a.return=t,v.sibling=a,t.child=v,a=t.child,a.memoizedState=$u(i),a.childLanes=qu(e,m,i),t.memoizedState=Bu,va(null,a)):(ki(t),Yu(t,v))}var S=e.memoizedState;if(S!==null&&(v=S.dehydrated,v!==null)){if(u)t.flags&256?(ki(t),t.flags&=-257,t=Gu(e,t,i)):t.memoizedState!==null?(zi(),t.child=e.child,t.flags|=128,t=null):(zi(),v=a.fallback,o=t.mode,a=co({mode:"visible",children:a.children},o),v=ml(v,o,i,null),v.flags|=2,a.return=t,v.return=t,a.sibling=v,t.child=a,bl(t,e.child,null,i),a=t.child,a.memoizedState=$u(i),a.childLanes=qu(e,m,i),t.memoizedState=Bu,t=va(null,a));else if(ki(t),Ed(v)){if(m=v.nextSibling&&v.nextSibling.dataset,m)var j=m.dgst;m=j,a=Error(r(419)),a.stack="",a.digest=m,aa({value:a,source:null,stack:null}),t=Gu(e,t,i)}else if(ht||es(e,t,i,!1),m=(i&e.childLanes)!==0,ht||m){if(m=Qe,m!==null&&(a=We(m,i),a!==0&&a!==S.retryLane))throw S.retryLane=a,hl(e,a),tn(m,e,a),Hu;Nd(v)||_o(),t=Gu(e,t,i)}else Nd(v)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,Ze=_n(v.nextSibling),Mt=t,Te=!0,Ai=null,yn=!1,e!==null&&Xh(t,e),t=Yu(t,a.children),t.flags|=4096);return t}return o?(zi(),v=a.fallback,o=t.mode,S=e.child,j=S.sibling,a=Zn(S,{mode:"hidden",children:a.children}),a.subtreeFlags=S.subtreeFlags&65011712,j!==null?v=Zn(j,v):(v=ml(v,o,i,null),v.flags|=2),v.return=t,a.return=t,a.sibling=v,t.child=a,va(null,a),a=t.child,v=e.child.memoizedState,v===null?v=$u(i):(o=v.cachePool,o!==null?(S=dt._currentValue,o=o.parent!==S?{parent:S,pool:S}:o):o=Wh(),v={baseLanes:v.baseLanes|i,cachePool:o}),a.memoizedState=v,a.childLanes=qu(e,m,i),t.memoizedState=Bu,va(e.child,a)):(ki(t),i=e.child,e=i.sibling,i=Zn(i,{mode:"visible",children:a.children}),i.return=t,i.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=i,t.memoizedState=null,i)}function Yu(e,t){return t=co({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function co(e,t){return e=an(22,e,null,t),e.lanes=0,e}function Gu(e,t,i){return bl(t,e.child,null,i),e=Yu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fp(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),su(e.return,t,i)}function Vu(e,t,i,a,o,u){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:o,treeForkCount:u}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=a,m.tail=i,m.tailMode=o,m.treeForkCount=u)}function hp(e,t,i){var a=t.pendingProps,o=a.revealOrder,u=a.tail;a=a.children;var m=ot.current,v=(m&2)!==0;if(v?(m=m&1|2,t.flags|=128):m&=1,G(ot,m),Rt(e,t,a,i),a=Te?sa:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fp(e,i,t);else if(e.tag===19)fp(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(i=t.child,o=null;i!==null;)e=i.alternate,e!==null&&Zr(e)===null&&(o=i),i=i.sibling;i=o,i===null?(o=t.child,t.child=null):(o=i.sibling,i.sibling=null),Vu(t,!1,o,i,u,a);break;case"backwards":case"unstable_legacy-backwards":for(i=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Zr(e)===null){t.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}Vu(t,!0,i,null,u,a);break;case"together":Vu(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function ii(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Hi|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(es(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,i=Zn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Zn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Qu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Yr(e)))}function G_(e,t,i){switch(t.tag){case 3:De(t,t.stateNode.containerInfo),Di(t,dt,e.memoizedState.cache),pl();break;case 27:case 5:Gn(t);break;case 4:De(t,t.stateNode.containerInfo);break;case 10:Di(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,yu(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(ki(t),t.flags|=128,null):(i&t.child.childLanes)!==0?dp(e,t,i):(ki(t),e=ii(e,t,i),e!==null?e.sibling:null);ki(t);break;case 19:var o=(e.flags&128)!==0;if(a=(i&t.childLanes)!==0,a||(es(e,t,i,!1),a=(i&t.childLanes)!==0),o){if(a)return hp(e,t,i);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),G(ot,ot.current),a)break;return null;case 22:return t.lanes=0,sp(e,t,i,t.pendingProps);case 24:Di(t,dt,e.memoizedState.cache)}return ii(e,t,i)}function mp(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)ht=!0;else{if(!Qu(e,i)&&(t.flags&128)===0)return ht=!1,G_(e,t,i);ht=(e.flags&131072)!==0}else ht=!1,Te&&(t.flags&1048576)!==0&&Qh(t,sa,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=_l(t.elementType),t.type=e,typeof e=="function")Zc(e)?(a=Nl(e,a),t.tag=1,t=cp(null,t,e,a,i)):(t.tag=0,t=Iu(null,t,e,a,i));else{if(e!=null){var o=e.$$typeof;if(o===Ve){t.tag=11,t=np(null,t,e,a,i);break e}else if(o===ie){t.tag=14,t=ip(null,t,e,a,i);break e}}throw t=qt(e)||e,Error(r(306,t,""))}}return t;case 0:return Iu(e,t,t.type,t.pendingProps,i);case 1:return a=t.type,o=Nl(a,t.pendingProps),cp(e,t,a,o,i);case 3:e:{if(De(t,t.stateNode.containerInfo),e===null)throw Error(r(387));a=t.pendingProps;var u=t.memoizedState;o=u.element,fu(e,t),ha(t,a,null,i);var m=t.memoizedState;if(a=m.cache,Di(t,dt,a),a!==u.cache&&au(t,[dt],i,!0),fa(),a=m.element,u.isDehydrated)if(u={element:a,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=up(e,t,a,i);break e}else if(a!==o){o=mn(Error(r(424)),t),aa(o),t=up(e,t,a,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ze=_n(e.firstChild),Mt=t,Te=!0,Ai=null,yn=!0,i=sm(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(pl(),a===o){t=ii(e,t,i);break e}Rt(e,t,a,i)}t=t.child}return t;case 26:return oo(e,t),e===null?(i=Cg(t.type,null,t.pendingProps,null))?t.memoizedState=i:Te||(i=t.type,e=t.pendingProps,a=wo(pe.current).createElement(i),a[yt]=t,a[It]=e,kt(a,i,e),ut(a),t.stateNode=a):t.memoizedState=Cg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Gn(t),e===null&&Te&&(a=t.stateNode=Sg(t.type,t.pendingProps,pe.current),Mt=t,yn=!0,o=Ze,Yi(t.type)?(Cd=o,Ze=_n(a.firstChild)):Ze=o),Rt(e,t,t.pendingProps.children,i),oo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Te&&((o=a=Ze)&&(a=xx(a,t.type,t.pendingProps,yn),a!==null?(t.stateNode=a,Mt=t,Ze=_n(a.firstChild),yn=!1,o=!0):o=!1),o||ji(t)),Gn(t),o=t.type,u=t.pendingProps,m=e!==null?e.memoizedProps:null,a=u.children,xd(o,u)?a=null:m!==null&&xd(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=_u(e,t,z_,null,null,i),Ra._currentValue=o),oo(e,t),Rt(e,t,a,i),t.child;case 6:return e===null&&Te&&((e=i=Ze)&&(i=bx(i,t.pendingProps,yn),i!==null?(t.stateNode=i,Mt=t,Ze=null,e=!0):e=!1),e||ji(t)),null;case 13:return dp(e,t,i);case 4:return De(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=bl(t,null,a,i):Rt(e,t,a,i),t.child;case 11:return np(e,t,t.type,t.pendingProps,i);case 7:return Rt(e,t,t.pendingProps,i),t.child;case 8:return Rt(e,t,t.pendingProps.children,i),t.child;case 12:return Rt(e,t,t.pendingProps.children,i),t.child;case 10:return a=t.pendingProps,Di(t,t.type,a.value),Rt(e,t,a.children,i),t.child;case 9:return o=t.type._context,a=t.pendingProps.children,yl(t),o=Ot(o),a=a(o),t.flags|=1,Rt(e,t,a,i),t.child;case 14:return ip(e,t,t.type,t.pendingProps,i);case 15:return lp(e,t,t.type,t.pendingProps,i);case 19:return hp(e,t,i);case 31:return Y_(e,t,i);case 22:return sp(e,t,i,t.pendingProps);case 24:return yl(t),a=Ot(dt),e===null?(o=cu(),o===null&&(o=Qe,u=ru(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=i),o=u),t.memoizedState={parent:a,cache:o},du(t),Di(t,dt,o)):((e.lanes&i)!==0&&(fu(e,t),ha(t,null,null,i),fa()),o=e.memoizedState,u=t.memoizedState,o.parent!==a?(o={parent:a,cache:a},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Di(t,dt,a)):(a=u.cache,Di(t,dt,a),a!==o.cache&&au(t,[dt],i,!0))),Rt(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function li(e){e.flags|=4}function Xu(e,t,i,a,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if($p())e.flags|=8192;else throw xl=Xr,uu}else e.flags&=-16777217}function pp(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Dg(t))if($p())e.flags|=8192;else throw xl=Xr,uu}function uo(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ys():536870912,e.lanes|=t,fs|=t)}function _a(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Je(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var o=e.child;o!==null;)i|=o.lanes|o.childLanes,a|=o.subtreeFlags&65011712,a|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)i|=o.lanes|o.childLanes,a|=o.subtreeFlags,a|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function V_(e,t,i){var a=t.pendingProps;switch(tu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(t),null;case 1:return Je(t),null;case 3:return i=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ei(dt),Xe(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Wl(t)?li(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,iu())),Je(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(li(t),u!==null?(Je(t),pp(t,u)):(Je(t),Xu(t,o,null,a,i))):u?u!==e.memoizedState?(li(t),Je(t),pp(t,u)):(Je(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&li(t),Je(t),Xu(t,o,e,a,i)),null;case 27:if(_i(t),i=pe.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&li(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return Je(t),null}e=Q.current,Wl(t)?Fh(t):(e=Sg(o,a,i),t.stateNode=e,li(t))}return Je(t),null;case 5:if(_i(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&li(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return Je(t),null}if(u=Q.current,Wl(t))Fh(t);else{var m=wo(pe.current);switch(u){case 1:u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=m.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof a.is=="string"?m.createElement("select",{is:a.is}):m.createElement("select"),a.multiple?u.multiple=!0:a.size&&(u.size=a.size);break;default:u=typeof a.is=="string"?m.createElement(o,{is:a.is}):m.createElement(o)}}u[yt]=t,u[It]=a;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)u.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=u;e:switch(kt(u,o,a),o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&li(t)}}return Je(t),Xu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&li(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(r(166));if(e=pe.current,Wl(t)){if(e=t.stateNode,i=t.memoizedProps,a=null,o=Mt,o!==null)switch(o.tag){case 27:case 5:a=o.memoizedProps}e[yt]=t,e=!!(e.nodeValue===i||a!==null&&a.suppressHydrationWarning===!0||dg(e.nodeValue,i)),e||ji(t,!0)}else e=wo(e).createTextNode(a),e[yt]=t,t.stateNode=e}return Je(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(a=Wl(t),i!==null){if(e===null){if(!a)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[yt]=t}else pl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Je(t),e=!1}else i=iu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(on(t),t):(on(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Je(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Wl(t),a!==null&&a.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[yt]=t}else pl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Je(t),o=!1}else o=iu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(on(t),t):(on(t),null)}return on(t),(t.flags&128)!==0?(t.lanes=i,t):(i=a!==null,e=e!==null&&e.memoizedState!==null,i&&(a=t.child,o=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(o=a.alternate.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==o&&(a.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),uo(t,t.updateQueue),Je(t),null);case 4:return Xe(),e===null&&pd(t.stateNode.containerInfo),Je(t),null;case 10:return ei(t.type),Je(t),null;case 19:if(L(ot),a=t.memoizedState,a===null)return Je(t),null;if(o=(t.flags&128)!==0,u=a.rendering,u===null)if(o)_a(a,!1);else{if(st!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Zr(e),u!==null){for(t.flags|=128,_a(a,!1),e=u.updateQueue,t.updateQueue=e,uo(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Yh(i,e),i=i.sibling;return G(ot,ot.current&1|2),Te&&Jn(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&bt()>go&&(t.flags|=128,o=!0,_a(a,!1),t.lanes=4194304)}else{if(!o)if(e=Zr(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,uo(t,e),_a(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!Te)return Je(t),null}else 2*bt()-a.renderingStartTime>go&&i!==536870912&&(t.flags|=128,o=!0,_a(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(e=a.last,e!==null?e.sibling=u:t.child=u,a.last=u)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=bt(),e.sibling=null,i=ot.current,G(ot,o?i&1|2:i&1),Te&&Jn(t,a.treeForkCount),e):(Je(t),null);case 22:case 23:return on(t),gu(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(i&536870912)!==0&&(t.flags&128)===0&&(Je(t),t.subtreeFlags&6&&(t.flags|=8192)):Je(t),i=t.updateQueue,i!==null&&uo(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==i&&(t.flags|=2048),e!==null&&L(vl),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ei(dt),Je(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Q_(e,t){switch(tu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ei(dt),Xe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return _i(t),null;case 31:if(t.memoizedState!==null){if(on(t),t.alternate===null)throw Error(r(340));pl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(on(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));pl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(ot),null;case 4:return Xe(),null;case 10:return ei(t.type),null;case 22:case 23:return on(t),gu(),e!==null&&L(vl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ei(dt),null;case 25:return null;default:return null}}function gp(e,t){switch(tu(t),t.tag){case 3:ei(dt),Xe();break;case 26:case 27:case 5:_i(t);break;case 4:Xe();break;case 31:t.memoizedState!==null&&on(t);break;case 13:on(t);break;case 19:L(ot);break;case 10:ei(t.type);break;case 22:case 23:on(t),gu(),e!==null&&L(vl);break;case 24:ei(dt)}}function xa(e,t){try{var i=t.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var o=a.next;i=o;do{if((i.tag&e)===e){a=void 0;var u=i.create,m=i.inst;a=u(),m.destroy=a}i=i.next}while(i!==o)}}catch(v){Be(t,t.return,v)}}function Li(e,t,i){try{var a=t.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var u=o.next;a=u;do{if((a.tag&e)===e){var m=a.inst,v=m.destroy;if(v!==void 0){m.destroy=void 0,o=t;var S=i,j=v;try{j()}catch(O){Be(o,S,O)}}}a=a.next}while(a!==u)}}catch(O){Be(t,t.return,O)}}function yp(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{rm(t,i)}catch(a){Be(e,e.return,a)}}}function vp(e,t,i){i.props=Nl(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(a){Be(e,t,a)}}function ba(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof i=="function"?e.refCleanup=i(a):i.current=a}}catch(o){Be(e,t,o)}}function Bn(e,t){var i=e.ref,a=e.refCleanup;if(i!==null)if(typeof a=="function")try{a()}catch(o){Be(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(o){Be(e,t,o)}else i.current=null}function _p(e){var t=e.type,i=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&a.focus();break e;case"img":i.src?a.src=i.src:i.srcSet&&(a.srcset=i.srcSet)}}catch(o){Be(e,e.return,o)}}function Fu(e,t,i){try{var a=e.stateNode;mx(a,e.type,i,t),a[It]=t}catch(o){Be(e,e.return,o)}}function xp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Yi(e.type)||e.tag===4}function Pu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Yi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ku(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Pn));else if(a!==4&&(a===27&&Yi(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Ku(e,t,i),e=e.sibling;e!==null;)Ku(e,t,i),e=e.sibling}function fo(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(a===27&&Yi(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(fo(e,t,i),e=e.sibling;e!==null;)fo(e,t,i),e=e.sibling}function bp(e){var t=e.stateNode,i=e.memoizedProps;try{for(var a=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);kt(t,a,i),t[yt]=e,t[It]=i}catch(u){Be(e,e.return,u)}}var si=!1,mt=!1,Zu=!1,Sp=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function X_(e,t){if(e=e.containerInfo,vd=Ro,e=kh(e),Gc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var o=a.anchorOffset,u=a.focusNode;a=a.focusOffset;try{i.nodeType,u.nodeType}catch{i=null;break e}var m=0,v=-1,S=-1,j=0,O=0,U=e,D=null;t:for(;;){for(var M;U!==i||o!==0&&U.nodeType!==3||(v=m+o),U!==u||a!==0&&U.nodeType!==3||(S=m+a),U.nodeType===3&&(m+=U.nodeValue.length),(M=U.firstChild)!==null;)D=U,U=M;for(;;){if(U===e)break t;if(D===i&&++j===o&&(v=m),D===u&&++O===a&&(S=m),(M=U.nextSibling)!==null)break;U=D,D=U.parentNode}U=M}i=v===-1||S===-1?null:{start:v,end:S}}else i=null}i=i||{start:0,end:0}}else i=null;for(_d={focusedElem:e,selectionRange:i},Ro=!1,Nt=t;Nt!==null;)if(t=Nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Nt=e;else for(;Nt!==null;){switch(t=Nt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)o=e[i],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,i=t,o=u.memoizedProps,u=u.memoizedState,a=i.stateNode;try{var F=Nl(i.type,o);e=a.getSnapshotBeforeUpdate(F,u),a.__reactInternalSnapshotBeforeUpdate=e}catch(le){Be(i,i.return,le)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Sd(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Sd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Nt=e;break}Nt=t.return}}function Np(e,t,i){var a=i.flags;switch(i.tag){case 0:case 11:case 15:ri(e,i),a&4&&xa(5,i);break;case 1:if(ri(e,i),a&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(m){Be(i,i.return,m)}else{var o=Nl(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Be(i,i.return,m)}}a&64&&yp(i),a&512&&ba(i,i.return);break;case 3:if(ri(e,i),a&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{rm(e,t)}catch(m){Be(i,i.return,m)}}break;case 27:t===null&&a&4&&bp(i);case 26:case 5:ri(e,i),t===null&&a&4&&_p(i),a&512&&ba(i,i.return);break;case 12:ri(e,i);break;case 31:ri(e,i),a&4&&wp(e,i);break;case 13:ri(e,i),a&4&&Tp(e,i),a&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=nx.bind(null,i),Sx(e,i))));break;case 22:if(a=i.memoizedState!==null||si,!a){t=t!==null&&t.memoizedState!==null||mt,o=si;var u=mt;si=a,(mt=t)&&!u?oi(e,i,(i.subtreeFlags&8772)!==0):ri(e,i),si=o,mt=u}break;case 30:break;default:ri(e,i)}}function Ep(e){var t=e.alternate;t!==null&&(e.alternate=null,Ep(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Fs(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var et=null,Zt=!1;function ai(e,t,i){for(i=i.child;i!==null;)Cp(e,t,i),i=i.sibling}function Cp(e,t,i){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Cn,i)}catch{}switch(i.tag){case 26:mt||Bn(i,t),ai(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:mt||Bn(i,t);var a=et,o=Zt;Yi(i.type)&&(et=i.stateNode,Zt=!1),ai(e,t,i),Da(i.stateNode),et=a,Zt=o;break;case 5:mt||Bn(i,t);case 6:if(a=et,o=Zt,et=null,ai(e,t,i),et=a,Zt=o,et!==null)if(Zt)try{(et.nodeType===9?et.body:et.nodeName==="HTML"?et.ownerDocument.body:et).removeChild(i.stateNode)}catch(u){Be(i,t,u)}else try{et.removeChild(i.stateNode)}catch(u){Be(i,t,u)}break;case 18:et!==null&&(Zt?(e=et,yg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),xs(e)):yg(et,i.stateNode));break;case 4:a=et,o=Zt,et=i.stateNode.containerInfo,Zt=!0,ai(e,t,i),et=a,Zt=o;break;case 0:case 11:case 14:case 15:Li(2,i,t),mt||Li(4,i,t),ai(e,t,i);break;case 1:mt||(Bn(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"&&vp(i,t,a)),ai(e,t,i);break;case 21:ai(e,t,i);break;case 22:mt=(a=mt)||i.memoizedState!==null,ai(e,t,i),mt=a;break;default:ai(e,t,i)}}function wp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{xs(e)}catch(i){Be(t,t.return,i)}}}function Tp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{xs(e)}catch(i){Be(t,t.return,i)}}function F_(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Sp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Sp),t;default:throw Error(r(435,e.tag))}}function ho(e,t){var i=F_(e);t.forEach(function(a){if(!i.has(a)){i.add(a);var o=ix.bind(null,e,a);a.then(o,o)}})}function Jt(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var o=i[a],u=e,m=t,v=m;e:for(;v!==null;){switch(v.tag){case 27:if(Yi(v.type)){et=v.stateNode,Zt=!1;break e}break;case 5:et=v.stateNode,Zt=!1;break e;case 3:case 4:et=v.stateNode.containerInfo,Zt=!0;break e}v=v.return}if(et===null)throw Error(r(160));Cp(u,m,o),et=null,Zt=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Ap(t,e),t=t.sibling}var Dn=null;function Ap(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Jt(t,e),Wt(e),a&4&&(Li(3,e,e.return),xa(3,e),Li(5,e,e.return));break;case 1:Jt(t,e),Wt(e),a&512&&(mt||i===null||Bn(i,i.return)),a&64&&si&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?a:i.concat(a))));break;case 26:var o=Dn;if(Jt(t,e),Wt(e),a&512&&(mt||i===null||Bn(i,i.return)),a&4){var u=i!==null?i.memoizedState:null;if(a=e.memoizedState,i===null)if(a===null)if(e.stateNode===null){e:{a=e.type,i=e.memoizedProps,o=o.ownerDocument||o;t:switch(a){case"title":u=o.getElementsByTagName("title")[0],(!u||u[ol]||u[yt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(a),o.head.insertBefore(u,o.querySelector("head > title"))),kt(u,a,i),u[yt]=e,ut(u),a=u;break e;case"link":var m=Ag("link","href",o).get(a+(i.href||""));if(m){for(var v=0;v<m.length;v++)if(u=m[v],u.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&u.getAttribute("rel")===(i.rel==null?null:i.rel)&&u.getAttribute("title")===(i.title==null?null:i.title)&&u.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){m.splice(v,1);break t}}u=o.createElement(a),kt(u,a,i),o.head.appendChild(u);break;case"meta":if(m=Ag("meta","content",o).get(a+(i.content||""))){for(v=0;v<m.length;v++)if(u=m[v],u.getAttribute("content")===(i.content==null?null:""+i.content)&&u.getAttribute("name")===(i.name==null?null:i.name)&&u.getAttribute("property")===(i.property==null?null:i.property)&&u.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&u.getAttribute("charset")===(i.charSet==null?null:i.charSet)){m.splice(v,1);break t}}u=o.createElement(a),kt(u,a,i),o.head.appendChild(u);break;default:throw Error(r(468,a))}u[yt]=e,ut(u),a=u}e.stateNode=a}else jg(o,e.type,e.stateNode);else e.stateNode=Tg(o,a,e.memoizedProps);else u!==a?(u===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):u.count--,a===null?jg(o,e.type,e.stateNode):Tg(o,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Fu(e,e.memoizedProps,i.memoizedProps)}break;case 27:Jt(t,e),Wt(e),a&512&&(mt||i===null||Bn(i,i.return)),i!==null&&a&4&&Fu(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Jt(t,e),Wt(e),a&512&&(mt||i===null||Bn(i,i.return)),e.flags&32){o=e.stateNode;try{Yl(o,"")}catch(F){Be(e,e.return,F)}}a&4&&e.stateNode!=null&&(o=e.memoizedProps,Fu(e,o,i!==null?i.memoizedProps:o)),a&1024&&(Zu=!0);break;case 6:if(Jt(t,e),Wt(e),a&4){if(e.stateNode===null)throw Error(r(162));a=e.memoizedProps,i=e.stateNode;try{i.nodeValue=a}catch(F){Be(e,e.return,F)}}break;case 3:if(jo=null,o=Dn,Dn=To(t.containerInfo),Jt(t,e),Dn=o,Wt(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{xs(t.containerInfo)}catch(F){Be(e,e.return,F)}Zu&&(Zu=!1,jp(e));break;case 4:a=Dn,Dn=To(e.stateNode.containerInfo),Jt(t,e),Wt(e),Dn=a;break;case 12:Jt(t,e),Wt(e);break;case 31:Jt(t,e),Wt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ho(e,a)));break;case 13:Jt(t,e),Wt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(po=bt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ho(e,a)));break;case 22:o=e.memoizedState!==null;var S=i!==null&&i.memoizedState!==null,j=si,O=mt;if(si=j||o,mt=O||S,Jt(t,e),mt=O,si=j,Wt(e),a&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(i===null||S||si||mt||El(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){S=i=t;try{if(u=S.stateNode,o)m=u.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{v=S.stateNode;var U=S.memoizedProps.style,D=U!=null&&U.hasOwnProperty("display")?U.display:null;v.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(F){Be(S,S.return,F)}}}else if(t.tag===6){if(i===null){S=t;try{S.stateNode.nodeValue=o?"":S.memoizedProps}catch(F){Be(S,S.return,F)}}}else if(t.tag===18){if(i===null){S=t;try{var M=S.stateNode;o?vg(M,!0):vg(S.stateNode,!1)}catch(F){Be(S,S.return,F)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(i=a.retryQueue,i!==null&&(a.retryQueue=null,ho(e,i))));break;case 19:Jt(t,e),Wt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ho(e,a)));break;case 30:break;case 21:break;default:Jt(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{for(var i,a=e.return;a!==null;){if(xp(a)){i=a;break}a=a.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var o=i.stateNode,u=Pu(e);fo(e,u,o);break;case 5:var m=i.stateNode;i.flags&32&&(Yl(m,""),i.flags&=-33);var v=Pu(e);fo(e,v,m);break;case 3:case 4:var S=i.stateNode.containerInfo,j=Pu(e);Ku(e,j,S);break;default:throw Error(r(161))}}catch(O){Be(e,e.return,O)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;jp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ri(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Np(e,t.alternate,t),t=t.sibling}function El(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Li(4,t,t.return),El(t);break;case 1:Bn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&vp(t,t.return,i),El(t);break;case 27:Da(t.stateNode);case 26:case 5:Bn(t,t.return),El(t);break;case 22:t.memoizedState===null&&El(t);break;case 30:El(t);break;default:El(t)}e=e.sibling}}function oi(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,o=e,u=t,m=u.flags;switch(u.tag){case 0:case 11:case 15:oi(o,u,i),xa(4,u);break;case 1:if(oi(o,u,i),a=u,o=a.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(j){Be(a,a.return,j)}if(a=u,o=a.updateQueue,o!==null){var v=a.stateNode;try{var S=o.shared.hiddenCallbacks;if(S!==null)for(o.shared.hiddenCallbacks=null,o=0;o<S.length;o++)am(S[o],v)}catch(j){Be(a,a.return,j)}}i&&m&64&&yp(u),ba(u,u.return);break;case 27:bp(u);case 26:case 5:oi(o,u,i),i&&a===null&&m&4&&_p(u),ba(u,u.return);break;case 12:oi(o,u,i);break;case 31:oi(o,u,i),i&&m&4&&wp(o,u);break;case 13:oi(o,u,i),i&&m&4&&Tp(o,u);break;case 22:u.memoizedState===null&&oi(o,u,i),ba(u,u.return);break;case 30:break;default:oi(o,u,i)}t=t.sibling}}function Ju(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&ra(i))}function Wu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ra(e))}function Mn(e,t,i,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Dp(e,t,i,a),t=t.sibling}function Dp(e,t,i,a){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Mn(e,t,i,a),o&2048&&xa(9,t);break;case 1:Mn(e,t,i,a);break;case 3:Mn(e,t,i,a),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ra(e)));break;case 12:if(o&2048){Mn(e,t,i,a),e=t.stateNode;try{var u=t.memoizedProps,m=u.id,v=u.onPostCommit;typeof v=="function"&&v(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){Be(t,t.return,S)}}else Mn(e,t,i,a);break;case 31:Mn(e,t,i,a);break;case 13:Mn(e,t,i,a);break;case 23:break;case 22:u=t.stateNode,m=t.alternate,t.memoizedState!==null?u._visibility&2?Mn(e,t,i,a):Sa(e,t):u._visibility&2?Mn(e,t,i,a):(u._visibility|=2,cs(e,t,i,a,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Ju(m,t);break;case 24:Mn(e,t,i,a),o&2048&&Wu(t.alternate,t);break;default:Mn(e,t,i,a)}}function cs(e,t,i,a,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,m=t,v=i,S=a,j=m.flags;switch(m.tag){case 0:case 11:case 15:cs(u,m,v,S,o),xa(8,m);break;case 23:break;case 22:var O=m.stateNode;m.memoizedState!==null?O._visibility&2?cs(u,m,v,S,o):Sa(u,m):(O._visibility|=2,cs(u,m,v,S,o)),o&&j&2048&&Ju(m.alternate,m);break;case 24:cs(u,m,v,S,o),o&&j&2048&&Wu(m.alternate,m);break;default:cs(u,m,v,S,o)}t=t.sibling}}function Sa(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,a=t,o=a.flags;switch(a.tag){case 22:Sa(i,a),o&2048&&Ju(a.alternate,a);break;case 24:Sa(i,a),o&2048&&Wu(a.alternate,a);break;default:Sa(i,a)}t=t.sibling}}var Na=8192;function us(e,t,i){if(e.subtreeFlags&Na)for(e=e.child;e!==null;)Mp(e,t,i),e=e.sibling}function Mp(e,t,i){switch(e.tag){case 26:us(e,t,i),e.flags&Na&&e.memoizedState!==null&&kx(i,Dn,e.memoizedState,e.memoizedProps);break;case 5:us(e,t,i);break;case 3:case 4:var a=Dn;Dn=To(e.stateNode.containerInfo),us(e,t,i),Dn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Na,Na=16777216,us(e,t,i),Na=a):us(e,t,i));break;default:us(e,t,i)}}function Op(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ea(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];Nt=a,kp(a,e)}Op(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Rp(e),e=e.sibling}function Rp(e){switch(e.tag){case 0:case 11:case 15:Ea(e),e.flags&2048&&Li(9,e,e.return);break;case 3:Ea(e);break;case 12:Ea(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,mo(e)):Ea(e);break;default:Ea(e)}}function mo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];Nt=a,kp(a,e)}Op(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Li(8,t,t.return),mo(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,mo(t));break;default:mo(t)}e=e.sibling}}function kp(e,t){for(;Nt!==null;){var i=Nt;switch(i.tag){case 0:case 11:case 15:Li(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var a=i.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ra(i.memoizedState.cache)}if(a=i.child,a!==null)a.return=i,Nt=a;else e:for(i=e;Nt!==null;){a=Nt;var o=a.sibling,u=a.return;if(Ep(a),a===i){Nt=null;break e}if(o!==null){o.return=u,Nt=o;break e}Nt=u}}}var P_={getCacheForType:function(e){var t=Ot(dt),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return Ot(dt).controller.signal}},K_=typeof WeakMap=="function"?WeakMap:Map,ke=0,Qe=null,_e=null,Se=0,Ie=0,cn=null,Ui=!1,ds=!1,ed=!1,ci=0,st=0,Hi=0,Cl=0,td=0,un=0,fs=0,Ca=null,en=null,nd=!1,po=0,zp=0,go=1/0,yo=null,Ii=null,vt=0,Bi=null,hs=null,ui=0,id=0,ld=null,Lp=null,wa=0,sd=null;function dn(){return(ke&2)!==0&&Se!==0?Se&-Se:R.T!==null?dd():Qs()}function Up(){if(un===0)if((Se&536870912)===0||Te){var e=Ft;Ft<<=1,(Ft&3932160)===0&&(Ft=262144),un=e}else un=536870912;return e=rn.current,e!==null&&(e.flags|=32),un}function tn(e,t,i){(e===Qe&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)&&(ms(e,0),$i(e,Se,un,!1)),bi(e,i),((ke&2)===0||e!==Qe)&&(e===Qe&&((ke&2)===0&&(Cl|=i),st===4&&$i(e,Se,un,!1)),$n(e))}function Hp(e,t,i){if((ke&6)!==0)throw Error(r(327));var a=!i&&(t&127)===0&&(t&e.expiredLanes)===0||Ln(e,t),o=a?W_(e,t):rd(e,t,!0),u=a;do{if(o===0){ds&&!a&&$i(e,t,0,!1);break}else{if(i=e.current.alternate,u&&!Z_(i)){o=rd(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var v=e;o=Ca;var S=v.current.memoizedState.isDehydrated;if(S&&(ms(v,m).flags|=256),m=rd(v,m,!1),m!==2){if(ed&&!S){v.errorRecoveryDisabledLanes|=u,Cl|=u,o=4;break e}u=en,en=o,u!==null&&(en===null?en=u:en.push.apply(en,u))}o=m}if(u=!1,o!==2)continue}}if(o===1){ms(e,0),$i(e,t,0,!0);break}e:{switch(a=e,u=o,u){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:$i(a,t,un,!Ui);break e;case 2:en=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=po+300-bt(),10<o)){if($i(a,t,un,!Ui),Xn(a,0,!0)!==0)break e;ui=t,a.timeoutHandle=pg(Ip.bind(null,a,i,en,yo,nd,t,un,Cl,fs,Ui,u,"Throttled",-0,0),o);break e}Ip(a,i,en,yo,nd,t,un,Cl,fs,Ui,u,null,-0,0)}}break}while(!0);$n(e)}function Ip(e,t,i,a,o,u,m,v,S,j,O,U,D,M){if(e.timeoutHandle=-1,U=t.subtreeFlags,U&8192||(U&16785408)===16785408){U={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pn},Mp(t,u,U);var F=(u&62914560)===u?po-bt():(u&4194048)===u?zp-bt():0;if(F=zx(U,F),F!==null){ui=u,e.cancelPendingCommit=F(Xp.bind(null,e,t,u,i,a,o,m,v,S,O,U,null,D,M)),$i(e,u,m,!j);return}}Xp(e,t,u,i,a,o,m,v,S)}function Z_(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var a=0;a<i.length;a++){var o=i[a],u=o.getSnapshot;o=o.value;try{if(!sn(u(),o))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $i(e,t,i,a){t&=~td,t&=~Cl,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var o=t;0<o;){var u=31-gt(o),m=1<<u;a[u]=-1,o&=~m}i!==0&&Nr(e,i,t)}function vo(){return(ke&6)===0?(Ta(0),!1):!0}function ad(){if(_e!==null){if(Ie===0)var e=_e.return;else e=_e,Wn=gl=null,Su(e),ls=null,ca=0,e=_e;for(;e!==null;)gp(e.alternate,e),e=e.return;_e=null}}function ms(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,yx(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),ui=0,ad(),Qe=e,_e=i=Zn(e.current,null),Se=t,Ie=0,cn=null,Ui=!1,ds=Ln(e,t),ed=!1,fs=un=td=Cl=Hi=st=0,en=Ca=null,nd=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var o=31-gt(a),u=1<<o;t|=e[o],a&=~u}return ci=t,Hr(),i}function Bp(e,t){de=null,R.H=ya,t===is||t===Qr?(t=nm(),Ie=3):t===uu?(t=nm(),Ie=4):Ie=t===Hu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,cn=t,_e===null&&(st=1,ao(e,mn(t,e.current)))}function $p(){var e=rn.current;return e===null?!0:(Se&4194048)===Se?vn===null:(Se&62914560)===Se||(Se&536870912)!==0?e===vn:!1}function qp(){var e=R.H;return R.H=ya,e===null?ya:e}function Yp(){var e=R.A;return R.A=P_,e}function _o(){st=4,Ui||(Se&4194048)!==Se&&rn.current!==null||(ds=!0),(Hi&134217727)===0&&(Cl&134217727)===0||Qe===null||$i(Qe,Se,un,!1)}function rd(e,t,i){var a=ke;ke|=2;var o=qp(),u=Yp();(Qe!==e||Se!==t)&&(yo=null,ms(e,t)),t=!1;var m=st;e:do try{if(Ie!==0&&_e!==null){var v=_e,S=cn;switch(Ie){case 8:ad(),m=6;break e;case 3:case 2:case 9:case 6:rn.current===null&&(t=!0);var j=Ie;if(Ie=0,cn=null,ps(e,v,S,j),i&&ds){m=0;break e}break;default:j=Ie,Ie=0,cn=null,ps(e,v,S,j)}}J_(),m=st;break}catch(O){Bp(e,O)}while(!0);return t&&e.shellSuspendCounter++,Wn=gl=null,ke=a,R.H=o,R.A=u,_e===null&&(Qe=null,Se=0,Hr()),m}function J_(){for(;_e!==null;)Gp(_e)}function W_(e,t){var i=ke;ke|=2;var a=qp(),o=Yp();Qe!==e||Se!==t?(yo=null,go=bt()+500,ms(e,t)):ds=Ln(e,t);e:do try{if(Ie!==0&&_e!==null){t=_e;var u=cn;t:switch(Ie){case 1:Ie=0,cn=null,ps(e,t,u,1);break;case 2:case 9:if(em(u)){Ie=0,cn=null,Vp(t);break}t=function(){Ie!==2&&Ie!==9||Qe!==e||(Ie=7),$n(e)},u.then(t,t);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:em(u)?(Ie=0,cn=null,Vp(t)):(Ie=0,cn=null,ps(e,t,u,7));break;case 5:var m=null;switch(_e.tag){case 26:m=_e.memoizedState;case 5:case 27:var v=_e;if(m?Dg(m):v.stateNode.complete){Ie=0,cn=null;var S=v.sibling;if(S!==null)_e=S;else{var j=v.return;j!==null?(_e=j,xo(j)):_e=null}break t}}Ie=0,cn=null,ps(e,t,u,5);break;case 6:Ie=0,cn=null,ps(e,t,u,6);break;case 8:ad(),st=6;break e;default:throw Error(r(462))}}ex();break}catch(O){Bp(e,O)}while(!0);return Wn=gl=null,R.H=a,R.A=o,ke=i,_e!==null?0:(Qe=null,Se=0,Hr(),st)}function ex(){for(;_e!==null&&!br();)Gp(_e)}function Gp(e){var t=mp(e.alternate,e,ci);e.memoizedProps=e.pendingProps,t===null?xo(e):_e=t}function Vp(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=op(i,t,t.pendingProps,t.type,void 0,Se);break;case 11:t=op(i,t,t.pendingProps,t.type.render,t.ref,Se);break;case 5:Su(t);default:gp(i,t),t=_e=Yh(t,ci),t=mp(i,t,ci)}e.memoizedProps=e.pendingProps,t===null?xo(e):_e=t}function ps(e,t,i,a){Wn=gl=null,Su(t),ls=null,ca=0;var o=t.return;try{if(q_(e,o,t,i,Se)){st=1,ao(e,mn(i,e.current)),_e=null;return}}catch(u){if(o!==null)throw _e=o,u;st=1,ao(e,mn(i,e.current)),_e=null;return}t.flags&32768?(Te||a===1?e=!0:ds||(Se&536870912)!==0?e=!1:(Ui=e=!0,(a===2||a===9||a===3||a===6)&&(a=rn.current,a!==null&&a.tag===13&&(a.flags|=16384))),Qp(t,e)):xo(t)}function xo(e){var t=e;do{if((t.flags&32768)!==0){Qp(t,Ui);return}e=t.return;var i=V_(t.alternate,t,ci);if(i!==null){_e=i;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);st===0&&(st=5)}function Qp(e,t){do{var i=Q_(e.alternate,e);if(i!==null){i.flags&=32767,_e=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){_e=e;return}_e=e=i}while(e!==null);st=6,_e=null}function Xp(e,t,i,a,o,u,m,v,S){e.cancelPendingCommit=null;do bo();while(vt!==0);if((ke&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(u=t.lanes|t.childLanes,u|=Pc,b(e,i,u,m,v,S),e===Qe&&(_e=Qe=null,Se=0),hs=t,Bi=e,ui=i,id=u,ld=o,Lp=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,lx(Qn,function(){return Jp(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=R.T,R.T=null,o=Y.p,Y.p=2,m=ke,ke|=4;try{X_(e,t,i)}finally{ke=m,Y.p=o,R.T=a}}vt=1,Fp(),Pp(),Kp()}}function Fp(){if(vt===1){vt=0;var e=Bi,t=hs,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=R.T,R.T=null;var a=Y.p;Y.p=2;var o=ke;ke|=4;try{Ap(t,e);var u=_d,m=kh(e.containerInfo),v=u.focusedElem,S=u.selectionRange;if(m!==v&&v&&v.ownerDocument&&Rh(v.ownerDocument.documentElement,v)){if(S!==null&&Gc(v)){var j=S.start,O=S.end;if(O===void 0&&(O=j),"selectionStart"in v)v.selectionStart=j,v.selectionEnd=Math.min(O,v.value.length);else{var U=v.ownerDocument||document,D=U&&U.defaultView||window;if(D.getSelection){var M=D.getSelection(),F=v.textContent.length,le=Math.min(S.start,F),Ye=S.end===void 0?le:Math.min(S.end,F);!M.extend&&le>Ye&&(m=Ye,Ye=le,le=m);var T=Oh(v,le),E=Oh(v,Ye);if(T&&E&&(M.rangeCount!==1||M.anchorNode!==T.node||M.anchorOffset!==T.offset||M.focusNode!==E.node||M.focusOffset!==E.offset)){var A=U.createRange();A.setStart(T.node,T.offset),M.removeAllRanges(),le>Ye?(M.addRange(A),M.extend(E.node,E.offset)):(A.setEnd(E.node,E.offset),M.addRange(A))}}}}for(U=[],M=v;M=M.parentNode;)M.nodeType===1&&U.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<U.length;v++){var k=U[v];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}Ro=!!vd,_d=vd=null}finally{ke=o,Y.p=a,R.T=i}}e.current=t,vt=2}}function Pp(){if(vt===2){vt=0;var e=Bi,t=hs,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=R.T,R.T=null;var a=Y.p;Y.p=2;var o=ke;ke|=4;try{Np(e,t.alternate,t)}finally{ke=o,Y.p=a,R.T=i}}vt=3}}function Kp(){if(vt===4||vt===3){vt=0,Is();var e=Bi,t=hs,i=ui,a=Lp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?vt=5:(vt=0,hs=Bi=null,Zp(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Ii=null),Vs(i),t=t.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Cn,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=R.T,o=Y.p,Y.p=2,R.T=null;try{for(var u=e.onRecoverableError,m=0;m<a.length;m++){var v=a[m];u(v.value,{componentStack:v.stack})}}finally{R.T=t,Y.p=o}}(ui&3)!==0&&bo(),$n(e),o=e.pendingLanes,(i&261930)!==0&&(o&42)!==0?e===sd?wa++:(wa=0,sd=e):wa=0,Ta(0)}}function Zp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ra(t)))}function bo(){return Fp(),Pp(),Kp(),Jp()}function Jp(){if(vt!==5)return!1;var e=Bi,t=id;id=0;var i=Vs(ui),a=R.T,o=Y.p;try{Y.p=32>i?32:i,R.T=null,i=ld,ld=null;var u=Bi,m=ui;if(vt=0,hs=Bi=null,ui=0,(ke&6)!==0)throw Error(r(331));var v=ke;if(ke|=4,Rp(u.current),Dp(u,u.current,m,i),ke=v,Ta(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Cn,u)}catch{}return!0}finally{Y.p=o,R.T=a,Zp(e,t)}}function Wp(e,t,i){t=mn(i,t),t=Uu(e.stateNode,t,2),e=Ri(e,t,2),e!==null&&(bi(e,2),$n(e))}function Be(e,t,i){if(e.tag===3)Wp(e,e,i);else for(;t!==null;){if(t.tag===3){Wp(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ii===null||!Ii.has(a))){e=mn(i,e),i=ep(2),a=Ri(t,i,2),a!==null&&(tp(i,a,t,e),bi(a,2),$n(a));break}}t=t.return}}function od(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new K_;var o=new Set;a.set(t,o)}else o=a.get(t),o===void 0&&(o=new Set,a.set(t,o));o.has(i)||(ed=!0,o.add(i),e=tx.bind(null,e,t,i),t.then(e,e))}function tx(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Qe===e&&(Se&i)===i&&(st===4||st===3&&(Se&62914560)===Se&&300>bt()-po?(ke&2)===0&&ms(e,0):td|=i,fs===Se&&(fs=0)),$n(e)}function eg(e,t){t===0&&(t=Ys()),e=hl(e,t),e!==null&&(bi(e,t),$n(e))}function nx(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),eg(e,i)}function ix(e,t){var i=0;switch(e.tag){case 31:case 13:var a=e.stateNode,o=e.memoizedState;o!==null&&(i=o.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(t),eg(e,i)}function lx(e,t){return Ul(e,t)}var So=null,gs=null,cd=!1,No=!1,ud=!1,qi=0;function $n(e){e!==gs&&e.next===null&&(gs===null?So=gs=e:gs=gs.next=e),No=!0,cd||(cd=!0,ax())}function Ta(e,t){if(!ud&&No){ud=!0;do for(var i=!1,a=So;a!==null;){if(e!==0){var o=a.pendingLanes;if(o===0)var u=0;else{var m=a.suspendedLanes,v=a.pingedLanes;u=(1<<31-gt(42|e)+1)-1,u&=o&~(m&~v),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(i=!0,lg(a,u))}else u=Se,u=Xn(a,a===Qe?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(u&3)===0||Ln(a,u)||(i=!0,lg(a,u));a=a.next}while(i);ud=!1}}function sx(){tg()}function tg(){No=cd=!1;var e=0;qi!==0&&gx()&&(e=qi);for(var t=bt(),i=null,a=So;a!==null;){var o=a.next,u=ng(a,t);u===0?(a.next=null,i===null?So=o:i.next=o,o===null&&(gs=i)):(i=a,(e!==0||(u&3)!==0)&&(No=!0)),a=o}vt!==0&&vt!==5||Ta(e),qi!==0&&(qi=0)}function ng(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var m=31-gt(u),v=1<<m,S=o[m];S===-1?((v&i)===0||(v&a)!==0)&&(o[m]=Il(v,t)):S<=t&&(e.expiredLanes|=v),u&=~v}if(t=Qe,i=Se,i=Xn(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,i===0||e===t&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Xt(a),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Ln(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(a!==null&&Xt(a),Vs(i)){case 2:case 8:i=Bs;break;case 32:i=Qn;break;case 268435456:i=Dt;break;default:i=Qn}return a=ig.bind(null,e),i=Ul(i,a),e.callbackPriority=t,e.callbackNode=i,t}return a!==null&&a!==null&&Xt(a),e.callbackPriority=2,e.callbackNode=null,2}function ig(e,t){if(vt!==0&&vt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(bo()&&e.callbackNode!==i)return null;var a=Se;return a=Xn(e,e===Qe?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Hp(e,a,t),ng(e,bt()),e.callbackNode!=null&&e.callbackNode===i?ig.bind(null,e):null)}function lg(e,t){if(bo())return null;Hp(e,t,!0)}function ax(){vx(function(){(ke&6)!==0?Ul(Vn,sx):tg()})}function dd(){if(qi===0){var e=ts;e===0&&(e=al,al<<=1,(al&261888)===0&&(al=256)),qi=e}return qi}function sg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Dr(""+e)}function ag(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function rx(e,t,i,a,o){if(t==="submit"&&i&&i.stateNode===o){var u=sg((o[It]||null).action),m=a.submitter;m&&(t=(t=m[It]||null)?sg(t.formAction):m.getAttribute("formAction"),t!==null&&(u=t,m=null));var v=new kr("action","action",null,a,o);e.push({event:v,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(qi!==0){var S=m?ag(o,m):new FormData(o);Mu(i,{pending:!0,data:S,method:o.method,action:u},null,S)}}else typeof u=="function"&&(v.preventDefault(),S=m?ag(o,m):new FormData(o),Mu(i,{pending:!0,data:S,method:o.method,action:u},u,S))},currentTarget:o}]})}}for(var fd=0;fd<Fc.length;fd++){var hd=Fc[fd],ox=hd.toLowerCase(),cx=hd[0].toUpperCase()+hd.slice(1);jn(ox,"on"+cx)}jn(Uh,"onAnimationEnd"),jn(Hh,"onAnimationIteration"),jn(Ih,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(C_,"onTransitionRun"),jn(w_,"onTransitionStart"),jn(T_,"onTransitionCancel"),jn(Bh,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),St("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),St("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),St("onBeforeInput",["compositionend","keypress","textInput","paste"]),St("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),St("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),St("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ux=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Aa));function rg(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],o=a.event;a=a.listeners;e:{var u=void 0;if(t)for(var m=a.length-1;0<=m;m--){var v=a[m],S=v.instance,j=v.currentTarget;if(v=v.listener,S!==u&&o.isPropagationStopped())break e;u=v,o.currentTarget=j;try{u(o)}catch(O){Ur(O)}o.currentTarget=null,u=S}else for(m=0;m<a.length;m++){if(v=a[m],S=v.instance,j=v.currentTarget,v=v.listener,S!==u&&o.isPropagationStopped())break e;u=v,o.currentTarget=j;try{u(o)}catch(O){Ur(O)}o.currentTarget=null,u=S}}}}function xe(e,t){var i=t[Xs];i===void 0&&(i=t[Xs]=new Set);var a=e+"__bubble";i.has(a)||(og(t,e,2,!1),i.add(a))}function md(e,t,i){var a=0;t&&(a|=4),og(i,e,a,t)}var Eo="_reactListening"+Math.random().toString(36).slice(2);function pd(e){if(!e[Eo]){e[Eo]=!0,Ps.forEach(function(i){i!=="selectionchange"&&(ux.has(i)||md(i,!1,e),md(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Eo]||(t[Eo]=!0,md("selectionchange",!1,t))}}function og(e,t,i,a){switch(Ug(t)){case 2:var o=Hx;break;case 8:o=Ix;break;default:o=Dd}i=o.bind(null,t,i,e),o=void 0,!zc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),a?o!==void 0?e.addEventListener(t,i,{capture:!0,passive:o}):e.addEventListener(t,i,!0):o!==void 0?e.addEventListener(t,i,{passive:o}):e.addEventListener(t,i,!1)}function gd(e,t,i,a,o){var u=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var m=a.tag;if(m===3||m===4){var v=a.stateNode.containerInfo;if(v===o)break;if(m===4)for(m=a.return;m!==null;){var S=m.tag;if((S===3||S===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;v!==null;){if(m=Si(v),m===null)return;if(S=m.tag,S===5||S===6||S===26||S===27){a=u=m;continue e}v=v.parentNode}}a=a.return}hh(function(){var j=u,O=Rc(i),U=[];e:{var D=$h.get(e);if(D!==void 0){var M=kr,F=e;switch(e){case"keypress":if(Or(i)===0)break e;case"keydown":case"keyup":M=i_;break;case"focusin":F="focus",M=Ic;break;case"focusout":F="blur",M=Ic;break;case"beforeblur":case"afterblur":M=Ic;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=gh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=Vv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=a_;break;case Uh:case Hh:case Ih:M=Fv;break;case Bh:M=o_;break;case"scroll":case"scrollend":M=Yv;break;case"wheel":M=u_;break;case"copy":case"cut":case"paste":M=Kv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=vh;break;case"toggle":case"beforetoggle":M=f_}var le=(t&4)!==0,Ye=!le&&(e==="scroll"||e==="scrollend"),T=le?D!==null?D+"Capture":null:D;le=[];for(var E=j,A;E!==null;){var k=E;if(A=k.stateNode,k=k.tag,k!==5&&k!==26&&k!==27||A===null||T===null||(k=Ks(E,T),k!=null&&le.push(ja(E,k,A))),Ye)break;E=E.return}0<le.length&&(D=new M(D,F,null,i,O),U.push({event:D,listeners:le}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",D&&i!==Oc&&(F=i.relatedTarget||i.fromElement)&&(Si(F)||F[Fn]))break e;if((M||D)&&(D=O.window===O?O:(D=O.ownerDocument)?D.defaultView||D.parentWindow:window,M?(F=i.relatedTarget||i.toElement,M=j,F=F?Si(F):null,F!==null&&(Ye=f(F),le=F.tag,F!==Ye||le!==5&&le!==27&&le!==6)&&(F=null)):(M=null,F=j),M!==F)){if(le=gh,k="onMouseLeave",T="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(le=vh,k="onPointerLeave",T="onPointerEnter",E="pointer"),Ye=M==null?D:cl(M),A=F==null?D:cl(F),D=new le(k,E+"leave",M,i,O),D.target=Ye,D.relatedTarget=A,k=null,Si(O)===j&&(le=new le(T,E+"enter",F,i,O),le.target=A,le.relatedTarget=Ye,k=le),Ye=k,M&&F)t:{for(le=dx,T=M,E=F,A=0,k=T;k;k=le(k))A++;k=0;for(var te=E;te;te=le(te))k++;for(;0<A-k;)T=le(T),A--;for(;0<k-A;)E=le(E),k--;for(;A--;){if(T===E||E!==null&&T===E.alternate){le=T;break t}T=le(T),E=le(E)}le=null}else le=null;M!==null&&cg(U,D,M,le,!1),F!==null&&Ye!==null&&cg(U,Ye,F,le,!0)}}e:{if(D=j?cl(j):window,M=D.nodeName&&D.nodeName.toLowerCase(),M==="select"||M==="input"&&D.type==="file")var Me=wh;else if(Eh(D))if(Th)Me=S_;else{Me=x_;var Z=__}else M=D.nodeName,!M||M.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?j&&Mc(j.elementType)&&(Me=wh):Me=b_;if(Me&&(Me=Me(e,j))){Ch(U,Me,i,O);break e}Z&&Z(e,D,j),e==="focusout"&&j&&D.type==="number"&&j.memoizedProps.value!=null&&fe(D,"number",D.value)}switch(Z=j?cl(j):window,e){case"focusin":(Eh(Z)||Z.contentEditable==="true")&&(Xl=Z,Vc=j,la=null);break;case"focusout":la=Vc=Xl=null;break;case"mousedown":Qc=!0;break;case"contextmenu":case"mouseup":case"dragend":Qc=!1,zh(U,i,O);break;case"selectionchange":if(E_)break;case"keydown":case"keyup":zh(U,i,O)}var he;if($c)e:{switch(e){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Ql?Sh(e,i)&&(Ne="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Ne="onCompositionStart");Ne&&(_h&&i.locale!=="ko"&&(Ql||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Ql&&(he=mh()):(wi=O,Lc="value"in wi?wi.value:wi.textContent,Ql=!0)),Z=Co(j,Ne),0<Z.length&&(Ne=new yh(Ne,e,null,i,O),U.push({event:Ne,listeners:Z}),he?Ne.data=he:(he=Nh(i),he!==null&&(Ne.data=he)))),(he=m_?p_(e,i):g_(e,i))&&(Ne=Co(j,"onBeforeInput"),0<Ne.length&&(Z=new yh("onBeforeInput","beforeinput",null,i,O),U.push({event:Z,listeners:Ne}),Z.data=he)),rx(U,e,j,i,O)}rg(U,t)})}function ja(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Co(e,t){for(var i=t+"Capture",a=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=Ks(e,i),o!=null&&a.unshift(ja(e,o,u)),o=Ks(e,t),o!=null&&a.push(ja(e,o,u))),e.tag===3)return a;e=e.return}return[]}function dx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function cg(e,t,i,a,o){for(var u=t._reactName,m=[];i!==null&&i!==a;){var v=i,S=v.alternate,j=v.stateNode;if(v=v.tag,S!==null&&S===a)break;v!==5&&v!==26&&v!==27||j===null||(S=j,o?(j=Ks(i,u),j!=null&&m.unshift(ja(i,j,S))):o||(j=Ks(i,u),j!=null&&m.push(ja(i,j,S)))),i=i.return}m.length!==0&&e.push({event:t,listeners:m})}var fx=/\r\n?/g,hx=/\u0000|\uFFFD/g;function ug(e){return(typeof e=="string"?e:""+e).replace(fx,`
`).replace(hx,"")}function dg(e,t){return t=ug(t),ug(e)===t}function qe(e,t,i,a,o,u){switch(i){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Yl(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Yl(e,""+a);break;case"className":ql(e,"class",a);break;case"tabIndex":ql(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ql(e,i,a);break;case"style":dh(e,a,u);break;case"data":if(t!=="object"){ql(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=Dr(""+a),e.setAttribute(i,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(i==="formAction"?(t!=="input"&&qe(e,t,"name",o.name,o,null),qe(e,t,"formEncType",o.formEncType,o,null),qe(e,t,"formMethod",o.formMethod,o,null),qe(e,t,"formTarget",o.formTarget,o,null)):(qe(e,t,"encType",o.encType,o,null),qe(e,t,"method",o.method,o,null),qe(e,t,"target",o.target,o,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=Dr(""+a),e.setAttribute(i,a);break;case"onClick":a!=null&&(e.onclick=Pn);break;case"onScroll":a!=null&&xe("scroll",e);break;case"onScrollEnd":a!=null&&xe("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}i=Dr(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""+a):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":a===!0?e.setAttribute(i,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,a):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(i,a):e.removeAttribute(i);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(i):e.setAttribute(i,a);break;case"popover":xe("beforetoggle",e),xe("toggle",e),$l(e,"popover",a);break;case"xlinkActuate":Tn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Tn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Tn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Tn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Tn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Tn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":$l(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=$v.get(i)||i,$l(e,i,a))}}function yd(e,t,i,a,o,u){switch(i){case"style":dh(e,a,u);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof a=="string"?Yl(e,a):(typeof a=="number"||typeof a=="bigint")&&Yl(e,""+a);break;case"onScroll":a!=null&&xe("scroll",e);break;case"onScrollEnd":a!=null&&xe("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wr.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(o=i.endsWith("Capture"),t=i.slice(2,o?i.length-7:void 0),u=e[It]||null,u=u!=null?u[i]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof a=="function")){typeof u!="function"&&u!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,a,o);break e}i in e?e[i]=a:a===!0?e.setAttribute(i,""):$l(e,i,a)}}}function kt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",e),xe("load",e);var a=!1,o=!1,u;for(u in i)if(i.hasOwnProperty(u)){var m=i[u];if(m!=null)switch(u){case"src":a=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:qe(e,t,u,m,i,null)}}o&&qe(e,t,"srcSet",i.srcSet,i,null),a&&qe(e,t,"src",i.src,i,null);return;case"input":xe("invalid",e);var v=u=m=o=null,S=null,j=null;for(a in i)if(i.hasOwnProperty(a)){var O=i[a];if(O!=null)switch(a){case"name":o=O;break;case"type":m=O;break;case"checked":S=O;break;case"defaultChecked":j=O;break;case"value":u=O;break;case"defaultValue":v=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,t));break;default:qe(e,t,a,O,i,null)}}ge(e,u,v,S,j,m,o,!1);return;case"select":xe("invalid",e),a=m=u=null;for(o in i)if(i.hasOwnProperty(o)&&(v=i[o],v!=null))switch(o){case"value":u=v;break;case"defaultValue":m=v;break;case"multiple":a=v;default:qe(e,t,o,v,i,null)}t=u,i=m,e.multiple=!!a,t!=null?ee(e,!!a,t,!1):i!=null&&ee(e,!!a,i,!0);return;case"textarea":xe("invalid",e),u=o=a=null;for(m in i)if(i.hasOwnProperty(m)&&(v=i[m],v!=null))switch(m){case"value":a=v;break;case"defaultValue":o=v;break;case"children":u=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:qe(e,t,m,v,i,null)}An(e,a,o,u);return;case"option":for(S in i)if(i.hasOwnProperty(S)&&(a=i[S],a!=null))switch(S){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:qe(e,t,S,a,i,null)}return;case"dialog":xe("beforetoggle",e),xe("toggle",e),xe("cancel",e),xe("close",e);break;case"iframe":case"object":xe("load",e);break;case"video":case"audio":for(a=0;a<Aa.length;a++)xe(Aa[a],e);break;case"image":xe("error",e),xe("load",e);break;case"details":xe("toggle",e);break;case"embed":case"source":case"link":xe("error",e),xe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in i)if(i.hasOwnProperty(j)&&(a=i[j],a!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:qe(e,t,j,a,i,null)}return;default:if(Mc(t)){for(O in i)i.hasOwnProperty(O)&&(a=i[O],a!==void 0&&yd(e,t,O,a,i,void 0));return}}for(v in i)i.hasOwnProperty(v)&&(a=i[v],a!=null&&qe(e,t,v,a,i,null))}function mx(e,t,i,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,m=null,v=null,S=null,j=null,O=null;for(M in i){var U=i[M];if(i.hasOwnProperty(M)&&U!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":S=U;default:a.hasOwnProperty(M)||qe(e,t,M,null,a,U)}}for(var D in a){var M=a[D];if(U=i[D],a.hasOwnProperty(D)&&(M!=null||U!=null))switch(D){case"type":u=M;break;case"name":o=M;break;case"checked":j=M;break;case"defaultChecked":O=M;break;case"value":m=M;break;case"defaultValue":v=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,t));break;default:M!==U&&qe(e,t,D,M,a,U)}}K(e,m,v,S,j,O,u,o);return;case"select":M=m=v=D=null;for(u in i)if(S=i[u],i.hasOwnProperty(u)&&S!=null)switch(u){case"value":break;case"multiple":M=S;default:a.hasOwnProperty(u)||qe(e,t,u,null,a,S)}for(o in a)if(u=a[o],S=i[o],a.hasOwnProperty(o)&&(u!=null||S!=null))switch(o){case"value":D=u;break;case"defaultValue":v=u;break;case"multiple":m=u;default:u!==S&&qe(e,t,o,u,a,S)}t=v,i=m,a=M,D!=null?ee(e,!!i,D,!1):!!a!=!!i&&(t!=null?ee(e,!!i,t,!0):ee(e,!!i,i?[]:"",!1));return;case"textarea":M=D=null;for(v in i)if(o=i[v],i.hasOwnProperty(v)&&o!=null&&!a.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:qe(e,t,v,null,a,o)}for(m in a)if(o=a[m],u=i[m],a.hasOwnProperty(m)&&(o!=null||u!=null))switch(m){case"value":D=o;break;case"defaultValue":M=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==u&&qe(e,t,m,o,a,u)}it(e,D,M);return;case"option":for(var F in i)if(D=i[F],i.hasOwnProperty(F)&&D!=null&&!a.hasOwnProperty(F))switch(F){case"selected":e.selected=!1;break;default:qe(e,t,F,null,a,D)}for(S in a)if(D=a[S],M=i[S],a.hasOwnProperty(S)&&D!==M&&(D!=null||M!=null))switch(S){case"selected":e.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:qe(e,t,S,D,a,M)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in i)D=i[le],i.hasOwnProperty(le)&&D!=null&&!a.hasOwnProperty(le)&&qe(e,t,le,null,a,D);for(j in a)if(D=a[j],M=i[j],a.hasOwnProperty(j)&&D!==M&&(D!=null||M!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,t));break;default:qe(e,t,j,D,a,M)}return;default:if(Mc(t)){for(var Ye in i)D=i[Ye],i.hasOwnProperty(Ye)&&D!==void 0&&!a.hasOwnProperty(Ye)&&yd(e,t,Ye,void 0,a,D);for(O in a)D=a[O],M=i[O],!a.hasOwnProperty(O)||D===M||D===void 0&&M===void 0||yd(e,t,O,D,a,M);return}}for(var T in i)D=i[T],i.hasOwnProperty(T)&&D!=null&&!a.hasOwnProperty(T)&&qe(e,t,T,null,a,D);for(U in a)D=a[U],M=i[U],!a.hasOwnProperty(U)||D===M||D==null&&M==null||qe(e,t,U,D,a,M)}function fg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function px(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),a=0;a<i.length;a++){var o=i[a],u=o.transferSize,m=o.initiatorType,v=o.duration;if(u&&v&&fg(m)){for(m=0,v=o.responseEnd,a+=1;a<i.length;a++){var S=i[a],j=S.startTime;if(j>v)break;var O=S.transferSize,U=S.initiatorType;O&&fg(U)&&(S=S.responseEnd,m+=O*(S<v?1:(v-j)/(S-j)))}if(--a,t+=8*(u+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var vd=null,_d=null;function wo(e){return e.nodeType===9?e:e.ownerDocument}function hg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function xd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bd=null;function gx(){var e=window.event;return e&&e.type==="popstate"?e===bd?!1:(bd=e,!0):(bd=null,!1)}var pg=typeof setTimeout=="function"?setTimeout:void 0,yx=typeof clearTimeout=="function"?clearTimeout:void 0,gg=typeof Promise=="function"?Promise:void 0,vx=typeof queueMicrotask=="function"?queueMicrotask:typeof gg<"u"?function(e){return gg.resolve(null).then(e).catch(_x)}:pg;function _x(e){setTimeout(function(){throw e})}function Yi(e){return e==="head"}function yg(e,t){var i=t,a=0;do{var o=i.nextSibling;if(e.removeChild(i),o&&o.nodeType===8)if(i=o.data,i==="/$"||i==="/&"){if(a===0){e.removeChild(o),xs(t);return}a--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")a++;else if(i==="html")Da(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Da(i);for(var u=i.firstChild;u;){var m=u.nextSibling,v=u.nodeName;u[ol]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&u.rel.toLowerCase()==="stylesheet"||i.removeChild(u),u=m}}else i==="body"&&Da(e.ownerDocument.body);i=o}while(i);xs(t)}function vg(e,t){var i=e;e=0;do{var a=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),a&&a.nodeType===8)if(i=a.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=a}while(i)}function Sd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Sd(i),Fs(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function xx(e,t,i,a){for(;e.nodeType===1;){var o=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[ol])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=_n(e.nextSibling),e===null)break}return null}function bx(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=_n(e.nextSibling),e===null))return null;return e}function _g(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=_n(e.nextSibling),e===null))return null;return e}function Nd(e){return e.data==="$?"||e.data==="$~"}function Ed(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Sx(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var a=function(){t(),i.removeEventListener("DOMContentLoaded",a)};i.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function _n(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Cd=null;function xg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return _n(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function bg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function Sg(e,t,i){switch(t=wo(i),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Da(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Fs(e)}var xn=new Map,Ng=new Set;function To(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var di=Y.d;Y.d={f:Nx,r:Ex,D:Cx,C:wx,L:Tx,m:Ax,X:Dx,S:jx,M:Mx};function Nx(){var e=di.f(),t=vo();return e||t}function Ex(e){var t=Ni(e);t!==null&&t.tag===5&&t.type==="form"?Bm(t):di.r(e)}var ys=typeof document>"u"?null:document;function Eg(e,t,i){var a=ys;if(a&&typeof t=="string"&&t){var o=P(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof i=="string"&&(o+='[crossorigin="'+i+'"]'),Ng.has(o)||(Ng.add(o),e={rel:e,crossOrigin:i,href:t},a.querySelector(o)===null&&(t=a.createElement("link"),kt(t,"link",e),ut(t),a.head.appendChild(t)))}}function Cx(e){di.D(e),Eg("dns-prefetch",e,null)}function wx(e,t){di.C(e,t),Eg("preconnect",e,t)}function Tx(e,t,i){di.L(e,t,i);var a=ys;if(a&&e&&t){var o='link[rel="preload"][as="'+P(t)+'"]';t==="image"&&i&&i.imageSrcSet?(o+='[imagesrcset="'+P(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(o+='[imagesizes="'+P(i.imageSizes)+'"]')):o+='[href="'+P(e)+'"]';var u=o;switch(t){case"style":u=vs(e);break;case"script":u=_s(e)}xn.has(u)||(e=_({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),xn.set(u,e),a.querySelector(o)!==null||t==="style"&&a.querySelector(Ma(u))||t==="script"&&a.querySelector(Oa(u))||(t=a.createElement("link"),kt(t,"link",e),ut(t),a.head.appendChild(t)))}}function Ax(e,t){di.m(e,t);var i=ys;if(i&&e){var a=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+P(a)+'"][href="'+P(e)+'"]',u=o;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=_s(e)}if(!xn.has(u)&&(e=_({rel:"modulepreload",href:e},t),xn.set(u,e),i.querySelector(o)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Oa(u)))return}a=i.createElement("link"),kt(a,"link",e),ut(a),i.head.appendChild(a)}}}function jx(e,t,i){di.S(e,t,i);var a=ys;if(a&&e){var o=Ei(a).hoistableStyles,u=vs(e);t=t||"default";var m=o.get(u);if(!m){var v={loading:0,preload:null};if(m=a.querySelector(Ma(u)))v.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},i),(i=xn.get(u))&&wd(e,i);var S=m=a.createElement("link");ut(S),kt(S,"link",e),S._p=new Promise(function(j,O){S.onload=j,S.onerror=O}),S.addEventListener("load",function(){v.loading|=1}),S.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Ao(m,t,a)}m={type:"stylesheet",instance:m,count:1,state:v},o.set(u,m)}}}function Dx(e,t){di.X(e,t);var i=ys;if(i&&e){var a=Ei(i).hoistableScripts,o=_s(e),u=a.get(o);u||(u=i.querySelector(Oa(o)),u||(e=_({src:e,async:!0},t),(t=xn.get(o))&&Td(e,t),u=i.createElement("script"),ut(u),kt(u,"link",e),i.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},a.set(o,u))}}function Mx(e,t){di.M(e,t);var i=ys;if(i&&e){var a=Ei(i).hoistableScripts,o=_s(e),u=a.get(o);u||(u=i.querySelector(Oa(o)),u||(e=_({src:e,async:!0,type:"module"},t),(t=xn.get(o))&&Td(e,t),u=i.createElement("script"),ut(u),kt(u,"link",e),i.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},a.set(o,u))}}function Cg(e,t,i,a){var o=(o=pe.current)?To(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=vs(i.href),i=Ei(o).hoistableStyles,a=i.get(t),a||(a={type:"style",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=vs(i.href);var u=Ei(o).hoistableStyles,m=u.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,m),(u=o.querySelector(Ma(e)))&&!u._p&&(m.instance=u,m.state.loading=5),xn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},xn.set(e,i),u||Ox(o,e,i,m.state))),t&&a===null)throw Error(r(528,""));return m}if(t&&a!==null)throw Error(r(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=_s(i),i=Ei(o).hoistableScripts,a=i.get(t),a||(a={type:"script",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function vs(e){return'href="'+P(e)+'"'}function Ma(e){return'link[rel="stylesheet"]['+e+"]"}function wg(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function Ox(e,t,i,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),kt(t,"link",i),ut(t),e.head.appendChild(t))}function _s(e){return'[src="'+P(e)+'"]'}function Oa(e){return"script[async]"+e}function Tg(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+P(i.href)+'"]');if(a)return t.instance=a,ut(a),a;var o=_({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),ut(a),kt(a,"style",o),Ao(a,i.precedence,e),t.instance=a;case"stylesheet":o=vs(i.href);var u=e.querySelector(Ma(o));if(u)return t.state.loading|=4,t.instance=u,ut(u),u;a=wg(i),(o=xn.get(o))&&wd(a,o),u=(e.ownerDocument||e).createElement("link"),ut(u);var m=u;return m._p=new Promise(function(v,S){m.onload=v,m.onerror=S}),kt(u,"link",a),t.state.loading|=4,Ao(u,i.precedence,e),t.instance=u;case"script":return u=_s(i.src),(o=e.querySelector(Oa(u)))?(t.instance=o,ut(o),o):(a=i,(o=xn.get(u))&&(a=_({},i),Td(a,o)),e=e.ownerDocument||e,o=e.createElement("script"),ut(o),kt(o,"link",a),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Ao(a,i.precedence,e));return t.instance}function Ao(e,t,i){for(var a=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=a.length?a[a.length-1]:null,u=o,m=0;m<a.length;m++){var v=a[m];if(v.dataset.precedence===t)u=v;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function wd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Td(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var jo=null;function Ag(e,t,i){if(jo===null){var a=new Map,o=jo=new Map;o.set(i,a)}else o=jo,a=o.get(i),a||(a=new Map,o.set(i,a));if(a.has(e))return a;for(a.set(e,null),i=i.getElementsByTagName(e),o=0;o<i.length;o++){var u=i[o];if(!(u[ol]||u[yt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var m=u.getAttribute(t)||"";m=e+m;var v=a.get(m);v?v.push(u):a.set(m,[u])}}return a}function jg(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function Rx(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Dg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function kx(e,t,i,a){if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var o=vs(a.href),u=t.querySelector(Ma(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Do.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=u,ut(u);return}u=t.ownerDocument||t,a=wg(a),(o=xn.get(o))&&wd(a,o),u=u.createElement("link"),ut(u);var m=u;m._p=new Promise(function(v,S){m.onload=v,m.onerror=S}),kt(u,"link",a),i.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Do.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Ad=0;function zx(e,t){return e.stylesheets&&e.count===0&&Oo(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var a=setTimeout(function(){if(e.stylesheets&&Oo(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Ad===0&&(Ad=62500*px());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Oo(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Ad?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(o)}}:null}function Do(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Mo=null;function Oo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Mo=new Map,t.forEach(Lx,e),Mo=null,Do.call(e))}function Lx(e,t){if(!(t.state.loading&4)){var i=Mo.get(e);if(i)var a=i.get(null);else{i=new Map,Mo.set(e,i);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var m=o[u];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(i.set(m.dataset.precedence,m),a=m)}a&&i.set(null,a)}o=t.instance,m=o.getAttribute("data-precedence"),u=i.get(m)||a,u===a&&i.set(null,o),i.set(m,o),this.count++,a=Do.bind(this),o.addEventListener("load",a),o.addEventListener("error",a),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Ra={$$typeof:ue,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function Ux(e,t,i,a,o,u,m,v,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rl(0),this.hiddenUpdates=rl(null),this.identifierPrefix=a,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Mg(e,t,i,a,o,u,m,v,S,j,O,U){return e=new Ux(e,t,i,m,S,j,O,U,v),t=1,u===!0&&(t|=24),u=an(3,null,null,t),e.current=u,u.stateNode=e,t=ru(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:a,isDehydrated:i,cache:t},du(u),e}function Og(e){return e?(e=Kl,e):Kl}function Rg(e,t,i,a,o,u){o=Og(o),a.context===null?a.context=o:a.pendingContext=o,a=Oi(t),a.payload={element:i},u=u===void 0?null:u,u!==null&&(a.callback=u),i=Ri(e,a,t),i!==null&&(tn(i,e,t),da(i,e,t))}function kg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function jd(e,t){kg(e,t),(e=e.alternate)&&kg(e,t)}function zg(e){if(e.tag===13||e.tag===31){var t=hl(e,67108864);t!==null&&tn(t,e,67108864),jd(e,67108864)}}function Lg(e){if(e.tag===13||e.tag===31){var t=dn();t=Gs(t);var i=hl(e,t);i!==null&&tn(i,e,t),jd(e,t)}}var Ro=!0;function Hx(e,t,i,a){var o=R.T;R.T=null;var u=Y.p;try{Y.p=2,Dd(e,t,i,a)}finally{Y.p=u,R.T=o}}function Ix(e,t,i,a){var o=R.T;R.T=null;var u=Y.p;try{Y.p=8,Dd(e,t,i,a)}finally{Y.p=u,R.T=o}}function Dd(e,t,i,a){if(Ro){var o=Md(a);if(o===null)gd(e,t,a,ko,i),Hg(e,a);else if($x(o,e,t,i,a))a.stopPropagation();else if(Hg(e,a),t&4&&-1<Bx.indexOf(e)){for(;o!==null;){var u=Ni(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var m=Yt(u.pendingLanes);if(m!==0){var v=u;for(v.pendingLanes|=2,v.entangledLanes|=2;m;){var S=1<<31-gt(m);v.entanglements[1]|=S,m&=~S}$n(u),(ke&6)===0&&(go=bt()+500,Ta(0))}}break;case 31:case 13:v=hl(u,2),v!==null&&tn(v,u,2),vo(),jd(u,2)}if(u=Md(a),u===null&&gd(e,t,a,ko,i),u===o)break;o=u}o!==null&&a.stopPropagation()}else gd(e,t,a,null,i)}}function Md(e){return e=Rc(e),Od(e)}var ko=null;function Od(e){if(ko=null,e=Si(e),e!==null){var t=f(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=h(t),e!==null)return e;e=null}else if(i===31){if(e=p(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ko=e,null}function Ug(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cc()){case Vn:return 2;case Bs:return 8;case Qn:case Hl:return 32;case Dt:return 268435456;default:return 32}default:return 32}}var Rd=!1,Gi=null,Vi=null,Qi=null,ka=new Map,za=new Map,Xi=[],Bx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hg(e,t){switch(e){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":ka.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":za.delete(t.pointerId)}}function La(e,t,i,a,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:u,targetContainers:[o]},t!==null&&(t=Ni(t),t!==null&&zg(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function $x(e,t,i,a,o){switch(t){case"focusin":return Gi=La(Gi,e,t,i,a,o),!0;case"dragenter":return Vi=La(Vi,e,t,i,a,o),!0;case"mouseover":return Qi=La(Qi,e,t,i,a,o),!0;case"pointerover":var u=o.pointerId;return ka.set(u,La(ka.get(u)||null,e,t,i,a,o)),!0;case"gotpointercapture":return u=o.pointerId,za.set(u,La(za.get(u)||null,e,t,i,a,o)),!0}return!1}function Ig(e){var t=Si(e.target);if(t!==null){var i=f(t);if(i!==null){if(t=i.tag,t===13){if(t=h(i),t!==null){e.blockedOn=t,Er(e.priority,function(){Lg(i)});return}}else if(t===31){if(t=p(i),t!==null){e.blockedOn=t,Er(e.priority,function(){Lg(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Md(e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);Oc=a,i.target.dispatchEvent(a),Oc=null}else return t=Ni(i),t!==null&&zg(t),e.blockedOn=i,!1;t.shift()}return!0}function Bg(e,t,i){zo(e)&&i.delete(t)}function qx(){Rd=!1,Gi!==null&&zo(Gi)&&(Gi=null),Vi!==null&&zo(Vi)&&(Vi=null),Qi!==null&&zo(Qi)&&(Qi=null),ka.forEach(Bg),za.forEach(Bg)}function Lo(e,t){e.blockedOn===t&&(e.blockedOn=null,Rd||(Rd=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,qx)))}var Uo=null;function $g(e){Uo!==e&&(Uo=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Uo===e&&(Uo=null);for(var t=0;t<e.length;t+=3){var i=e[t],a=e[t+1],o=e[t+2];if(typeof a!="function"){if(Od(a||i)===null)continue;break}var u=Ni(i);u!==null&&(e.splice(t,3),t-=3,Mu(u,{pending:!0,data:o,method:i.method,action:a},a,o))}}))}function xs(e){function t(S){return Lo(S,e)}Gi!==null&&Lo(Gi,e),Vi!==null&&Lo(Vi,e),Qi!==null&&Lo(Qi,e),ka.forEach(t),za.forEach(t);for(var i=0;i<Xi.length;i++){var a=Xi[i];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Xi.length&&(i=Xi[0],i.blockedOn===null);)Ig(i),i.blockedOn===null&&Xi.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(a=0;a<i.length;a+=3){var o=i[a],u=i[a+1],m=o[It]||null;if(typeof u=="function")m||$g(i);else if(m){var v=null;if(u&&u.hasAttribute("formAction")){if(o=u,m=u[It]||null)v=m.formAction;else if(Od(o)!==null)continue}else v=m.action;typeof v=="function"?i[a+1]=v:(i.splice(a,3),a-=3),$g(i)}}}function qg(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),a||setTimeout(i,20)}function i(){if(!a&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function kd(e){this._internalRoot=e}Ho.prototype.render=kd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var i=t.current,a=dn();Rg(i,a,e,t,null,null)},Ho.prototype.unmount=kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rg(e.current,2,null,e,null,null),vo(),t[Fn]=null}};function Ho(e){this._internalRoot=e}Ho.prototype.unstable_scheduleHydration=function(e){if(e){var t=Qs();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Xi.length&&t!==0&&t<Xi[i].priority;i++);Xi.splice(i,0,e),i===0&&Ig(e)}};var Yg=n.version;if(Yg!=="19.2.3")throw Error(r(527,Yg,"19.2.3"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var Yx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Io.isDisabled&&Io.supportsFiber)try{Cn=Io.inject(Yx),Ht=Io}catch{}}return Ha.createRoot=function(e,t){if(!c(e))throw Error(r(299));var i=!1,a="",o=Km,u=Zm,m=Jm;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=Mg(e,1,!1,null,null,i,a,null,o,u,m,qg),e[Fn]=t.current,pd(e),new kd(t)},Ha.hydrateRoot=function(e,t,i){if(!c(e))throw Error(r(299));var a=!1,o="",u=Km,m=Zm,v=Jm,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(u=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.formState!==void 0&&(S=i.formState)),t=Mg(e,1,!0,t,i??null,a,o,S,u,m,v,qg),t.context=Og(null),i=t.current,a=dn(),a=Gs(a),o=Oi(a),o.callback=null,Ri(i,o,a),i=a,t.current.lanes=i,bi(t,i),$n(t),e[Fn]=t.current,pd(e),new Ho(t)},Ha.version="19.2.3",Ha}var Wg;function Wx(){if(Wg)return Ud.exports;Wg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Ud.exports=Jx(),Ud.exports}var eb=Wx();const tb=ty(eb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ib=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,s,r)=>r?r.toUpperCase():s.toLowerCase()),e0=l=>{const n=ib(l);return n.charAt(0).toUpperCase()+n.slice(1)},iy=(...l)=>l.filter((n,s,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===s).join(" ").trim(),lb=l=>{for(const n in l)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=$.forwardRef(({color:l="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:c="",children:f,iconNode:h,...p},g)=>$.createElement("svg",{ref:g,...sb,width:n,height:n,stroke:l,strokeWidth:r?Number(s)*24/Number(n):s,className:iy("lucide",c),...!f&&!lb(p)&&{"aria-hidden":"true"},...p},[...h.map(([y,x])=>$.createElement(y,x)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(l,n)=>{const s=$.forwardRef(({className:r,...c},f)=>$.createElement(ab,{ref:f,iconNode:n,className:iy(`lucide-${nb(e0(l))}`,`lucide-${l}`,r),...c}));return s.displayName=e0(l),s};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ob=me("arrow-right",rb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],ub=me("calculator",cb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],fb=me("calendar",db);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],mb=me("chart-column",hb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],$d=me("chart-pie",pb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],t0=me("check",gb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],fi=me("chevron-left",yb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ia=me("chevron-right",vb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Qa=me("circle-check",_b);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Bo=me("circle-x",xb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Sb=me("clock",bb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1waht3"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"11",r:"3",key:"itu57m"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]],Eb=me("contact",Nb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],n0=me("database",Cb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Tb=me("eye-off",wb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jb=me("eye",Ab);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Vo=me("graduation-cap",Db);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ly=me("history",Mb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Rb=me("house",Ob);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],zb=me("layout-dashboard",kb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],sy=me("loader-circle",Lb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Hb=me("lock",Ub);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Bb=me("log-in",Ib);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],qb=me("log-out",$b);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],i0=me("mail",Yb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Vb=me("message-circle",Gb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Xb=me("message-square",Qb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ef=me("phone",Fb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Kb=me("plus",Pb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ay=me("settings",Zb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Wb=me("shield-check",Jb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],qd=me("square-pen",e1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],l0=me("trash-2",t1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],i1=me("trending-up",n1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fc=me("triangle-alert",l1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],a1=me("upload",s1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],s0=me("user-minus",r1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],c1=me("user",o1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$o=me("users",u1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],a0=me("wifi-off",d1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],h1=me("wifi",f1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ba=me("x",m1),p1=[{id:1,name:"1st Period",start:"08:10",end:"09:00"},{id:2,name:"2nd Period",start:"09:00",end:"09:45"},{id:3,name:"3rd Period",start:"09:45",end:"10:30"},{id:4,name:"4th Period",start:"10:30",end:"11:15"},{id:5,name:"Break",start:"11:15",end:"11:30",isBreak:!0},{id:6,name:"5th Period",start:"11:30",end:"12:15"},{id:7,name:"6th Period",start:"12:15",end:"13:00"},{id:8,name:"7th Period",start:"13:00",end:"13:30"}],tf={midnight:{id:"midnight",name:"Midnight Pro",bg:"bg-transparent",surface:"glass-card",navBg:"glass border-t border-white/5",sidebarBg:"glass border-r border-white/5",textPrimary:"text-white font-medium tracking-tight drop-shadow-sm",textSecondary:"text-slate-300/80 font-normal",accent:"bg-violet-600 shadow-lg shadow-violet-600/20",accentText:"text-violet-300",border:"border-white/10"},blue:{id:"blue",name:"Executive Blue",bg:"bg-slate-100",surface:"bg-white",navBg:"bg-white/90 border-t border-slate-200",sidebarBg:"bg-white border-r border-slate-200",textPrimary:"text-slate-900",textSecondary:"text-slate-500",accent:"bg-sky-600",accentText:"text-sky-600",border:"border-slate-200"},peach:{id:"peach",name:"Warm Paper",bg:"bg-[#FFF8F0]",surface:"bg-white",navBg:"bg-[#FFF8F0]/90 border-t border-orange-100",sidebarBg:"bg-[#FFF8F0] border-r border-orange-100",textPrimary:"text-stone-800",textSecondary:"text-stone-500",accent:"bg-orange-500",accentText:"text-orange-600",border:"border-orange-100"},forest:{id:"forest",name:"Forest Rain",bg:"bg-emerald-950",surface:"bg-emerald-900/80 backdrop-blur-md",navBg:"bg-emerald-950/90 border-t border-emerald-800",sidebarBg:"bg-emerald-900 border-r border-emerald-800",textPrimary:"text-emerald-50",textSecondary:"text-emerald-300",accent:"bg-emerald-500",accentText:"text-emerald-400",border:"border-emerald-800"},crimson:{id:"crimson",name:"Crimson Dark",bg:"bg-[#1a0505]",surface:"bg-[#2a0a0a]/80 backdrop-blur-md",navBg:"bg-[#1a0505]/90 border-t border-red-900",sidebarBg:"bg-[#2a0a0a] border-r border-red-900",textPrimary:"text-rose-50",textSecondary:"text-rose-300/60",accent:"bg-rose-600",accentText:"text-rose-500",border:"border-red-900/50"},neon:{id:"neon",name:"Cyber Neon",bg:"bg-black",surface:"bg-gray-900/90 backdrop-blur-md",navBg:"bg-black/90 border-t border-fuchsia-900",sidebarBg:"bg-gray-900 border-r border-fuchsia-900",textPrimary:"text-fuchsia-50",textSecondary:"text-fuchsia-300/70",accent:"bg-fuchsia-600",accentText:"text-fuchsia-400",border:"border-fuchsia-900"}},g1=()=>{};var r0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q=function(l,n){if(!l)throw Os(n)},Os=function(l){return new Error("Firebase Database ("+ry.SDK_VERSION+") INTERNAL ASSERT FAILED: "+l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy=function(l){const n=[];let s=0;for(let r=0;r<l.length;r++){let c=l.charCodeAt(r);c<128?n[s++]=c:c<2048?(n[s++]=c>>6|192,n[s++]=c&63|128):(c&64512)===55296&&r+1<l.length&&(l.charCodeAt(r+1)&64512)===56320?(c=65536+((c&1023)<<10)+(l.charCodeAt(++r)&1023),n[s++]=c>>18|240,n[s++]=c>>12&63|128,n[s++]=c>>6&63|128,n[s++]=c&63|128):(n[s++]=c>>12|224,n[s++]=c>>6&63|128,n[s++]=c&63|128)}return n},y1=function(l){const n=[];let s=0,r=0;for(;s<l.length;){const c=l[s++];if(c<128)n[r++]=String.fromCharCode(c);else if(c>191&&c<224){const f=l[s++];n[r++]=String.fromCharCode((c&31)<<6|f&63)}else if(c>239&&c<365){const f=l[s++],h=l[s++],p=l[s++],g=((c&7)<<18|(f&63)<<12|(h&63)<<6|p&63)-65536;n[r++]=String.fromCharCode(55296+(g>>10)),n[r++]=String.fromCharCode(56320+(g&1023))}else{const f=l[s++],h=l[s++];n[r++]=String.fromCharCode((c&15)<<12|(f&63)<<6|h&63)}}return n.join("")},Cf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(l,n){if(!Array.isArray(l))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let c=0;c<l.length;c+=3){const f=l[c],h=c+1<l.length,p=h?l[c+1]:0,g=c+2<l.length,y=g?l[c+2]:0,x=f>>2,_=(f&3)<<4|p>>4;let N=(p&15)<<2|y>>6,I=y&63;g||(I=64,h||(N=64)),r.push(s[x],s[_],s[N],s[I])}return r.join("")},encodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(l):this.encodeByteArray(oy(l),n)},decodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(l):y1(this.decodeStringToByteArray(l,n))},decodeStringToByteArray(l,n){this.init_();const s=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let c=0;c<l.length;){const f=s[l.charAt(c++)],p=c<l.length?s[l.charAt(c)]:0;++c;const y=c<l.length?s[l.charAt(c)]:64;++c;const _=c<l.length?s[l.charAt(c)]:64;if(++c,f==null||p==null||y==null||_==null)throw new v1;const N=f<<2|p>>4;if(r.push(N),y!==64){const I=p<<4&240|y>>2;if(r.push(I),_!==64){const B=y<<6&192|_;r.push(B)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let l=0;l<this.ENCODED_VALS.length;l++)this.byteToCharMap_[l]=this.ENCODED_VALS.charAt(l),this.charToByteMap_[this.byteToCharMap_[l]]=l,this.byteToCharMapWebSafe_[l]=this.ENCODED_VALS_WEBSAFE.charAt(l),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[l]]=l,l>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(l)]=l,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(l)]=l)}}};class v1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cy=function(l){const n=oy(l);return Cf.encodeByteArray(n,!0)},Qo=function(l){return cy(l).replace(/\./g,"")},nf=function(l){try{return Cf.decodeString(l,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(l){return uy(void 0,l)}function uy(l,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const s=n;return new Date(s.getTime());case Object:l===void 0&&(l={});break;case Array:l=[];break;default:return n}for(const s in n)!n.hasOwnProperty(s)||!x1(s)||(l[s]=uy(l[s],n[s]));return l}function x1(l){return l!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=()=>b1().__FIREBASE_DEFAULTS__,N1=()=>{if(typeof process>"u"||typeof r0>"u")return;const l=r0.__FIREBASE_DEFAULTS__;if(l)return JSON.parse(l)},E1=()=>{if(typeof document>"u")return;let l;try{l=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=l&&nf(l[1]);return n&&JSON.parse(n)},dy=()=>{try{return g1()||S1()||N1()||E1()}catch(l){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${l}`);return}},C1=l=>{var n,s;return(s=(n=dy())==null?void 0:n.emulatorHosts)==null?void 0:s[l]},w1=l=>{const n=C1(l);if(!n)return;const s=n.lastIndexOf(":");if(s<=0||s+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const r=parseInt(n.substring(s+1),10);return n[0]==="["?[n.substring(1,s-1),r]:[n.substring(0,s),r]},fy=()=>{var l;return(l=dy())==null?void 0:l.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,s)=>{this.resolve=n,this.reject=s})}wrapCallback(n){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(s):n(s,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(l){try{return(l.startsWith("http://")||l.startsWith("https://")?new URL(l).hostname:l).endsWith(".cloudworkstations.dev")}catch{return!1}}async function T1(l){return(await fetch(l,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(l,n){if(l.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=n||"demo-project",c=l.iat||0,f=l.sub||l.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:c,exp:c+3600,auth_time:c,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...l};return[Qo(JSON.stringify(s)),Qo(JSON.stringify(h)),""].join(".")}const Xa={};function j1(){const l={prod:[],emulator:[]};for(const n of Object.keys(Xa))Xa[n]?l.emulator.push(n):l.prod.push(n);return l}function D1(l){let n=document.getElementById(l),s=!1;return n||(n=document.createElement("div"),n.setAttribute("id",l),s=!0),{created:s,element:n}}let o0=!1;function M1(l,n){if(typeof window>"u"||typeof document>"u"||!wf(window.location.host)||Xa[l]===n||Xa[l]||o0)return;Xa[l]=n;function s(N){return`__firebase__banner__${N}`}const r="__firebase__banner",f=j1().prod.length>0;function h(){const N=document.getElementById(r);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function g(N,I){N.setAttribute("width","24"),N.setAttribute("id",I),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{o0=!0,h()},N}function x(N,I){N.setAttribute("id",I),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function _(){const N=D1(r),I=s("text"),B=document.getElementById(I)||document.createElement("span"),J=s("learnmore"),ce=document.getElementById(J)||document.createElement("a"),Ce=s("preprendIcon"),we=document.getElementById(Ce)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ue=N.element;p(ue),x(ce,J);const Ve=y();g(we,Ce),ue.append(we,B,ce,Ve),document.body.appendChild(ue)}f?(B.innerText="Preview backend disconnected.",we.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(we.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(O1())}function R1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function k1(){return ry.NODE_ADMIN===!0}function z1(){try{return typeof indexedDB=="object"}catch{return!1}}function L1(){return new Promise((l,n)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(r);c.onsuccess=()=>{c.result.close(),s||self.indexedDB.deleteDatabase(r),l(!0)},c.onupgradeneeded=()=>{s=!1},c.onerror=()=>{var f;n(((f=c.error)==null?void 0:f.message)||"")}}catch(s){n(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="FirebaseError";class hr extends Error{constructor(n,s,r){super(s),this.code=n,this.customData=r,this.name=U1,Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,my.prototype.create)}}class my{constructor(n,s,r){this.service=n,this.serviceName=s,this.errors=r}create(n,...s){const r=s[0]||{},c=`${this.service}/${n}`,f=this.errors[n],h=f?H1(f,r):"Error",p=`${this.serviceName}: ${h} (${c}).`;return new hr(c,p,r)}}function H1(l,n){return l.replace(I1,(s,r)=>{const c=n[r];return c!=null?String(c):`<${r}?>`})}const I1=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(l){return JSON.parse(l)}function xt(l){return JSON.stringify(l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py=function(l){let n={},s={},r={},c="";try{const f=l.split(".");n=er(nf(f[0])||""),s=er(nf(f[1])||""),c=f[2],r=s.d||{},delete s.d}catch{}return{header:n,claims:s,data:r,signature:c}},B1=function(l){const n=py(l),s=n.claims;return!!s&&typeof s=="object"&&s.hasOwnProperty("iat")},$1=function(l){const n=py(l).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(l,n){return Object.prototype.hasOwnProperty.call(l,n)}function ws(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]}function c0(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}function Xo(l,n,s){const r={};for(const c in l)Object.prototype.hasOwnProperty.call(l,c)&&(r[c]=n.call(s,l[c],c,l));return r}function Fo(l,n){if(l===n)return!0;const s=Object.keys(l),r=Object.keys(n);for(const c of s){if(!r.includes(c))return!1;const f=l[c],h=n[c];if(u0(f)&&u0(h)){if(!Fo(f,h))return!1}else if(f!==h)return!1}for(const c of r)if(!s.includes(c))return!1;return!0}function u0(l){return l!==null&&typeof l=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(l){const n=[];for(const[s,r]of Object.entries(l))Array.isArray(r)?r.forEach(c=>{n.push(encodeURIComponent(s)+"="+encodeURIComponent(c))}):n.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return n.length?"&"+n.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,s){s||(s=0);const r=this.W_;if(typeof n=="string")for(let _=0;_<16;_++)r[_]=n.charCodeAt(s)<<24|n.charCodeAt(s+1)<<16|n.charCodeAt(s+2)<<8|n.charCodeAt(s+3),s+=4;else for(let _=0;_<16;_++)r[_]=n[s]<<24|n[s+1]<<16|n[s+2]<<8|n[s+3],s+=4;for(let _=16;_<80;_++){const N=r[_-3]^r[_-8]^r[_-14]^r[_-16];r[_]=(N<<1|N>>>31)&4294967295}let c=this.chain_[0],f=this.chain_[1],h=this.chain_[2],p=this.chain_[3],g=this.chain_[4],y,x;for(let _=0;_<80;_++){_<40?_<20?(y=p^f&(h^p),x=1518500249):(y=f^h^p,x=1859775393):_<60?(y=f&h|p&(f|h),x=2400959708):(y=f^h^p,x=3395469782);const N=(c<<5|c>>>27)+y+g+x+r[_]&4294967295;g=p,p=h,h=(f<<30|f>>>2)&4294967295,f=c,c=N}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(n,s){if(n==null)return;s===void 0&&(s=n.length);const r=s-this.blockSize;let c=0;const f=this.buf_;let h=this.inbuf_;for(;c<s;){if(h===0)for(;c<=r;)this.compress_(n,c),c+=this.blockSize;if(typeof n=="string"){for(;c<s;)if(f[h]=n.charCodeAt(c),++h,++c,h===this.blockSize){this.compress_(f),h=0;break}}else for(;c<s;)if(f[h]=n[c],++h,++c,h===this.blockSize){this.compress_(f),h=0;break}}this.inbuf_=h,this.total_+=s}digest(){const n=[];let s=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let c=this.blockSize-1;c>=56;c--)this.buf_[c]=s&255,s/=256;this.compress_(this.buf_);let r=0;for(let c=0;c<5;c++)for(let f=24;f>=0;f-=8)n[r]=this.chain_[c]>>f&255,++r;return n}}function hc(l,n){return`${l} failed: ${n} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=function(l){const n=[];let s=0;for(let r=0;r<l.length;r++){let c=l.charCodeAt(r);if(c>=55296&&c<=56319){const f=c-55296;r++,q(r<l.length,"Surrogate pair missing trail surrogate.");const h=l.charCodeAt(r)-56320;c=65536+(f<<10)+h}c<128?n[s++]=c:c<2048?(n[s++]=c>>6|192,n[s++]=c&63|128):c<65536?(n[s++]=c>>12|224,n[s++]=c>>6&63|128,n[s++]=c&63|128):(n[s++]=c>>18|240,n[s++]=c>>12&63|128,n[s++]=c>>6&63|128,n[s++]=c&63|128)}return n},mc=function(l){let n=0;for(let s=0;s<l.length;s++){const r=l.charCodeAt(s);r<128?n++:r<2048?n+=2:r>=55296&&r<=56319?(n+=4,s++):n+=3}return n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(l){return l&&l._delegate?l._delegate:l}class tr{constructor(n,s,r){this.name=n,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(n,s){this.name=n,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const s=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(s)){const r=new fr;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:s});c&&r.resolve(c)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(n){const s=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),r=(n==null?void 0:n.optional)??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(r)return null;throw c}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(X1(n))try{this.getOrInitializeService({instanceIdentifier:wl})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);try{const f=this.getOrInitializeService({instanceIdentifier:c});r.resolve(f)}catch{}}}}clearInstance(n=wl){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...n.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=wl){return this.instances.has(n)}getOptions(n=wl){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:s={}}=n,r=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[f,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(f);r===p&&h.resolve(c)}return c}onInit(n,s){const r=this.normalizeInstanceIdentifier(s),c=this.onInitCallbacks.get(r)??new Set;c.add(n),this.onInitCallbacks.set(r,c);const f=this.instances.get(r);return f&&n(f,r),()=>{c.delete(n)}}invokeOnInitCallbacks(n,s){const r=this.onInitCallbacks.get(s);if(r)for(const c of r)try{c(n,s)}catch{}}getOrInitializeService({instanceIdentifier:n,options:s={}}){let r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Q1(n),options:s}),this.instances.set(n,r),this.instancesOptions.set(n,s),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch{}return r||null}normalizeInstanceIdentifier(n=wl){return this.component?this.component.multipleInstances?n:wl:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q1(l){return l===wl?void 0:l}function X1(l){return l.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const s=this.getProvider(n.name);if(s.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);s.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const s=new V1(n,this);return this.providers.set(n,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(l){l[l.DEBUG=0]="DEBUG",l[l.VERBOSE=1]="VERBOSE",l[l.INFO=2]="INFO",l[l.WARN=3]="WARN",l[l.ERROR=4]="ERROR",l[l.SILENT=5]="SILENT"})(Pe||(Pe={}));const P1={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},K1=Pe.INFO,Z1={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},J1=(l,n,...s)=>{if(n<l.logLevel)return;const r=new Date().toISOString(),c=Z1[n];if(c)console[c](`[${r}]  ${l.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class gy{constructor(n){this.name=n,this._logLevel=K1,this._logHandler=J1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Pe))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?P1[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...n),this._logHandler(this,Pe.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...n),this._logHandler(this,Pe.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...n),this._logHandler(this,Pe.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...n),this._logHandler(this,Pe.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...n),this._logHandler(this,Pe.ERROR,...n)}}const W1=(l,n)=>n.some(s=>l instanceof s);let d0,f0;function eS(){return d0||(d0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tS(){return f0||(f0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yy=new WeakMap,lf=new WeakMap,vy=new WeakMap,Yd=new WeakMap,Tf=new WeakMap;function nS(l){const n=new Promise((s,r)=>{const c=()=>{l.removeEventListener("success",f),l.removeEventListener("error",h)},f=()=>{s(Ki(l.result)),c()},h=()=>{r(l.error),c()};l.addEventListener("success",f),l.addEventListener("error",h)});return n.then(s=>{s instanceof IDBCursor&&yy.set(s,l)}).catch(()=>{}),Tf.set(n,l),n}function iS(l){if(lf.has(l))return;const n=new Promise((s,r)=>{const c=()=>{l.removeEventListener("complete",f),l.removeEventListener("error",h),l.removeEventListener("abort",h)},f=()=>{s(),c()},h=()=>{r(l.error||new DOMException("AbortError","AbortError")),c()};l.addEventListener("complete",f),l.addEventListener("error",h),l.addEventListener("abort",h)});lf.set(l,n)}let sf={get(l,n,s){if(l instanceof IDBTransaction){if(n==="done")return lf.get(l);if(n==="objectStoreNames")return l.objectStoreNames||vy.get(l);if(n==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Ki(l[n])},set(l,n,s){return l[n]=s,!0},has(l,n){return l instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in l}};function lS(l){sf=l(sf)}function sS(l){return l===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...s){const r=l.call(Gd(this),n,...s);return vy.set(r,n.sort?n.sort():[n]),Ki(r)}:tS().includes(l)?function(...n){return l.apply(Gd(this),n),Ki(yy.get(this))}:function(...n){return Ki(l.apply(Gd(this),n))}}function aS(l){return typeof l=="function"?sS(l):(l instanceof IDBTransaction&&iS(l),W1(l,eS())?new Proxy(l,sf):l)}function Ki(l){if(l instanceof IDBRequest)return nS(l);if(Yd.has(l))return Yd.get(l);const n=aS(l);return n!==l&&(Yd.set(l,n),Tf.set(n,l)),n}const Gd=l=>Tf.get(l);function rS(l,n,{blocked:s,upgrade:r,blocking:c,terminated:f}={}){const h=indexedDB.open(l,n),p=Ki(h);return r&&h.addEventListener("upgradeneeded",g=>{r(Ki(h.result),g.oldVersion,g.newVersion,Ki(h.transaction),g)}),s&&h.addEventListener("blocked",g=>s(g.oldVersion,g.newVersion,g)),p.then(g=>{f&&g.addEventListener("close",()=>f()),c&&g.addEventListener("versionchange",y=>c(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const oS=["get","getKey","getAll","getAllKeys","count"],cS=["put","add","delete","clear"],Vd=new Map;function h0(l,n){if(!(l instanceof IDBDatabase&&!(n in l)&&typeof n=="string"))return;if(Vd.get(n))return Vd.get(n);const s=n.replace(/FromIndex$/,""),r=n!==s,c=cS.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(c||oS.includes(s)))return;const f=async function(h,...p){const g=this.transaction(h,c?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[s](...p),c&&g.done]))[0]};return Vd.set(n,f),f}lS(l=>({...l,get:(n,s,r)=>h0(n,s)||l.get(n,s,r),has:(n,s)=>!!h0(n,s)||l.has(n,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(dS(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function dS(l){const n=l.getComponent();return(n==null?void 0:n.type)==="VERSION"}const af="@firebase/app",m0="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi=new gy("@firebase/app"),fS="@firebase/app-compat",hS="@firebase/analytics-compat",mS="@firebase/analytics",pS="@firebase/app-check-compat",gS="@firebase/app-check",yS="@firebase/auth",vS="@firebase/auth-compat",_S="@firebase/database",xS="@firebase/data-connect",bS="@firebase/database-compat",SS="@firebase/functions",NS="@firebase/functions-compat",ES="@firebase/installations",CS="@firebase/installations-compat",wS="@firebase/messaging",TS="@firebase/messaging-compat",AS="@firebase/performance",jS="@firebase/performance-compat",DS="@firebase/remote-config",MS="@firebase/remote-config-compat",OS="@firebase/storage",RS="@firebase/storage-compat",kS="@firebase/firestore",zS="@firebase/ai",LS="@firebase/firestore-compat",US="firebase",HS="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="[DEFAULT]",IS={[af]:"fire-core",[fS]:"fire-core-compat",[mS]:"fire-analytics",[hS]:"fire-analytics-compat",[gS]:"fire-app-check",[pS]:"fire-app-check-compat",[yS]:"fire-auth",[vS]:"fire-auth-compat",[_S]:"fire-rtdb",[xS]:"fire-data-connect",[bS]:"fire-rtdb-compat",[SS]:"fire-fn",[NS]:"fire-fn-compat",[ES]:"fire-iid",[CS]:"fire-iid-compat",[wS]:"fire-fcm",[TS]:"fire-fcm-compat",[AS]:"fire-perf",[jS]:"fire-perf-compat",[DS]:"fire-rc",[MS]:"fire-rc-compat",[OS]:"fire-gcs",[RS]:"fire-gcs-compat",[kS]:"fire-fst",[LS]:"fire-fst-compat",[zS]:"fire-vertex","fire-js":"fire-js",[US]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new Map,BS=new Map,of=new Map;function p0(l,n){try{l.container.addComponent(n)}catch(s){gi.debug(`Component ${n.name} failed to register with FirebaseApp ${l.name}`,s)}}function Po(l){const n=l.name;if(of.has(n))return gi.debug(`There were multiple attempts to register component ${n}.`),!1;of.set(n,l);for(const s of nr.values())p0(s,l);for(const s of BS.values())p0(s,l);return!0}function $S(l,n){const s=l.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),l.container.getProvider(n)}function qS(l){return l==null?!1:l.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zi=new my("app","Firebase",YS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(n,s,r){this._isDeleted=!1,this._options={...n},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new tr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw Zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=HS;function _y(l,n={}){let s=l;typeof n!="object"&&(n={name:n});const r={name:rf,automaticDataCollectionEnabled:!0,...n},c=r.name;if(typeof c!="string"||!c)throw Zi.create("bad-app-name",{appName:String(c)});if(s||(s=fy()),!s)throw Zi.create("no-options");const f=nr.get(c);if(f){if(Fo(s,f.options)&&Fo(r,f.config))return f;throw Zi.create("duplicate-app",{appName:c})}const h=new F1(c);for(const g of of.values())h.addComponent(g);const p=new GS(s,r,h);return nr.set(c,p),p}function xy(l=rf){const n=nr.get(l);if(!n&&l===rf&&fy())return _y();if(!n)throw Zi.create("no-app",{appName:l});return n}function QS(){return Array.from(nr.values())}function Ns(l,n,s){let r=IS[l]??l;s&&(r+=`-${s}`);const c=r.match(/\s|\//),f=n.match(/\s|\//);if(c||f){const h=[`Unable to register library "${r}" with version "${n}":`];c&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),c&&f&&h.push("and"),f&&h.push(`version name "${n}" contains illegal characters (whitespace or "/")`),gi.warn(h.join(" "));return}Po(new tr(`${r}-version`,()=>({library:r,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="firebase-heartbeat-database",FS=1,ir="firebase-heartbeat-store";let Qd=null;function by(){return Qd||(Qd=rS(XS,FS,{upgrade:(l,n)=>{switch(n){case 0:try{l.createObjectStore(ir)}catch(s){console.warn(s)}}}}).catch(l=>{throw Zi.create("idb-open",{originalErrorMessage:l.message})})),Qd}async function PS(l){try{const s=(await by()).transaction(ir),r=await s.objectStore(ir).get(Sy(l));return await s.done,r}catch(n){if(n instanceof hr)gi.warn(n.message);else{const s=Zi.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});gi.warn(s.message)}}}async function g0(l,n){try{const r=(await by()).transaction(ir,"readwrite");await r.objectStore(ir).put(n,Sy(l)),await r.done}catch(s){if(s instanceof hr)gi.warn(s.message);else{const r=Zi.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});gi.warn(r.message)}}}function Sy(l){return`${l.name}!${l.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=1024,ZS=30;class JS{constructor(n){this.container=n,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new e2(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var n,s;try{const c=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=y0();if(((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)==null?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(h=>h.date===f))return;if(this._heartbeatsCache.heartbeats.push({date:f,agent:c}),this._heartbeatsCache.heartbeats.length>ZS){const h=t2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){gi.warn(r)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=y0(),{heartbeatsToSend:r,unsentEntries:c}=WS(this._heartbeatsCache.heartbeats),f=Qo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=s,c.length>0?(this._heartbeatsCache.heartbeats=c,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(s){return gi.warn(s),""}}}function y0(){return new Date().toISOString().substring(0,10)}function WS(l,n=KS){const s=[];let r=l.slice();for(const c of l){const f=s.find(h=>h.agent===c.agent);if(f){if(f.dates.push(c.date),v0(s)>n){f.dates.pop();break}}else if(s.push({agent:c.agent,dates:[c.date]}),v0(s)>n){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class e2{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return z1()?L1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await PS(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return g0(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return g0(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...n.heartbeats]})}else return}}function v0(l){return Qo(JSON.stringify({version:2,heartbeats:l})).length}function t2(l){if(l.length===0)return-1;let n=0,s=l[0].date;for(let r=1;r<l.length;r++)l[r].date<s&&(s=l[r].date,n=r);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(l){Po(new tr("platform-logger",n=>new uS(n),"PRIVATE")),Po(new tr("heartbeat",n=>new JS(n),"PRIVATE")),Ns(af,m0,l),Ns(af,m0,"esm2020"),Ns("fire-js","")}n2("");var i2="firebase",l2="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ns(i2,l2,"app");var _0={};const x0="@firebase/database",b0="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ny="";function s2(l){Ny=l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,s){s==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),xt(s))}get(n){const s=this.domStorage_.getItem(this.prefixedName_(n));return s==null?null:er(s)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,s){s==null?delete this.cache_[n]:this.cache_[n]=s}get(n){return Yn(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey=function(l){try{if(typeof window<"u"&&typeof window[l]<"u"){const n=window[l];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new a2(n)}}catch{}return new r2},Al=Ey("localStorage"),o2=Ey("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new gy("@firebase/database"),c2=(function(){let l=1;return function(){return l++}})(),Cy=function(l){const n=G1(l),s=new Y1;s.update(n);const r=s.digest();return Cf.encodeByteArray(r)},mr=function(...l){let n="";for(let s=0;s<l.length;s++){const r=l[s];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?n+=mr.apply(null,r):typeof r=="object"?n+=xt(r):n+=r,n+=" "}return n};let Fa=null,S0=!0;const u2=function(l,n){q(!0,"Can't turn on custom loggers persistently."),Es.logLevel=Pe.VERBOSE,Fa=Es.log.bind(Es)},zt=function(...l){if(S0===!0&&(S0=!1,Fa===null&&o2.get("logging_enabled")===!0&&u2()),Fa){const n=mr.apply(null,l);Fa(n)}},pr=function(l){return function(...n){zt(l,...n)}},cf=function(...l){const n="FIREBASE INTERNAL ERROR: "+mr(...l);Es.error(n)},yi=function(...l){const n=`FIREBASE FATAL ERROR: ${mr(...l)}`;throw Es.error(n),new Error(n)},Qt=function(...l){const n="FIREBASE WARNING: "+mr(...l);Es.warn(n)},d2=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Qt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Af=function(l){return typeof l=="number"&&(l!==l||l===Number.POSITIVE_INFINITY||l===Number.NEGATIVE_INFINITY)},f2=function(l){if(document.readyState==="complete")l();else{let n=!1;const s=function(){if(!document.body){setTimeout(s,Math.floor(10));return}n||(n=!0,l())};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&s()}),window.attachEvent("onload",s))}},Ts="[MIN_NAME]",jl="[MAX_NAME]",Rl=function(l,n){if(l===n)return 0;if(l===Ts||n===jl)return-1;if(n===Ts||l===jl)return 1;{const s=N0(l),r=N0(n);return s!==null?r!==null?s-r===0?l.length-n.length:s-r:-1:r!==null?1:l<n?-1:1}},h2=function(l,n){return l===n?0:l<n?-1:1},$a=function(l,n){if(n&&l in n)return n[l];throw new Error("Missing required key ("+l+") in object: "+xt(n))},jf=function(l){if(typeof l!="object"||l===null)return xt(l);const n=[];for(const r in l)n.push(r);n.sort();let s="{";for(let r=0;r<n.length;r++)r!==0&&(s+=","),s+=xt(n[r]),s+=":",s+=jf(l[n[r]]);return s+="}",s},wy=function(l,n){const s=l.length;if(s<=n)return[l];const r=[];for(let c=0;c<s;c+=n)c+n>s?r.push(l.substring(c,s)):r.push(l.substring(c,c+n));return r};function Ut(l,n){for(const s in l)l.hasOwnProperty(s)&&n(s,l[s])}const Ty=function(l){q(!Af(l),"Invalid JSON number");const n=11,s=52,r=(1<<n-1)-1;let c,f,h,p,g;l===0?(f=0,h=0,c=1/l===-1/0?1:0):(c=l<0,l=Math.abs(l),l>=Math.pow(2,1-r)?(p=Math.min(Math.floor(Math.log(l)/Math.LN2),r),f=p+r,h=Math.round(l*Math.pow(2,s-p)-Math.pow(2,s))):(f=0,h=Math.round(l/Math.pow(2,1-r-s))));const y=[];for(g=s;g;g-=1)y.push(h%2?1:0),h=Math.floor(h/2);for(g=n;g;g-=1)y.push(f%2?1:0),f=Math.floor(f/2);y.push(c?1:0),y.reverse();const x=y.join("");let _="";for(g=0;g<64;g+=8){let N=parseInt(x.substr(g,8),2).toString(16);N.length===1&&(N="0"+N),_=_+N}return _.toLowerCase()},m2=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},p2=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function g2(l,n){let s="Unknown Error";l==="too_big"?s="The data requested exceeds the maximum size that can be accessed with a single request.":l==="permission_denied"?s="Client doesn't have permission to access the desired data.":l==="unavailable"&&(s="The service is unavailable");const r=new Error(l+" at "+n._path.toString()+": "+s);return r.code=l.toUpperCase(),r}const y2=new RegExp("^-?(0*)\\d{1,10}$"),v2=-2147483648,_2=2147483647,N0=function(l){if(y2.test(l)){const n=Number(l);if(n>=v2&&n<=_2)return n}return null},ks=function(l){try{l()}catch(n){setTimeout(()=>{const s=n.stack||"";throw Qt("Exception was thrown by user callback.",s),n},Math.floor(0))}},x2=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Pa=function(l,n){const s=setTimeout(l,n);return typeof s=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(s):typeof s=="object"&&s.unref&&s.unref(),s};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(n,s){this.appCheckProvider=s,this.appName=n.name,qS(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=s==null?void 0:s.getImmediate({optional:!0}),this.appCheck||s==null||s.get().then(r=>this.appCheck=r)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((s,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(s,r):s(null)},0)})}addTokenChangeListener(n){var s;(s=this.appCheckProvider)==null||s.get().then(r=>r.addTokenListener(n))}notifyForInvalidToken(){Qt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(n,s,r){this.appName_=n,this.firebaseOptions_=s,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(c=>this.auth_=c)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(s=>s&&s.code==="auth/token-not-initialized"?(zt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(s,r):s(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(s=>s.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(s=>s.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Qt(n)}}class Go{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}Go.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="5",Ay="v",jy="s",Dy="r",My="f",Oy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ry="ls",ky="p",uf="ac",zy="websocket",Ly="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(n,s,r,c,f=!1,h="",p=!1,g=!1,y=null){this.secure=s,this.namespace=r,this.webSocketOnly=c,this.nodeAdmin=f,this.persistenceKey=h,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=g,this.emulatorOptions=y,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Al.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Al.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",s=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${s}`}}function N2(l){return l.host!==l.internalHost||l.isCustomHost()||l.includeNamespaceInQueryParams}function Hy(l,n,s){q(typeof n=="string","typeof type must == string"),q(typeof s=="object","typeof params must == object");let r;if(n===zy)r=(l.secure?"wss://":"ws://")+l.internalHost+"/.ws?";else if(n===Ly)r=(l.secure?"https://":"http://")+l.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);N2(l)&&(s.ns=l.namespace);const c=[];return Ut(s,(f,h)=>{c.push(f+"="+h)}),r+c.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.counters_={}}incrementCounter(n,s=1){Yn(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=s}get(){return _1(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd={},Fd={};function Mf(l){const n=l.toString();return Xd[n]||(Xd[n]=new E2),Xd[n]}function C2(l,n){const s=l.toString();return Fd[s]||(Fd[s]=n()),Fd[s]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,s){this.closeAfterResponse=n,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,s){for(this.pendingResponses[n]=s;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let c=0;c<r.length;++c)r[c]&&ks(()=>{this.onMessage_(r[c])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="start",T2="close",A2="pLPCommand",j2="pRTLPCB",Iy="id",By="pw",$y="ser",D2="cb",M2="seg",O2="ts",R2="d",k2="dframe",qy=1870,Yy=30,z2=qy-Yy,L2=25e3,U2=3e4;class Ss{constructor(n,s,r,c,f,h,p){this.connId=n,this.repoInfo=s,this.applicationId=r,this.appCheckToken=c,this.authToken=f,this.transportSessionId=h,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=pr(n),this.stats_=Mf(s),this.urlFn=g=>(this.appCheckToken&&(g[uf]=this.appCheckToken),Hy(s,Ly,g))}open(n,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new w2(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(U2)),f2(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Of((...f)=>{const[h,p,g,y,x]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===E0)this.id=p,this.password=g;else if(h===T2)p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...f)=>{const[h,p]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(h,p)},()=>{this.onClosed_()},this.urlFn);const r={};r[E0]="t",r[$y]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[D2]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Ay]=Df,this.transportSessionId&&(r[jy]=this.transportSessionId),this.lastSessionId&&(r[Ry]=this.lastSessionId),this.applicationId&&(r[ky]=this.applicationId),this.appCheckToken&&(r[uf]=this.appCheckToken),typeof location<"u"&&location.hostname&&Oy.test(location.hostname)&&(r[Dy]=My);const c=this.urlFn(r);this.log_("Connecting via long-poll to "+c),this.scriptTagHolder.addTag(c,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ss.forceAllow_=!0}static forceDisallow(){Ss.forceDisallow_=!0}static isAvailable(){return Ss.forceAllow_?!0:!Ss.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!m2()&&!p2()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const s=xt(n);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const r=cy(s),c=wy(r,z2);for(let f=0;f<c.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,c.length,c[f]),this.curSegmentNum++}addDisconnectPingFrame(n,s){this.myDisconnFrame=document.createElement("iframe");const r={};r[k2]="t",r[Iy]=n,r[By]=s,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const s=xt(n).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class Of{constructor(n,s,r,c){this.onDisconnect=r,this.urlFn=c,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=c2(),window[A2+this.uniqueCallbackIdentifier]=n,window[j2+this.uniqueCallbackIdentifier]=s,this.myIFrame=Of.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(p){zt("frame writing exception"),p.stack&&zt(p.stack),zt(p)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||zt("No IE domain setting required")}catch{const r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,s){for(this.myID=n,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[Iy]=this.myID,n[By]=this.myPW,n[$y]=this.currentSerial;let s=this.urlFn(n),r="",c=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Yy+r.length<=qy;){const h=this.pendingSegs.shift();r=r+"&"+M2+c+"="+h.seg+"&"+O2+c+"="+h.ts+"&"+R2+c+"="+h.d,c++}return s=s+r,this.addLongPollTag_(s,this.currentSerial),!0}else return!1}enqueueSegment(n,s,r){this.pendingSegs.push({seg:n,ts:s,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,s){this.outstandingRequests.add(s);const r=()=>{this.outstandingRequests.delete(s),this.newRequest_()},c=setTimeout(r,Math.floor(L2)),f=()=>{clearTimeout(c),r()};this.addTag(n,f)}addTag(n,s){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){const c=r.readyState;(!c||c==="loaded"||c==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),s())},r.onerror=()=>{zt("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=16384,I2=45e3;let Ko=null;typeof MozWebSocket<"u"?Ko=MozWebSocket:typeof WebSocket<"u"&&(Ko=WebSocket);class On{constructor(n,s,r,c,f,h,p){this.connId=n,this.applicationId=r,this.appCheckToken=c,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=pr(this.connId),this.stats_=Mf(s),this.connURL=On.connectionURL_(s,h,p,c,r),this.nodeAdmin=s.nodeAdmin}static connectionURL_(n,s,r,c,f){const h={};return h[Ay]=Df,typeof location<"u"&&location.hostname&&Oy.test(location.hostname)&&(h[Dy]=My),s&&(h[jy]=s),r&&(h[Ry]=r),c&&(h[uf]=c),f&&(h[ky]=f),Hy(n,zy,h)}open(n,s){this.onDisconnect=s,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Al.set("previous_websocket_failure",!0);try{let r;k1(),this.mySock=new Ko(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const c=r.message||r.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const c=r.message||r.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){On.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const s=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(s);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&Ko!==null&&!On.forceDisallow_}static previouslyFailed(){return Al.isInMemoryStorage||Al.get("previous_websocket_failure")===!0}markConnectionHealthy(){Al.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const r=er(s);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(q(this.frames===null,"We already have a frame buffer"),n.length<=6){const s=Number(n);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const s=n.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(s);else{const r=this.extractFrameCount_(s);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();const s=xt(n);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const r=wy(s,H2);r.length>1&&this.sendString_(String(r.length));for(let c=0;c<r.length;c++)this.sendString_(r[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(I2))}sendString_(n){try{this.mySock.send(n)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}On.responsesRequiredToBeHealthy=2;On.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{static get ALL_TRANSPORTS(){return[Ss,On]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const s=On&&On.isAvailable();let r=s&&!On.previouslyFailed();if(n.webSocketOnly&&(s||Qt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[On];else{const c=this.transports_=[];for(const f of lr.ALL_TRANSPORTS)f&&f.isAvailable()&&c.push(f);lr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}lr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=6e4,$2=5e3,q2=10*1024,Y2=100*1024,Pd="t",C0="d",G2="s",w0="r",V2="e",T0="o",A0="a",j0="n",D0="p",Q2="h";class X2{constructor(n,s,r,c,f,h,p,g,y,x){this.id=n,this.repoInfo_=s,this.applicationId_=r,this.appCheckToken_=c,this.authToken_=f,this.onMessage_=h,this.onReady_=p,this.onDisconnect_=g,this.onKill_=y,this.lastSessionId=x,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=pr("c:"+this.id+":"),this.transportManager_=new lr(s),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,r)},Math.floor(0));const c=n.healthyTimeout||0;c>0&&(this.healthyTimeout_=Pa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Y2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>q2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(c)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return s=>{n===this.conn_?this.onConnectionLost_(s):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return s=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(s):n===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(n){const s={t:"d",d:n};this.sendData_(s)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(Pd in n){const s=n[Pd];s===A0?this.upgradeIfSecondaryHealthy_():s===w0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):s===T0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const s=$a("t",n),r=$a("d",n);if(s==="c")this.onSecondaryControl_(r);else if(s==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+s)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:D0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:A0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:j0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const s=$a("t",n),r=$a("d",n);s==="c"?this.onControl_(r):s==="d"&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const s=$a(Pd,n);if(C0 in n){const r=n[C0];if(s===Q2){const c={...r};this.repoInfo_.isUsingEmulator&&(c.h=this.repoInfo_.host),this.onHandshake_(c)}else if(s===j0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let c=0;c<this.pendingDataMessages.length;++c)this.onDataMessage_(this.pendingDataMessages[c]);this.pendingDataMessages=[],this.tryCleanupConnection()}else s===G2?this.onConnectionShutdown_(r):s===w0?this.onReset_(r):s===V2?cf("Server Error: "+r):s===T0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):cf("Unknown control packet command: "+s)}}onHandshake_(n){const s=n.ts,r=n.v,c=n.h;this.sessionId=n.s,this.repoInfo_.host=c,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),Df!==r&&Qt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,r),Pa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(B2))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,s){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Pa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor($2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:D0,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Al.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{put(n,s,r,c){}merge(n,s,r,c){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,s,r){}onDisconnectMerge(n,s,r){}onDisconnectCancel(n,s){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(n){this.allowedEvents_=n,this.listeners_={},q(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...s){if(Array.isArray(this.listeners_[n])){const r=[...this.listeners_[n]];for(let c=0;c<r.length;c++)r[c].callback.apply(r[c].context,s)}}on(n,s,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:s,context:r});const c=this.getInitialEvent(n);c&&s.apply(r,c)}off(n,s,r){this.validateEventType_(n);const c=this.listeners_[n]||[];for(let f=0;f<c.length;f++)if(c[f].callback===s&&(!r||r===c[f].context)){c.splice(f,1);return}}validateEventType_(n){q(this.allowedEvents_.find(s=>s===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends Vy{static getInstance(){return new Zo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!hy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return q(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=32,O0=768;class Ge{constructor(n,s){if(s===void 0){this.pieces_=n.split("/");let r=0;for(let c=0;c<this.pieces_.length;c++)this.pieces_[c].length>0&&(this.pieces_[r]=this.pieces_[c],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=s}toString(){let n="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)this.pieces_[s]!==""&&(n+="/"+this.pieces_[s]);return n||"/"}}function Re(){return new Ge("")}function ye(l){return l.pieceNum_>=l.pieces_.length?null:l.pieces_[l.pieceNum_]}function el(l){return l.pieces_.length-l.pieceNum_}function Ke(l){let n=l.pieceNum_;return n<l.pieces_.length&&n++,new Ge(l.pieces_,n)}function Rf(l){return l.pieceNum_<l.pieces_.length?l.pieces_[l.pieces_.length-1]:null}function F2(l){let n="";for(let s=l.pieceNum_;s<l.pieces_.length;s++)l.pieces_[s]!==""&&(n+="/"+encodeURIComponent(String(l.pieces_[s])));return n||"/"}function sr(l,n=0){return l.pieces_.slice(l.pieceNum_+n)}function Qy(l){if(l.pieceNum_>=l.pieces_.length)return null;const n=[];for(let s=l.pieceNum_;s<l.pieces_.length-1;s++)n.push(l.pieces_[s]);return new Ge(n,0)}function at(l,n){const s=[];for(let r=l.pieceNum_;r<l.pieces_.length;r++)s.push(l.pieces_[r]);if(n instanceof Ge)for(let r=n.pieceNum_;r<n.pieces_.length;r++)s.push(n.pieces_[r]);else{const r=n.split("/");for(let c=0;c<r.length;c++)r[c].length>0&&s.push(r[c])}return new Ge(s,0)}function be(l){return l.pieceNum_>=l.pieces_.length}function Vt(l,n){const s=ye(l),r=ye(n);if(s===null)return n;if(s===r)return Vt(Ke(l),Ke(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+l+")")}function P2(l,n){const s=sr(l,0),r=sr(n,0);for(let c=0;c<s.length&&c<r.length;c++){const f=Rl(s[c],r[c]);if(f!==0)return f}return s.length===r.length?0:s.length<r.length?-1:1}function kf(l,n){if(el(l)!==el(n))return!1;for(let s=l.pieceNum_,r=n.pieceNum_;s<=l.pieces_.length;s++,r++)if(l.pieces_[s]!==n.pieces_[r])return!1;return!0}function Sn(l,n){let s=l.pieceNum_,r=n.pieceNum_;if(el(l)>el(n))return!1;for(;s<l.pieces_.length;){if(l.pieces_[s]!==n.pieces_[r])return!1;++s,++r}return!0}class K2{constructor(n,s){this.errorPrefix_=s,this.parts_=sr(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=mc(this.parts_[r]);Xy(this)}}function Z2(l,n){l.parts_.length>0&&(l.byteLength_+=1),l.parts_.push(n),l.byteLength_+=mc(n),Xy(l)}function J2(l){const n=l.parts_.pop();l.byteLength_-=mc(n),l.parts_.length>0&&(l.byteLength_-=1)}function Xy(l){if(l.byteLength_>O0)throw new Error(l.errorPrefix_+"has a key path longer than "+O0+" bytes ("+l.byteLength_+").");if(l.parts_.length>M0)throw new Error(l.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+M0+") or object contains a cycle "+Tl(l))}function Tl(l){return l.parts_.length===0?"":"in property '"+l.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf extends Vy{static getInstance(){return new zf}constructor(){super(["visible"]);let n,s;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(s="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(s="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(s="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(s="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(n){return q(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=1e3,W2=300*1e3,R0=30*1e3,eN=1.3,tN=3e4,nN="server_kill",k0=3;class mi extends Gy{constructor(n,s,r,c,f,h,p,g){if(super(),this.repoInfo_=n,this.applicationId_=s,this.onDataUpdate_=r,this.onConnectStatus_=c,this.onServerInfoUpdate_=f,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=g,this.id=mi.nextPersistentConnectionId_++,this.log_=pr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=qa,this.maxReconnectDelay_=W2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");zf.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Zo.getInstance().on("online",this.onOnline_,this)}sendRequest(n,s,r){const c=++this.requestNumber_,f={r:c,a:n,b:s};this.log_(xt(f)),q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),r&&(this.requestCBHash_[c]=r)}get(n){this.initConnection_();const s=new fr,c={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:h=>{const p=h.d;h.s==="ok"?s.resolve(p):s.reject(p)}};this.outstandingGets_.push(c),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),s.promise}listen(n,s,r,c){this.initConnection_();const f=n._queryIdentifier,h=n._path.toString();this.log_("Listen called for "+h+" "+f),this.listens.has(h)||this.listens.set(h,new Map),q(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),q(!this.listens.get(h).has(f),"listen() called twice for same path/queryId.");const p={onComplete:c,hashFn:s,query:n,tag:r};this.listens.get(h).set(f,p),this.connected_&&this.sendListen_(p)}sendGet_(n){const s=this.outstandingGets_[n];this.sendRequest("g",s.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(r)})}sendListen_(n){const s=n.query,r=s._path.toString(),c=s._queryIdentifier;this.log_("Listen on "+r+" for "+c);const f={p:r},h="q";n.tag&&(f.q=s._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest(h,f,p=>{const g=p.d,y=p.s;mi.warnOnListenWarnings_(g,s),(this.listens.get(r)&&this.listens.get(r).get(c))===n&&(this.log_("listen response",p),y!=="ok"&&this.removeListen_(r,c),n.onComplete&&n.onComplete(y,g))})}static warnOnListenWarnings_(n,s){if(n&&typeof n=="object"&&Yn(n,"w")){const r=ws(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const c='".indexOn": "'+s._queryParams.getIndex().toString()+'"',f=s._path.toString();Qt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||$1(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=R0)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,s=B1(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(s,r,c=>{const f=c.s,h=c.d||"error";this.authToken_===n&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const s=n.s,r=n.d||"error";s==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,r)})}unlisten(n,s){const r=n._path.toString(),c=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+c),q(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,c)&&this.connected_&&this.sendUnlisten_(r,c,n._queryObject,s)}sendUnlisten_(n,s,r,c){this.log_("Unlisten on "+n+" for "+s);const f={p:n},h="n";c&&(f.q=r,f.t=c),this.sendRequest(h,f)}onDisconnectPut(n,s,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,s,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:s,onComplete:r})}onDisconnectMerge(n,s,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,s,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:s,onComplete:r})}onDisconnectCancel(n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,s):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(n,s,r,c){const f={p:s,d:r};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,h=>{c&&setTimeout(()=>{c(h.s,h.d)},Math.floor(0))})}put(n,s,r,c){this.putInternal("p",n,s,r,c)}merge(n,s,r,c){this.putInternal("m",n,s,r,c)}putInternal(n,s,r,c,f){this.initConnection_();const h={p:s,d:r};f!==void 0&&(h.h=f),this.outstandingPuts_.push({action:n,request:h,onComplete:c}),this.outstandingPutCount_++;const p=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(p):this.log_("Buffering put: "+s)}sendPut_(n){const s=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,c=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(s,r,f=>{this.log_(s+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),c&&c(f.s,f.d)})}reportStats(n){if(this.connected_){const s={c:n};this.log_("reportStats",s),this.sendRequest("s",s,r=>{if(r.s!=="ok"){const f=r.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+xt(n));const s=n.r,r=this.requestCBHash_[s];r&&(delete this.requestCBHash_[s],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,s){this.log_("handleServerMessage",n,s),n==="d"?this.onDataUpdate_(s.p,s.d,!1,s.t):n==="m"?this.onDataUpdate_(s.p,s.d,!0,s.t):n==="c"?this.onListenRevoked_(s.p,s.q):n==="ac"?this.onAuthRevoked_(s.s,s.d):n==="apc"?this.onAppCheckRevoked_(s.s,s.d):n==="sd"?this.onSecurityDebugPacket_(s):cf("Unrecognized action received from server: "+xt(n)+`
Are you using the latest client?`)}onReady_(n,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=qa,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=qa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>tN&&(this.reconnectDelay_=qa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let s=Math.max(0,this.reconnectDelay_-n);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*eN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),s=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),c=this.id+":"+mi.nextConnectionId_++,f=this.lastSessionId;let h=!1,p=null;const g=function(){p?p.close():(h=!0,r())},y=function(_){q(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(_)};this.realtime_={close:g,sendRequest:y};const x=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,N]=await Promise.all([this.authTokenProvider_.getToken(x),this.appCheckTokenProvider_.getToken(x)]);h?zt("getToken() completed but was canceled"):(zt("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=N&&N.token,p=new X2(c,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,s,r,I=>{Qt(I+" ("+this.repoInfo_.toString()+")"),this.interrupt(nN)},f))}catch(_){this.log_("Failed to get token: "+_),h||(this.repoInfo_.nodeAdmin&&Qt(_),g())}}}interrupt(n){zt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){zt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],c0(this.interruptReasons_)&&(this.reconnectDelay_=qa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const s=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const s=this.outstandingPuts_[n];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,s){let r;s?r=s.map(f=>jf(f)).join("$"):r="default";const c=this.removeListen_(n,r);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(n,s){const r=new Ge(n).toString();let c;if(this.listens.has(r)){const f=this.listens.get(r);c=f.get(s),f.delete(s),f.size===0&&this.listens.delete(r)}else c=void 0;return c}onAuthRevoked_(n,s){zt("Auth token revoked: "+n+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=k0&&(this.reconnectDelay_=R0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,s){zt("App check token revoked: "+n+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=k0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const s of n.values())this.sendListen_(s);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let s="js";n["sdk."+s+"."+Ny.replace(/\./g,"-")]=1,hy()?n["framework.cordova"]=1:R1()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Zo.getInstance().currentlyOnline();return c0(this.interruptReasons_)&&n}}mi.nextPersistentConnectionId_=0;mi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(n,s){this.name=n,this.node=s}static Wrap(n,s){return new ve(n,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,s){const r=new ve(Ts,n),c=new ve(Ts,s);return this.compare(r,c)!==0}minPost(){return ve.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo;class Fy extends pc{static get __EMPTY_NODE(){return qo}static set __EMPTY_NODE(n){qo=n}compare(n,s){return Rl(n.name,s.name)}isDefinedOn(n){throw Os("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,s){return!1}minPost(){return ve.MIN}maxPost(){return new ve(jl,qo)}makePost(n,s){return q(typeof n=="string","KeyIndex indexValue must always be a string."),new ve(n,qo)}toString(){return".key"}}const Cs=new Fy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(n,s,r,c,f=null){this.isReverse_=c,this.resultGenerator_=f,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(n=n,h=s?r(n.key,s):1,c&&(h*=-1),h<0)this.isReverse_?n=n.left:n=n.right;else if(h===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),s;if(this.resultGenerator_?s=this.resultGenerator_(n.key,n.value):s={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class Ct{constructor(n,s,r,c,f){this.key=n,this.value=s,this.color=r??Ct.RED,this.left=c??nn.EMPTY_NODE,this.right=f??nn.EMPTY_NODE}copy(n,s,r,c,f){return new Ct(n??this.key,s??this.value,r??this.color,c??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,s,r){let c=this;const f=r(n,c.key);return f<0?c=c.copy(null,null,null,c.left.insert(n,s,r),null):f===0?c=c.copy(null,s,null,null,null):c=c.copy(null,null,null,null,c.right.insert(n,s,r)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return nn.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,s){let r,c;if(r=this,s(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,s),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),s(n,r.key)===0){if(r.right.isEmpty())return nn.EMPTY_NODE;c=r.right.min_(),r=r.copy(c.key,c.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,s))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,s)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}Ct.RED=!0;Ct.BLACK=!1;class iN{copy(n,s,r,c,f){return this}insert(n,s,r){return new Ct(n,s,null)}remove(n,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class nn{constructor(n,s=nn.EMPTY_NODE){this.comparator_=n,this.root_=s}insert(n,s){return new nn(this.comparator_,this.root_.insert(n,s,this.comparator_).copy(null,null,Ct.BLACK,null,null))}remove(n){return new nn(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,Ct.BLACK,null,null))}get(n){let s,r=this.root_;for(;!r.isEmpty();){if(s=this.comparator_(n,r.key),s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}getPredecessorKey(n){let s,r=this.root_,c=null;for(;!r.isEmpty();)if(s=this.comparator_(n,r.key),s===0){if(r.left.isEmpty())return c?c.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else s<0?r=r.left:s>0&&(c=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Yo(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,s){return new Yo(this.root_,n,this.comparator_,!1,s)}getReverseIteratorFrom(n,s){return new Yo(this.root_,n,this.comparator_,!0,s)}getReverseIterator(n){return new Yo(this.root_,null,this.comparator_,!0,n)}}nn.EMPTY_NODE=new iN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(l,n){return Rl(l.name,n.name)}function Lf(l,n){return Rl(l,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let df;function sN(l){df=l}const Py=function(l){return typeof l=="number"?"number:"+Ty(l):"string:"+l},Ky=function(l){if(l.isLeafNode()){const n=l.val();q(typeof n=="string"||typeof n=="number"||typeof n=="object"&&Yn(n,".sv"),"Priority must be a string or number.")}else q(l===df||l.isEmpty(),"priority of unexpected type.");q(l===df||l.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z0;class Et{static set __childrenNodeConstructor(n){z0=n}static get __childrenNodeConstructor(){return z0}constructor(n,s=Et.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=s,this.lazyHash_=null,q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Ky(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new Et(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:Et.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return be(n)?this:ye(n)===".priority"?this.priorityNode_:Et.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,s){return null}updateImmediateChild(n,s){return n===".priority"?this.updatePriority(s):s.isEmpty()&&n!==".priority"?this:Et.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,s).updatePriority(this.priorityNode_)}updateChild(n,s){const r=ye(n);return r===null?s:s.isEmpty()&&r!==".priority"?this:(q(r!==".priority"||el(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Et.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ke(n),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,s){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Py(this.priorityNode_.val())+":");const s=typeof this.value_;n+=s+":",s==="number"?n+=Ty(this.value_):n+=this.value_,this.lazyHash_=Cy(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===Et.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof Et.__childrenNodeConstructor?-1:(q(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const s=typeof n.value_,r=typeof this.value_,c=Et.VALUE_TYPE_ORDER.indexOf(s),f=Et.VALUE_TYPE_ORDER.indexOf(r);return q(c>=0,"Unknown leaf type: "+s),q(f>=0,"Unknown leaf type: "+r),c===f?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-c}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const s=n;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}else return!1}}Et.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zy,Jy;function aN(l){Zy=l}function rN(l){Jy=l}class oN extends pc{compare(n,s){const r=n.node.getPriority(),c=s.node.getPriority(),f=r.compareTo(c);return f===0?Rl(n.name,s.name):f}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,s){return!n.getPriority().equals(s.getPriority())}minPost(){return ve.MIN}maxPost(){return new ve(jl,new Et("[PRIORITY-POST]",Jy))}makePost(n,s){const r=Zy(n);return new ve(s,new Et("[PRIORITY-POST]",r))}toString(){return".priority"}}const rt=new oN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=Math.log(2);class uN{constructor(n){const s=f=>parseInt(Math.log(f)/cN,10),r=f=>parseInt(Array(f+1).join("1"),2);this.count=s(n+1),this.current_=this.count-1;const c=r(this.count);this.bits_=n+1&c}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Jo=function(l,n,s,r){l.sort(n);const c=function(g,y){const x=y-g;let _,N;if(x===0)return null;if(x===1)return _=l[g],N=s?s(_):_,new Ct(N,_.node,Ct.BLACK,null,null);{const I=parseInt(x/2,10)+g,B=c(g,I),J=c(I+1,y);return _=l[I],N=s?s(_):_,new Ct(N,_.node,Ct.BLACK,B,J)}},f=function(g){let y=null,x=null,_=l.length;const N=function(B,J){const ce=_-B,Ce=_;_-=B;const we=c(ce+1,Ce),ue=l[ce],Ve=s?s(ue):ue;I(new Ct(Ve,ue.node,J,null,we))},I=function(B){y?(y.left=B,y=B):(x=B,y=B)};for(let B=0;B<g.count;++B){const J=g.nextBitIsOne(),ce=Math.pow(2,g.count-(B+1));J?N(ce,Ct.BLACK):(N(ce,Ct.BLACK),N(ce,Ct.RED))}return x},h=new uN(l.length),p=f(h);return new nn(r||n,p)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kd;const bs={};class hi{static get Default(){return q(bs&&rt,"ChildrenNode.ts has not been loaded"),Kd=Kd||new hi({".priority":bs},{".priority":rt}),Kd}constructor(n,s){this.indexes_=n,this.indexSet_=s}get(n){const s=ws(this.indexes_,n);if(!s)throw new Error("No index defined for "+n);return s instanceof nn?s:null}hasIndex(n){return Yn(this.indexSet_,n.toString())}addIndex(n,s){q(n!==Cs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let c=!1;const f=s.getIterator(ve.Wrap);let h=f.getNext();for(;h;)c=c||n.isDefinedOn(h.node),r.push(h),h=f.getNext();let p;c?p=Jo(r,n.getCompare()):p=bs;const g=n.toString(),y={...this.indexSet_};y[g]=n;const x={...this.indexes_};return x[g]=p,new hi(x,y)}addToIndexes(n,s){const r=Xo(this.indexes_,(c,f)=>{const h=ws(this.indexSet_,f);if(q(h,"Missing index implementation for "+f),c===bs)if(h.isDefinedOn(n.node)){const p=[],g=s.getIterator(ve.Wrap);let y=g.getNext();for(;y;)y.name!==n.name&&p.push(y),y=g.getNext();return p.push(n),Jo(p,h.getCompare())}else return bs;else{const p=s.get(n.name);let g=c;return p&&(g=g.remove(new ve(n.name,p))),g.insert(n,n.node)}});return new hi(r,this.indexSet_)}removeFromIndexes(n,s){const r=Xo(this.indexes_,c=>{if(c===bs)return c;{const f=s.get(n.name);return f?c.remove(new ve(n.name,f)):c}});return new hi(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ya;class se{static get EMPTY_NODE(){return Ya||(Ya=new se(new nn(Lf),null,hi.Default))}constructor(n,s,r){this.children_=n,this.priorityNode_=s,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Ky(this.priorityNode_),this.children_.isEmpty()&&q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ya}updatePriority(n){return this.children_.isEmpty()?this:new se(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const s=this.children_.get(n);return s===null?Ya:s}}getChild(n){const s=ye(n);return s===null?this:this.getImmediateChild(s).getChild(Ke(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,s){if(q(s,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(s);{const r=new ve(n,s);let c,f;s.isEmpty()?(c=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(r,this.children_)):(c=this.children_.insert(n,s),f=this.indexMap_.addToIndexes(r,this.children_));const h=c.isEmpty()?Ya:this.priorityNode_;return new se(c,h,f)}}updateChild(n,s){const r=ye(n);if(r===null)return s;{q(ye(n)!==".priority"||el(n)===1,".priority must be the last token in a path");const c=this.getImmediateChild(r).updateChild(Ke(n),s);return this.updateImmediateChild(r,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const s={};let r=0,c=0,f=!0;if(this.forEachChild(rt,(h,p)=>{s[h]=p.val(n),r++,f&&se.INTEGER_REGEXP_.test(h)?c=Math.max(c,Number(h)):f=!1}),!n&&f&&c<2*r){const h=[];for(const p in s)h[p]=s[p];return h}else return n&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+Py(this.getPriority().val())+":"),this.forEachChild(rt,(s,r)=>{const c=r.hash();c!==""&&(n+=":"+s+":"+c)}),this.lazyHash_=n===""?"":Cy(n)}return this.lazyHash_}getPredecessorChildName(n,s,r){const c=this.resolveIndex_(r);if(c){const f=c.getPredecessorKey(new ve(n,s));return f?f.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const s=this.resolveIndex_(n);if(s){const r=s.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){const s=this.getFirstChildName(n);return s?new ve(s,this.children_.get(s)):null}getLastChildName(n){const s=this.resolveIndex_(n);if(s){const r=s.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){const s=this.getLastChildName(n);return s?new ve(s,this.children_.get(s)):null}forEachChild(n,s){const r=this.resolveIndex_(n);return r?r.inorderTraversal(c=>s(c.name,c.node)):this.children_.inorderTraversal(s)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,s){const r=this.resolveIndex_(s);if(r)return r.getIteratorFrom(n,c=>c);{const c=this.children_.getIteratorFrom(n.name,ve.Wrap);let f=c.peek();for(;f!=null&&s.compare(f,n)<0;)c.getNext(),f=c.peek();return c}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,s){const r=this.resolveIndex_(s);if(r)return r.getReverseIteratorFrom(n,c=>c);{const c=this.children_.getReverseIteratorFrom(n.name,ve.Wrap);let f=c.peek();for(;f!=null&&s.compare(f,n)>0;)c.getNext(),f=c.peek();return c}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===gr?-1:0}withIndex(n){if(n===Cs||this.indexMap_.hasIndex(n))return this;{const s=this.indexMap_.addIndex(n,this.children_);return new se(this.children_,this.priorityNode_,s)}}isIndexed(n){return n===Cs||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const s=n;if(this.getPriority().equals(s.getPriority()))if(this.children_.count()===s.children_.count()){const r=this.getIterator(rt),c=s.getIterator(rt);let f=r.getNext(),h=c.getNext();for(;f&&h;){if(f.name!==h.name||!f.node.equals(h.node))return!1;f=r.getNext(),h=c.getNext()}return f===null&&h===null}else return!1;else return!1}}resolveIndex_(n){return n===Cs?null:this.indexMap_.get(n.toString())}}se.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class dN extends se{constructor(){super(new nn(Lf),se.EMPTY_NODE,hi.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return se.EMPTY_NODE}isEmpty(){return!1}}const gr=new dN;Object.defineProperties(ve,{MIN:{value:new ve(Ts,se.EMPTY_NODE)},MAX:{value:new ve(jl,gr)}});Fy.__EMPTY_NODE=se.EMPTY_NODE;Et.__childrenNodeConstructor=se;sN(gr);rN(gr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=!0;function _t(l,n=null){if(l===null)return se.EMPTY_NODE;if(typeof l=="object"&&".priority"in l&&(n=l[".priority"]),q(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof l=="object"&&".value"in l&&l[".value"]!==null&&(l=l[".value"]),typeof l!="object"||".sv"in l){const s=l;return new Et(s,_t(n))}if(!(l instanceof Array)&&fN){const s=[];let r=!1;if(Ut(l,(h,p)=>{if(h.substring(0,1)!=="."){const g=_t(p);g.isEmpty()||(r=r||!g.getPriority().isEmpty(),s.push(new ve(h,g)))}}),s.length===0)return se.EMPTY_NODE;const f=Jo(s,lN,h=>h.name,Lf);if(r){const h=Jo(s,rt.getCompare());return new se(f,_t(n),new hi({".priority":h},{".priority":rt}))}else return new se(f,_t(n),hi.Default)}else{let s=se.EMPTY_NODE;return Ut(l,(r,c)=>{if(Yn(l,r)&&r.substring(0,1)!=="."){const f=_t(c);(f.isLeafNode()||!f.isEmpty())&&(s=s.updateImmediateChild(r,f))}}),s.updatePriority(_t(n))}}aN(_t);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN extends pc{constructor(n){super(),this.indexPath_=n,q(!be(n)&&ye(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,s){const r=this.extractChild(n.node),c=this.extractChild(s.node),f=r.compareTo(c);return f===0?Rl(n.name,s.name):f}makePost(n,s){const r=_t(n),c=se.EMPTY_NODE.updateChild(this.indexPath_,r);return new ve(s,c)}maxPost(){const n=se.EMPTY_NODE.updateChild(this.indexPath_,gr);return new ve(jl,n)}toString(){return sr(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN extends pc{compare(n,s){const r=n.node.compareTo(s.node);return r===0?Rl(n.name,s.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,s){return!n.equals(s)}minPost(){return ve.MIN}maxPost(){return ve.MAX}makePost(n,s){const r=_t(n);return new ve(s,r)}toString(){return".value"}}const pN=new mN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(l){return{type:"value",snapshotNode:l}}function As(l,n){return{type:"child_added",snapshotNode:n,childName:l}}function ar(l,n){return{type:"child_removed",snapshotNode:n,childName:l}}function rr(l,n,s){return{type:"child_changed",snapshotNode:n,childName:l,oldSnap:s}}function gN(l,n){return{type:"child_moved",snapshotNode:n,childName:l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(n){this.index_=n}updateChild(n,s,r,c,f,h){q(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=n.getImmediateChild(s);return p.getChild(c).equals(r.getChild(c))&&p.isEmpty()===r.isEmpty()||(h!=null&&(r.isEmpty()?n.hasChild(s)?h.trackChildChange(ar(s,p)):q(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?h.trackChildChange(As(s,r)):h.trackChildChange(rr(s,r,p))),n.isLeafNode()&&r.isEmpty())?n:n.updateImmediateChild(s,r).withIndex(this.index_)}updateFullNode(n,s,r){return r!=null&&(n.isLeafNode()||n.forEachChild(rt,(c,f)=>{s.hasChild(c)||r.trackChildChange(ar(c,f))}),s.isLeafNode()||s.forEachChild(rt,(c,f)=>{if(n.hasChild(c)){const h=n.getImmediateChild(c);h.equals(f)||r.trackChildChange(rr(c,f,h))}else r.trackChildChange(As(c,f))})),s.withIndex(this.index_)}updatePriority(n,s){return n.isEmpty()?se.EMPTY_NODE:n.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(n){this.indexedFilter_=new Uf(n.getIndex()),this.index_=n.getIndex(),this.startPost_=or.getStartPost_(n),this.endPost_=or.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const s=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,r=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return s&&r}updateChild(n,s,r,c,f,h){return this.matches(new ve(s,r))||(r=se.EMPTY_NODE),this.indexedFilter_.updateChild(n,s,r,c,f,h)}updateFullNode(n,s,r){s.isLeafNode()&&(s=se.EMPTY_NODE);let c=s.withIndex(this.index_);c=c.updatePriority(se.EMPTY_NODE);const f=this;return s.forEachChild(rt,(h,p)=>{f.matches(new ve(h,p))||(c=c.updateImmediateChild(h,se.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,c,r)}updatePriority(n,s){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const s=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),s)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const s=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),s)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(n){this.withinDirectionalStart=s=>this.reverse_?this.withinEndPost(s):this.withinStartPost(s),this.withinDirectionalEnd=s=>this.reverse_?this.withinStartPost(s):this.withinEndPost(s),this.withinStartPost=s=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),s);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=s=>{const r=this.index_.compare(s,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new or(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,s,r,c,f,h){return this.rangedFilter_.matches(new ve(s,r))||(r=se.EMPTY_NODE),n.getImmediateChild(s).equals(r)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,s,r,c,f,h):this.fullLimitUpdateChild_(n,s,r,f,h)}updateFullNode(n,s,r){let c;if(s.isLeafNode()||s.isEmpty())c=se.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<s.numChildren()&&s.isIndexed(this.index_)){c=se.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;f.hasNext()&&h<this.limit_;){const p=f.getNext();if(this.withinDirectionalStart(p))if(this.withinDirectionalEnd(p))c=c.updateImmediateChild(p.name,p.node),h++;else break;else continue}}else{c=s.withIndex(this.index_),c=c.updatePriority(se.EMPTY_NODE);let f;this.reverse_?f=c.getReverseIterator(this.index_):f=c.getIterator(this.index_);let h=0;for(;f.hasNext();){const p=f.getNext();h<this.limit_&&this.withinDirectionalStart(p)&&this.withinDirectionalEnd(p)?h++:c=c.updateImmediateChild(p.name,se.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,c,r)}updatePriority(n,s){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,s,r,c,f){let h;if(this.reverse_){const _=this.index_.getCompare();h=(N,I)=>_(I,N)}else h=this.index_.getCompare();const p=n;q(p.numChildren()===this.limit_,"");const g=new ve(s,r),y=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),x=this.rangedFilter_.matches(g);if(p.hasChild(s)){const _=p.getImmediateChild(s);let N=c.getChildAfterChild(this.index_,y,this.reverse_);for(;N!=null&&(N.name===s||p.hasChild(N.name));)N=c.getChildAfterChild(this.index_,N,this.reverse_);const I=N==null?1:h(N,g);if(x&&!r.isEmpty()&&I>=0)return f!=null&&f.trackChildChange(rr(s,r,_)),p.updateImmediateChild(s,r);{f!=null&&f.trackChildChange(ar(s,_));const J=p.updateImmediateChild(s,se.EMPTY_NODE);return N!=null&&this.rangedFilter_.matches(N)?(f!=null&&f.trackChildChange(As(N.name,N.node)),J.updateImmediateChild(N.name,N.node)):J}}else return r.isEmpty()?n:x&&h(y,g)>=0?(f!=null&&(f.trackChildChange(ar(y.name,y.node)),f.trackChildChange(As(s,r))),p.updateImmediateChild(s,r).updateImmediateChild(y.name,se.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=rt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ts}hasEnd(){return this.endSet_}getIndexEndValue(){return q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:jl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===rt}copy(){const n=new Hf;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function vN(l){return l.loadsAllData()?new Uf(l.getIndex()):l.hasLimit()?new yN(l):new or(l)}function L0(l){const n={};if(l.isDefault())return n;let s;if(l.index_===rt?s="$priority":l.index_===pN?s="$value":l.index_===Cs?s="$key":(q(l.index_ instanceof hN,"Unrecognized index type!"),s=l.index_.toString()),n.orderBy=xt(s),l.startSet_){const r=l.startAfterSet_?"startAfter":"startAt";n[r]=xt(l.indexStartValue_),l.startNameSet_&&(n[r]+=","+xt(l.indexStartName_))}if(l.endSet_){const r=l.endBeforeSet_?"endBefore":"endAt";n[r]=xt(l.indexEndValue_),l.endNameSet_&&(n[r]+=","+xt(l.indexEndName_))}return l.limitSet_&&(l.isViewFromLeft()?n.limitToFirst=l.limit_:n.limitToLast=l.limit_),n}function U0(l){const n={};if(l.startSet_&&(n.sp=l.indexStartValue_,l.startNameSet_&&(n.sn=l.indexStartName_),n.sin=!l.startAfterSet_),l.endSet_&&(n.ep=l.indexEndValue_,l.endNameSet_&&(n.en=l.indexEndName_),n.ein=!l.endBeforeSet_),l.limitSet_){n.l=l.limit_;let s=l.viewFrom_;s===""&&(l.isViewFromLeft()?s="l":s="r"),n.vf=s}return l.index_!==rt&&(n.i=l.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo extends Gy{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,s){return s!==void 0?"tag$"+s:(q(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,s,r,c){super(),this.repoInfo_=n,this.onDataUpdate_=s,this.authTokenProvider_=r,this.appCheckTokenProvider_=c,this.log_=pr("p:rest:"),this.listens_={}}listen(n,s,r,c){const f=n._path.toString();this.log_("Listen called for "+f+" "+n._queryIdentifier);const h=Wo.getListenId_(n,r),p={};this.listens_[h]=p;const g=L0(n._queryParams);this.restRequest_(f+".json",g,(y,x)=>{let _=x;if(y===404&&(_=null,y=null),y===null&&this.onDataUpdate_(f,_,!1,r),ws(this.listens_,h)===p){let N;y?y===401?N="permission_denied":N="rest_error:"+y:N="ok",c(N,null)}})}unlisten(n,s){const r=Wo.getListenId_(n,s);delete this.listens_[r]}get(n){const s=L0(n._queryParams),r=n._path.toString(),c=new fr;return this.restRequest_(r+".json",s,(f,h)=>{let p=h;f===404&&(p=null,f=null),f===null?(this.onDataUpdate_(r,p,!1,null),c.resolve(p)):c.reject(new Error(p))}),c.promise}refreshAuthToken(n){}restRequest_(n,s={},r){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([c,f])=>{c&&c.accessToken&&(s.auth=c.accessToken),f&&f.token&&(s.ac=f.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+q1(s);this.log_("Sending REST request for "+h);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(r&&p.readyState===4){this.log_("REST Response for "+h+" received. status:",p.status,"response:",p.responseText);let g=null;if(p.status>=200&&p.status<300){try{g=er(p.responseText)}catch{Qt("Failed to parse JSON response for "+h+": "+p.responseText)}r(null,g)}else p.status!==401&&p.status!==404&&Qt("Got unsuccessful REST response for "+h+" Status: "+p.status),r(p.status);r=null}},p.open("GET",h,!0),p.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.rootNode_=se.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,s){this.rootNode_=this.rootNode_.updateChild(n,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(){return{value:null,children:new Map}}function ev(l,n,s){if(be(n))l.value=s,l.children.clear();else if(l.value!==null)l.value=l.value.updateChild(n,s);else{const r=ye(n);l.children.has(r)||l.children.set(r,ec());const c=l.children.get(r);n=Ke(n),ev(c,n,s)}}function ff(l,n,s){l.value!==null?s(n,l.value):xN(l,(r,c)=>{const f=new Ge(n.toString()+"/"+r);ff(c,f,s)})}function xN(l,n){l.children.forEach((s,r)=>{n(r,s)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),s={...n};return this.last_&&Ut(this.last_,(r,c)=>{s[r]=s[r]-c}),this.last_=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=10*1e3,SN=30*1e3,NN=300*1e3;class EN{constructor(n,s){this.server_=s,this.statsToReport_={},this.statsListener_=new bN(n);const r=H0+(SN-H0)*Math.random();Pa(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const n=this.statsListener_.get(),s={};let r=!1;Ut(n,(c,f)=>{f>0&&Yn(this.statsToReport_,c)&&(s[c]=f,r=!0)}),r&&this.server_.reportStats(s),Pa(this.reportStats_.bind(this),Math.floor(Math.random()*2*NN))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn;(function(l){l[l.OVERWRITE=0]="OVERWRITE",l[l.MERGE=1]="MERGE",l[l.ACK_USER_WRITE=2]="ACK_USER_WRITE",l[l.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Rn||(Rn={}));function If(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Bf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function $f(l){return{fromUser:!1,fromServer:!0,queryId:l,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(n,s,r){this.path=n,this.affectedTree=s,this.revert=r,this.type=Rn.ACK_USER_WRITE,this.source=If()}operationForChild(n){if(be(this.path)){if(this.affectedTree.value!=null)return q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new Ge(n));return new tc(Re(),s,this.revert)}}else return q(ye(this.path)===n,"operationForChild called for unrelated child."),new tc(Ke(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(n,s){this.source=n,this.path=s,this.type=Rn.LISTEN_COMPLETE}operationForChild(n){return be(this.path)?new cr(this.source,Re()):new cr(this.source,Ke(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(n,s,r){this.source=n,this.path=s,this.snap=r,this.type=Rn.OVERWRITE}operationForChild(n){return be(this.path)?new Dl(this.source,Re(),this.snap.getImmediateChild(n)):new Dl(this.source,Ke(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(n,s,r){this.source=n,this.path=s,this.children=r,this.type=Rn.MERGE}operationForChild(n){if(be(this.path)){const s=this.children.subtree(new Ge(n));return s.isEmpty()?null:s.value?new Dl(this.source,Re(),s.value):new js(this.source,Re(),s)}else return q(ye(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new js(this.source,Ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(n,s,r){this.node_=n,this.fullyInitialized_=s,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(be(n))return this.isFullyInitialized()&&!this.filtered_;const s=ye(n);return this.isCompleteForChild(s)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function wN(l,n,s,r){const c=[],f=[];return n.forEach(h=>{h.type==="child_changed"&&l.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&f.push(gN(h.childName,h.snapshotNode))}),Ga(l,c,"child_removed",n,r,s),Ga(l,c,"child_added",n,r,s),Ga(l,c,"child_moved",f,r,s),Ga(l,c,"child_changed",n,r,s),Ga(l,c,"value",n,r,s),c}function Ga(l,n,s,r,c,f){const h=r.filter(p=>p.type===s);h.sort((p,g)=>AN(l,p,g)),h.forEach(p=>{const g=TN(l,p,f);c.forEach(y=>{y.respondsTo(p.type)&&n.push(y.createEvent(g,l.query_))})})}function TN(l,n,s){return n.type==="value"||n.type==="child_removed"||(n.prevName=s.getPredecessorChildName(n.childName,n.snapshotNode,l.index_)),n}function AN(l,n,s){if(n.childName==null||s.childName==null)throw Os("Should only compare child_ events.");const r=new ve(n.childName,n.snapshotNode),c=new ve(s.childName,s.snapshotNode);return l.index_.compare(r,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(l,n){return{eventCache:l,serverCache:n}}function Ka(l,n,s,r){return gc(new tl(n,s,r),l.serverCache)}function tv(l,n,s,r){return gc(l.eventCache,new tl(n,s,r))}function nc(l){return l.eventCache.isFullyInitialized()?l.eventCache.getNode():null}function Ml(l){return l.serverCache.isFullyInitialized()?l.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zd;const jN=()=>(Zd||(Zd=new nn(h2)),Zd);class Fe{static fromObject(n){let s=new Fe(null);return Ut(n,(r,c)=>{s=s.set(new Ge(r),c)}),s}constructor(n,s=jN()){this.value=n,this.children=s}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,s){if(this.value!=null&&s(this.value))return{path:Re(),value:this.value};if(be(n))return null;{const r=ye(n),c=this.children.get(r);if(c!==null){const f=c.findRootMostMatchingPathAndValue(Ke(n),s);return f!=null?{path:at(new Ge(r),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(be(n))return this;{const s=ye(n),r=this.children.get(s);return r!==null?r.subtree(Ke(n)):new Fe(null)}}set(n,s){if(be(n))return new Fe(s,this.children);{const r=ye(n),f=(this.children.get(r)||new Fe(null)).set(Ke(n),s),h=this.children.insert(r,f);return new Fe(this.value,h)}}remove(n){if(be(n))return this.children.isEmpty()?new Fe(null):new Fe(null,this.children);{const s=ye(n),r=this.children.get(s);if(r){const c=r.remove(Ke(n));let f;return c.isEmpty()?f=this.children.remove(s):f=this.children.insert(s,c),this.value===null&&f.isEmpty()?new Fe(null):new Fe(this.value,f)}else return this}}get(n){if(be(n))return this.value;{const s=ye(n),r=this.children.get(s);return r?r.get(Ke(n)):null}}setTree(n,s){if(be(n))return s;{const r=ye(n),f=(this.children.get(r)||new Fe(null)).setTree(Ke(n),s);let h;return f.isEmpty()?h=this.children.remove(r):h=this.children.insert(r,f),new Fe(this.value,h)}}fold(n){return this.fold_(Re(),n)}fold_(n,s){const r={};return this.children.inorderTraversal((c,f)=>{r[c]=f.fold_(at(n,c),s)}),s(n,this.value,r)}findOnPath(n,s){return this.findOnPath_(n,Re(),s)}findOnPath_(n,s,r){const c=this.value?r(s,this.value):!1;if(c)return c;if(be(n))return null;{const f=ye(n),h=this.children.get(f);return h?h.findOnPath_(Ke(n),at(s,f),r):null}}foreachOnPath(n,s){return this.foreachOnPath_(n,Re(),s)}foreachOnPath_(n,s,r){if(be(n))return this;{this.value&&r(s,this.value);const c=ye(n),f=this.children.get(c);return f?f.foreachOnPath_(Ke(n),at(s,c),r):new Fe(null)}}foreach(n){this.foreach_(Re(),n)}foreach_(n,s){this.children.inorderTraversal((r,c)=>{c.foreach_(at(n,r),s)}),this.value&&s(n,this.value)}foreachChild(n){this.children.inorderTraversal((s,r)=>{r.value&&n(s,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(n){this.writeTree_=n}static empty(){return new kn(new Fe(null))}}function Za(l,n,s){if(be(n))return new kn(new Fe(s));{const r=l.writeTree_.findRootMostValueAndPath(n);if(r!=null){const c=r.path;let f=r.value;const h=Vt(c,n);return f=f.updateChild(h,s),new kn(l.writeTree_.set(c,f))}else{const c=new Fe(s),f=l.writeTree_.setTree(n,c);return new kn(f)}}}function hf(l,n,s){let r=l;return Ut(s,(c,f)=>{r=Za(r,at(n,c),f)}),r}function I0(l,n){if(be(n))return kn.empty();{const s=l.writeTree_.setTree(n,new Fe(null));return new kn(s)}}function mf(l,n){return kl(l,n)!=null}function kl(l,n){const s=l.writeTree_.findRootMostValueAndPath(n);return s!=null?l.writeTree_.get(s.path).getChild(Vt(s.path,n)):null}function B0(l){const n=[],s=l.writeTree_.value;return s!=null?s.isLeafNode()||s.forEachChild(rt,(r,c)=>{n.push(new ve(r,c))}):l.writeTree_.children.inorderTraversal((r,c)=>{c.value!=null&&n.push(new ve(r,c.value))}),n}function Ji(l,n){if(be(n))return l;{const s=kl(l,n);return s!=null?new kn(new Fe(s)):new kn(l.writeTree_.subtree(n))}}function pf(l){return l.writeTree_.isEmpty()}function Ds(l,n){return nv(Re(),l.writeTree_,n)}function nv(l,n,s){if(n.value!=null)return s.updateChild(l,n.value);{let r=null;return n.children.inorderTraversal((c,f)=>{c===".priority"?(q(f.value!==null,"Priority writes must always be leaf nodes"),r=f.value):s=nv(at(l,c),f,s)}),!s.getChild(l).isEmpty()&&r!==null&&(s=s.updateChild(at(l,".priority"),r)),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(l,n){return av(n,l)}function DN(l,n,s,r,c){q(r>l.lastWriteId,"Stacking an older write on top of newer ones"),c===void 0&&(c=!0),l.allWrites.push({path:n,snap:s,writeId:r,visible:c}),c&&(l.visibleWrites=Za(l.visibleWrites,n,s)),l.lastWriteId=r}function MN(l,n,s,r){q(r>l.lastWriteId,"Stacking an older merge on top of newer ones"),l.allWrites.push({path:n,children:s,writeId:r,visible:!0}),l.visibleWrites=hf(l.visibleWrites,n,s),l.lastWriteId=r}function ON(l,n){for(let s=0;s<l.allWrites.length;s++){const r=l.allWrites[s];if(r.writeId===n)return r}return null}function RN(l,n){const s=l.allWrites.findIndex(p=>p.writeId===n);q(s>=0,"removeWrite called with nonexistent writeId.");const r=l.allWrites[s];l.allWrites.splice(s,1);let c=r.visible,f=!1,h=l.allWrites.length-1;for(;c&&h>=0;){const p=l.allWrites[h];p.visible&&(h>=s&&kN(p,r.path)?c=!1:Sn(r.path,p.path)&&(f=!0)),h--}if(c){if(f)return zN(l),!0;if(r.snap)l.visibleWrites=I0(l.visibleWrites,r.path);else{const p=r.children;Ut(p,g=>{l.visibleWrites=I0(l.visibleWrites,at(r.path,g))})}return!0}else return!1}function kN(l,n){if(l.snap)return Sn(l.path,n);for(const s in l.children)if(l.children.hasOwnProperty(s)&&Sn(at(l.path,s),n))return!0;return!1}function zN(l){l.visibleWrites=iv(l.allWrites,LN,Re()),l.allWrites.length>0?l.lastWriteId=l.allWrites[l.allWrites.length-1].writeId:l.lastWriteId=-1}function LN(l){return l.visible}function iv(l,n,s){let r=kn.empty();for(let c=0;c<l.length;++c){const f=l[c];if(n(f)){const h=f.path;let p;if(f.snap)Sn(s,h)?(p=Vt(s,h),r=Za(r,p,f.snap)):Sn(h,s)&&(p=Vt(h,s),r=Za(r,Re(),f.snap.getChild(p)));else if(f.children){if(Sn(s,h))p=Vt(s,h),r=hf(r,p,f.children);else if(Sn(h,s))if(p=Vt(h,s),be(p))r=hf(r,Re(),f.children);else{const g=ws(f.children,ye(p));if(g){const y=g.getChild(Ke(p));r=Za(r,Re(),y)}}}else throw Os("WriteRecord should have .snap or .children")}}return r}function lv(l,n,s,r,c){if(!r&&!c){const f=kl(l.visibleWrites,n);if(f!=null)return f;{const h=Ji(l.visibleWrites,n);if(pf(h))return s;if(s==null&&!mf(h,Re()))return null;{const p=s||se.EMPTY_NODE;return Ds(h,p)}}}else{const f=Ji(l.visibleWrites,n);if(!c&&pf(f))return s;if(!c&&s==null&&!mf(f,Re()))return null;{const h=function(y){return(y.visible||c)&&(!r||!~r.indexOf(y.writeId))&&(Sn(y.path,n)||Sn(n,y.path))},p=iv(l.allWrites,h,n),g=s||se.EMPTY_NODE;return Ds(p,g)}}}function UN(l,n,s){let r=se.EMPTY_NODE;const c=kl(l.visibleWrites,n);if(c)return c.isLeafNode()||c.forEachChild(rt,(f,h)=>{r=r.updateImmediateChild(f,h)}),r;if(s){const f=Ji(l.visibleWrites,n);return s.forEachChild(rt,(h,p)=>{const g=Ds(Ji(f,new Ge(h)),p);r=r.updateImmediateChild(h,g)}),B0(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}else{const f=Ji(l.visibleWrites,n);return B0(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}}function HN(l,n,s,r,c){q(r||c,"Either existingEventSnap or existingServerSnap must exist");const f=at(n,s);if(mf(l.visibleWrites,f))return null;{const h=Ji(l.visibleWrites,f);return pf(h)?c.getChild(s):Ds(h,c.getChild(s))}}function IN(l,n,s,r){const c=at(n,s),f=kl(l.visibleWrites,c);if(f!=null)return f;if(r.isCompleteForChild(s)){const h=Ji(l.visibleWrites,c);return Ds(h,r.getNode().getImmediateChild(s))}else return null}function BN(l,n){return kl(l.visibleWrites,n)}function $N(l,n,s,r,c,f,h){let p;const g=Ji(l.visibleWrites,n),y=kl(g,Re());if(y!=null)p=y;else if(s!=null)p=Ds(g,s);else return[];if(p=p.withIndex(h),!p.isEmpty()&&!p.isLeafNode()){const x=[],_=h.getCompare(),N=f?p.getReverseIteratorFrom(r,h):p.getIteratorFrom(r,h);let I=N.getNext();for(;I&&x.length<c;)_(I,r)!==0&&x.push(I),I=N.getNext();return x}else return[]}function qN(){return{visibleWrites:kn.empty(),allWrites:[],lastWriteId:-1}}function ic(l,n,s,r){return lv(l.writeTree,l.treePath,n,s,r)}function qf(l,n){return UN(l.writeTree,l.treePath,n)}function $0(l,n,s,r){return HN(l.writeTree,l.treePath,n,s,r)}function lc(l,n){return BN(l.writeTree,at(l.treePath,n))}function YN(l,n,s,r,c,f){return $N(l.writeTree,l.treePath,n,s,r,c,f)}function Yf(l,n,s){return IN(l.writeTree,l.treePath,n,s)}function sv(l,n){return av(at(l.treePath,n),l.writeTree)}function av(l,n){return{treePath:l,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.changeMap=new Map}trackChildChange(n){const s=n.type,r=n.childName;q(s==="child_added"||s==="child_changed"||s==="child_removed","Only child changes supported for tracking"),q(r!==".priority","Only non-priority child changes can be tracked.");const c=this.changeMap.get(r);if(c){const f=c.type;if(s==="child_added"&&f==="child_removed")this.changeMap.set(r,rr(r,n.snapshotNode,c.snapshotNode));else if(s==="child_removed"&&f==="child_added")this.changeMap.delete(r);else if(s==="child_removed"&&f==="child_changed")this.changeMap.set(r,ar(r,c.oldSnap));else if(s==="child_changed"&&f==="child_added")this.changeMap.set(r,As(r,n.snapshotNode));else if(s==="child_changed"&&f==="child_changed")this.changeMap.set(r,rr(r,n.snapshotNode,c.oldSnap));else throw Os("Illegal combination of changes: "+n+" occurred after "+c)}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{getCompleteChild(n){return null}getChildAfterChild(n,s,r){return null}}const rv=new VN;class Gf{constructor(n,s,r=null){this.writes_=n,this.viewCache_=s,this.optCompleteServerCache_=r}getCompleteChild(n){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(n))return s.getNode().getImmediateChild(n);{const r=this.optCompleteServerCache_!=null?new tl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Yf(this.writes_,n,r)}}getChildAfterChild(n,s,r){const c=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ml(this.viewCache_),f=YN(this.writes_,c,s,1,r,n);return f.length===0?null:f[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(l){return{filter:l}}function XN(l,n){q(n.eventCache.getNode().isIndexed(l.filter.getIndex()),"Event snap not indexed"),q(n.serverCache.getNode().isIndexed(l.filter.getIndex()),"Server snap not indexed")}function FN(l,n,s,r,c){const f=new GN;let h,p;if(s.type===Rn.OVERWRITE){const y=s;y.source.fromUser?h=gf(l,n,y.path,y.snap,r,c,f):(q(y.source.fromServer,"Unknown source."),p=y.source.tagged||n.serverCache.isFiltered()&&!be(y.path),h=sc(l,n,y.path,y.snap,r,c,p,f))}else if(s.type===Rn.MERGE){const y=s;y.source.fromUser?h=KN(l,n,y.path,y.children,r,c,f):(q(y.source.fromServer,"Unknown source."),p=y.source.tagged||n.serverCache.isFiltered(),h=yf(l,n,y.path,y.children,r,c,p,f))}else if(s.type===Rn.ACK_USER_WRITE){const y=s;y.revert?h=WN(l,n,y.path,r,c,f):h=ZN(l,n,y.path,y.affectedTree,r,c,f)}else if(s.type===Rn.LISTEN_COMPLETE)h=JN(l,n,s.path,r,f);else throw Os("Unknown operation type: "+s.type);const g=f.getChanges();return PN(n,h,g),{viewCache:h,changes:g}}function PN(l,n,s){const r=n.eventCache;if(r.isFullyInitialized()){const c=r.getNode().isLeafNode()||r.getNode().isEmpty(),f=nc(l);(s.length>0||!l.eventCache.isFullyInitialized()||c&&!r.getNode().equals(f)||!r.getNode().getPriority().equals(f.getPriority()))&&s.push(Wy(nc(n)))}}function ov(l,n,s,r,c,f){const h=n.eventCache;if(lc(r,s)!=null)return n;{let p,g;if(be(s))if(q(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const y=Ml(n),x=y instanceof se?y:se.EMPTY_NODE,_=qf(r,x);p=l.filter.updateFullNode(n.eventCache.getNode(),_,f)}else{const y=ic(r,Ml(n));p=l.filter.updateFullNode(n.eventCache.getNode(),y,f)}else{const y=ye(s);if(y===".priority"){q(el(s)===1,"Can't have a priority with additional path components");const x=h.getNode();g=n.serverCache.getNode();const _=$0(r,s,x,g);_!=null?p=l.filter.updatePriority(x,_):p=h.getNode()}else{const x=Ke(s);let _;if(h.isCompleteForChild(y)){g=n.serverCache.getNode();const N=$0(r,s,h.getNode(),g);N!=null?_=h.getNode().getImmediateChild(y).updateChild(x,N):_=h.getNode().getImmediateChild(y)}else _=Yf(r,y,n.serverCache);_!=null?p=l.filter.updateChild(h.getNode(),y,_,x,c,f):p=h.getNode()}}return Ka(n,p,h.isFullyInitialized()||be(s),l.filter.filtersNodes())}}function sc(l,n,s,r,c,f,h,p){const g=n.serverCache;let y;const x=h?l.filter:l.filter.getIndexedFilter();if(be(s))y=x.updateFullNode(g.getNode(),r,null);else if(x.filtersNodes()&&!g.isFiltered()){const I=g.getNode().updateChild(s,r);y=x.updateFullNode(g.getNode(),I,null)}else{const I=ye(s);if(!g.isCompleteForPath(s)&&el(s)>1)return n;const B=Ke(s),ce=g.getNode().getImmediateChild(I).updateChild(B,r);I===".priority"?y=x.updatePriority(g.getNode(),ce):y=x.updateChild(g.getNode(),I,ce,B,rv,null)}const _=tv(n,y,g.isFullyInitialized()||be(s),x.filtersNodes()),N=new Gf(c,_,f);return ov(l,_,s,c,N,p)}function gf(l,n,s,r,c,f,h){const p=n.eventCache;let g,y;const x=new Gf(c,n,f);if(be(s))y=l.filter.updateFullNode(n.eventCache.getNode(),r,h),g=Ka(n,y,!0,l.filter.filtersNodes());else{const _=ye(s);if(_===".priority")y=l.filter.updatePriority(n.eventCache.getNode(),r),g=Ka(n,y,p.isFullyInitialized(),p.isFiltered());else{const N=Ke(s),I=p.getNode().getImmediateChild(_);let B;if(be(N))B=r;else{const J=x.getCompleteChild(_);J!=null?Rf(N)===".priority"&&J.getChild(Qy(N)).isEmpty()?B=J:B=J.updateChild(N,r):B=se.EMPTY_NODE}if(I.equals(B))g=n;else{const J=l.filter.updateChild(p.getNode(),_,B,N,x,h);g=Ka(n,J,p.isFullyInitialized(),l.filter.filtersNodes())}}}return g}function q0(l,n){return l.eventCache.isCompleteForChild(n)}function KN(l,n,s,r,c,f,h){let p=n;return r.foreach((g,y)=>{const x=at(s,g);q0(n,ye(x))&&(p=gf(l,p,x,y,c,f,h))}),r.foreach((g,y)=>{const x=at(s,g);q0(n,ye(x))||(p=gf(l,p,x,y,c,f,h))}),p}function Y0(l,n,s){return s.foreach((r,c)=>{n=n.updateChild(r,c)}),n}function yf(l,n,s,r,c,f,h,p){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let g=n,y;be(s)?y=r:y=new Fe(null).setTree(s,r);const x=n.serverCache.getNode();return y.children.inorderTraversal((_,N)=>{if(x.hasChild(_)){const I=n.serverCache.getNode().getImmediateChild(_),B=Y0(l,I,N);g=sc(l,g,new Ge(_),B,c,f,h,p)}}),y.children.inorderTraversal((_,N)=>{const I=!n.serverCache.isCompleteForChild(_)&&N.value===null;if(!x.hasChild(_)&&!I){const B=n.serverCache.getNode().getImmediateChild(_),J=Y0(l,B,N);g=sc(l,g,new Ge(_),J,c,f,h,p)}}),g}function ZN(l,n,s,r,c,f,h){if(lc(c,s)!=null)return n;const p=n.serverCache.isFiltered(),g=n.serverCache;if(r.value!=null){if(be(s)&&g.isFullyInitialized()||g.isCompleteForPath(s))return sc(l,n,s,g.getNode().getChild(s),c,f,p,h);if(be(s)){let y=new Fe(null);return g.getNode().forEachChild(Cs,(x,_)=>{y=y.set(new Ge(x),_)}),yf(l,n,s,y,c,f,p,h)}else return n}else{let y=new Fe(null);return r.foreach((x,_)=>{const N=at(s,x);g.isCompleteForPath(N)&&(y=y.set(x,g.getNode().getChild(N)))}),yf(l,n,s,y,c,f,p,h)}}function JN(l,n,s,r,c){const f=n.serverCache,h=tv(n,f.getNode(),f.isFullyInitialized()||be(s),f.isFiltered());return ov(l,h,s,r,rv,c)}function WN(l,n,s,r,c,f){let h;if(lc(r,s)!=null)return n;{const p=new Gf(r,n,c),g=n.eventCache.getNode();let y;if(be(s)||ye(s)===".priority"){let x;if(n.serverCache.isFullyInitialized())x=ic(r,Ml(n));else{const _=n.serverCache.getNode();q(_ instanceof se,"serverChildren would be complete if leaf node"),x=qf(r,_)}x=x,y=l.filter.updateFullNode(g,x,f)}else{const x=ye(s);let _=Yf(r,x,n.serverCache);_==null&&n.serverCache.isCompleteForChild(x)&&(_=g.getImmediateChild(x)),_!=null?y=l.filter.updateChild(g,x,_,Ke(s),p,f):n.eventCache.getNode().hasChild(x)?y=l.filter.updateChild(g,x,se.EMPTY_NODE,Ke(s),p,f):y=g,y.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=ic(r,Ml(n)),h.isLeafNode()&&(y=l.filter.updateFullNode(y,h,f)))}return h=n.serverCache.isFullyInitialized()||lc(r,Re())!=null,Ka(n,y,h,l.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(n,s){this.query_=n,this.eventRegistrations_=[];const r=this.query_._queryParams,c=new Uf(r.getIndex()),f=vN(r);this.processor_=QN(f);const h=s.serverCache,p=s.eventCache,g=c.updateFullNode(se.EMPTY_NODE,h.getNode(),null),y=f.updateFullNode(se.EMPTY_NODE,p.getNode(),null),x=new tl(g,h.isFullyInitialized(),c.filtersNodes()),_=new tl(y,p.isFullyInitialized(),f.filtersNodes());this.viewCache_=gc(_,x),this.eventGenerator_=new CN(this.query_)}get query(){return this.query_}}function tE(l){return l.viewCache_.serverCache.getNode()}function nE(l){return nc(l.viewCache_)}function iE(l,n){const s=Ml(l.viewCache_);return s&&(l.query._queryParams.loadsAllData()||!be(n)&&!s.getImmediateChild(ye(n)).isEmpty())?s.getChild(n):null}function G0(l){return l.eventRegistrations_.length===0}function lE(l,n){l.eventRegistrations_.push(n)}function V0(l,n,s){const r=[];if(s){q(n==null,"A cancel should cancel all event registrations.");const c=l.query._path;l.eventRegistrations_.forEach(f=>{const h=f.createCancelEvent(s,c);h&&r.push(h)})}if(n){let c=[];for(let f=0;f<l.eventRegistrations_.length;++f){const h=l.eventRegistrations_[f];if(!h.matches(n))c.push(h);else if(n.hasAnyCallback()){c=c.concat(l.eventRegistrations_.slice(f+1));break}}l.eventRegistrations_=c}else l.eventRegistrations_=[];return r}function Q0(l,n,s,r){n.type===Rn.MERGE&&n.source.queryId!==null&&(q(Ml(l.viewCache_),"We should always have a full cache before handling merges"),q(nc(l.viewCache_),"Missing event cache, even though we have a server cache"));const c=l.viewCache_,f=FN(l.processor_,c,n,s,r);return XN(l.processor_,f.viewCache),q(f.viewCache.serverCache.isFullyInitialized()||!c.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),l.viewCache_=f.viewCache,cv(l,f.changes,f.viewCache.eventCache.getNode(),null)}function sE(l,n){const s=l.viewCache_.eventCache,r=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(rt,(f,h)=>{r.push(As(f,h))}),s.isFullyInitialized()&&r.push(Wy(s.getNode())),cv(l,r,s.getNode(),n)}function cv(l,n,s,r){const c=r?[r]:l.eventRegistrations_;return wN(l.eventGenerator_,n,s,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac;class uv{constructor(){this.views=new Map}}function aE(l){q(!ac,"__referenceConstructor has already been defined"),ac=l}function rE(){return q(ac,"Reference.ts has not been loaded"),ac}function oE(l){return l.views.size===0}function Vf(l,n,s,r){const c=n.source.queryId;if(c!==null){const f=l.views.get(c);return q(f!=null,"SyncTree gave us an op for an invalid query."),Q0(f,n,s,r)}else{let f=[];for(const h of l.views.values())f=f.concat(Q0(h,n,s,r));return f}}function dv(l,n,s,r,c){const f=n._queryIdentifier,h=l.views.get(f);if(!h){let p=ic(s,c?r:null),g=!1;p?g=!0:r instanceof se?(p=qf(s,r),g=!1):(p=se.EMPTY_NODE,g=!1);const y=gc(new tl(p,g,!1),new tl(r,c,!1));return new eE(n,y)}return h}function cE(l,n,s,r,c,f){const h=dv(l,n,r,c,f);return l.views.has(n._queryIdentifier)||l.views.set(n._queryIdentifier,h),lE(h,s),sE(h,s)}function uE(l,n,s,r){const c=n._queryIdentifier,f=[];let h=[];const p=nl(l);if(c==="default")for(const[g,y]of l.views.entries())h=h.concat(V0(y,s,r)),G0(y)&&(l.views.delete(g),y.query._queryParams.loadsAllData()||f.push(y.query));else{const g=l.views.get(c);g&&(h=h.concat(V0(g,s,r)),G0(g)&&(l.views.delete(c),g.query._queryParams.loadsAllData()||f.push(g.query)))}return p&&!nl(l)&&f.push(new(rE())(n._repo,n._path)),{removed:f,events:h}}function fv(l){const n=[];for(const s of l.views.values())s.query._queryParams.loadsAllData()||n.push(s);return n}function Wi(l,n){let s=null;for(const r of l.views.values())s=s||iE(r,n);return s}function hv(l,n){if(n._queryParams.loadsAllData())return vc(l);{const r=n._queryIdentifier;return l.views.get(r)}}function mv(l,n){return hv(l,n)!=null}function nl(l){return vc(l)!=null}function vc(l){for(const n of l.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc;function dE(l){q(!rc,"__referenceConstructor has already been defined"),rc=l}function fE(){return q(rc,"Reference.ts has not been loaded"),rc}let hE=1;class X0{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Fe(null),this.pendingWriteTree_=qN(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function pv(l,n,s,r,c){return DN(l.pendingWriteTree_,n,s,r,c),c?zs(l,new Dl(If(),n,s)):[]}function mE(l,n,s,r){MN(l.pendingWriteTree_,n,s,r);const c=Fe.fromObject(s);return zs(l,new js(If(),n,c))}function Pi(l,n,s=!1){const r=ON(l.pendingWriteTree_,n);if(RN(l.pendingWriteTree_,n)){let f=new Fe(null);return r.snap!=null?f=f.set(Re(),!0):Ut(r.children,h=>{f=f.set(new Ge(h),!0)}),zs(l,new tc(r.path,f,s))}else return[]}function yr(l,n,s){return zs(l,new Dl(Bf(),n,s))}function pE(l,n,s){const r=Fe.fromObject(s);return zs(l,new js(Bf(),n,r))}function gE(l,n){return zs(l,new cr(Bf(),n))}function yE(l,n,s){const r=Xf(l,s);if(r){const c=Ff(r),f=c.path,h=c.queryId,p=Vt(f,n),g=new cr($f(h),p);return Pf(l,f,g)}else return[]}function oc(l,n,s,r,c=!1){const f=n._path,h=l.syncPointTree_.get(f);let p=[];if(h&&(n._queryIdentifier==="default"||mv(h,n))){const g=uE(h,n,s,r);oE(h)&&(l.syncPointTree_=l.syncPointTree_.remove(f));const y=g.removed;if(p=g.events,!c){const x=y.findIndex(N=>N._queryParams.loadsAllData())!==-1,_=l.syncPointTree_.findOnPath(f,(N,I)=>nl(I));if(x&&!_){const N=l.syncPointTree_.subtree(f);if(!N.isEmpty()){const I=xE(N);for(let B=0;B<I.length;++B){const J=I[B],ce=J.query,Ce=_v(l,J);l.listenProvider_.startListening(Ja(ce),ur(l,ce),Ce.hashFn,Ce.onComplete)}}}!_&&y.length>0&&!r&&(x?l.listenProvider_.stopListening(Ja(n),null):y.forEach(N=>{const I=l.queryToTagMap.get(_c(N));l.listenProvider_.stopListening(Ja(N),I)}))}bE(l,y)}return p}function gv(l,n,s,r){const c=Xf(l,r);if(c!=null){const f=Ff(c),h=f.path,p=f.queryId,g=Vt(h,n),y=new Dl($f(p),g,s);return Pf(l,h,y)}else return[]}function vE(l,n,s,r){const c=Xf(l,r);if(c){const f=Ff(c),h=f.path,p=f.queryId,g=Vt(h,n),y=Fe.fromObject(s),x=new js($f(p),g,y);return Pf(l,h,x)}else return[]}function vf(l,n,s,r=!1){const c=n._path;let f=null,h=!1;l.syncPointTree_.foreachOnPath(c,(N,I)=>{const B=Vt(N,c);f=f||Wi(I,B),h=h||nl(I)});let p=l.syncPointTree_.get(c);p?(h=h||nl(p),f=f||Wi(p,Re())):(p=new uv,l.syncPointTree_=l.syncPointTree_.set(c,p));let g;f!=null?g=!0:(g=!1,f=se.EMPTY_NODE,l.syncPointTree_.subtree(c).foreachChild((I,B)=>{const J=Wi(B,Re());J&&(f=f.updateImmediateChild(I,J))}));const y=mv(p,n);if(!y&&!n._queryParams.loadsAllData()){const N=_c(n);q(!l.queryToTagMap.has(N),"View does not exist, but we have a tag");const I=SE();l.queryToTagMap.set(N,I),l.tagToQueryMap.set(I,N)}const x=yc(l.pendingWriteTree_,c);let _=cE(p,n,s,x,f,g);if(!y&&!h&&!r){const N=hv(p,n);_=_.concat(NE(l,n,N))}return _}function Qf(l,n,s){const c=l.pendingWriteTree_,f=l.syncPointTree_.findOnPath(n,(h,p)=>{const g=Vt(h,n),y=Wi(p,g);if(y)return y});return lv(c,n,f,s,!0)}function _E(l,n){const s=n._path;let r=null;l.syncPointTree_.foreachOnPath(s,(y,x)=>{const _=Vt(y,s);r=r||Wi(x,_)});let c=l.syncPointTree_.get(s);c?r=r||Wi(c,Re()):(c=new uv,l.syncPointTree_=l.syncPointTree_.set(s,c));const f=r!=null,h=f?new tl(r,!0,!1):null,p=yc(l.pendingWriteTree_,n._path),g=dv(c,n,p,f?h.getNode():se.EMPTY_NODE,f);return nE(g)}function zs(l,n){return yv(n,l.syncPointTree_,null,yc(l.pendingWriteTree_,Re()))}function yv(l,n,s,r){if(be(l.path))return vv(l,n,s,r);{const c=n.get(Re());s==null&&c!=null&&(s=Wi(c,Re()));let f=[];const h=ye(l.path),p=l.operationForChild(h),g=n.children.get(h);if(g&&p){const y=s?s.getImmediateChild(h):null,x=sv(r,h);f=f.concat(yv(p,g,y,x))}return c&&(f=f.concat(Vf(c,l,r,s))),f}}function vv(l,n,s,r){const c=n.get(Re());s==null&&c!=null&&(s=Wi(c,Re()));let f=[];return n.children.inorderTraversal((h,p)=>{const g=s?s.getImmediateChild(h):null,y=sv(r,h),x=l.operationForChild(h);x&&(f=f.concat(vv(x,p,g,y)))}),c&&(f=f.concat(Vf(c,l,r,s))),f}function _v(l,n){const s=n.query,r=ur(l,s);return{hashFn:()=>(tE(n)||se.EMPTY_NODE).hash(),onComplete:c=>{if(c==="ok")return r?yE(l,s._path,r):gE(l,s._path);{const f=g2(c,s);return oc(l,s,null,f)}}}}function ur(l,n){const s=_c(n);return l.queryToTagMap.get(s)}function _c(l){return l._path.toString()+"$"+l._queryIdentifier}function Xf(l,n){return l.tagToQueryMap.get(n)}function Ff(l){const n=l.indexOf("$");return q(n!==-1&&n<l.length-1,"Bad queryKey."),{queryId:l.substr(n+1),path:new Ge(l.substr(0,n))}}function Pf(l,n,s){const r=l.syncPointTree_.get(n);q(r,"Missing sync point for query tag that we're tracking");const c=yc(l.pendingWriteTree_,n);return Vf(r,s,c,null)}function xE(l){return l.fold((n,s,r)=>{if(s&&nl(s))return[vc(s)];{let c=[];return s&&(c=fv(s)),Ut(r,(f,h)=>{c=c.concat(h)}),c}})}function Ja(l){return l._queryParams.loadsAllData()&&!l._queryParams.isDefault()?new(fE())(l._repo,l._path):l}function bE(l,n){for(let s=0;s<n.length;++s){const r=n[s];if(!r._queryParams.loadsAllData()){const c=_c(r),f=l.queryToTagMap.get(c);l.queryToTagMap.delete(c),l.tagToQueryMap.delete(f)}}}function SE(){return hE++}function NE(l,n,s){const r=n._path,c=ur(l,n),f=_v(l,s),h=l.listenProvider_.startListening(Ja(n),c,f.hashFn,f.onComplete),p=l.syncPointTree_.subtree(r);if(c)q(!nl(p.value),"If we're adding a query, it shouldn't be shadowed");else{const g=p.fold((y,x,_)=>{if(!be(y)&&x&&nl(x))return[vc(x).query];{let N=[];return x&&(N=N.concat(fv(x).map(I=>I.query))),Ut(_,(I,B)=>{N=N.concat(B)}),N}});for(let y=0;y<g.length;++y){const x=g[y];l.listenProvider_.stopListening(Ja(x),ur(l,x))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(n){this.node_=n}getImmediateChild(n){const s=this.node_.getImmediateChild(n);return new Kf(s)}node(){return this.node_}}class Zf{constructor(n,s){this.syncTree_=n,this.path_=s}getImmediateChild(n){const s=at(this.path_,n);return new Zf(this.syncTree_,s)}node(){return Qf(this.syncTree_,this.path_)}}const EE=function(l){return l=l||{},l.timestamp=l.timestamp||new Date().getTime(),l},F0=function(l,n,s){if(!l||typeof l!="object")return l;if(q(".sv"in l,"Unexpected leaf node or priority contents"),typeof l[".sv"]=="string")return CE(l[".sv"],n,s);if(typeof l[".sv"]=="object")return wE(l[".sv"],n);q(!1,"Unexpected server value: "+JSON.stringify(l,null,2))},CE=function(l,n,s){switch(l){case"timestamp":return s.timestamp;default:q(!1,"Unexpected server value: "+l)}},wE=function(l,n,s){l.hasOwnProperty("increment")||q(!1,"Unexpected server value: "+JSON.stringify(l,null,2));const r=l.increment;typeof r!="number"&&q(!1,"Unexpected increment value: "+r);const c=n.node();if(q(c!==null&&typeof c<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!c.isLeafNode())return r;const h=c.getValue();return typeof h!="number"?r:h+r},xv=function(l,n,s,r){return Jf(n,new Zf(s,l),r)},bv=function(l,n,s){return Jf(l,new Kf(n),s)};function Jf(l,n,s){const r=l.getPriority().val(),c=F0(r,n.getImmediateChild(".priority"),s);let f;if(l.isLeafNode()){const h=l,p=F0(h.getValue(),n,s);return p!==h.getValue()||c!==h.getPriority().val()?new Et(p,_t(c)):l}else{const h=l;return f=h,c!==h.getPriority().val()&&(f=f.updatePriority(new Et(c))),h.forEachChild(rt,(p,g)=>{const y=Jf(g,n.getImmediateChild(p),s);y!==g&&(f=f.updateImmediateChild(p,y))}),f}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(n="",s=null,r={children:{},childCount:0}){this.name=n,this.parent=s,this.node=r}}function eh(l,n){let s=n instanceof Ge?n:new Ge(n),r=l,c=ye(s);for(;c!==null;){const f=ws(r.node.children,c)||{children:{},childCount:0};r=new Wf(c,r,f),s=Ke(s),c=ye(s)}return r}function Ls(l){return l.node.value}function Sv(l,n){l.node.value=n,_f(l)}function Nv(l){return l.node.childCount>0}function TE(l){return Ls(l)===void 0&&!Nv(l)}function xc(l,n){Ut(l.node.children,(s,r)=>{n(new Wf(s,l,r))})}function Ev(l,n,s,r){s&&n(l),xc(l,c=>{Ev(c,n,!0)})}function AE(l,n,s){let r=l.parent;for(;r!==null;){if(n(r))return!0;r=r.parent}return!1}function vr(l){return new Ge(l.parent===null?l.name:vr(l.parent)+"/"+l.name)}function _f(l){l.parent!==null&&jE(l.parent,l.name,l)}function jE(l,n,s){const r=TE(s),c=Yn(l.node.children,n);r&&c?(delete l.node.children[n],l.node.childCount--,_f(l)):!r&&!c&&(l.node.children[n]=s.node,l.node.childCount++,_f(l))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=/[\[\].#$\/\u0000-\u001F\u007F]/,ME=/[\[\].#$\u0000-\u001F\u007F]/,Jd=10*1024*1024,th=function(l){return typeof l=="string"&&l.length!==0&&!DE.test(l)},Cv=function(l){return typeof l=="string"&&l.length!==0&&!ME.test(l)},OE=function(l){return l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),Cv(l)},RE=function(l){return l===null||typeof l=="string"||typeof l=="number"&&!Af(l)||l&&typeof l=="object"&&Yn(l,".sv")},kE=function(l,n,s,r){bc(hc(l,"value"),n,s)},bc=function(l,n,s){const r=s instanceof Ge?new K2(s,l):s;if(n===void 0)throw new Error(l+"contains undefined "+Tl(r));if(typeof n=="function")throw new Error(l+"contains a function "+Tl(r)+" with contents = "+n.toString());if(Af(n))throw new Error(l+"contains "+n.toString()+" "+Tl(r));if(typeof n=="string"&&n.length>Jd/3&&mc(n)>Jd)throw new Error(l+"contains a string greater than "+Jd+" utf8 bytes "+Tl(r)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let c=!1,f=!1;if(Ut(n,(h,p)=>{if(h===".value")c=!0;else if(h!==".priority"&&h!==".sv"&&(f=!0,!th(h)))throw new Error(l+" contains an invalid key ("+h+") "+Tl(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Z2(r,h),bc(l,p,r),J2(r)}),c&&f)throw new Error(l+' contains ".value" child '+Tl(r)+" in addition to actual children.")}},zE=function(l,n){let s,r;for(s=0;s<n.length;s++){r=n[s];const f=sr(r);for(let h=0;h<f.length;h++)if(!(f[h]===".priority"&&h===f.length-1)){if(!th(f[h]))throw new Error(l+"contains an invalid key ("+f[h]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(P2);let c=null;for(s=0;s<n.length;s++){if(r=n[s],c!==null&&Sn(c,r))throw new Error(l+"contains a path "+c.toString()+" that is ancestor of another path "+r.toString());c=r}},LE=function(l,n,s,r){const c=hc(l,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(c+" must be an object containing the children to replace.");const f=[];Ut(n,(h,p)=>{const g=new Ge(h);if(bc(c,p,at(s,g)),Rf(g)===".priority"&&!RE(p))throw new Error(c+"contains an invalid value for '"+g.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");f.push(g)}),zE(c,f)},wv=function(l,n,s,r){if(!Cv(s))throw new Error(hc(l,n)+'was an invalid path = "'+s+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},UE=function(l,n,s,r){s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),wv(l,n,s)},Tv=function(l,n){if(ye(n)===".info")throw new Error(l+" failed = Can't modify data under /.info/")},HE=function(l,n){const s=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!th(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||s.length!==0&&!OE(s))throw new Error(hc(l,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Sc(l,n){let s=null;for(let r=0;r<n.length;r++){const c=n[r],f=c.getPath();s!==null&&!kf(f,s.path)&&(l.eventLists_.push(s),s=null),s===null&&(s={events:[],path:f}),s.events.push(c)}s&&l.eventLists_.push(s)}function Av(l,n,s){Sc(l,s),jv(l,r=>kf(r,n))}function Nn(l,n,s){Sc(l,s),jv(l,r=>Sn(r,n)||Sn(n,r))}function jv(l,n){l.recursionDepth_++;let s=!0;for(let r=0;r<l.eventLists_.length;r++){const c=l.eventLists_[r];if(c){const f=c.path;n(f)?(BE(l.eventLists_[r]),l.eventLists_[r]=null):s=!1}}s&&(l.eventLists_=[]),l.recursionDepth_--}function BE(l){for(let n=0;n<l.events.length;n++){const s=l.events[n];if(s!==null){l.events[n]=null;const r=s.getEventRunner();Fa&&zt("event: "+s.toString()),ks(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="repo_interrupt",qE=25;class YE{constructor(n,s,r,c){this.repoInfo_=n,this.forceRestClient_=s,this.authTokenProvider_=r,this.appCheckProvider_=c,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new IE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ec(),this.transactionQueueTree_=new Wf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function GE(l,n,s){if(l.stats_=Mf(l.repoInfo_),l.forceRestClient_||x2())l.server_=new Wo(l.repoInfo_,(r,c,f,h)=>{P0(l,r,c,f,h)},l.authTokenProvider_,l.appCheckProvider_),setTimeout(()=>K0(l,!0),0);else{if(typeof s<"u"&&s!==null){if(typeof s!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{xt(s)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}l.persistentConnection_=new mi(l.repoInfo_,n,(r,c,f,h)=>{P0(l,r,c,f,h)},r=>{K0(l,r)},r=>{QE(l,r)},l.authTokenProvider_,l.appCheckProvider_,s),l.server_=l.persistentConnection_}l.authTokenProvider_.addTokenChangeListener(r=>{l.server_.refreshAuthToken(r)}),l.appCheckProvider_.addTokenChangeListener(r=>{l.server_.refreshAppCheckToken(r.token)}),l.statsReporter_=C2(l.repoInfo_,()=>new EN(l.stats_,l.server_)),l.infoData_=new _N,l.infoSyncTree_=new X0({startListening:(r,c,f,h)=>{let p=[];const g=l.infoData_.getNode(r._path);return g.isEmpty()||(p=yr(l.infoSyncTree_,r._path,g),setTimeout(()=>{h("ok")},0)),p},stopListening:()=>{}}),nh(l,"connected",!1),l.serverSyncTree_=new X0({startListening:(r,c,f,h)=>(l.server_.listen(r,f,c,(p,g)=>{const y=h(p,g);Nn(l.eventQueue_,r._path,y)}),[]),stopListening:(r,c)=>{l.server_.unlisten(r,c)}})}function VE(l){const s=l.infoData_.getNode(new Ge(".info/serverTimeOffset")).val()||0;return new Date().getTime()+s}function Nc(l){return EE({timestamp:VE(l)})}function P0(l,n,s,r,c){l.dataUpdateCount++;const f=new Ge(n);s=l.interceptServerDataCallback_?l.interceptServerDataCallback_(n,s):s;let h=[];if(c)if(r){const g=Xo(s,y=>_t(y));h=vE(l.serverSyncTree_,f,g,c)}else{const g=_t(s);h=gv(l.serverSyncTree_,f,g,c)}else if(r){const g=Xo(s,y=>_t(y));h=pE(l.serverSyncTree_,f,g)}else{const g=_t(s);h=yr(l.serverSyncTree_,f,g)}let p=f;h.length>0&&(p=Ms(l,f)),Nn(l.eventQueue_,p,h)}function K0(l,n){nh(l,"connected",n),n===!1&&KE(l)}function QE(l,n){Ut(n,(s,r)=>{nh(l,s,r)})}function nh(l,n,s){const r=new Ge("/.info/"+n),c=_t(s);l.infoData_.updateSnapshot(r,c);const f=yr(l.infoSyncTree_,r,c);Nn(l.eventQueue_,r,f)}function ih(l){return l.nextWriteId_++}function XE(l,n,s){const r=_E(l.serverSyncTree_,n);return r!=null?Promise.resolve(r):l.server_.get(n).then(c=>{const f=_t(c).withIndex(n._queryParams.getIndex());vf(l.serverSyncTree_,n,s,!0);let h;if(n._queryParams.loadsAllData())h=yr(l.serverSyncTree_,n._path,f);else{const p=ur(l.serverSyncTree_,n);h=gv(l.serverSyncTree_,n._path,f,p)}return Nn(l.eventQueue_,n._path,h),oc(l.serverSyncTree_,n,s,null,!0),f},c=>(_r(l,"get for query "+xt(n)+" failed: "+c),Promise.reject(new Error(c))))}function FE(l,n,s,r,c){_r(l,"set",{path:n.toString(),value:s,priority:r});const f=Nc(l),h=_t(s,r),p=Qf(l.serverSyncTree_,n),g=bv(h,p,f),y=ih(l),x=pv(l.serverSyncTree_,n,g,y,!0);Sc(l.eventQueue_,x),l.server_.put(n.toString(),h.val(!0),(N,I)=>{const B=N==="ok";B||Qt("set at "+n+" failed: "+N);const J=Pi(l.serverSyncTree_,y,!B);Nn(l.eventQueue_,n,J),xf(l,c,N,I)});const _=sh(l,n);Ms(l,_),Nn(l.eventQueue_,_,[])}function PE(l,n,s,r){_r(l,"update",{path:n.toString(),value:s});let c=!0;const f=Nc(l),h={};if(Ut(s,(p,g)=>{c=!1,h[p]=xv(at(n,p),_t(g),l.serverSyncTree_,f)}),c)zt("update() called with empty data.  Don't do anything."),xf(l,r,"ok",void 0);else{const p=ih(l),g=mE(l.serverSyncTree_,n,h,p);Sc(l.eventQueue_,g),l.server_.merge(n.toString(),s,(y,x)=>{const _=y==="ok";_||Qt("update at "+n+" failed: "+y);const N=Pi(l.serverSyncTree_,p,!_),I=N.length>0?Ms(l,n):n;Nn(l.eventQueue_,I,N),xf(l,r,y,x)}),Ut(s,y=>{const x=sh(l,at(n,y));Ms(l,x)}),Nn(l.eventQueue_,n,[])}}function KE(l){_r(l,"onDisconnectEvents");const n=Nc(l),s=ec();ff(l.onDisconnect_,Re(),(c,f)=>{const h=xv(c,f,l.serverSyncTree_,n);ev(s,c,h)});let r=[];ff(s,Re(),(c,f)=>{r=r.concat(yr(l.serverSyncTree_,c,f));const h=sh(l,c);Ms(l,h)}),l.onDisconnect_=ec(),Nn(l.eventQueue_,Re(),r)}function ZE(l,n,s){let r;ye(n._path)===".info"?r=vf(l.infoSyncTree_,n,s):r=vf(l.serverSyncTree_,n,s),Av(l.eventQueue_,n._path,r)}function Dv(l,n,s){let r;ye(n._path)===".info"?r=oc(l.infoSyncTree_,n,s):r=oc(l.serverSyncTree_,n,s),Av(l.eventQueue_,n._path,r)}function JE(l){l.persistentConnection_&&l.persistentConnection_.interrupt($E)}function _r(l,...n){let s="";l.persistentConnection_&&(s=l.persistentConnection_.id+":"),zt(s,...n)}function xf(l,n,s,r){n&&ks(()=>{if(s==="ok")n(null);else{const c=(s||"error").toUpperCase();let f=c;r&&(f+=": "+r);const h=new Error(f);h.code=c,n(h)}})}function Mv(l,n,s){return Qf(l.serverSyncTree_,n,s)||se.EMPTY_NODE}function lh(l,n=l.transactionQueueTree_){if(n||Ec(l,n),Ls(n)){const s=Rv(l,n);q(s.length>0,"Sending zero length transaction queue"),s.every(c=>c.status===0)&&WE(l,vr(n),s)}else Nv(n)&&xc(n,s=>{lh(l,s)})}function WE(l,n,s){const r=s.map(y=>y.currentWriteId),c=Mv(l,n,r);let f=c;const h=c.hash();for(let y=0;y<s.length;y++){const x=s[y];q(x.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),x.status=1,x.retryCount++;const _=Vt(n,x.path);f=f.updateChild(_,x.currentOutputSnapshotRaw)}const p=f.val(!0),g=n;l.server_.put(g.toString(),p,y=>{_r(l,"transaction put response",{path:g.toString(),status:y});let x=[];if(y==="ok"){const _=[];for(let N=0;N<s.length;N++)s[N].status=2,x=x.concat(Pi(l.serverSyncTree_,s[N].currentWriteId)),s[N].onComplete&&_.push(()=>s[N].onComplete(null,!0,s[N].currentOutputSnapshotResolved)),s[N].unwatcher();Ec(l,eh(l.transactionQueueTree_,n)),lh(l,l.transactionQueueTree_),Nn(l.eventQueue_,n,x);for(let N=0;N<_.length;N++)ks(_[N])}else{if(y==="datastale")for(let _=0;_<s.length;_++)s[_].status===3?s[_].status=4:s[_].status=0;else{Qt("transaction at "+g.toString()+" failed: "+y);for(let _=0;_<s.length;_++)s[_].status=4,s[_].abortReason=y}Ms(l,n)}},h)}function Ms(l,n){const s=Ov(l,n),r=vr(s),c=Rv(l,s);return eC(l,c,r),r}function eC(l,n,s){if(n.length===0)return;const r=[];let c=[];const h=n.filter(p=>p.status===0).map(p=>p.currentWriteId);for(let p=0;p<n.length;p++){const g=n[p],y=Vt(s,g.path);let x=!1,_;if(q(y!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)x=!0,_=g.abortReason,c=c.concat(Pi(l.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=qE)x=!0,_="maxretry",c=c.concat(Pi(l.serverSyncTree_,g.currentWriteId,!0));else{const N=Mv(l,g.path,h);g.currentInputSnapshot=N;const I=n[p].update(N.val());if(I!==void 0){bc("transaction failed: Data returned ",I,g.path);let B=_t(I);typeof I=="object"&&I!=null&&Yn(I,".priority")||(B=B.updatePriority(N.getPriority()));const ce=g.currentWriteId,Ce=Nc(l),we=bv(B,N,Ce);g.currentOutputSnapshotRaw=B,g.currentOutputSnapshotResolved=we,g.currentWriteId=ih(l),h.splice(h.indexOf(ce),1),c=c.concat(pv(l.serverSyncTree_,g.path,we,g.currentWriteId,g.applyLocally)),c=c.concat(Pi(l.serverSyncTree_,ce,!0))}else x=!0,_="nodata",c=c.concat(Pi(l.serverSyncTree_,g.currentWriteId,!0))}Nn(l.eventQueue_,s,c),c=[],x&&(n[p].status=2,(function(N){setTimeout(N,Math.floor(0))})(n[p].unwatcher),n[p].onComplete&&(_==="nodata"?r.push(()=>n[p].onComplete(null,!1,n[p].currentInputSnapshot)):r.push(()=>n[p].onComplete(new Error(_),!1,null))))}Ec(l,l.transactionQueueTree_);for(let p=0;p<r.length;p++)ks(r[p]);lh(l,l.transactionQueueTree_)}function Ov(l,n){let s,r=l.transactionQueueTree_;for(s=ye(n);s!==null&&Ls(r)===void 0;)r=eh(r,s),n=Ke(n),s=ye(n);return r}function Rv(l,n){const s=[];return kv(l,n,s),s.sort((r,c)=>r.order-c.order),s}function kv(l,n,s){const r=Ls(n);if(r)for(let c=0;c<r.length;c++)s.push(r[c]);xc(n,c=>{kv(l,c,s)})}function Ec(l,n){const s=Ls(n);if(s){let r=0;for(let c=0;c<s.length;c++)s[c].status!==2&&(s[r]=s[c],r++);s.length=r,Sv(n,s.length>0?s:void 0)}xc(n,r=>{Ec(l,r)})}function sh(l,n){const s=vr(Ov(l,n)),r=eh(l.transactionQueueTree_,n);return AE(r,c=>{Wd(l,c)}),Wd(l,r),Ev(r,c=>{Wd(l,c)}),s}function Wd(l,n){const s=Ls(n);if(s){const r=[];let c=[],f=-1;for(let h=0;h<s.length;h++)s[h].status===3||(s[h].status===1?(q(f===h-1,"All SENT items should be at beginning of queue."),f=h,s[h].status=3,s[h].abortReason="set"):(q(s[h].status===0,"Unexpected transaction status in abort"),s[h].unwatcher(),c=c.concat(Pi(l.serverSyncTree_,s[h].currentWriteId,!0)),s[h].onComplete&&r.push(s[h].onComplete.bind(null,new Error("set"),!1,null))));f===-1?Sv(n,void 0):s.length=f+1,Nn(l.eventQueue_,vr(n),c);for(let h=0;h<r.length;h++)ks(r[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(l){let n="";const s=l.split("/");for(let r=0;r<s.length;r++)if(s[r].length>0){let c=s[r];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch{}n+="/"+c}return n}function nC(l){const n={};l.charAt(0)==="?"&&(l=l.substring(1));for(const s of l.split("&")){if(s.length===0)continue;const r=s.split("=");r.length===2?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Qt(`Invalid query segment '${s}' in query '${l}'`)}return n}const Z0=function(l,n){const s=iC(l),r=s.namespace;s.domain==="firebase.com"&&yi(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&s.domain!=="localhost"&&yi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||d2();const c=s.scheme==="ws"||s.scheme==="wss";return{repoInfo:new Uy(s.host,s.secure,r,c,n,"",r!==s.subdomain),path:new Ge(s.pathString)}},iC=function(l){let n="",s="",r="",c="",f="",h=!0,p="https",g=443;if(typeof l=="string"){let y=l.indexOf("//");y>=0&&(p=l.substring(0,y-1),l=l.substring(y+2));let x=l.indexOf("/");x===-1&&(x=l.length);let _=l.indexOf("?");_===-1&&(_=l.length),n=l.substring(0,Math.min(x,_)),x<_&&(c=tC(l.substring(x,_)));const N=nC(l.substring(Math.min(l.length,_)));y=n.indexOf(":"),y>=0?(h=p==="https"||p==="wss",g=parseInt(n.substring(y+1),10)):y=n.length;const I=n.slice(0,y);if(I.toLowerCase()==="localhost")s="localhost";else if(I.split(".").length<=2)s=I;else{const B=n.indexOf(".");r=n.substring(0,B).toLowerCase(),s=n.substring(B+1),f=r}"ns"in N&&(f=N.ns)}return{host:n,port:g,domain:s,subdomain:r,secure:h,scheme:p,pathString:c,namespace:f}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(n,s,r,c){this.eventType=n,this.eventRegistration=s,this.snapshot=r,this.prevName=c}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+xt(this.snapshot.exportVal())}}class sC{constructor(n,s,r){this.eventRegistration=n,this.error=s,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(n,s){this.snapshotCallback=n,this.cancelCallback=s}onValue(n,s){this.snapshotCallback.call(null,n,s)}onCancel(n){return q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(n,s,r,c){this._repo=n,this._path=s,this._queryParams=r,this._orderByCalled=c}get key(){return be(this._path)?null:Rf(this._path)}get ref(){return new vi(this._repo,this._path)}get _queryIdentifier(){const n=U0(this._queryParams),s=jf(n);return s==="{}"?"default":s}get _queryObject(){return U0(this._queryParams)}isEqual(n){if(n=Rs(n),!(n instanceof rh))return!1;const s=this._repo===n._repo,r=kf(this._path,n._path),c=this._queryIdentifier===n._queryIdentifier;return s&&r&&c}toJSON(){return this.toString()}toString(){return this._repo.toString()+F2(this._path)}}class vi extends rh{constructor(n,s){super(n,s,new Hf,!1)}get parent(){const n=Qy(this._path);return n===null?null:new vi(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class dr{constructor(n,s,r){this._node=n,this.ref=s,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const s=new Ge(n),r=bf(this.ref,n);return new dr(this._node.getChild(s),r,rt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,c)=>n(new dr(c,bf(this.ref,r),rt)))}hasChild(n){const s=new Ge(n);return!this._node.getChild(s).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ae(l,n){return l=Rs(l),l._checkNotDeleted("ref"),n!==void 0?bf(l._root,n):l._root}function bf(l,n){return l=Rs(l),ye(l._path)===null?UE("child","path",n):wv("child","path",n),new vi(l._repo,at(l._path,n))}function zv(l){return Tv("remove",l._path),Lt(l,null)}function Lt(l,n){l=Rs(l),Tv("set",l._path),kE("set",n,l._path);const s=new fr;return FE(l._repo,l._path,n,null,s.wrapCallback(()=>{})),s.promise}function Us(l,n){LE("update",n,l._path);const s=new fr;return PE(l._repo,l._path,n,s.wrapCallback(()=>{})),s.promise}function il(l){l=Rs(l);const n=new ah(()=>{}),s=new xr(n);return XE(l._repo,l,s).then(r=>new dr(r,new vi(l._repo,l._path),l._queryParams.getIndex()))}class xr{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,s){const r=s._queryParams.getIndex();return new lC("value",this,new dr(n.snapshotNode,new vi(s._repo,s._path),r))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,s){return this.callbackContext.hasCancelCallback?new sC(this,n,s):null}matches(n){return n instanceof xr?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function aC(l,n,s,r,c){const f=new ah(s,void 0),h=new xr(f);return ZE(l._repo,l,h),()=>Dv(l._repo,l,h)}function rC(l,n,s,r){return aC(l,"value",n)}function oC(l,n,s){let r=null;const c=s?new ah(s):null;r=new xr(c),Dv(l._repo,l,r)}aE(vi);dE(vi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="FIREBASE_DATABASE_EMULATOR_HOST",Sf={};let uC=!1;function dC(l,n,s,r){const c=n.lastIndexOf(":"),f=n.substring(0,c),h=wf(f);l.repoInfo_=new Uy(n,h,l.repoInfo_.namespace,l.repoInfo_.webSocketOnly,l.repoInfo_.nodeAdmin,l.repoInfo_.persistenceKey,l.repoInfo_.includeNamespaceInQueryParams,!0,s),r&&(l.authTokenProvider_=r)}function fC(l,n,s,r,c){let f=r||l.options.databaseURL;f===void 0&&(l.options.projectId||yi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),zt("Using default host for project ",l.options.projectId),f=`${l.options.projectId}-default-rtdb.firebaseio.com`);let h=Z0(f,c),p=h.repoInfo,g;typeof process<"u"&&_0&&(g=_0[cC]),g?(f=`http://${g}?ns=${p.namespace}`,h=Z0(f,c),p=h.repoInfo):h.repoInfo.secure;const y=new S2(l.name,l.options,n);HE("Invalid Firebase Database URL",h),be(h.path)||yi("Database URL must point to the root of a Firebase Database (not including a child path).");const x=mC(p,l,y,new b2(l,s));return new pC(x,l)}function hC(l,n){const s=Sf[n];(!s||s[l.key]!==l)&&yi(`Database ${n}(${l.repoInfo_}) has already been deleted.`),JE(l),delete s[l.key]}function mC(l,n,s,r){let c=Sf[n.name];c||(c={},Sf[n.name]=c);let f=c[l.toURLString()];return f&&yi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new YE(l,uC,s,r),c[l.toURLString()]=f,f}class pC{constructor(n,s){this._repoInternal=n,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(GE(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new vi(this._repo,Re())),this._rootInternal}_delete(){return this._rootInternal!==null&&(hC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&yi("Cannot call "+n+" on a deleted database.")}}function gC(l=xy(),n){const s=$S(l,"database").getImmediate({identifier:n});if(!s._instanceStarted){const r=w1("database");r&&yC(s,...r)}return s}function yC(l,n,s,r={}){l=Rs(l),l._checkNotDeleted("useEmulator");const c=`${n}:${s}`,f=l._repoInternal;if(l._instanceStarted){if(c===l._repoInternal.repoInfo_.host&&Fo(r,f.repoInfo_.emulatorOptions))return;yi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(f.repoInfo_.nodeAdmin)r.mockUserToken&&yi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Go(Go.OWNER);else if(r.mockUserToken){const p=typeof r.mockUserToken=="string"?r.mockUserToken:A1(r.mockUserToken,l.app.options.projectId);h=new Go(p)}wf(n)&&(T1(n),M1("Database",!0)),dC(f,c,r,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(l){s2(VS),Po(new tr("database",(n,{instanceIdentifier:s})=>{const r=n.getProvider("app").getImmediate(),c=n.getProvider("auth-internal"),f=n.getProvider("app-check-internal");return fC(r,c,f,s)},"PUBLIC").setMultipleInstances(!0)),Ns(x0,b0,l),Ns(x0,b0,"esm2020")}mi.prototype.simpleListen=function(l,n){this.sendRequest("q",{p:l},n)};mi.prototype.echo=function(l,n){this.sendRequest("echo",{d:l},n)};vC();const Lv="classtrack_theme_v1",oh="classtrack_auth_session_v1",ch="classtrack_logo_cache_v1",Wa="classtrack_classes_cache_v1",qn="classtrack_students_cache_v1",Ol="classtrack_attendance_cache_v1",Uv="classtrack_offline_queue_v1",_C={apiKey:"AIzaSyBwsZ9ZwMq6fBS6t-YfWbV0lLd-ndU5MXs",authDomain:"chatbot-classtrack.firebaseapp.com",projectId:"chatbot-classtrack",storageBucket:"chatbot-classtrack.firebasestorage.app",messagingSenderId:"1056660264918",appId:"1:1056660264918:web:82850292e8583f2ece7677",measurementId:"G-G6ZXY4FBYS",databaseURL:"https://chatbot-classtrack-default-rtdb.asia-southeast1.firebasedatabase.app"};let Ee=null;try{const l=QS().length?xy():_y(_C);Ee=gC(l),console.log(" Firebase Connected Successfully")}catch(l){console.warn(" Firebase Init Error:",l)}const tt=()=>!!Ee&&navigator.onLine,cc=()=>JSON.parse(localStorage.getItem(Uv)||"[]"),Hv=l=>localStorage.setItem(Uv,JSON.stringify(l)),pt=(l,n)=>{const s=cc();s.push({id:`sync_${Date.now()}_${Math.random()}`,type:l,payload:n,timestamp:Date.now()}),Hv(s)},J0=()=>cc().length,pi=l=>{let n=0;if(l.length===0)return n.toString();for(let s=0;s<l.length;s++){const r=l.charCodeAt(s);n=(n<<5)-n+r,n=n&n}return n.toString()},xC=async()=>{if(tt())try{const l=await il(Ae(Ee,"users")),n=l.exists()?l.val():{},s=[{id:"admin_ayan",username:"M.Ayan",name:"M. Ayan",role:"admin",password:pi("123"),bio:"Head Administrator",securityQuestion:"What is your favorite color?",securityAnswer:"blue"},{id:"admin_wahab",username:"Sir Wahab",name:"Sir Wahab",role:"admin",password:pi("123"),bio:"Principal",securityQuestion:"What city were you born in?",securityAnswer:"karachi"},{id:"admin_iffat",username:"Mam Iffat",name:"Mam Iffat",role:"admin",password:pi("123"),bio:"Vice Principal",securityQuestion:"What is your pet name?",securityAnswer:"cat"}];for(const r of s)n[r.id]||(await Lt(Ae(Ee,`users/${r.id}`),r),console.log(`Initialized Admin: ${r.name}`))}catch(l){console.error("Error Initializing Admins",l)}},bC=async(l,n)=>{if(!tt())throw new Error("No Internet Connection");try{const s=await il(Ae(Ee,"users"));if(s.exists()){const r=Object.values(s.val()),c=pi(n),f=r.find(h=>h.username.toLowerCase()===l.toLowerCase()&&h.password===c);if(f)return f}}catch(s){console.error("Auth DB Error:",s)}return null},SC=async l=>{if(!tt())return null;try{const n=await il(Ae(Ee,"users"));if(n.exists())return Object.values(n.val()).find(c=>c.username.toLowerCase()===l.toLowerCase())||null}catch{return null}return null},NC=async(l,n)=>{if(!tt())throw new Error("Offline");const s=pi(n);await Us(Ae(Ee,`users/${l}`),{password:s})},EC=async(l,n,s)=>{if(!tt())throw new Error("No Internet Connection");const r={id:`t_${Date.now()}`,name:l,username:n,role:"teacher",password:pi(s),securityQuestion:"What is your favorite food?",securityAnswer:"biryani"};return await Lt(Ae(Ee,`users/${r.id}`),r),r},W0=async(l,n)=>{if(!tt())throw new Error("No Internet Connection");n.password&&(n.password=pi(n.password)),await Us(Ae(Ee,`users/${l}`),n)},CC=()=>{const l=localStorage.getItem(oh);return l?JSON.parse(l):null},Nf=l=>{localStorage.setItem(oh,JSON.stringify(l))},wC=()=>{localStorage.removeItem(oh)},TC=()=>localStorage.getItem(ch),AC=async()=>{if(!tt())return null;try{const l=await il(Ae(Ee,"school_settings"));if(l.exists()){const n=l.val();return n.logo&&localStorage.setItem(ch,n.logo),n}}catch{}return null},ey=async l=>{if(!tt())throw new Error("Offline");l.logo&&localStorage.setItem(ch,l.logo),await Us(Ae(Ee,"school_settings"),l)},jC=(l,n,s)=>{if(!Ee)return()=>{};const r=`${l}_${n}`,c=Ae(Ee,`attendance/${r}`),f=rC(c,h=>{h.exists()?s(h.val()):s(null)});return()=>oC(c,"value",f)},$t=async l=>{const n=localStorage.getItem(qn);let s=n?JSON.parse(n):[];if(tt())try{const r=await il(Ae(Ee,"students"));r.exists()&&(s=Object.values(r.val()),localStorage.setItem(qn,JSON.stringify(s)))}catch(r){console.error("Firebase Error:",r)}return l?s.filter(r=>r.classId===l):s},DC=async(l,n,s)=>{const r=`s_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,c={id:r,name:l.trim(),classId:n,avatarSeed:r,phone:s},f=JSON.parse(localStorage.getItem(qn)||"[]");if(f.push(c),localStorage.setItem(qn,JSON.stringify(f)),tt())try{await Lt(Ae(Ee,`students/${r}`),c)}catch{pt("ADD_STUDENT",c)}else pt("ADD_STUDENT",c);return c},MC=async(l,n)=>{const r=JSON.parse(localStorage.getItem(qn)||"[]").map(c=>c.id===l?{...c,...n}:c);if(localStorage.setItem(qn,JSON.stringify(r)),tt())try{await Us(Ae(Ee,`students/${l}`),n)}catch{pt("UPDATE_STUDENT",{studentId:l,updates:n})}else pt("UPDATE_STUDENT",{studentId:l,updates:n})},OC=async(l,n)=>{const r=JSON.parse(localStorage.getItem(qn)||"[]").map(c=>c.id===l?{...c,customFee:n}:c);if(localStorage.setItem(qn,JSON.stringify(r)),tt())try{await Us(Ae(Ee,`students/${l}`),{customFee:n})}catch{pt("UPDATE_STUDENT",{studentId:l,updates:{customFee:n}})}else pt("UPDATE_STUDENT",{studentId:l,updates:{customFee:n}})},RC=async l=>{const s=JSON.parse(localStorage.getItem(qn)||"[]").filter(r=>r.id!==l);if(localStorage.setItem(qn,JSON.stringify(s)),tt())try{await Lt(Ae(Ee,`students/${l}`),null)}catch{pt("DELETE_STUDENT",l)}else pt("DELETE_STUDENT",l)},Va=async()=>{const l=localStorage.getItem(Ol);let n=l?JSON.parse(l):[];if(tt())try{const s=await il(Ae(Ee,"attendance"));s.exists()&&(n=Object.values(s.val()),localStorage.setItem(Ol,JSON.stringify(n)))}catch{}return n},kC=async l=>{const n=JSON.parse(localStorage.getItem(Ol)||"[]"),s=`${l.date}_${l.classId}`,r=n.findIndex(c=>`${c.date}_${c.classId}`===s);if(r>-1?n[r]=l:n.push(l),localStorage.setItem(Ol,JSON.stringify(n)),tt())try{await Lt(Ae(Ee,`attendance/${s}`),l)}catch{pt("SAVE_ATTENDANCE",l)}else pt("SAVE_ATTENDANCE",l)},zC=async(l,n)=>{const s=`${l}_${n}`,c=JSON.parse(localStorage.getItem(Ol)||"[]").filter(f=>`${f.date}_${f.classId}`!==s);if(localStorage.setItem(Ol,JSON.stringify(c)),tt())try{await Lt(Ae(Ee,`attendance/${s}`),null)}catch{pt("DELETE_ATTENDANCE",{date:l,classId:n})}else pt("DELETE_ATTENDANCE",{date:l,classId:n})},LC=async(l,n)=>{const s=`${l}_${n}`,c=JSON.parse(localStorage.getItem(Ol)||"[]").find(f=>f.date===l&&f.classId===n);if(tt()&&!c)try{const f=await il(Ae(Ee,`attendance/${s}`));if(f.exists())return f.val()}catch{}return c},UC=async l=>{if(tt())try{await Lt(Ae(Ee,`fees/${l.month}/${l.studentId}`),l)}catch{pt("SAVE_FEE",l)}else pt("SAVE_FEE",l)},HC=async(l,n)=>{if(tt())try{await zv(Ae(Ee,`fees/${l}/${n}`))}catch{pt("DELETE_FEE",{month:l,studentId:n})}else pt("DELETE_FEE",{month:l,studentId:n})},IC=()=>localStorage.getItem(Lv)||"midnight",BC=l=>localStorage.setItem(Lv,l),uc=async()=>{const l=localStorage.getItem(Wa);if(!tt())return l?JSON.parse(l):["8","9","10"];try{const n=await il(Ae(Ee,"classes"));if(n.exists()){const s=Object.values(n.val());return localStorage.setItem(Wa,JSON.stringify(s)),s.sort((r,c)=>{const f=parseInt(r),h=parseInt(c);return!isNaN(f)&&!isNaN(h)?f-h:r.localeCompare(c)})}else{const s=["8","9","10"];return await Lt(Ae(Ee,"classes"),s),localStorage.setItem(Wa,JSON.stringify(s)),s}}catch(n){return console.error("Error fetching classes",n),l?JSON.parse(l):["8","9","10"]}},$C=async l=>{const n=await uc();if(n.includes(l))throw new Error("Class already exists");const s=[...n,l];if(localStorage.setItem(Wa,JSON.stringify(s)),tt())try{await Lt(Ae(Ee,"classes"),s)}catch{pt("UPDATE_CLASSES",s)}else pt("UPDATE_CLASSES",s);return s},qC=async l=>{const s=(await uc()).filter(r=>r!==l);if(localStorage.setItem(Wa,JSON.stringify(s)),tt())try{await Lt(Ae(Ee,"classes"),s)}catch{pt("UPDATE_CLASSES",s)}else pt("UPDATE_CLASSES",s);return s},YC=async l=>{if(!tt())return;const n=cc();if(n.length===0)return;l==null||l(`Syncing ${n.length} pending items...`);const s=[];for(const c of n)try{switch(c.type){case"SAVE_ATTENDANCE":const f=c.payload;await Lt(Ae(Ee,`attendance/${f.date}_${f.classId}`),f);break;case"ADD_STUDENT":const h=c.payload;await Lt(Ae(Ee,`students/${h.id}`),h);break;case"UPDATE_STUDENT":await Us(Ae(Ee,`students/${c.payload.studentId}`),c.payload.updates);break;case"DELETE_STUDENT":await Lt(Ae(Ee,`students/${c.payload}`),null);break;case"DELETE_ATTENDANCE":await Lt(Ae(Ee,`attendance/${c.payload.date}_${c.payload.classId}`),null);break;case"SAVE_FEE":await Lt(Ae(Ee,`fees/${c.payload.month}/${c.payload.studentId}`),c.payload);break;case"DELETE_FEE":await zv(Ae(Ee,`fees/${c.payload.month}/${c.payload.studentId}`));break;case"UPDATE_CLASSES":await Lt(Ae(Ee,"classes"),c.payload);break}s.push(c.id)}catch(f){console.error("Sync item failed, will retry later",c,f)}const r=cc().filter(c=>!s.includes(c.id));Hv(r),s.length>0&&(l==null||l(`Sync complete. ${s.length} items pushed.`))},GC=({percentage:l,size:n=180,strokeWidth:s=15,label:r="",subLabel:c="Present",colorStart:f="#6366f1",colorEnd:h="#a855f7"})=>{const[p,g]=$.useState(0);$.useEffect(()=>{const B=performance.now(),J=ce=>{const Ce=ce-B,we=Math.min(Ce/1200,1),ue=1-Math.pow(1-we,4);g(ue*l),we<1&&requestAnimationFrame(J)};requestAnimationFrame(J)},[l]);const y=(n-s)/2,x=y*2*Math.PI,_=x-p/100*x,N="gradient-chart";return d.jsxs("div",{className:"relative flex items-center justify-center p-4",children:[d.jsxs("svg",{width:n,height:n,viewBox:`0 0 ${n} ${n}`,className:"transform -rotate-90 relative z-10",children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:N,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[d.jsx("stop",{offset:"0%",stopColor:f}),d.jsx("stop",{offset:"100%",stopColor:h})]})}),d.jsx("circle",{cx:n/2,cy:n/2,r:y,stroke:"currentColor",strokeWidth:s,fill:"transparent",className:"text-slate-200 dark:text-slate-800 opacity-20",strokeLinecap:"round"}),d.jsx("circle",{cx:n/2,cy:n/2,r:y,stroke:`url(#${N})`,strokeWidth:s,fill:"transparent",strokeDasharray:x,strokeDashoffset:_,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.8s ease-out"}})]}),d.jsxs("div",{className:"absolute flex flex-col items-center justify-center text-center z-20",children:[d.jsxs("span",{className:"text-5xl font-bold tracking-tight text-slate-800 dark:text-white",children:[Math.round(p),"%"]}),c&&d.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400 mt-1",children:c})]})]})},bn=({children:l,variant:n="primary",fullWidth:s=!1,themeAccent:r,className:c="",loading:f=!1,...h})=>{const p="px-6 py-3 rounded-xl font-medium transition-all active:scale-95 shadow-lg flex items-center justify-center gap-2";let g="";return n==="primary"?g=`${r||"bg-indigo-500"} text-white hover:opacity-90`:n==="secondary"?g="bg-white/10 text-current border border-white/20 hover:bg-white/20":n==="danger"&&(g="bg-red-500/10 text-red-500 border border-red-500/20"),d.jsx("button",{className:`${p} ${g} ${s?"w-full":""} ${c} ${f?"opacity-70 cursor-not-allowed":""}`,disabled:f||h.disabled,...h,children:f?d.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):l})},VC=({currentView:l,onChangeView:n,theme:s,user:r,onLogout:c,shouldHide:f})=>{const h=()=>{const x=[{id:"home",icon:Rb,label:"Home"},{id:"history",icon:ly,label:"History"}];return(r==null?void 0:r.role)==="admin"&&x.push({id:"admin-dashboard",icon:zb,label:"Admin"}),x.push({id:"settings",icon:ay,label:"Settings"}),x},p=l==="dashboard"||l==="attendance"?"home":l,g=()=>f?null:d.jsx("div",{className:`fixed bottom-0 left-0 right-0 ${s.navBg} backdrop-blur-xl pt-2 pb-6 px-4 flex justify-around items-center z-[50] transition-transform duration-300 shadow-[0_-5px_20px_-5px_rgba(0,0,0,0.2)] md:hidden`,children:h().map(x=>{const _=p===x.id,N=x.icon;return d.jsxs("button",{onClick:()=>{n(x.id)},className:"flex flex-col items-center gap-1 p-1 rounded-2xl transition-all duration-150 w-16",children:[d.jsx("div",{className:`p-2.5 rounded-2xl transition-all duration-150 ${_?`${s.accent} text-white shadow-lg translate-y-[-5px]`:`${s.textSecondary} bg-transparent`}`,children:d.jsx(N,{size:20,strokeWidth:_?2.5:2})}),d.jsx("span",{className:`text-[9px] font-semibold transition-opacity duration-150 ${_?`${s.textPrimary} opacity-100`:"opacity-0 h-0 hidden"}`,children:x.label})]},x.id)})}),y=()=>d.jsxs("div",{className:`hidden md:flex flex-col w-64 h-full ${s.sidebarBg} border-r px-4 py-8 relative`,children:[d.jsxs("div",{className:"mb-10 px-2",children:[d.jsxs("h2",{className:`text-2xl font-extrabold ${s.textPrimary}`,children:["ClassTrack ",d.jsx("span",{className:"text-xs font-light opacity-50 block",children:"PRO"})]}),r&&d.jsxs("div",{className:"mt-4 p-3 rounded-xl bg-white/5 border border-white/10 flex items-center gap-3",children:[d.jsx("div",{className:`w-8 h-8 rounded-full ${s.accent} flex items-center justify-center text-white font-bold overflow-hidden`,children:r.avatar&&r.avatar.startsWith("data:image")?d.jsx("img",{src:r.avatar,alt:r.name,className:"w-full h-full object-cover"}):r.avatar||r.name.charAt(0)}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm font-bold ${s.textPrimary}`,children:r.name}),d.jsx("p",{className:`text-[10px] uppercase font-bold ${s.textSecondary}`,children:r.role})]})]})]}),d.jsx("div",{className:"flex-1 space-y-2",children:h().map(x=>{const _=p===x.id,N=x.icon;return d.jsxs("button",{onClick:()=>n(x.id),className:`w-full flex items-center gap-4 p-3 rounded-xl transition-all duration-200 ${_?`${s.accent} text-white shadow-md`:`hover:bg-white/5 ${s.textSecondary} hover:${s.textPrimary}`}`,children:[d.jsx(N,{size:20}),d.jsx("span",{className:"font-medium",children:x.label})]},x.id)})}),d.jsxs("button",{onClick:c,className:"flex items-center gap-4 p-3 rounded-xl hover:bg-red-500/10 text-red-500 hover:text-red-400 transition-colors mt-auto",children:[d.jsx(qb,{size:20}),d.jsx("span",{className:"font-medium",children:"Logout"})]})]});return d.jsxs(d.Fragment,{children:[d.jsx(g,{}),d.jsx(y,{})]})},dc=({avatar:l,name:n,size:s="md",className:r=""})=>{const c=l||n||"default",f=l!=null&&l.startsWith("http")?l:`https://picsum.photos/seed/${c}/200`;let h="w-10 h-10 text-base";return s==="sm"&&(h="w-8 h-8 text-xs"),s==="lg"&&(h="w-16 h-16 text-2xl"),s==="xl"&&(h="w-32 h-32 text-4xl"),d.jsx("img",{src:f,alt:n,className:`rounded-full object-cover border border-white/10 ${h} ${r}`,onError:p=>{p.target.src=`https://ui-avatars.com/api/?name=${n}&background=random`}})},QC=({theme:l,onLogin:n,onToast:s,logo:r})=>{const[c,f]=$.useState("login"),[h,p]=$.useState(""),[g,y]=$.useState(""),[x,_]=$.useState(""),[N,I]=$.useState(null),[B,J]=$.useState(""),[ce,Ce]=$.useState(""),[we,ue]=$.useState(!1),[Ve,wt]=$.useState(!1),[nt,ie]=$.useState(0);$.useEffect(()=>{ie(0),setTimeout(()=>ie(1),100)},[c]);const Le=async re=>{re.preventDefault(),ue(!0),setTimeout(async()=>{try{if(c==="login"){const Ue=await bC(h,g);Ue?n(Ue):s("Invalid username or password","error")}else if(c==="register")if(!x||!h||!g)s("All fields are required","error");else{const Ue=await EC(x,h,g);n(Ue)}}catch{s("Authentication failed or No Internet","error")}finally{ue(!1)}},1200)},Tt=async()=>{ue(!0),setTimeout(async()=>{const re=await SC(h);ue(!1),re&&re.securityQuestion?I(re):s("User not found or no security question set.","error")},1e3)},At=async()=>{N&&(ue(!0),setTimeout(async()=>{var qt;const re=(qt=N.securityAnswer)==null?void 0:qt.toLowerCase().trim(),Ue=B.toLowerCase().trim();re===Ue?(await NC(N.id,ce),s("Password Reset Successful! Please Login.","success"),f("login"),I(null),y("")):s("Incorrect Answer.","error"),ue(!1)},1e3))},ae=()=>d.jsxs("div",{className:"hidden lg:flex w-[55%] relative items-center justify-center overflow-hidden bg-[#0a0f1c]",children:[d.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-indigo-950/40 via-[#0a0f1c] to-[#0a0f1c]"}),d.jsx("div",{className:"absolute top-1/4 -right-1/4 w-[600px] h-[600px] bg-indigo-500/5 rounded-full blur-[120px]"}),d.jsxs("div",{className:`relative z-10 p-16 text-center max-w-2xl transition-opacity duration-700 ${nt?"opacity-100":"opacity-0"}`,children:[d.jsx("div",{className:"mb-12 relative inline-block",children:d.jsx("div",{className:"w-32 h-32 rounded-3xl bg-slate-900 border border-white/5 flex items-center justify-center shadow-xl",children:r?d.jsx("img",{src:r,className:"w-full h-full object-cover rounded-3xl"}):d.jsx(Vo,{size:64,className:"text-indigo-500"})})}),d.jsxs("h1",{className:"text-6xl font-black text-white mb-8 tracking-tighter leading-tight",children:[d.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-white to-slate-400",children:"I.J Education"}),d.jsx("span",{className:"text-indigo-500 block text-4xl mt-2 font-medium tracking-widest uppercase",children:"System"})]}),d.jsxs("p",{className:"text-lg text-slate-400 font-light leading-relaxed max-w-lg mx-auto mb-12",children:["Minimalist, futuristic management for your institution.",d.jsx("span",{className:"text-indigo-400 font-medium",children:" Performance first"}),", lag-free experience."]}),d.jsx("div",{className:"grid grid-cols-3 gap-6",children:[{icon:h1,label:"Realtime",desc:"Auto Sync"},{icon:mb,label:"Analytics",desc:"Pro Insights"},{icon:Wb,label:"Reliable",desc:"Secure Data"}].map((re,Ue)=>d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/5 flex items-center justify-center mb-3 text-indigo-400 border border-white/5",children:d.jsx(re.icon,{size:20})}),d.jsx("h4",{className:"font-bold text-white text-xs mb-1",children:re.label})]},Ue))})]})]});return d.jsxs("div",{className:`flex min-h-screen w-full ${l.bg} overflow-hidden font-sans`,children:[d.jsx(ae,{}),d.jsxs("div",{className:`w-full lg:w-[45%] flex flex-col items-center justify-center p-6 md:p-12 relative ${l.bg}`,children:[d.jsx("div",{className:"lg:hidden absolute inset-0 bg-gradient-to-b from-indigo-900/20 to-transparent"}),d.jsxs("div",{className:`w-full max-w-[440px] relative z-10 transition-all duration-700 delay-100 ${nt?"translate-x-0 opacity-100":"translate-x-20 opacity-0"}`,children:[d.jsxs("div",{className:"mb-10 text-center lg:text-left transition-all",children:[d.jsx("h2",{className:"text-4xl font-bold text-white mb-2 tracking-tight",children:c==="login"?"Welcome back":c==="register"?"Create Account":"Recovery"}),d.jsx("p",{className:"text-slate-400 text-lg",children:c==="login"?"Please enter your details to sign in.":c==="register"?"Join as a member.":"Let us help you get back in."})]}),d.jsxs("div",{className:"p-8 md:p-10 rounded-[2.5rem] bg-[#1e293b]/50 border border-white/10 shadow-2xl backdrop-blur-xl relative overflow-hidden group",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700 pointer-events-none"}),c!=="forgot"&&d.jsxs("form",{onSubmit:Le,className:"space-y-5 relative z-10",autoComplete:"on",children:[c==="register"&&d.jsxs("div",{className:"space-y-1.5 animate-slide-up",children:[d.jsx("label",{className:"text-xs font-bold uppercase tracking-widest text-slate-500 ml-1",children:"Full Name"}),d.jsxs("div",{className:"relative group/input",children:[d.jsx(c1,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within/input:text-indigo-400 transition-colors"}),d.jsx("input",{type:"text",value:x,onChange:re=>_(re.target.value),className:"w-full bg-slate-900/50 border border-slate-700/50 rounded-2xl py-4 pl-12 pr-4 text-white placeholder:text-slate-600 focus:outline-none focus:border-indigo-500/50 focus:ring-4 focus:ring-indigo-500/10 transition-all",placeholder:"John Doe"})]})]}),d.jsxs("div",{className:"space-y-1.5 animate-slide-up",style:{animationDelay:"100ms"},children:[d.jsx("label",{className:"text-xs font-bold uppercase tracking-widest text-slate-500 ml-1",children:"Username"}),d.jsxs("div",{className:"relative group/input",children:[d.jsx(i0,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within/input:text-indigo-400 transition-colors"}),d.jsx("input",{type:"text",value:h,onChange:re=>p(re.target.value),className:"w-full bg-slate-900/50 border border-slate-700/50 rounded-2xl py-4 pl-12 pr-4 text-white placeholder:text-slate-600 focus:outline-none focus:border-indigo-500/50 focus:ring-4 focus:ring-indigo-500/10 transition-all font-mono",placeholder:"username",autoComplete:"username"})]})]}),d.jsxs("div",{className:"space-y-1.5 animate-slide-up",style:{animationDelay:"200ms"},children:[d.jsxs("div",{className:"flex justify-between items-baseline",children:[d.jsx("label",{className:"text-xs font-bold uppercase tracking-widest text-slate-500 ml-1",children:"Password"}),c==="login"&&d.jsx("button",{type:"button",onClick:()=>f("forgot"),className:"text-xs font-bold text-indigo-400 hover:text-indigo-300 transition-colors",children:"Forgot?"})]}),d.jsxs("div",{className:"relative group/input",children:[d.jsx(Hb,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within/input:text-indigo-400 transition-colors"}),d.jsx("input",{type:Ve?"text":"password",value:g,onChange:re=>y(re.target.value),className:"w-full bg-slate-900/50 border border-slate-700/50 rounded-2xl py-4 pl-12 pr-12 text-white placeholder:text-slate-600 focus:outline-none focus:border-indigo-500/50 focus:ring-4 focus:ring-indigo-500/10 transition-all font-mono tracking-widest",placeholder:"",autoComplete:"current-password"}),d.jsx("button",{type:"button",onClick:()=>wt(!Ve),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-500 hover:text-white transition-colors",children:Ve?d.jsx(Tb,{size:18}):d.jsx(jb,{size:18})})]})]}),d.jsx(bn,{type:"submit",fullWidth:!0,themeAccent:l.accent,disabled:we,className:"mt-6 py-4 text-lg font-bold shadow-xl shadow-indigo-900/20 active:scale-[0.98] transition-all bg-gradient-to-r from-indigo-600 to-purple-600 border border-white/10",children:we?d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx(sy,{size:24,className:"animate-spin"})," ",d.jsx("span",{children:"Processing..."})]}):c==="login"?"Sign In":"Create Account"})]}),c==="forgot"&&d.jsxs("div",{className:"space-y-6 animate-slide-up relative z-10",children:[N?d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"p-4 rounded-2xl bg-indigo-500/10 border border-indigo-500/20 mb-4",children:[d.jsx("p",{className:"text-[10px] uppercase font-bold text-indigo-400 mb-1",children:"Security Question"}),d.jsx("p",{className:"text-base font-bold text-white leading-relaxed",children:N.securityQuestion})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-bold uppercase tracking-widest text-slate-500 ml-1",children:"Your Answer"}),d.jsx("input",{type:"text",value:B,onChange:re=>J(re.target.value),className:"w-full bg-slate-900/50 border border-slate-700/50 rounded-2xl py-4 px-4 text-white placeholder:text-slate-600 focus:outline-none focus:border-indigo-500/50 transition-all",placeholder:"Type answer here..."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-bold uppercase tracking-widest text-slate-500 ml-1",children:"New Password"}),d.jsx("input",{type:"password",value:ce,onChange:re=>Ce(re.target.value),className:"w-full bg-slate-900/50 border border-slate-700/50 rounded-2xl py-4 px-4 text-white placeholder:text-slate-600 focus:outline-none focus:border-indigo-500/50 transition-all",placeholder:"New strong password"})]}),d.jsx(bn,{onClick:At,fullWidth:!0,themeAccent:l.accent,disabled:we,className:"py-4 font-bold",children:"Reset Password"})]}):d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-sm text-slate-400 mb-2",children:"Enter your username and we'll look for your account."}),d.jsxs("div",{className:"relative group/input",children:[d.jsx(i0,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within/input:text-indigo-400 transition-colors"}),d.jsx("input",{type:"text",value:h,onChange:re=>p(re.target.value),className:"w-full bg-slate-900/50 border border-slate-700/50 rounded-2xl py-4 pl-12 pr-4 text-white placeholder:text-slate-600 focus:outline-none focus:border-indigo-500/50 focus:ring-4 focus:ring-indigo-500/10 transition-all font-mono",placeholder:"username"})]}),d.jsx(bn,{onClick:Tt,fullWidth:!0,themeAccent:l.accent,disabled:we,className:"py-4 font-bold",children:"Find Account"})]}),d.jsx("button",{onClick:()=>{f("login"),I(null)},className:"w-full text-xs font-bold text-slate-500 hover:text-white mt-4 py-2",children:"Back to Login"})]})]}),c!=="forgot"&&d.jsx("div",{className:"mt-8 text-center",children:d.jsx("button",{onClick:()=>f(c==="login"?"register":"login"),className:"group text-sm font-medium text-slate-400 hover:text-white transition-colors",children:c==="login"?d.jsxs("span",{children:["Don't have an account? ",d.jsx("span",{className:"text-indigo-400 group-hover:underline",children:"Register now"})]}):d.jsxs("span",{children:["Already have an account? ",d.jsx("span",{className:"text-indigo-400 group-hover:underline",children:"Sign In"})]})})})]}),d.jsx("div",{className:"absolute bottom-6 left-0 right-0 text-center",children:d.jsx("p",{className:"text-[10px] text-slate-600 uppercase tracking-widest",children:"Secured by GlassTrack"})})]})]})},XC=({theme:l,onBack:n,availableClasses:s,selectedClass:r,onSelectClass:c,students:f,onViewProfile:h,attendanceStats:p})=>d.jsx("div",{className:"flex flex-col h-full animate-fade-in px-6 pt-12 pb-32 overflow-y-auto w-full",children:d.jsxs("div",{className:"max-w-2xl mx-auto w-full",children:[d.jsx("div",{className:"mb-8 flex items-center justify-between",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:n,className:`p-2 -ml-2 rounded-full hover:bg-black/5 ${l.textPrimary}`,children:d.jsx(fi,{})}),d.jsxs("div",{children:[d.jsx("h2",{className:`text-2xl font-black ${l.textPrimary}`,children:"Student Panel"}),d.jsx("p",{className:`text-xs ${l.textSecondary}`,children:"Directory of Students & Contact Numbers"})]})]})}),d.jsx("div",{className:"mb-6 flex gap-2 overflow-x-auto pb-2 scroll-hide",children:s.map(g=>d.jsxs("button",{onClick:()=>c(g),className:`px-6 py-3 rounded-2xl font-bold text-sm transition-all whitespace-nowrap border ${r===g?`${l.accent} text-white border-transparent shadow-lg shadow-indigo-500/20`:`${l.surface} ${l.border} ${l.textSecondary}`}`,children:["Class ",g]},g))}),d.jsx("div",{className:"space-y-3",children:f.length===0?d.jsx("div",{className:`text-center py-20 opacity-50 ${l.textSecondary}`,children:"No students in this class."}):f.sort((g,y)=>g.name.localeCompare(y.name)).map(g=>d.jsxs("div",{onClick:()=>h(g),className:`p-4 rounded-2xl ${l.surface} border ${l.border} flex justify-between items-center group cursor-pointer hover:bg-white/5 transition-all`,children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(dc,{avatar:g.avatarSeed,name:g.name,size:"md"}),d.jsxs("div",{children:[d.jsx("h3",{className:`font-bold ${l.textPrimary}`,children:g.name}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("p",{className:`text-[10px] ${l.textSecondary} flex items-center gap-1`,children:[d.jsx(ef,{size:10})," ",g.phone||"No Number"]}),d.jsxs("span",{className:`text-[10px] font-black uppercase ${p[g.id]>75?"text-emerald-500":"text-orange-500"}`,children:["ATT: ",p[g.id]||0,"%"]})]})]})]}),g.phone&&d.jsx("button",{onClick:y=>{var x;y.stopPropagation(),window.open(`https://wa.me/${(x=g.phone)==null?void 0:x.replace(/\D/g,"")}`,"_blank")},className:"p-3 rounded-xl bg-emerald-500/10 text-emerald-500 hover:bg-emerald-500 hover:text-white transition-all transform hover:-translate-y-1",children:d.jsx(Vb,{size:18})})]},g.id))})]})}),FC=({theme:l,themeId:n,onThemeChange:s,currentUser:r,onUpdateUser:c,onLogout:f,onToast:h})=>{const[p,g]=$.useState("view"),[y,x]=$.useState(""),[_,N]=$.useState(""),[I,B]=$.useState(""),[J,ce]=$.useState(""),[Ce,we]=$.useState(""),[ue,Ve]=$.useState(""),[wt,nt]=$.useState(""),[ie,Le]=$.useState(!1);$.useEffect(()=>{r&&(x(r.bio||""),N(r.avatar||""),B(r.securityQuestion||""))},[r,p]);const Tt=async()=>{if(r){Le(!0);try{const ae={bio:y,avatar:_};J.trim()&&(ae.securityQuestion=I,ae.securityAnswer=J),await W0(r.id,ae);const re={...r,...ae};c(re),Nf(re),g("view"),h("Profile Updated!","success")}catch{h("Failed to update profile.","error")}finally{Le(!1)}}},At=async()=>{if(r){if(pi(Ce)!==r.password){h("Incorrect current password","error");return}if(ue!==wt){h("Passwords do not match","error");return}if(ue.length<3){h("Password too short","error");return}Le(!0);try{await W0(r.id,{password:ue});const ae={...r,password:pi(ue)};c(ae),Nf(ae),g("view"),we(""),Ve(""),nt(""),h("Password Changed Successfully!","success")}catch{h("Failed to change password.","error")}finally{Le(!1)}}};return d.jsx("div",{className:"flex flex-col h-full animate-fade-in px-6 pt-12 pb-32 overflow-y-auto w-full",children:d.jsxs("div",{className:"max-w-4xl mx-auto w-full",children:[d.jsx("h2",{className:`text-3xl font-bold ${l.textPrimary} mb-6`,children:"Settings"}),d.jsxs("div",{className:"flex gap-4 mb-8 border-b border-white/10 pb-2",children:[d.jsxs("button",{onClick:()=>g("view"),className:`pb-2 text-sm font-bold ${p!=="view"?"text-slate-500":l.textPrimary} transition-colors relative`,children:["Appearance",p==="view"&&d.jsx("div",{className:`absolute bottom-0 left-0 w-full h-1 ${l.accent} rounded-full`})]}),d.jsxs("button",{onClick:()=>g("edit"),className:`pb-2 text-sm font-bold ${p!=="edit"?"text-slate-500":l.textPrimary} transition-colors relative`,children:["My Profile",p==="edit"&&d.jsx("div",{className:`absolute bottom-0 left-0 w-full h-1 ${l.accent} rounded-full`})]})]}),p==="view"&&d.jsxs("section",{children:[d.jsx("h3",{className:`text-xs font-bold uppercase tracking-widest ${l.textSecondary} mb-4 ml-1`,children:"Theme"}),d.jsx("div",{className:"grid gap-3 md:grid-cols-2 mb-8",children:Object.values(tf).map(ae=>d.jsxs("button",{onClick:()=>s(ae.id),className:`p-4 rounded-2xl border ${n===ae.id?`${l.accent} text-white border-transparent shadow-lg shadow-indigo-500/20`:`${l.surface} ${l.border} ${l.textPrimary}`} flex items-center justify-between transition-all hover:scale-105 active:scale-95`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`w-6 h-6 rounded-full border-2 border-white/20 ${ae.bg}`}),d.jsx("span",{className:"font-bold",children:ae.name})]}),n===ae.id&&d.jsx(Qa,{size:20})]},ae.id))})]}),p==="edit"&&d.jsxs("section",{className:"space-y-6 animate-slide-up",children:[d.jsxs("div",{className:`p-6 rounded-[2rem] ${l.surface} border ${l.border} hover:shadow-xl transition-all`,children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx(dc,{avatar:_||(r==null?void 0:r.avatar),name:(r==null?void 0:r.name)||"?",size:"xl"}),d.jsxs("div",{children:[d.jsx("h3",{className:`text-xl font-bold ${l.textPrimary}`,children:r==null?void 0:r.name}),d.jsxs("p",{className:`text-sm ${l.textSecondary}`,children:["@",r==null?void 0:r.username,"  ",r==null?void 0:r.role]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:`text-xs font-bold uppercase mb-2 block ${l.textSecondary}`,children:"Bio / Description"}),d.jsx("textarea",{value:y,onChange:ae=>x(ae.target.value),className:`w-full p-4 rounded-2xl bg-black/5 border ${l.border} ${l.textPrimary} outline-none focus:ring-2 focus:ring-indigo-500/50 transition-all`,placeholder:"Tell us about yourself...",rows:3})]}),d.jsxs("div",{className:"border-t border-white/10 pt-4",children:[d.jsx("h4",{className:`text-sm font-bold ${l.textPrimary} mb-4`,children:"Security Recovery"}),d.jsxs("div",{children:[d.jsx("label",{className:`text-xs font-bold uppercase mb-2 block ${l.textSecondary}`,children:"Security Question"}),d.jsx("input",{type:"text",value:I,onChange:ae=>B(ae.target.value),className:`w-full p-4 mb-4 rounded-2xl bg-black/5 border ${l.border} ${l.textPrimary} outline-none`,placeholder:"e.g. Favorite Pet"})]}),d.jsxs("div",{children:[d.jsx("label",{className:`text-xs font-bold uppercase mb-2 block ${l.textSecondary}`,children:"Security Answer"}),d.jsx("input",{type:"text",value:J,onChange:ae=>ce(ae.target.value),className:`w-full p-4 rounded-2xl bg-black/5 border ${l.border} ${l.textPrimary} outline-none`,placeholder:"Update Answer"})]})]}),d.jsx(bn,{fullWidth:!0,onClick:Tt,themeAccent:l.accent,disabled:ie,children:ie?"Saving...":"Save Profile Changes"})]})]}),d.jsxs("div",{className:"p-6 rounded-[2rem] bg-red-500/5 border border-red-500/20 transition-all hover:bg-red-500/10",children:[d.jsx("h3",{className:"font-bold text-red-500 mb-4",children:"Security"}),d.jsx(bn,{variant:"danger",fullWidth:!0,onClick:()=>g("password"),children:"Change Password"})]})]}),p==="password"&&d.jsx("section",{className:"animate-slide-up",children:d.jsxs("div",{className:`p-6 rounded-[2rem] ${l.surface} border ${l.border} space-y-4`,children:[d.jsx("h3",{className:`font-bold ${l.textPrimary} mb-4`,children:"Change Password"}),d.jsx("input",{type:"password",value:Ce,onChange:ae=>we(ae.target.value),placeholder:"Current Password",className:`w-full p-4 rounded-2xl bg-black/5 border ${l.border} ${l.textPrimary} outline-none`}),d.jsx("input",{type:"password",value:ue,onChange:ae=>Ve(ae.target.value),placeholder:"New Password",className:`w-full p-4 rounded-2xl bg-black/5 border ${l.border} ${l.textPrimary} outline-none`}),d.jsx("input",{type:"password",value:wt,onChange:ae=>nt(ae.target.value),placeholder:"Confirm New Password",className:`w-full p-4 rounded-2xl bg-black/5 border ${l.border} ${l.textPrimary} outline-none`}),d.jsxs("div",{className:"flex gap-2 mt-4",children:[d.jsx(bn,{variant:"secondary",onClick:()=>g("edit"),className:l.textPrimary,children:"Cancel"}),d.jsx(bn,{onClick:At,themeAccent:l.accent,disabled:ie,children:"Update Password"})]})]})}),d.jsx("div",{className:"mt-8",children:d.jsxs("button",{onClick:f,className:"w-full p-4 rounded-2xl bg-red-500 text-white font-bold shadow-lg shadow-red-500/30 hover:scale-[1.02] active:scale-95 transition-transform flex items-center justify-center gap-2",children:[d.jsx(Bb,{className:"rotate-180",size:20})," Logout"]})}),d.jsx("div",{className:"mt-8 text-center",children:d.jsx("p",{className:`text-[10px] ${l.textSecondary}`,children:"App Version 1.0.0  Professional Sync"})})]})})},PC=({isOpen:l,title:n,message:s,onConfirm:r,onCancel:c,theme:f})=>l?d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-fade-in p-6",children:d.jsxs("div",{className:`${f.surface} border ${f.border} w-full max-w-sm p-6 rounded-[2rem] shadow-2xl transform transition-all scale-100 flex flex-col gap-4`,children:[d.jsxs("div",{className:"flex flex-col items-center text-center gap-3",children:[d.jsx("div",{className:"p-4 rounded-full bg-red-500/10 text-red-500 mb-2",children:d.jsx(fc,{size:32})}),d.jsx("h3",{className:`text-xl font-bold ${f.textPrimary}`,children:n}),d.jsx("p",{className:`text-sm ${f.textSecondary} leading-relaxed`,children:s})]}),d.jsxs("div",{className:"flex gap-3 mt-2",children:[d.jsx("button",{onClick:c,className:`flex-1 py-3.5 rounded-xl font-bold border ${f.border} ${f.textPrimary} hover:opacity-70 transition-opacity`,children:"Cancel"}),d.jsx("button",{onClick:r,className:"flex-1 py-3.5 rounded-xl font-bold bg-red-500 text-white shadow-lg shadow-red-500/30 hover:bg-red-600 transition-colors",children:"Confirm"})]})]})}):null,KC=({message:l,type:n,onClose:s})=>($.useEffect(()=>{const r=setTimeout(()=>{s()},3e3);return()=>clearTimeout(r)},[]),d.jsxs("div",{className:`fixed top-6 left-1/2 -translate-x-1/2 z-[200] flex items-center gap-3 px-6 py-3 rounded-full shadow-2xl animate-slide-up ${n==="success"?"bg-emerald-500 text-white":"bg-red-500 text-white"}`,children:[n==="success"?d.jsx(Qa,{size:20}):d.jsx(fc,{size:20}),d.jsx("span",{className:"font-bold text-sm",children:l})]})),ZC=()=>d.jsxs("div",{className:"fixed inset-0 z-[150] flex flex-col items-center justify-center bg-slate-950",children:[d.jsxs("div",{className:"flex gap-3 mb-8",children:[d.jsx("div",{className:"w-4 h-4 bg-indigo-500 rounded-full animate-bounce [animation-delay:-0.3s]"}),d.jsx("div",{className:"w-4 h-4 bg-purple-500 rounded-full animate-bounce [animation-delay:-0.15s]"}),d.jsx("div",{className:"w-4 h-4 bg-pink-500 rounded-full animate-bounce"})]}),d.jsx("div",{className:"absolute bottom-10 text-xs font-mono text-slate-600 uppercase tracking-widest animate-pulse",children:"System Loading"})]}),JC=({onFinish:l,logo:n})=>{const[s,r]=$.useState(!1),[c,f]=$.useState(!1);return $.useEffect(()=>{r(!0);const h=setTimeout(()=>f(!0),800),p=setTimeout(()=>l(),1200);return()=>{clearTimeout(h),clearTimeout(p)}},[]),d.jsxs("div",{className:`fixed inset-0 z-[100] flex flex-col items-center justify-center bg-slate-950 text-white overflow-hidden transition-opacity duration-700 ease-in-out ${c?"opacity-0":"opacity-100"}`,children:[d.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_50%,_rgba(79,70,229,0.15),transparent_70%)] animate-pulse"}),d.jsx("div",{className:`absolute w-96 h-96 bg-indigo-500/10 rounded-full blur-[100px] transition-all duration-1000 ${s?"scale-100 opacity-100":"scale-0 opacity-0"}`}),d.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center",children:[d.jsxs("div",{className:`relative mb-8 transition-all duration-1000 cubic-bezier(0.34, 1.56, 0.64, 1) ${s?"scale-100 opacity-100 translate-y-0":"scale-0 opacity-0 translate-y-20"}`,children:[d.jsx("div",{className:"absolute inset-0 -m-6 border border-indigo-500/20 rounded-full animate-[spin_8s_linear_infinite]"}),d.jsx("div",{className:"absolute inset-0 -m-3 border border-t-indigo-400/50 border-r-transparent border-b-indigo-400/50 border-l-transparent rounded-full animate-[spin_3s_linear_infinite]"}),d.jsx("div",{className:"w-44 h-44 rounded-full bg-slate-900 flex items-center justify-center relative shadow-[0_0_60px_rgba(99,102,241,0.4)] border border-white/10 overflow-hidden",children:n&&n.length>10?d.jsx("img",{src:n,alt:"Logo",className:"w-full h-full object-cover animate-fade-in"}):d.jsx(Vo,{size:88,className:"text-indigo-400 drop-shadow-md"})})]}),d.jsxs("div",{className:`text-center transition-all duration-700 delay-300 ${s?"opacity-100":"opacity-0"}`,children:[d.jsxs("h1",{className:"text-4xl md:text-5xl font-black tracking-tighter text-white mb-2",children:["I.J Education ",d.jsx("span",{className:"text-indigo-500",children:"System"})]}),d.jsxs("div",{className:"flex items-center justify-center gap-3",children:[d.jsx("div",{className:"h-[1px] w-8 bg-indigo-500/20"}),d.jsx("span",{className:"text-[10px] font-bold uppercase tracking-[0.4em] text-indigo-400 opacity-40",children:"ClassTrack Pro 1.0"}),d.jsx("div",{className:"h-[1px] w-8 bg-indigo-500/20"})]})]})]}),d.jsxs("div",{className:"absolute bottom-16 w-64 md:w-80",children:[d.jsx("div",{className:"h-1.5 w-full bg-slate-800 rounded-full overflow-hidden",children:d.jsx("div",{className:`h-full bg-gradient-to-r from-indigo-600 via-purple-500 to-indigo-600 rounded-full transition-all duration-[4000ms] ease-out ${s?"w-full":"w-0"}`})}),d.jsxs("div",{className:`flex justify-between mt-2 text-[10px] font-mono text-slate-500 uppercase tracking-wider transition-opacity duration-500 delay-700 ${s?"opacity-100":"opacity-0"}`,children:[d.jsx("span",{children:"Initializing..."}),d.jsx("span",{children:"v1.0"})]})]})]})};class WC extends ny.Component{constructor(n){super(n),this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,s){console.error("Uncaught error:",n,s)}render(){return this.state.hasError?d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-slate-950 text-white p-6 text-center",children:[d.jsx(fc,{size:64,className:"text-red-500 mb-6 animate-bounce"}),d.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Something went wrong."}),d.jsx("p",{className:"text-slate-400 mb-8 max-w-md",children:"The application encountered an unexpected error. Please restart the app."}),d.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 rounded-xl bg-indigo-600 font-bold hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-500/30",children:"Restart Application"})]}):this.props.children}}function ew(){return d.jsx(WC,{children:d.jsx(tw,{})})}function tw(){const[l,n]=$.useState(!0),[s,r]=$.useState(!1),[c,f]=$.useState(!0),[h,p]=$.useState("midnight"),[g,y]=$.useState(null),[x,_]=$.useState("login"),[N,I]=$.useState(null),[B,J]=$.useState(()=>TC()||""),[ce,Ce]=$.useState([]),[we,ue]=$.useState(""),[Ve]=$.useState(()=>new Date().toLocaleDateString("en-CA")),[wt,nt]=$.useState(new Date),[ie,Le]=$.useState([]),[Tt,At]=$.useState([]),[ae,re]=$.useState({}),[Ue,qt]=$.useState(null),[ln,R]=$.useState([]),[Y,ne]=$.useState([]),[ze,He]=$.useState("history"),[C,L]=$.useState(!1),[G,Q]=$.useState(""),[W,pe]=$.useState(navigator.onLine),[je,De]=$.useState(!1),[Xe,Gn]=$.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),[_i,zl]=$.useState(null),[En,fn]=$.useState(null),[Hs,ll]=$.useState("dashboard"),[jt,Ll]=$.useState("10"),[zn,Ul]=$.useState(new Date),[Xt,br]=$.useState(null),Is=$.useRef(null),[bt,Cc]=$.useState(()=>new Date().toISOString().slice(0,7)),[Vn,Bs]=$.useState({}),[Qn,Hl]=$.useState({}),[Dt,$s]=$.useState("10"),[sl,Cn]=$.useState([]),[Ht,wn]=$.useState(""),[gt,Sr]=$.useState(0),qs=$.useMemo(()=>{const w={};if(N&&ie.length>0){const H=Y.filter(z=>z.classId===N);ie.forEach(z=>{const X=H.filter(V=>V.records&&V.records[z.id]!==void 0);if(X.length===0)w[z.id]=100;else{const V=X.filter(P=>{const K=P.records[z.id];return K==="present"||K===!0}).length;w[z.id]=Math.round(V/X.length*100)}})}if(sl.length>0){const H=Y.filter(z=>z.classId===Dt);sl.forEach(z=>{if(!w[z.id]){const X=H.filter(V=>V.records&&V.records[z.id]!==void 0);if(X.length===0)w[z.id]=100;else{const V=X.filter(P=>{const K=P.records[z.id];return K==="present"||K===!0}).length;w[z.id]=Math.round(V/X.length*100)}}})}return w},[N,Y,ie,sl,Dt]),wc=$.useMemo(()=>{const w=zn.getMonth(),H=zn.getFullYear(),z=Y.filter(it=>{const An=new Date(it.date);return it.classId===jt&&An.getMonth()===w&&An.getFullYear()===H}),X=Xt?z.filter(it=>new Date(it.date).getDate()===Xt):z;let V=0,P=0,K=0;X.forEach(it=>{Object.values(it.records).forEach(An=>{An==="present"||An===!0?V++:An==="leave"?K++:P++})});const ge=V+P+K,fe=ge>0?V/ge*100:0,ee=ge>0?`conic-gradient(#10b981 0% ${fe}%, #f97316 ${fe}% ${fe+K/ge*100}%, #ef4444 ${fe+K/ge*100}% 100%)`:"conic-gradient(#334155 0% 100%)";return{totalPresent:V,totalAbsent:P,totalLeave:K,totalMarks:ge,presentPercentage:fe,gradientStyle:ee}},[jt,zn,Xt,Y]),[al,Ft]=$.useState("0"),[xi,Yt]=$.useState(""),[Xn,Ln]=$.useState(null),[Il,Ys]=$.useState(""),[rl,bi]=$.useState(""),b=tf[h],Nr=["group-chat"].includes(x);$.useEffect(()=>{["midnight","forest","crimson","neon"].includes(h)?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[h]);const Bl=(w,H,z)=>{Gn({isOpen:!0,title:w,message:H,onConfirm:()=>{z(),Gn(X=>({...X,isOpen:!1}))}})},We=(w,H)=>{zl({message:w,type:H})};$.useEffect(()=>{(async()=>{const X=new Promise(K=>setTimeout(K,3e3)),V=IC();tf[V]&&p(V);const P=CC();P&&y(P);try{const K=await uc(),ge=await AC(),fe=await Va();if(Ce(K),K.length>0){Ll(K[0]),$s(K[0]);const ee=await $t(K[0]);At(ee),Cn(ee),Le(ee)}if(ge&&(ge.logo&&J(ge.logo),ge.classFees?Hl(ge.classFees):ge.defaultFee&&Hl({10:ge.defaultFee})),ne(fe.sort((ee,it)=>it.timestamp-ee.timestamp)),K.length===0){const ee=await uc();ee.length>0&&Ce(ee)}navigator.onLine&&xC()}catch(K){console.error("Initialization error:",K)}await X,r(!0),n(!1)})();const H=()=>{pe(navigator.onLine)};window.addEventListener("online",H),window.addEventListener("offline",H);const z=setInterval(()=>nt(new Date),1e3);return()=>{clearInterval(z),window.removeEventListener("online",H),window.removeEventListener("offline",H)}},[]),$.useEffect(()=>{let w;const H=async()=>{const z=J0();Sr(z),navigator.onLine&&z>0&&(await YC(X=>{wn(X),setTimeout(()=>wn(""),3e3)}),Sr(J0()),x==="dashboard"&&N&&$t(N).then(Le),x==="admin-dashboard"&&$t(jt).then(At),Va().then(ne))};return W&&(H(),w=setInterval(H,3e4)),()=>{w&&clearInterval(w)}},[W,x,N,jt]);const Gs=$.useCallback(()=>{f(!1),_(g?"home":"login")},[g]),Vs=w=>{y(w),Nf(w),_("home")},Qs=()=>{wC(),y(null),_("login")},Er=w=>{p(w),BC(w)};$.useEffect(()=>{(x==="admin-dashboard"||x==="admin-menu")&&$t(jt).then(At)},[x,jt]),$.useEffect(()=>{(x==="admin-fees"||x==="student-directory")&&$t(Dt).then(Cn)},[x,Dt]),$.useEffect(()=>{x==="dashboard"&&N&&$t(N).then(Le)},[x,N]);const Un=async w=>{De(!0);try{I(w);const H=await LC(Ve,w),z=await $t(w);if(Le(z),H)re(H.records);else{const X={};z.forEach(V=>X[V.id]="present"),re(X)}_("dashboard")}catch(H){console.error("Error loading class",H)}finally{De(!1)}},yt=async()=>{De(!0);try{const w=await Va();ne(w.sort((H,z)=>z.timestamp-H.timestamp)),_("history")}finally{De(!1)}},It=w=>{navigator.vibrate&&navigator.vibrate(10),re(H=>{const z=H[w];let X;return z==="present"||z===!0?X="absent":z==="absent"||z===!1?X="leave":X="present",{...H,[w]:X}})},Fn=w=>{const H={};ie.forEach(z=>H[z.id]=w?"present":"absent"),re(H),navigator.vibrate&&navigator.vibrate(20)},Xs=async()=>{if(N){De(!0);try{const w={id:`${Ve}-${N}`,date:Ve,classId:N,timestamp:Date.now(),records:ae};await kC(w);const H=await Va();ne(H.sort((z,X)=>X.timestamp-z.timestamp)),navigator.vibrate&&navigator.vibrate([30,50,30]),We(W?"Synced to Cloud Database!":"Saved Offline! Syncing when Online.","success"),_("dashboard")}catch{We("Failed to save. Action queued.","error"),_("dashboard")}finally{De(!1)}}},Tc=async()=>{var z,X;let w=N;if(x==="admin-dashboard"&&(w=jt),(x==="student-directory"||x==="admin-fees")&&(w=Dt),!G.trim()||!w)return;const H=G.split(`
`).filter(V=>V.trim().length>0);De(!0);try{for(const P of H){const K=P.split(","),ge=(z=K[0])==null?void 0:z.trim(),fe=(X=K[1])==null?void 0:X.trim();ge&&await DC(ge,w,fe)}Q(""),L(!1),We(W?"Sync Successful!":"Added Locally! Syncing soon...","success"),(()=>{x==="student-directory"||x==="admin-fees"?$t(Dt).then(Cn):x==="admin-dashboard"?$t(jt).then(At):N&&$t(N).then(Le)})()}catch{We("Action queued for sync.","error")}finally{De(!1)}},Ac=async(w,H)=>{w.stopPropagation(),Bl("Delete Student?","Are you sure you want to permanently delete this student? This action cannot be undone.",async()=>{await RC(H),navigator.vibrate&&navigator.vibrate(50),We(W?"Student deleted":"Pending Deletion","success"),x==="admin-dashboard"&&$t(jt).then(At)})},Cr=async(w,H)=>{w.stopPropagation(),Bl("Delete Record?",`Delete attendance record for ${H.date} (Class ${H.classId})?`,async()=>{await zC(H.date,H.classId);const z=await Va();ne(z.sort((X,V)=>V.timestamp-X.timestamp)),We(W?"Record deleted":"Queued for deletion","success")})},ol=async(w,H="history")=>{De(!0);try{const z=await $t(w.classId);R(z),qt(w),He(H),_("history-detail")}finally{De(!1)}};$.useEffect(()=>{if(x==="history-detail"&&Ue){const w=jC(Ue.date,Ue.classId,H=>{H&&qt(H)});return()=>w()}},[x,Ue==null?void 0:Ue.id]);const Fs=async w=>{var X;const H=(X=w.target.files)==null?void 0:X[0];if(!H)return;const z=new FileReader;z.onloadend=async()=>{if(typeof z.result=="string"){const V=z.result;J(V),await ey({logo:V}),We("School Logo Updated Everywhere!","success")}},z.readAsDataURL(H)},Si=async w=>{const H=Vn[w.id],z=(H==null?void 0:H.isPaid)||!1,X=Qn[w.classId]||2e3,V=(H==null?void 0:H.amount)||w.customFee||X,P={id:`${bt}_${w.id}`,studentId:w.id,month:bt,amount:V,isPaid:!z,paidAt:z?void 0:Date.now()};Bs(K=>({...K,[w.id]:P}));try{z?await HC(bt,w.id):(await UC(P),navigator.vibrate&&navigator.vibrate(20))}catch{We("Failed to update fee status","error"),Bs(ge=>({...ge,[w.id]:H}))}},Ni=async(w,H)=>{try{await OC(w,H),Cn(z=>z.map(X=>X.id===w?{...X,customFee:H}:X)),We("Custom fee updated","success")}catch{We("Failed to update custom fee","error")}},cl=async w=>{try{const H={...Qn,[Dt]:w};Hl(H),await ey({classFees:H}),We(`Default Fee for Class ${Dt} Updated`,"success")}catch{We("Failed to save settings","error")}},Ei=async()=>{if(we.trim()){De(!0);try{const w=await $C(we.trim());Ce(w),ue(""),We(`Class ${we} added!`,"success")}catch(w){We(w.message||"Failed to add class","error")}finally{De(!1)}}},ut=async w=>{Bl("Delete Class?",`Are you sure you want to delete Class ${w}? This will NOT delete student data but will hide the class.`,async()=>{De(!0);try{const H=await qC(w);Ce(H),jt===w&&H.length>0&&Ll(H[0]),We(`Class ${w} removed`,"success")}catch{We("Failed to remove class","error")}finally{De(!1)}})},Ps=w=>{Ln(w),Ys(w.name),bi(w.phone||"")},wr=async()=>{if(!(!Xn||!Il.trim())){De(!0);try{await MC(Xn.id,{name:Il.trim(),phone:rl.trim()}),We("Student Updated!","success"),En&&En.id===Xn.id&&fn({...En,name:Il.trim(),phone:rl.trim()}),Ln(null),x==="student-directory"||x==="admin-fees"?$t(Dt).then(Cn):x==="admin-dashboard"?$t(jt).then(At):N&&$t(N).then(Le),x==="student-profile"&&En&&$t(En.classId).then(Le)}catch{We("Update failed","error")}finally{De(!1)}}},St=w=>{if(w==="C"){Ft("0"),Yt("");return}if(w==="="){try{const z=Function('"use strict";return ('+xi+")")();Ft(String(z)),Yt(String(z))}catch{Ft("Error"),Yt("")}return}const H=["+","-","*","/"].includes(w);if(al==="0"&&!H)Ft(w),Yt(w);else{if(H)Ft(w);else{const z=xi.slice(-1);["+","-","*","/"].includes(z)?Ft(w):Ft(X=>X+w)}Yt(z=>z+w)}},Ci=()=>d.jsx("div",{className:"flex flex-col h-full animate-fade-in px-6 pt-12 pb-32 w-full max-w-7xl mx-auto items-center justify-center",children:d.jsxs("div",{className:"w-full",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h1",{className:`text-4xl font-black ${b.textPrimary} mb-2`,children:"Admin Center"}),d.jsx("p",{className:`${b.textSecondary}`,children:"Secure management & oversight panel"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("button",{onClick:()=>_("admin-dashboard"),className:`p-8 rounded-[2.5rem] ${b.surface} border ${b.border} shadow-xl hover:scale-[1.02] active:scale-95 transition-all group text-left relative overflow-hidden flex flex-col items-start`,children:[d.jsx("div",{className:"p-5 rounded-3xl bg-blue-500/10 text-blue-500 mb-6 group-hover:bg-blue-500 group-hover:text-white transition-colors",children:d.jsx($o,{size:32})}),d.jsx("h3",{className:`text-2xl font-black ${b.textPrimary} mb-2`,children:"Registry"}),d.jsx("p",{className:`text-sm ${b.textSecondary} leading-relaxed`,children:"Manage students, classes, and detailed attendance analytics."}),d.jsxs("div",{className:"mt-8 flex items-center gap-2 text-blue-500 font-bold text-xs uppercase tracking-widest",children:["Open Registry ",d.jsx(Ia,{size:16})]})]}),d.jsxs("button",{onClick:()=>_("admin-fees"),className:`p-8 rounded-[2.5rem] ${b.surface} border ${b.border} shadow-xl hover:scale-[1.02] active:scale-95 transition-all group text-left relative overflow-hidden flex flex-col items-start`,children:[d.jsx("div",{className:"p-5 rounded-3xl bg-emerald-500/10 text-emerald-500 mb-6 group-hover:bg-emerald-500 group-hover:text-white transition-colors",children:d.jsx(n0,{size:32})}),d.jsx("h3",{className:`text-2xl font-black ${b.textPrimary} mb-2`,children:"Fees Desk"}),d.jsx("p",{className:`text-sm ${b.textSecondary} leading-relaxed`,children:"Track monthly payments, generate reports, and manage dues."}),d.jsxs("div",{className:"mt-8 flex items-center gap-2 text-emerald-500 font-bold text-xs uppercase tracking-widest",children:["Check Payments ",d.jsx(Ia,{size:16})]})]}),d.jsxs("button",{onClick:()=>_("student-directory"),className:`p-8 rounded-[2.5rem] ${b.surface} border ${b.border} shadow-xl hover:scale-[1.02] active:scale-95 transition-all group text-left relative overflow-hidden flex flex-col items-start`,children:[d.jsx("div",{className:"p-5 rounded-3xl bg-purple-500/10 text-purple-500 mb-6 group-hover:bg-purple-500 group-hover:text-white transition-colors",children:d.jsx(Eb,{size:32})}),d.jsx("h3",{className:`text-2xl font-black ${b.textPrimary} mb-2`,children:"Contacts"}),d.jsx("p",{className:`text-sm ${b.textSecondary} leading-relaxed`,children:"Quick access Student Directory with contact verification."}),d.jsxs("div",{className:"mt-8 flex items-center gap-2 text-purple-500 font-bold text-xs uppercase tracking-widest",children:["View Directory ",d.jsx(Ia,{size:16})]})]})]}),d.jsx("div",{className:"mt-12 text-center",children:d.jsx("button",{onClick:()=>_("home"),className:`px-8 py-4 rounded-2xl bg-black/5 hover:bg-black/10 ${b.textSecondary} font-black text-xs uppercase tracking-[0.2em] transition-all`,children:"Return to Workspace"})})]})}),jc=()=>{let w=0,H=0,z=0;const X=[...sl].sort((V,P)=>{var fe,ee;const K=((fe=Vn[V.id])==null?void 0:fe.isPaid)||!1,ge=((ee=Vn[P.id])==null?void 0:ee.isPaid)||!1;return K===ge?V.name.localeCompare(P.name):K?1:-1});return X.forEach(V=>{const P=Vn[V.id];P!=null&&P.isPaid?(w+=P.amount,H++):z++}),d.jsx("div",{className:"flex flex-col h-full animate-fade-in px-6 pt-12 pb-32 overflow-y-auto w-full",children:d.jsxs("div",{className:"max-w-7xl mx-auto w-full",children:[d.jsxs("div",{className:"mb-6 flex flex-col gap-4",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h1",{className:`text-3xl font-extrabold ${b.textPrimary}`,children:"Fees Manager"}),d.jsx("p",{className:`${b.textSecondary}`,children:"Track & Manage Payments"})]}),d.jsx("button",{onClick:()=>_("admin-menu"),className:`p-2 rounded-full hover:bg-black/5 ${b.textPrimary}`,children:d.jsx(Ba,{size:24})})]}),d.jsx("input",{type:"month",value:bt,onChange:V=>Cc(V.target.value),className:`w-full md:w-auto p-3 rounded-xl ${b.surface} border ${b.border} ${b.textPrimary} font-bold outline-none`}),d.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:ce.map(V=>d.jsxs("button",{onClick:()=>$s(V),className:`px-5 py-2.5 rounded-xl font-bold transition-all whitespace-nowrap shadow-sm ${Dt===V?`${b.accent} text-white shadow-lg scale-105`:`${b.surface} border ${b.border} ${b.textPrimary} hover:bg-white/5`}`,children:["Class ",V]},V))})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[d.jsxs("div",{className:"p-6 rounded-[2rem] bg-emerald-500 text-white shadow-xl shadow-emerald-500/20",children:[d.jsx("p",{className:"text-emerald-100 text-xs font-bold uppercase tracking-wider mb-1",children:"Total Collected"}),d.jsxs("h3",{className:"text-3xl font-black",children:["PKR ",w.toLocaleString()]})]}),d.jsxs("div",{className:`p-6 rounded-[2rem] ${b.surface} border ${b.border} flex items-center justify-between`,children:[d.jsxs("div",{children:[d.jsx("p",{className:`text-xs font-bold uppercase tracking-wider ${b.textSecondary} mb-1`,children:"Paid Students"}),d.jsx("h3",{className:`text-3xl font-black ${b.textPrimary}`,children:H})]}),d.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-500/10 text-emerald-500 flex items-center justify-center",children:d.jsx(Qa,{size:24})})]}),d.jsxs("div",{className:`p-6 rounded-[2rem] ${b.surface} border ${b.border} flex items-center justify-between`,children:[d.jsxs("div",{children:[d.jsx("p",{className:`text-xs font-bold uppercase tracking-wider ${b.textSecondary} mb-1`,children:"Unpaid / Due"}),d.jsx("h3",{className:`text-3xl font-black ${b.textPrimary}`,children:z})]}),d.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/10 text-red-500 flex items-center justify-center",children:d.jsx(fc,{size:24})})]})]}),d.jsxs("div",{className:`p-6 rounded-[2rem] ${b.surface} border ${b.border} mb-8 flex items-center justify-between gap-4`,children:[d.jsxs("div",{children:[d.jsx("h4",{className:`font-bold ${b.textPrimary}`,children:"Default Class Fee"}),d.jsx("p",{className:`text-xs ${b.textSecondary}`,children:"Applies to all students unless overridden"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:`${b.textSecondary} font-bold`,children:"PKR"}),d.jsx("input",{type:"number",value:Qn[Dt]||2e3,onChange:V=>{const P=Number(V.target.value);Hl(K=>({...K,[Dt]:P}))},onBlur:V=>cl(Number(V.target.value)),className:`w-24 p-2 rounded-lg bg-black/5 border ${b.border} ${b.textPrimary} font-bold outline-none text-right`})]})]}),d.jsx("div",{className:"space-y-3",children:s?X.length===0?d.jsx("div",{className:"text-center py-12 opacity-50",children:d.jsxs("p",{children:["No students found in Class ",Dt]})}):X.map(V=>{const P=Vn[V.id],K=(P==null?void 0:P.isPaid)||!1,ge=Qn[V.classId]||2e3,fe=V.customFee||ge;return d.jsx("div",{className:`p-4 rounded-2xl border transition-all ${K?`${b.surface} ${b.border} opacity-60`:`${b.surface} border-red-500/30 shadow-lg shadow-red-500/5`}`,children:d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(dc,{name:V.name,avatar:V.avatarSeed,size:"md"}),d.jsxs("div",{children:[d.jsx("h3",{className:`font-bold ${b.textPrimary}`,children:V.name}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("p",{className:`text-[10px] ${b.textSecondary}`,children:["Class ",V.classId]}),V.phone&&d.jsxs("p",{className:"text-[10px] text-indigo-400 font-bold",children:[" ",V.phone]})]})]})]}),d.jsxs("div",{className:"flex items-center justify-between md:justify-end gap-4 w-full md:w-auto",children:[d.jsxs("div",{className:"flex flex-col items-end",children:[d.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-400",children:"Fee Amount"}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"text-xs text-slate-400",children:"PKR"}),d.jsx("input",{type:"number",defaultValue:fe,onBlur:ee=>{const it=Number(ee.target.value);it!==fe&&Ni(V.id,it)},className:`w-20 bg-transparent border-b border-dashed border-slate-500 text-right font-mono font-bold ${b.textPrimary} outline-none focus:border-indigo-500`})]})]}),d.jsxs("button",{onClick:()=>Si(V),className:`px-6 py-3 rounded-xl font-bold flex items-center gap-2 transition-all active:scale-95 ${K?"bg-green-500/10 text-green-600":"bg-red-500 text-white shadow-lg shadow-red-500/30"}`,children:[K?d.jsx(Qa,{size:18}):d.jsx(Bo,{size:18}),K?"PAID":"UNPAID"]})]})]})},V.id)}):[1,2,3,4,5].map(V=>d.jsx("div",{className:`p-6 rounded-2xl ${b.surface} border ${b.border} animate-pulse h-20`},V))})]})})},Tr=()=>{const{totalPresent:w,totalAbsent:H,totalLeave:z,totalMarks:X,presentPercentage:V,gradientStyle:P}=wc,K=zn.getFullYear(),ge=zn.getMonth(),fe=new Date(K,ge+1,0).getDate();return d.jsx("div",{className:"flex flex-col h-full animate-fade-in px-6 pt-20 pb-32 overflow-y-auto w-full",children:d.jsxs("div",{className:"max-w-7xl mx-auto w-full",children:[d.jsx("div",{className:"mb-6 flex flex-col gap-4",children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h1",{className:`text-4xl font-extrabold ${b.textPrimary} drop-shadow-md`,children:"Admin Console"}),d.jsx("p",{className:`${b.textSecondary} text-sm font-medium tracking-wide`,children:"Overview & Management"})]}),d.jsx("button",{onClick:()=>_("home"),className:`p-3 rounded-full hover:bg-black/10 ${b.textPrimary} transition-colors`,children:d.jsx(Ba,{size:28})})]})}),d.jsxs("div",{className:`p-6 rounded-[2.5rem] ${b.surface} border ${b.border} mb-8 shadow-xl backdrop-blur-sm`,children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6 border-b border-white/5 pb-4",children:[" ",d.jsx("div",{className:"p-2 bg-orange-500/10 rounded-xl",children:d.jsx(ay,{className:"text-orange-500",size:24})})," ",d.jsx("h3",{className:`font-bold text-xl ${b.textPrimary}`,children:"School Settings"})," "]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"flex items-center gap-6 p-4 rounded-3xl bg-black/5 border border-white/5 hover:border-white/10 transition-colors",children:[d.jsxs("div",{className:`w-28 h-28 rounded-full border-4 border-dashed ${b.border} flex items-center justify-center cursor-pointer hover:bg-white/5 overflow-hidden relative group transition-all shadow-inner`,onClick:()=>{var ee;return(ee=Is.current)==null?void 0:ee.click()},children:[" ",B?d.jsx("img",{src:B,className:"w-full h-full object-cover"}):d.jsxs("div",{className:"text-center",children:[d.jsx(a1,{size:32,className:"mx-auto mb-2 opacity-50"}),d.jsx("span",{className:"text-[10px] opacity-50 uppercase tracking-widest font-bold",children:"Upload"})]})," ",d.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity backdrop-blur-sm",children:d.jsx(qd,{className:"text-white",size:24})})," "]}),d.jsx("input",{type:"file",ref:Is,className:"hidden",accept:"image/*",onChange:Fs}),d.jsxs("div",{children:[" ",d.jsx("h4",{className:`text-lg font-bold ${b.textPrimary}`,children:"School Logo"})," ",d.jsx("p",{className:`text-xs ${b.textSecondary} mb-3`,children:"Required: 512x512 PNG"})," ",d.jsx("button",{onClick:()=>{var ee;return(ee=Is.current)==null?void 0:ee.click()},className:`px-4 py-2 bg-white/10 hover:bg-white/20 rounded-xl text-xs font-bold transition-colors ${b.textPrimary} border border-white/10`,children:"Change Logo"})," "]})]}),d.jsxs("div",{className:`p-6 rounded-3xl bg-black/5 border ${b.border}`,children:[d.jsx("h4",{className:`text-sm font-bold ${b.textPrimary} mb-4 uppercase tracking-widest opacity-80`,children:"Manage Classes"}),d.jsxs("div",{className:"flex gap-2 mb-4",children:[d.jsx("input",{type:"text",value:we,onChange:ee=>ue(ee.target.value),placeholder:"New Class...",className:`flex-1 px-4 py-3 rounded-xl bg-white/5 border ${b.border} ${b.textPrimary} text-sm outline-none focus:ring-2 focus:ring-indigo-500/50 transition-all`}),d.jsx("button",{onClick:Ei,disabled:!we.trim(),className:`px-4 py-2 rounded-xl ${b.accent} text-white font-bold text-sm shadow-lg shadow-indigo-500/20 disabled:opacity-50 hover:scale-105 active:scale-95 transition-all`,children:"Add Class"})]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:ce.map(ee=>d.jsxs("div",{className:`px-3 py-1.5 rounded-lg border ${b.border} ${b.surface} flex items-center gap-2`,children:[d.jsx("span",{className:`text-xs font-bold ${b.textPrimary}`,children:ee}),d.jsx("button",{onClick:()=>ut(ee),className:"text-red-400 hover:text-red-500",children:d.jsx(Ba,{size:12})})]},ee))})]})]})]}),d.jsxs("div",{className:`p-6 rounded-[2rem] ${b.surface} border ${b.border} mb-8 shadow-inner bg-black/5`,children:[d.jsx("p",{className:`text-[10px] font-black uppercase tracking-[0.2em] mb-4 ${b.textSecondary} text-center opacity-70`,children:"Select Class to View Analytics"}),d.jsx("div",{className:"flex gap-3 overflow-x-auto pb-4 scrollbar-hide justify-center",children:ce.map(ee=>d.jsxs("button",{onClick:()=>Ll(ee),className:`px-6 py-3 rounded-2xl font-bold transition-all whitespace-nowrap shadow-md ${jt===ee?`${b.accent} text-white ring-4 ring-white/10 z-10 border-transparent`:`${b.surface} border ${b.border} ${b.textPrimary} hover:bg-white/10`}`,children:["Class ",ee]},ee))})]}),d.jsxs("div",{className:`p-6 rounded-[2rem] ${b.surface} border ${b.border} mb-8`,children:[d.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"flex items-center gap-2",children:[" ",d.jsx($d,{className:"text-emerald-500"})," ",d.jsx("h3",{className:`font-bold ${b.textPrimary}`,children:"Performance Overview"})," "]})}),d.jsxs("div",{className:"flex items-center justify-between bg-black/5 p-2 rounded-xl border border-white/5",children:[d.jsxs("button",{onClick:()=>Ul(new Date(K,ge-1,1)),className:`p-2 rounded-lg hover:bg-black/10 ${b.textPrimary}`,children:[" ",d.jsx(fi,{size:16})," "]}),d.jsxs("span",{className:`text-sm font-bold uppercase tracking-wider ${b.textPrimary}`,children:[" ",zn.toLocaleDateString("en-US",{month:"long",year:"numeric"})," "]}),d.jsxs("button",{onClick:()=>Ul(new Date(K,ge+1,1)),disabled:new Date(K,ge+1,1)>new Date,className:`p-2 rounded-lg hover:bg-black/10 ${b.textPrimary} disabled:opacity-30`,children:[" ",d.jsx(Ia,{size:16})," "]})]}),d.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide border-b border-white/5 pb-4",children:[d.jsx("button",{onClick:()=>br(null),className:`px-4 py-1.5 rounded-lg text-xs font-bold whitespace-nowrap transition-all ${Xt===null?`${b.accent} text-white shadow-md`:`bg-black/5 ${b.textPrimary} hover:bg-black/10`}`,children:" All Month "}),Array.from({length:fe},(ee,it)=>it+1).map(ee=>d.jsxs("button",{onClick:()=>br(ee),className:`w-8 h-8 rounded-lg text-xs font-bold flex items-center justify-center shrink-0 transition-all ${Xt===ee?`${b.accent} text-white shadow-md`:`bg-black/5 ${b.textPrimary} hover:bg-black/10`}`,children:[" ",ee," "]},ee))]})]}),d.jsx("div",{className:"w-full flex flex-col md:flex-row items-center justify-center gap-8 py-4",children:X===0?d.jsxs("div",{className:"h-48 flex items-center justify-center opacity-50 flex-col gap-2",children:[" ",d.jsx($d,{size:40})," ",d.jsxs("p",{className:"text-sm",children:["No data for ",Xt?`Day ${Xt}`:"this month"]})," "]}):d.jsxs(d.Fragment,{children:[" ",d.jsxs("div",{className:"relative w-56 h-56 rounded-full shadow-2xl flex items-center justify-center ring-4 ring-white/5",style:{background:P},children:[" ",d.jsxs("div",{className:`w-40 h-40 rounded-full ${b.surface} flex flex-col items-center justify-center shadow-inner`,children:[" ",d.jsxs("span",{className:`text-4xl font-black ${b.textPrimary}`,children:[Math.round(V),"%"]})," ",d.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest ${b.textSecondary}`,children:"Presence"})," "]})," "]})," ",d.jsxs("div",{className:"flex flex-col gap-3 min-w-[160px]",children:[" ",d.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-emerald-500/10 border border-emerald-500/20",children:[" ",d.jsx("div",{className:"w-4 h-4 rounded-full bg-emerald-500 shadow-sm ring-2 ring-emerald-500/30"})," ",d.jsxs("div",{children:[" ",d.jsx("p",{className:`text-sm font-bold ${b.textPrimary}`,children:"Present"})," ",d.jsxs("p",{className:`text-[10px] font-mono opacity-70 ${b.textPrimary}`,children:[" ",w," ",Xt?"Students":"Marks"," "]})," "]})," "]})," ",d.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-orange-500/10 border border-orange-500/20",children:[" ",d.jsx("div",{className:"w-4 h-4 rounded-full bg-orange-500 shadow-sm ring-2 ring-orange-500/30"})," ",d.jsxs("div",{children:[" ",d.jsx("p",{className:`text-sm font-bold ${b.textPrimary}`,children:"Leave"})," ",d.jsxs("p",{className:`text-[10px] font-mono opacity-70 ${b.textPrimary}`,children:[" ",z," ",Xt?"Students":"Marks"," "]})," "]})," "]})," ",d.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-red-500/10 border border-red-500/20",children:[" ",d.jsx("div",{className:"w-4 h-4 rounded-full bg-red-500 shadow-sm ring-2 ring-red-500/30"})," ",d.jsxs("div",{children:[" ",d.jsx("p",{className:`text-sm font-bold ${b.textPrimary}`,children:"Absent"})," ",d.jsxs("p",{className:`text-[10px] font-mono opacity-70 ${b.textPrimary}`,children:[" ",H," ",Xt?"Students":"Marks"," "]})," "]})," "]})," "]})," "]})})]}),d.jsxs("div",{className:`p-6 rounded-[2rem] ${b.surface} border ${b.border} mb-8`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[" ",d.jsx($o,{className:"text-blue-500"})," ",d.jsxs("h3",{className:`font-bold ${b.textPrimary}`,children:["Student Registry ",d.jsxs("span",{className:"opacity-50 text-sm ml-2 font-normal",children:["(Class ",jt,")"]})]})," "]}),d.jsxs("button",{onClick:()=>L(!0),className:`px-3 py-1.5 rounded-lg text-xs font-bold ${b.accent} text-white shadow-lg active:scale-95 transition-all flex items-center gap-1.5`,children:[" ",d.jsx(Kb,{size:14})," Add New "]})]}),d.jsx("div",{className:"max-h-96 overflow-y-auto pr-1",children:s?Tt.length===0?d.jsxs("div",{className:"text-center py-12 opacity-50",children:[d.jsxs("p",{className:"text-sm font-medium",children:["No students found in Class ",jt]}),d.jsx("p",{className:"text-xs mt-1",children:'Click "Add New" to get started'})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Tt.map((ee,it)=>d.jsxs("div",{onClick:()=>{fn(ee),ll("admin-dashboard"),_("student-profile")},className:`flex items-center justify-between p-3 rounded-xl border ${b.border} bg-black/5 cursor-pointer hover:bg-white/5 transition-colors`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center text-xs font-bold opacity-70",children:[" ",it+1," "]}),d.jsx("span",{className:`font-bold text-sm ${b.textPrimary}`,children:ee.name})]}),d.jsx("button",{onClick:An=>Ac(An,ee.id),className:"p-2 text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Delete Permanently",children:d.jsx(l0,{size:16})})]},ee.id))}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[1,2,4,5].map(ee=>d.jsx("div",{className:`h-14 rounded-xl border ${b.border} ${b.surface} animate-pulse`},ee))})})]})]})})},Ar=()=>{if(!En)return null;const w=En,H=qs[w.id]||0,z=Y.filter(fe=>fe.classId===w.classId),X=z.filter(fe=>fe.records&&(fe.records[w.id]==="present"||fe.records[w.id]===!0)).length,V=z.filter(fe=>fe.records&&(fe.records[w.id]==="absent"||fe.records[w.id]===!1)).length,P=z.filter(fe=>fe.records&&fe.records[w.id]==="leave").length,K=X+V+P,ge=K>0?`conic-gradient(#10b981 0% ${X/K*100}%, #f97316 ${X/K*100}% ${(X+P)/K*100}%, #ef4444 ${(X+P)/K*100}% 100%)`:"conic-gradient(#334155 0% 100%)";return d.jsx("div",{className:"flex flex-col h-full animate-fade-in px-6 pt-12 pb-32 overflow-y-auto w-full",children:d.jsxs("div",{className:"max-w-2xl mx-auto w-full",children:[d.jsx("button",{onClick:()=>_(Hs),className:`p-2 -ml-2 mb-4 rounded-full hover:bg-black/5 ${b.textPrimary}`,children:d.jsx(fi,{size:28})}),d.jsxs("div",{className:`p-8 rounded-[3rem] ${b.surface} border ${b.border} shadow-2xl mb-8 flex flex-col items-center text-center gap-6`,children:[d.jsxs("div",{className:"relative",children:[d.jsx(dc,{avatar:w.avatarSeed,name:w.name,size:"xl"}),d.jsx("div",{className:"absolute -bottom-2 -right-2 w-12 h-12 rounded-full bg-indigo-500 border-4 border-slate-900 flex items-center justify-center text-white shadow-lg",children:d.jsx(Vo,{size:20})})]}),d.jsxs("div",{children:[d.jsx("h2",{className:`text-4xl font-black ${b.textPrimary} tracking-tight mb-1`,children:w.name}),d.jsxs("p",{className:`${b.textSecondary} font-bold uppercase tracking-[0.2em] text-xs opacity-60 mb-4`,children:["Class ",w.classId,"  ROLL # ",w.id.slice(-4).toUpperCase()]}),d.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2 px-5 py-2.5 rounded-2xl bg-black/5 border border-white/5",children:[d.jsx(ef,{size:14,className:"text-indigo-400"}),d.jsx("span",{className:`text-sm font-mono ${b.textPrimary}`,children:w.phone||"No Number"})]}),d.jsxs("div",{className:`flex items-center gap-2 px-5 py-2.5 rounded-2xl ${H>75?"bg-emerald-500/10 border-emerald-500/20 text-emerald-500":"bg-orange-500/10 border-orange-500/20 text-orange-500"}`,children:[d.jsx(i1,{size:14}),d.jsxs("span",{className:"text-sm font-black",children:[H,"% Attendance"]})]})]})]})]}),d.jsxs("div",{className:`p-8 rounded-[3rem] ${b.surface} border ${b.border} shadow-xl mb-8`,children:[d.jsxs("h3",{className:`text-xl font-bold ${b.textPrimary} mb-8 flex items-center gap-3`,children:[d.jsx($d,{className:"text-indigo-400"}),"Attendance Distribution"]}),d.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-12",children:[d.jsx("div",{className:"relative w-52 h-52 rounded-full shadow-2xl flex items-center justify-center ring-4 ring-white/5",style:{background:ge},children:d.jsxs("div",{className:`w-36 h-36 rounded-full ${b.surface} flex flex-col items-center justify-center shadow-inner`,children:[d.jsxs("span",{className:`text-4xl font-black ${b.textPrimary}`,children:[H,"%"]}),d.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest ${b.textSecondary}`,children:"Presence"})]})}),d.jsxs("div",{className:"flex flex-col gap-4 min-w-[180px]",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-emerald-500/5 border border-emerald-500/10",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),d.jsx("span",{className:`text-sm font-bold ${b.textPrimary}`,children:"Present"})]}),d.jsx("span",{className:`text-sm font-mono ${b.textSecondary}`,children:X})]}),d.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-orange-500/5 border border-orange-500/10",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),d.jsx("span",{className:`text-sm font-bold ${b.textPrimary}`,children:"Leave"})]}),d.jsx("span",{className:`text-sm font-mono ${b.textSecondary}`,children:P})]}),d.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-red-500/5 border border-red-500/10",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),d.jsx("span",{className:`text-sm font-bold ${b.textPrimary}`,children:"Absent"})]}),d.jsx("span",{className:`text-sm font-mono ${b.textSecondary}`,children:V})]})]})]})]}),d.jsxs("button",{onClick:()=>{Ps(w)},className:`w-full p-5 rounded-[2.5rem] ${b.surface} border ${b.border} flex items-center justify-center gap-4 hover:bg-white/5 transition-all active:scale-95`,children:[d.jsx("div",{className:"p-3 rounded-2xl bg-indigo-500/10 text-indigo-500",children:d.jsx(qd,{size:22})}),d.jsx("span",{className:`text-sm font-black uppercase tracking-widest ${b.textPrimary}`,children:"Edit Student Info"})]})]})})},Dc=()=>d.jsx("div",{className:"flex flex-col h-full pt-12 animate-fade-in px-6 pb-32 overflow-y-auto w-full",children:d.jsxs("div",{className:"max-w-7xl mx-auto w-full",children:[d.jsxs("div",{className:"mb-10 flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("div",{className:`w-12 h-12 rounded-full overflow-hidden ${b.accent} flex items-center justify-center shadow-lg shadow-indigo-500/30 animate-pulse-slow`,children:B?d.jsx("img",{src:B,className:"w-full h-full object-cover"}):d.jsx(Vo,{size:28,className:"text-white"})}),d.jsx("h1",{className:`text-3xl md:text-4xl font-black ${b.textPrimary} tracking-tight`,children:"I.J Education System"})]}),d.jsxs("p",{className:`${b.textSecondary} text-base font-medium ml-1`,children:["Welcome, ",d.jsx("span",{className:"font-bold text-white",children:g==null?void 0:g.name})]})]}),d.jsxs("div",{className:"flex flex-col items-end gap-2",children:[d.jsxs("div",{onClick:()=>pe(!W),className:`flex items-center gap-2 text-[10px] uppercase font-bold px-4 py-2 rounded-full border glass cursor-pointer select-none transition-all ${W?"text-green-400 border-green-500/30":"text-orange-400 border-orange-500/30 shadow-lg shadow-orange-500/20"}`,children:[d.jsx("div",{className:`w-2 h-2 rounded-full ${W?"bg-green-500 animate-pulse":"bg-orange-500"}`}),W?"Online":"Simulated Offline"]}),gt>0&&d.jsxs("div",{className:"flex items-center gap-2 text-[9px] uppercase font-black text-orange-400 animate-bounce bg-orange-500/10 px-3 py-1 rounded-full border border-orange-500/20",children:[d.jsx(n0,{size:10})," ",gt," Pending Sync"]}),Ht&&d.jsxs("div",{className:"text-[9px] font-bold text-blue-400 animate-pulse bg-blue-500/10 px-3 py-1 rounded-full border border-blue-500/20",children:[d.jsx(sy,{size:10,className:"inline mr-1 animate-spin"})," ",Ht]})]})]}),d.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:ce.length===0?[1,2,3].map(w=>d.jsxs("div",{className:`h-40 rounded-[2.5rem] ${b.surface} border ${b.border} animate-pulse flex flex-col justify-between p-7`,children:[d.jsx("div",{className:"h-12 w-20 bg-white/5 rounded-2xl"}),d.jsx("div",{className:"h-6 w-32 bg-white/5 rounded-full"})]},w)):ce.map((w,H)=>{const z=["from-blue-600/80 to-indigo-700/80","from-violet-600/80 to-purple-700/80","from-fuchsia-600/80 to-pink-700/80","from-emerald-600/80 to-teal-700/80","from-rose-600/80 to-red-700/80","from-amber-500/80 to-orange-700/80"];return d.jsxs("div",{onClick:()=>Un(w),className:`group relative overflow-hidden h-40 rounded-[2.5rem] shadow-2xl transition-all duration-300 hover:scale-[1.03] active:scale-95 cursor-pointer bg-gradient-to-br ${z[H%z.length]} text-white border border-white/10 backdrop-blur-md`,children:[d.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10 mix-blend-overlay"}),d.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-20 transform rotate-12 group-hover:scale-110 group-hover:rotate-6 transition-all duration-500",children:d.jsx($o,{size:110})}),d.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-between p-7",children:[d.jsx("div",{children:d.jsxs("div",{className:"flex items-baseline gap-1",children:[d.jsx("h2",{className:"text-6xl font-black tracking-tighter drop-shadow-md",children:w}),d.jsx("span",{className:"text-xl font-medium opacity-90",children:"Class"})]})}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest opacity-90 bg-black/30 px-4 py-1.5 rounded-full backdrop-blur-md border border-white/10 group-hover:bg-white/20 transition-colors",children:"Open Dashboard"}),d.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center backdrop-blur-md group-hover:translate-x-2 group-hover:bg-white text-indigo-600 transition-all duration-300 shadow-lg",children:d.jsx(Ia,{size:20,strokeWidth:3})})]})]})]},w)})})]})}),$l=()=>{const w=ae&&ie?{total:ie.length,present:ie.filter(z=>ae[z.id]==="present"||ae[z.id]===!0).length}:{total:0,present:0},H=w.total>0?w.present/w.total*100:0;return d.jsxs("div",{className:"flex flex-col h-full animate-fade-in relative w-full",children:[d.jsxs("div",{className:"px-6 pt-12 pb-4 flex items-center justify-between",children:[d.jsx("button",{onClick:()=>_("home"),className:`p-3 -ml-2 rounded-full hover:bg-white/10 active:scale-90 transition-all duration-150 ${b.textPrimary}`,children:d.jsx(fi,{size:24})}),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsxs("div",{className:`px-4 py-1 rounded-full ${b.surface} border ${b.border} shadow-sm backdrop-blur-md flex items-center gap-2`,children:[!W&&d.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500"}),d.jsxs("h2",{className:`text-sm font-bold ${b.textPrimary} drop-shadow-sm`,children:[N,"th Grade"]})]}),gt>0&&d.jsx("span",{className:"text-[8px] font-black text-orange-400 uppercase mt-1",children:"Offline Data Ready"})]}),d.jsx("div",{className:"w-10 flex justify-end",children:!W&&d.jsx(a0,{size:18,className:"text-orange-400"})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto pb-32 px-6 scrollbar-hide w-full",children:d.jsxs("div",{className:"max-w-7xl mx-auto w-full",children:[d.jsxs("div",{className:"mb-6 text-center",children:[d.jsx("h3",{className:`text-5xl font-light ${b.textPrimary} neon-text tracking-tight animate-pulse-slow`,children:wt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),d.jsx("p",{className:`text-sm font-bold ${b.textSecondary} mt-2 uppercase tracking-[0.2em]`,children:new Date().toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[d.jsxs("div",{className:`lg:col-span-5 relative flex flex-col items-center justify-center p-8 rounded-3xl bg-black/20 border ${b.border} h-fit`,children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-indigo-500/5 via-purple-500/5 to-pink-500/5 opacity-30 rounded-3xl"}),d.jsx(GC,{percentage:H,size:180,colorStart:"#6366f1",colorEnd:"#d946ef"})]}),d.jsxs("div",{className:"lg:col-span-7 flex flex-col gap-6",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"p-6 rounded-3xl border border-white/5 text-center bg-white/5 transition-all group cursor-default",children:[d.jsx("span",{className:"block text-3xl font-black text-green-400 drop-shadow-sm",children:w.present}),d.jsx("span",{className:`text-[10px] font-bold uppercase opacity-80 ${b.textPrimary} tracking-widest`,children:"Present"})]}),d.jsxs("div",{className:"p-6 rounded-3xl border border-white/5 text-center bg-white/5 transition-all group cursor-default",children:[d.jsx("span",{className:"block text-3xl font-black text-red-400 drop-shadow-sm",children:w.total-w.present}),d.jsx("span",{className:`text-[10px] font-bold uppercase opacity-80 ${b.textPrimary} tracking-widest`,children:"Absent"})]})]}),d.jsxs(bn,{fullWidth:!0,onClick:()=>_("attendance"),themeAccent:b.accent,className:"shadow-xl py-5 text-lg rounded-2xl font-bold bg-indigo-600 hover:bg-indigo-700 transition-all border border-white/10",children:["Start Attendance ",d.jsx(ob,{size:20,className:"ml-2"})]}),d.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{id:"timetable",icon:Sb,color:"text-blue-400",bg:"bg-blue-500/20",label:"Time"},{id:"calculator",icon:ub,color:"text-orange-400",bg:"bg-orange-500/20",label:"Calc"}].map(z=>d.jsxs("button",{onClick:()=>_(z.id),className:"p-4 rounded-3xl border border-white/5 bg-white/5 flex flex-col items-center justify-center gap-3 hover:bg-white/10 active:scale-95 transition-all aspect-square",children:[d.jsx("div",{className:`p-3 rounded-2xl ${z.bg} ${z.color}`,children:d.jsx(z.icon,{size:28})}),d.jsx("span",{className:`text-[11px] font-bold ${b.textPrimary} tracking-wide`,children:z.label})]},z.id))})]})]})]})})]})},ql=()=>{const H=new Date().getDate()>10;return d.jsxs("div",{className:"flex flex-col h-full animate-slide-up bg-opacity-50 w-full",children:[d.jsxs("div",{className:`px-6 pt-12 pb-4 flex items-center justify-between z-20 ${b.surface} border-b ${b.border} backdrop-blur-md sticky top-0`,children:[d.jsx("button",{onClick:()=>_("dashboard"),className:`p-2 -ml-2 rounded-full hover:bg-black/5 ${b.textPrimary}`,children:d.jsx(fi,{})}),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[!W&&d.jsx(a0,{size:14,className:"text-orange-400"}),d.jsx("h2",{className:`text-lg font-bold ${b.textPrimary}`,children:"Daily Attendance"})]}),d.jsx("p",{className:`text-[10px] ${b.textSecondary} uppercase font-black`,children:gt>0?`${gt} Actions Pending`:`${ie.length} Students Ready`})]}),d.jsx("button",{onClick:Xs,className:`px-5 py-2 rounded-full ${b.accent} text-white text-sm font-bold shadow-lg shadow-indigo-500/30 active:scale-95 transition-all duration-150`,children:W?"Save":"Keep"})]}),d.jsxs("div",{className:`px-6 py-4 flex gap-4 ${b.bg}`,children:[d.jsxs("button",{onClick:()=>Fn(!0),className:"flex-1 py-3 rounded-2xl bg-green-500/10 text-green-600 text-[10px] font-black uppercase tracking-widest flex items-center justify-center gap-2 border border-green-500/20 active:scale-95 transition-all duration-150",children:[d.jsx(Qa,{size:16})," All Present"]}),d.jsxs("button",{onClick:()=>Fn(!1),className:"flex-1 py-3 rounded-2xl bg-red-500/10 text-red-500 text-[10px] font-black uppercase tracking-widest flex items-center justify-center gap-2 border border-red-500/20 active:scale-95 transition-all duration-150",children:[d.jsx(Bo,{size:16})," All Absent"]})]}),d.jsx("div",{className:"flex-1 overflow-y-auto px-6 pb-32 pt-2 w-full",children:d.jsx("div",{className:"max-w-7xl mx-auto w-full",children:s?ie.length===0?d.jsxs("div",{className:`text-center py-20 ${b.textSecondary} flex flex-col items-center`,children:[d.jsx("div",{className:`p-6 rounded-full ${b.surface} border ${b.border} mb-4`,children:d.jsx($o,{size:40,className:"opacity-50"})}),d.jsx("p",{className:"font-medium",children:"No students registered."}),d.jsx("p",{className:"text-xs mt-2 opacity-60",children:"Add students from the Admin Registry"})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:ie.map((z,X)=>{var ee;const V=ae[z.id],P=V==="present"||V===!0,K=V==="leave",ge=qs[z.id]||0,fe=H&&!((ee=Vn[z.id])!=null&&ee.isPaid);return d.jsxs("div",{className:`group relative flex flex-col p-5 rounded-3xl border transition-all duration-200 ${P?`${b.surface} ${b.border} shadow-lg shadow-black/5`:K?"bg-orange-500/10 border-orange-500/30":"bg-red-500/10 border-red-500/30"}`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>{fn(z),ll("attendance"),_("student-profile")},children:[d.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center border ${P?"bg-green-500/10 text-green-600 border-green-500/20":K?"bg-orange-500/20 text-orange-600 border-orange-500/20":"bg-red-500/20 text-red-500 border-red-500/20"}`,children:d.jsx("span",{className:"font-black text-xs",children:X+1})}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("h3",{className:`font-bold text-base ${b.textPrimary}`,children:z.name}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:`px-2 py-0.5 rounded-md text-[9px] font-black uppercase tracking-tighter ${ge>75?"bg-green-500/10 text-green-500":"bg-orange-500/10 text-orange-500"}`,children:["Att: ",ge,"%"]}),fe&&d.jsx("div",{className:"bg-red-500 text-white px-2 py-0.5 rounded-md text-[9px] font-black animate-pulse",children:"UNPAID"})]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[(g==null?void 0:g.role)==="admin"&&d.jsx("button",{onClick:it=>{it.stopPropagation(),Ps(z)},className:`p-2 rounded-xl bg-black/5 ${b.textSecondary} hover:bg-black/10 transition-colors pointer-events-auto`,children:d.jsx(qd,{size:16})}),d.jsx("div",{onClick:it=>{it.stopPropagation(),It(z.id)},className:`w-10 h-10 rounded-xl flex items-center justify-center transition-all cursor-pointer ${P?"bg-green-500 text-white shadow-lg shadow-green-500/30":K?"bg-orange-500 text-white shadow-lg shadow-orange-500/30":"bg-red-500 text-white shadow-lg shadow-red-500/30"}`,children:P?d.jsx(t0,{size:20,strokeWidth:4}):K?d.jsx(s0,{size:20,strokeWidth:3}):d.jsx(Bo,{size:20,strokeWidth:3})})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:`flex items-center gap-2 text-[10px] ${b.textSecondary} opacity-60`,children:z.phone?d.jsxs(d.Fragment,{children:[d.jsx(ef,{size:10})," ",z.phone]}):d.jsx("span",{children:"No Contact"})}),d.jsx("div",{className:`text-[9px] font-black uppercase tracking-widest ${P?"text-green-500":K?"text-orange-500":"text-red-500"}`,children:P?"Present":K?"Leave":"Absent"})]})]},z.id)})}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[1,2,3,4,5,6].map(z=>d.jsx("div",{className:`h-32 rounded-3xl ${b.surface} border ${b.border} animate-pulse`},z))})})})]})},Tn=()=>Y?d.jsx("div",{className:"flex flex-col h-full animate-fade-in px-6 pt-12 pb-32 w-full",children:d.jsxs("div",{className:"max-w-7xl mx-auto w-full",children:[d.jsx("h2",{className:`text-3xl font-bold ${b.textPrimary} mb-6`,children:"Attendance History"}),d.jsx("div",{className:"pb-20",children:Y.length===0?d.jsxs("div",{className:`text-center py-20 opacity-50 ${b.textSecondary}`,children:[d.jsx(ly,{size:64,className:"mx-auto mb-4 opacity-20"}),d.jsx("p",{className:"text-xl font-medium",children:"No records found yet"}),d.jsx("p",{className:"text-sm mt-1",children:"Attendance data will appear here once saved."})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Y.map(w=>{if(!w||!w.date)return null;const H=new Date(w.date),z=w.records||{},X=Object.values(z).filter(P=>P===!0||P==="present").length,V=Object.keys(z).length;return d.jsxs("div",{onClick:()=>ol(w),className:`p-5 rounded-3xl ${b.surface} border ${b.border} flex justify-between items-center cursor-pointer hover:scale-[1.03] active:scale-95 transition-all shadow-sm hover:shadow-xl group`,children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:`p-3 rounded-2xl ${b.bg} group-hover:bg-indigo-500/10 transition-colors`,children:d.jsx(fb,{size:20,className:b.textSecondary})}),d.jsxs("div",{children:[d.jsx("h3",{className:`font-bold ${b.textPrimary}`,children:H.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})}),d.jsxs("p",{className:`text-xs ${b.textSecondary}`,children:["Class ",w.classId]})]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"text-right",children:[d.jsxs("span",{className:`text-lg font-black ${b.accentText}`,children:[X,"/",V]}),d.jsx("p",{className:`text-[10px] ${b.textSecondary} uppercase font-bold tracking-widest`,children:"Present"})]}),(g==null?void 0:g.role)==="admin"&&d.jsx("button",{onClick:P=>Cr(P,w),className:"p-2 rounded-full bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white transition-all transform hover:rotate-12",children:d.jsx(l0,{size:18})})]})]},w.id)})})})]})}):null,Pt=()=>d.jsx("div",{className:"flex flex-col h-full animate-fade-in px-6 pt-12 pb-32 overflow-y-auto w-full",children:d.jsxs("div",{className:"max-w-md mx-auto w-full",children:[d.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[d.jsx("button",{onClick:()=>_("dashboard"),className:`p-2 -ml-2 rounded-full hover:bg-black/5 ${b.textPrimary}`,children:d.jsx(fi,{})}),d.jsx("h2",{className:`text-2xl font-bold ${b.textPrimary}`,children:"Daily Schedule"})]}),d.jsx("div",{className:"space-y-3",children:p1.map(w=>{const H=new Date,[z,X]=w.start.split(":").map(Number),[V,P]=w.end.split(":").map(Number),K=new Date;K.setHours(z,X,0);const ge=new Date;ge.setHours(V,P,0);const fe=H>=K&&H<=ge;return d.jsxs("div",{className:`p-4 rounded-2xl border transition-all ${fe?`${b.accent} text-white shadow-lg scale-105 border-transparent`:`${b.surface} ${b.border} ${w.isBreak?"opacity-80":""}`}`,children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsxs("span",{className:`text-xs font-bold uppercase tracking-widest ${fe?"text-white/80":b.textSecondary}`,children:[w.start," - ",w.end]}),w.isBreak&&d.jsx("span",{className:"text-[10px] bg-orange-500/20 text-orange-500 px-2 py-0.5 rounded font-bold uppercase",children:"Break"}),fe&&d.jsx("span",{className:"text-[10px] bg-white/20 text-white px-2 py-0.5 rounded font-bold uppercase animate-pulse",children:"Now"})]}),d.jsx("h3",{className:`text-lg font-bold ${fe?"text-white":b.textPrimary}`,children:w.name})]},w.id)})})]})}),jr=()=>d.jsx("div",{className:"flex flex-col h-full animate-fade-in px-6 pt-12 pb-32 w-full items-center justify-center relative",children:d.jsxs("div",{className:"max-w-md w-full",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[d.jsx("button",{onClick:()=>_("dashboard"),className:`p-3 rounded-2xl hover:bg-black/5 ${b.textPrimary} transition-all`,children:d.jsx(fi,{size:24})}),d.jsx("h2",{className:`text-4xl font-black ${b.textPrimary}`,children:"Calculator"})]}),d.jsxs("div",{className:`w-full p-8 rounded-[3rem] ${b.surface} border ${b.border} shadow-2xl`,children:[d.jsxs("div",{className:`mb-8 p-10 rounded-[2rem] bg-black/10 border ${b.border} text-right overflow-hidden shadow-inner`,children:[d.jsx("div",{className:`text-xs ${b.textSecondary} font-mono mb-2 h-4 opacity-50`,children:xi}),d.jsx("div",{className:`text-5xl font-mono font-bold ${b.textPrimary} tracking-tighter truncate`,children:al})]}),d.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[d.jsx("button",{onClick:()=>{Ft("0"),Yt("")},className:"p-6 rounded-[1.5rem] bg-red-500/10 text-red-500 font-black text-xl hover:bg-red-500 hover:text-white transition-all",children:"AC"}),d.jsx("button",{onClick:()=>{Ft(w=>w.length>1?w.slice(0,-1):"0"),Yt(w=>w.length>1?w.slice(0,-1):"")},className:`p-6 rounded-[1.5rem] ${b.bg} ${b.textPrimary} font-black text-xl hover:bg-black/10 transition-all`,children:d.jsx(fi,{size:24,className:"mx-auto"})}),d.jsx("button",{onClick:()=>St("/"),className:"p-6 rounded-[1.5rem] bg-indigo-500/10 text-indigo-500 font-black text-xl hover:bg-indigo-500 hover:text-white transition-all",children:""}),d.jsx("button",{onClick:()=>St("*"),className:"p-6 rounded-[1.5rem] bg-indigo-500/10 text-indigo-500 font-black text-xl hover:bg-indigo-500 hover:text-white transition-all",children:""}),[7,8,9].map(w=>d.jsx("button",{onClick:()=>St(String(w)),className:`p-6 rounded-[1.5rem] ${b.bg} ${b.textPrimary} font-black text-2xl hover:bg-black/10 transition-all`,children:w},w)),d.jsx("button",{onClick:()=>St("-"),className:"p-6 rounded-[1.5rem] bg-indigo-500/10 text-indigo-500 font-black text-xl hover:bg-indigo-500 hover:text-white transition-all",children:""}),[4,5,6].map(w=>d.jsx("button",{onClick:()=>St(String(w)),className:`p-6 rounded-[1.5rem] ${b.bg} ${b.textPrimary} font-black text-2xl hover:bg-black/10 transition-all`,children:w},w)),d.jsx("button",{onClick:()=>St("+"),className:"p-6 rounded-[1.5rem] bg-indigo-500/10 text-indigo-500 font-black text-xl hover:bg-indigo-500 hover:text-white transition-all",children:"+"}),[1,2,3].map(w=>d.jsx("button",{onClick:()=>St(String(w)),className:`p-6 rounded-[1.5rem] ${b.bg} ${b.textPrimary} font-black text-2xl hover:bg-black/10 transition-all`,children:w},w)),d.jsx("button",{onClick:()=>St("="),className:`p-6 rounded-[1.5rem] ${b.accent} text-white font-black text-2xl shadow-xl shadow-indigo-500/20 active:scale-90 transition-all`,children:"="}),d.jsx("button",{onClick:()=>St("0"),className:`col-span-2 p-6 rounded-[1.5rem] ${b.bg} ${b.textPrimary} font-black text-2xl hover:bg-black/10 transition-all`,children:"0"}),d.jsx("button",{onClick:()=>St("."),className:`p-6 rounded-[1.5rem] ${b.bg} ${b.textPrimary} font-black text-2xl hover:bg-black/10 transition-all`,children:"."})]})]})]})});return d.jsxs("div",{className:`h-screen w-screen overflow-hidden ${b.bg} transition-colors duration-500 flex flex-col md:flex-row relative`,children:[je&&d.jsxs("div",{className:"fixed inset-0 z-[300] bg-black/60 backdrop-blur-sm flex items-center justify-center flex-col text-white",children:[d.jsx("div",{className:"w-12 h-12 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin mb-4"}),d.jsx("p",{className:"font-bold tracking-wider animate-pulse",children:"Loading Class Data..."})]}),C&&d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-fade-in p-6",children:d.jsxs("div",{className:`${b.surface} border ${b.border} w-full max-w-md p-6 rounded-[2rem] shadow-2xl flex flex-col`,children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:`text-xl font-bold ${b.textPrimary}`,children:"Add Students"}),d.jsx("button",{onClick:()=>L(!1),className:`p-2 rounded-full hover:bg-white/5 ${b.textPrimary}`,children:d.jsx(Ba,{size:20})})]}),d.jsxs("p",{className:`text-xs ${b.textSecondary} mb-4`,children:["Enter names (one per line) for ",d.jsxs("strong",{children:["Class ",x==="admin-dashboard"?jt:N]}),"."]}),d.jsx("textarea",{value:G,onChange:w=>Q(w.target.value),className:`w-full h-32 p-4 rounded-xl bg-black/5 border ${b.border} ${b.textPrimary} outline-none focus:ring-2 focus:ring-indigo-500/50 resize-none mb-4`,placeholder:`Ali, +92 335 1234567
Ahmed, 0300 1234567
Sara...`}),d.jsxs("div",{className:`p-3 rounded-xl bg-indigo-500/10 border border-indigo-500/20 mb-4 text-[11px] ${b.textSecondary}`,children:[d.jsx("strong",{children:"Format Guide:"}),d.jsx("br",{})," Name only: ",d.jsx("code",{children:"Ali"}),d.jsx("br",{})," Name + Phone: ",d.jsx("code",{children:"Ali, +92 335..."})," (Comma separated)",d.jsx("br",{}),d.jsx("span",{className:"text-indigo-400",children:"Add phone numbers to view in student directory."})]}),d.jsxs("div",{className:"flex gap-3 mt-auto",children:[d.jsx(bn,{variant:"secondary",onClick:()=>L(!1),fullWidth:!0,className:b.textPrimary,children:"Cancel"}),d.jsx(bn,{onClick:Tc,fullWidth:!0,themeAccent:b.accent,children:"Add Students"})]})]})}),Xn&&d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-fade-in p-6",children:d.jsxs("div",{className:`${b.surface} border ${b.border} w-full max-w-sm p-8 rounded-[2.5rem] shadow-2xl flex flex-col gap-6`,children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h3",{className:`text-2xl font-black ${b.textPrimary}`,children:"Edit Student"}),d.jsx("button",{onClick:()=>Ln(null),className:`p-2 rounded-full hover:bg-white/5 ${b.textPrimary}`,children:d.jsx(Ba,{size:20})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:`text-[10px] font-black uppercase tracking-widest ${b.textSecondary} mb-2 block`,children:"Full Name"}),d.jsx("input",{type:"text",value:Il,onChange:w=>Ys(w.target.value),className:`w-full p-4 rounded-2xl bg-black/5 border ${b.border} ${b.textPrimary} outline-none focus:ring-2 focus:ring-indigo-500/50`})]}),d.jsxs("div",{children:[d.jsx("label",{className:`text-[10px] font-black uppercase tracking-widest ${b.textSecondary} mb-2 block`,children:"Phone Number"}),d.jsx("input",{type:"text",value:rl,onChange:w=>bi(w.target.value),className:`w-full p-4 rounded-2xl bg-black/5 border ${b.border} ${b.textPrimary} outline-none focus:ring-2 focus:ring-indigo-500/50`,placeholder:"+92..."})]})]}),d.jsxs("div",{className:"flex gap-3 mt-4",children:[d.jsx(bn,{variant:"secondary",onClick:()=>Ln(null),fullWidth:!0,className:b.textPrimary,children:"Cancel"}),d.jsx(bn,{onClick:wr,fullWidth:!0,themeAccent:b.accent,children:"Save Changes"})]})]})}),_i&&d.jsx(KC,{message:_i.message,type:_i.type,onClose:()=>zl(null)}),d.jsx(PC,{isOpen:Xe.isOpen,title:Xe.title,message:Xe.message,onConfirm:Xe.onConfirm,onCancel:()=>Gn(w=>({...w,isOpen:!1})),theme:b}),l?d.jsx(ZC,{}):c?d.jsx(JC,{onFinish:Gs,logo:B}):d.jsx(d.Fragment,{children:x==="login"?d.jsx(QC,{theme:b,onLogin:Vs,onToast:We,logo:B}):d.jsxs(d.Fragment,{children:[d.jsx(VC,{currentView:x,onChangeView:w=>{w==="history"?yt():_(w==="admin-dashboard"?"admin-menu":w)},theme:b,user:g,onLogout:Qs,shouldHide:Nr}),d.jsxs("div",{className:"flex-1 h-full overflow-hidden relative",children:[x==="home"&&Dc(),x==="dashboard"&&$l(),x==="attendance"&&ql(),x==="history"&&Tn(),x==="settings"&&d.jsx(FC,{theme:b,themeId:h,onThemeChange:Er,currentUser:g,onUpdateUser:y,onLogout:Qs,onToast:We}),x==="timetable"&&Pt(),x==="calculator"&&jr(),x==="admin-dashboard"&&(g==null?void 0:g.role)==="admin"&&Tr(),x==="admin-menu"&&(g==null?void 0:g.role)==="admin"&&Ci(),x==="admin-fees"&&(g==null?void 0:g.role)==="admin"&&jc(),x==="student-directory"&&d.jsx(XC,{theme:b,onBack:()=>_("admin-menu"),availableClasses:ce,selectedClass:Dt,onSelectClass:$s,students:sl,onViewProfile:w=>{fn(w),ll("student-directory"),_("student-profile")},attendanceStats:qs}),x==="student-profile"&&En&&Ar(),x==="history-detail"&&Ue&&d.jsxs("div",{className:"flex flex-col h-full animate-fade-in bg-opacity-50",children:[d.jsxs("div",{className:`px-6 pt-12 pb-4 flex items-center justify-between z-20 ${b.surface} border-b ${b.border} backdrop-blur-md`,children:[d.jsx("button",{onClick:()=>_(ze),className:`p-2 -ml-2 rounded-full hover:bg-black/5 ${b.textPrimary}`,children:d.jsx(fi,{})}),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("h2",{className:`text-lg font-bold ${b.textPrimary}`,children:new Date(Ue.date).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})}),d.jsxs("p",{className:`text-xs ${b.textSecondary}`,children:["Class ",Ue.classId]})]}),d.jsx("div",{className:"w-8"})]}),d.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4 pb-32",children:d.jsx("div",{className:"max-w-3xl mx-auto space-y-3",children:ln.map((w,H)=>{const z=Ue.records?Ue.records[w.id]:!1;return d.jsxs("div",{className:`flex flex-col p-4 rounded-3xl border ${b.surface} ${b.border} hover:shadow-lg transition-all gap-2`,children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border ${b.border} text-[10px] font-bold opacity-30`,children:H+1}),d.jsx("span",{className:`font-bold ${b.textPrimary}`,children:w.name})]}),d.jsxs("div",{className:`px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest flex items-center gap-2 ${z==="present"||z===!0?"bg-green-500/10 text-green-600":z==="leave"?"bg-orange-500/10 text-orange-600":"bg-red-500/10 text-red-600"}`,children:[z==="present"||z===!0?d.jsx(t0,{size:12,strokeWidth:3}):z==="leave"?d.jsx(s0,{size:12,strokeWidth:3}):d.jsx(Bo,{size:12,strokeWidth:3}),z==="present"||z===!0?"Present":z==="leave"?"Leave":"Absent"]})]}),w.phone&&d.jsx("div",{className:"flex items-center justify-between mt-1 pt-2 border-t border-white/5",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Xb,{size:12,className:"text-slate-500"}),d.jsx("span",{className:"text-[10px] font-mono text-slate-400",children:w.phone})]})})]},w.id)})})})]})]})]})})]})}const Iv=document.getElementById("root");if(!Iv)throw new Error("Could not find root element to mount to");const nw=tb.createRoot(Iv);nw.render(d.jsx(ny.StrictMode,{children:d.jsx(ew,{})}));
