(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function i(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(c){if(c.ep)return;c.ep=!0;const f=i(c);fetch(c.href,f)}})();function Dy(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var nf={exports:{}},pr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function c1(){if(d0)return pr;d0=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(r,c,f){var h=null;if(f!==void 0&&(h=""+f),c.key!==void 0&&(h=""+c.key),"key"in c){f={};for(var p in c)p!=="key"&&(f[p]=c[p])}else f=c;return c=f.ref,{$$typeof:l,type:r,key:h,ref:c!==void 0?c:null,props:f}}return pr.Fragment=n,pr.jsx=i,pr.jsxs=i,pr}var f0;function u1(){return f0||(f0=1,nf.exports=c1()),nf.exports}var u=u1(),sf={exports:{}},me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function d1(){if(h0)return me;h0=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),v=Symbol.iterator;function R(w){return w===null||typeof w!="object"?null:(w=v&&w[v]||w["@@iterator"],typeof w=="function"?w:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,de={};function F(w,U,P){this.props=w,this.context=U,this.refs=de,this.updater=P||G}F.prototype.isReactComponent={},F.prototype.setState=function(w,U){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,U,"setState")},F.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function fe(){}fe.prototype=F.prototype;function pe(w,U,P){this.props=w,this.context=U,this.refs=de,this.updater=P||G}var ie=pe.prototype=new fe;ie.constructor=pe,K(ie,F.prototype),ie.isPureReactComponent=!0;var tt=Array.isArray;function Ue(){}var oe={H:null,A:null,T:null,S:null},Ae=Object.prototype.hasOwnProperty;function ct(w,U,P){var W=P.ref;return{$$typeof:l,type:w,key:U,ref:W!==void 0?W:null,props:P}}function he(w,U){return ct(w.type,U,w.props)}function Ze(w){return typeof w=="object"&&w!==null&&w.$$typeof===l}function qe(w){var U={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(P){return U[P]})}var en=/\/+/g;function St(w,U){return typeof w=="object"&&w!==null&&w.key!=null?qe(""+w.key):U.toString(36)}function se(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(Ue,Ue):(w.status="pending",w.then(function(U){w.status==="pending"&&(w.status="fulfilled",w.value=U)},function(U){w.status==="pending"&&(w.status="rejected",w.reason=U)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function z(w,U,P,W,ae){var ye=typeof w;(ye==="undefined"||ye==="boolean")&&(w=null);var ge=!1;if(w===null)ge=!0;else switch(ye){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(w.$$typeof){case l:case n:ge=!0;break;case N:return ge=w._init,z(ge(w._payload),U,P,W,ae)}}if(ge)return ae=ae(w),ge=W===""?"."+St(w,0):W,tt(ae)?(P="",ge!=null&&(P=ge.replace(en,"$&/")+"/"),z(ae,U,P,"",function(Yn){return Yn})):ae!=null&&(Ze(ae)&&(ae=he(ae,P+(ae.key==null||w&&w.key===ae.key?"":(""+ae.key).replace(en,"$&/")+"/")+ge)),U.push(ae)),1;ge=0;var rt=W===""?".":W+":";if(tt(w))for(var Ke=0;Ke<w.length;Ke++)W=w[Ke],ye=rt+St(W,Ke),ge+=z(W,U,P,ye,ae);else if(Ke=R(w),typeof Ke=="function")for(w=Ke.call(w),Ke=0;!(W=w.next()).done;)W=W.value,ye=rt+St(W,Ke++),ge+=z(W,U,P,ye,ae);else if(ye==="object"){if(typeof w.then=="function")return z(se(w),U,P,W,ae);throw U=String(w),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return ge}function V(w,U,P){if(w==null)return w;var W=[],ae=0;return z(w,W,"","",function(ye){return U.call(P,ye,ae++)}),W}function Z(w){if(w._status===-1){var U=w._result;U=U(),U.then(function(P){(w._status===0||w._status===-1)&&(w._status=1,w._result=P)},function(P){(w._status===0||w._status===-1)&&(w._status=2,w._result=P)}),w._status===-1&&(w._status=0,w._result=U)}if(w._status===1)return w._result.default;throw w._result}var Ee=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},be={map:V,forEach:function(w,U,P){V(w,function(){U.apply(this,arguments)},P)},count:function(w){var U=0;return V(w,function(){U++}),U},toArray:function(w){return V(w,function(U){return U})||[]},only:function(w){if(!Ze(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return me.Activity=_,me.Children=be,me.Component=F,me.Fragment=i,me.Profiler=c,me.PureComponent=pe,me.StrictMode=r,me.Suspense=y,me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,me.__COMPILER_RUNTIME={__proto__:null,c:function(w){return oe.H.useMemoCache(w)}},me.cache=function(w){return function(){return w.apply(null,arguments)}},me.cacheSignal=function(){return null},me.cloneElement=function(w,U,P){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var W=K({},w.props),ae=w.key;if(U!=null)for(ye in U.key!==void 0&&(ae=""+U.key),U)!Ae.call(U,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&U.ref===void 0||(W[ye]=U[ye]);var ye=arguments.length-2;if(ye===1)W.children=P;else if(1<ye){for(var ge=Array(ye),rt=0;rt<ye;rt++)ge[rt]=arguments[rt+2];W.children=ge}return ct(w.type,ae,W)},me.createContext=function(w){return w={$$typeof:h,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:f,_context:w},w},me.createElement=function(w,U,P){var W,ae={},ye=null;if(U!=null)for(W in U.key!==void 0&&(ye=""+U.key),U)Ae.call(U,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ae[W]=U[W]);var ge=arguments.length-2;if(ge===1)ae.children=P;else if(1<ge){for(var rt=Array(ge),Ke=0;Ke<ge;Ke++)rt[Ke]=arguments[Ke+2];ae.children=rt}if(w&&w.defaultProps)for(W in ge=w.defaultProps,ge)ae[W]===void 0&&(ae[W]=ge[W]);return ct(w,ye,ae)},me.createRef=function(){return{current:null}},me.forwardRef=function(w){return{$$typeof:p,render:w}},me.isValidElement=Ze,me.lazy=function(w){return{$$typeof:N,_payload:{_status:-1,_result:w},_init:Z}},me.memo=function(w,U){return{$$typeof:g,type:w,compare:U===void 0?null:U}},me.startTransition=function(w){var U=oe.T,P={};oe.T=P;try{var W=w(),ae=oe.S;ae!==null&&ae(P,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Ue,Ee)}catch(ye){Ee(ye)}finally{U!==null&&P.types!==null&&(U.types=P.types),oe.T=U}},me.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},me.use=function(w){return oe.H.use(w)},me.useActionState=function(w,U,P){return oe.H.useActionState(w,U,P)},me.useCallback=function(w,U){return oe.H.useCallback(w,U)},me.useContext=function(w){return oe.H.useContext(w)},me.useDebugValue=function(){},me.useDeferredValue=function(w,U){return oe.H.useDeferredValue(w,U)},me.useEffect=function(w,U){return oe.H.useEffect(w,U)},me.useEffectEvent=function(w){return oe.H.useEffectEvent(w)},me.useId=function(){return oe.H.useId()},me.useImperativeHandle=function(w,U,P){return oe.H.useImperativeHandle(w,U,P)},me.useInsertionEffect=function(w,U){return oe.H.useInsertionEffect(w,U)},me.useLayoutEffect=function(w,U){return oe.H.useLayoutEffect(w,U)},me.useMemo=function(w,U){return oe.H.useMemo(w,U)},me.useOptimistic=function(w,U){return oe.H.useOptimistic(w,U)},me.useReducer=function(w,U,P){return oe.H.useReducer(w,U,P)},me.useRef=function(w){return oe.H.useRef(w)},me.useState=function(w){return oe.H.useState(w)},me.useSyncExternalStore=function(w,U,P){return oe.H.useSyncExternalStore(w,U,P)},me.useTransition=function(){return oe.H.useTransition()},me.version="19.2.3",me}var m0;function Vf(){return m0||(m0=1,sf.exports=d1()),sf.exports}var M=Vf();const Br=Dy(M);var lf={exports:{}},gr={},af={exports:{}},rf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function f1(){return p0||(p0=1,(function(l){function n(z,V){var Z=z.length;z.push(V);e:for(;0<Z;){var Ee=Z-1>>>1,be=z[Ee];if(0<c(be,V))z[Ee]=V,z[Z]=be,Z=Ee;else break e}}function i(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var V=z[0],Z=z.pop();if(Z!==V){z[0]=Z;e:for(var Ee=0,be=z.length,w=be>>>1;Ee<w;){var U=2*(Ee+1)-1,P=z[U],W=U+1,ae=z[W];if(0>c(P,Z))W<be&&0>c(ae,P)?(z[Ee]=ae,z[W]=Z,Ee=W):(z[Ee]=P,z[U]=Z,Ee=U);else if(W<be&&0>c(ae,Z))z[Ee]=ae,z[W]=Z,Ee=W;else break e}}return V}function c(z,V){var Z=z.sortIndex-V.sortIndex;return Z!==0?Z:z.id-V.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;l.unstable_now=function(){return f.now()}}else{var h=Date,p=h.now();l.unstable_now=function(){return h.now()-p}}var y=[],g=[],N=1,_=null,v=3,R=!1,G=!1,K=!1,de=!1,F=typeof setTimeout=="function"?setTimeout:null,fe=typeof clearTimeout=="function"?clearTimeout:null,pe=typeof setImmediate<"u"?setImmediate:null;function ie(z){for(var V=i(g);V!==null;){if(V.callback===null)r(g);else if(V.startTime<=z)r(g),V.sortIndex=V.expirationTime,n(y,V);else break;V=i(g)}}function tt(z){if(K=!1,ie(z),!G)if(i(y)!==null)G=!0,Ue||(Ue=!0,qe());else{var V=i(g);V!==null&&se(tt,V.startTime-z)}}var Ue=!1,oe=-1,Ae=5,ct=-1;function he(){return de?!0:!(l.unstable_now()-ct<Ae)}function Ze(){if(de=!1,Ue){var z=l.unstable_now();ct=z;var V=!0;try{e:{G=!1,K&&(K=!1,fe(oe),oe=-1),R=!0;var Z=v;try{t:{for(ie(z),_=i(y);_!==null&&!(_.expirationTime>z&&he());){var Ee=_.callback;if(typeof Ee=="function"){_.callback=null,v=_.priorityLevel;var be=Ee(_.expirationTime<=z);if(z=l.unstable_now(),typeof be=="function"){_.callback=be,ie(z),V=!0;break t}_===i(y)&&r(y),ie(z)}else r(y);_=i(y)}if(_!==null)V=!0;else{var w=i(g);w!==null&&se(tt,w.startTime-z),V=!1}}break e}finally{_=null,v=Z,R=!1}V=void 0}}finally{V?qe():Ue=!1}}}var qe;if(typeof pe=="function")qe=function(){pe(Ze)};else if(typeof MessageChannel<"u"){var en=new MessageChannel,St=en.port2;en.port1.onmessage=Ze,qe=function(){St.postMessage(null)}}else qe=function(){F(Ze,0)};function se(z,V){oe=F(function(){z(l.unstable_now())},V)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(z){z.callback=null},l.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ae=0<z?Math.floor(1e3/z):5},l.unstable_getCurrentPriorityLevel=function(){return v},l.unstable_next=function(z){switch(v){case 1:case 2:case 3:var V=3;break;default:V=v}var Z=v;v=V;try{return z()}finally{v=Z}},l.unstable_requestPaint=function(){de=!0},l.unstable_runWithPriority=function(z,V){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Z=v;v=z;try{return V()}finally{v=Z}},l.unstable_scheduleCallback=function(z,V,Z){var Ee=l.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Ee+Z:Ee):Z=Ee,z){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=Z+be,z={id:N++,callback:V,priorityLevel:z,startTime:Z,expirationTime:be,sortIndex:-1},Z>Ee?(z.sortIndex=Z,n(g,z),i(y)===null&&z===i(g)&&(K?(fe(oe),oe=-1):K=!0,se(tt,Z-Ee))):(z.sortIndex=be,n(y,z),G||R||(G=!0,Ue||(Ue=!0,qe()))),z},l.unstable_shouldYield=he,l.unstable_wrapCallback=function(z){var V=v;return function(){var Z=v;v=V;try{return z.apply(this,arguments)}finally{v=Z}}}})(rf)),rf}var g0;function h1(){return g0||(g0=1,af.exports=f1()),af.exports}var of={exports:{}},Gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function m1(){if(y0)return Gt;y0=1;var l=Vf();function n(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var N=2;N<arguments.length;N++)g+="&args[]="+encodeURIComponent(arguments[N])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(y,g,N){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:_==null?null:""+_,children:y,containerInfo:g,implementation:N}}var h=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Gt.createPortal=function(y,g){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return f(y,g,null,N)},Gt.flushSync=function(y){var g=h.T,N=r.p;try{if(h.T=null,r.p=2,y)return y()}finally{h.T=g,r.p=N,r.d.f()}},Gt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(y,g))},Gt.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Gt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var N=g.as,_=p(N,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;N==="style"?r.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:R}):N==="script"&&r.d.X(y,{crossOrigin:_,integrity:v,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Gt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var N=p(g.as,g.crossOrigin);r.d.M(y,{crossOrigin:N,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(y)},Gt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var N=g.as,_=p(N,g.crossOrigin);r.d.L(y,N,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Gt.preloadModule=function(y,g){if(typeof y=="string")if(g){var N=p(g.as,g.crossOrigin);r.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:N,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(y)},Gt.requestFormReset=function(y){r.d.r(y)},Gt.unstable_batchedUpdates=function(y,g){return y(g)},Gt.useFormState=function(y,g,N){return h.H.useFormState(y,g,N)},Gt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Gt.version="19.2.3",Gt}var x0;function p1(){if(x0)return of.exports;x0=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),of.exports=m1(),of.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function g1(){if(v0)return gr;v0=1;var l=h1(),n=Vf(),i=p1();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(r(188))}function g(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var s=e,a=t;;){var o=s.return;if(o===null)break;var d=o.alternate;if(d===null){if(a=o.return,a!==null){s=a;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===s)return y(o),e;if(d===a)return y(o),t;d=d.sibling}throw Error(r(188))}if(s.return!==a.return)s=o,a=d;else{for(var m=!1,x=o.child;x;){if(x===s){m=!0,s=o,a=d;break}if(x===a){m=!0,a=o,s=d;break}x=x.sibling}if(!m){for(x=d.child;x;){if(x===s){m=!0,s=d,a=o;break}if(x===a){m=!0,a=d,s=o;break}x=x.sibling}if(!m)throw Error(r(189))}}if(s.alternate!==a)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:t}function N(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=N(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,v=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),de=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),fe=Symbol.for("react.consumer"),pe=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),Ue=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),ct=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),Ze=Symbol.iterator;function qe(e){return e===null||typeof e!="object"?null:(e=Ze&&e[Ze]||e["@@iterator"],typeof e=="function"?e:null)}var en=Symbol.for("react.client.reference");function St(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===en?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case K:return"Fragment";case F:return"Profiler";case de:return"StrictMode";case tt:return"Suspense";case Ue:return"SuspenseList";case ct:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case G:return"Portal";case pe:return e.displayName||"Context";case fe:return(e._context.displayName||"Context")+".Consumer";case ie:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case oe:return t=e.displayName||null,t!==null?t:St(e.type)||"Memo";case Ae:t=e._payload,e=e._init;try{return St(e(t))}catch{}}return null}var se=Array.isArray,z=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},Ee=[],be=-1;function w(e){return{current:e}}function U(e){0>be||(e.current=Ee[be],Ee[be]=null,be--)}function P(e,t){be++,Ee[be]=e.current,e.current=t}var W=w(null),ae=w(null),ye=w(null),ge=w(null);function rt(e,t){switch(P(ye,t),P(ae,e),P(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Og(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Og(t),e=zg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(W),P(W,e)}function Ke(){U(W),U(ae),U(ye)}function Yn(e){e.memoizedState!==null&&P(ge,e);var t=W.current,s=zg(t,e.type);t!==s&&(P(ae,e),P(W,s))}function Rs(e){ae.current===e&&(U(W),U(ae)),ge.current===e&&(U(ge),dr._currentValue=Z)}var Gn,ns;function Pt(e){if(Gn===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Gn=t&&t[1]||"",ns=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gn+e+ns}var Ye=!1;function $(e,t){if(!e||Ye)return"";Ye=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(k){var D=k}Reflect.construct(e,[],H)}else{try{H.call()}catch(k){D=k}e.call(H.prototype)}}else{try{throw Error()}catch(k){D=k}(H=e())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(k){if(k&&D&&typeof k.stack=="string")return[k.stack,D.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=a.DetermineComponentFrameRoot(),m=d[0],x=d[1];if(m&&x){var S=m.split(`
`),A=x.split(`
`);for(o=a=0;a<S.length&&!S[a].includes("DetermineComponentFrameRoot");)a++;for(;o<A.length&&!A[o].includes("DetermineComponentFrameRoot");)o++;if(a===S.length||o===A.length)for(a=S.length-1,o=A.length-1;1<=a&&0<=o&&S[a]!==A[o];)o--;for(;1<=a&&0<=o;a--,o--)if(S[a]!==A[o]){if(a!==1||o!==1)do if(a--,o--,0>o||S[a]!==A[o]){var L=`
`+S[a].replace(" at new "," at ");return e.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",e.displayName)),L}while(1<=a&&0<=o);break}}}finally{Ye=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Pt(s):""}function mt(e,t){switch(e.tag){case 26:case 27:case 5:return Pt(e.type);case 16:return Pt("Lazy");case 13:return e.child!==t&&t!==null?Pt("Suspense Fallback"):Pt("Suspense");case 19:return Pt("SuspenseList");case 0:case 15:return $(e.type,!1);case 11:return $(e.type.render,!1);case 1:return $(e.type,!0);case 31:return Pt("Activity");default:return""}}function Ie(e){try{var t="",s=null;do t+=mt(e,s),s=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Dn=Object.prototype.hasOwnProperty,Nt=l.unstable_scheduleCallback,xn=l.unstable_cancelCallback,ti=l.unstable_shouldYield,ga=l.unstable_requestPaint,Qt=l.unstable_now,su=l.unstable_getCurrentPriorityLevel,Wr=l.unstable_ImmediatePriority,Jr=l.unstable_UserBlockingPriority,ss=l.unstable_NormalPriority,ni=l.unstable_LowPriority,xl=l.unstable_IdlePriority,ya=l.log,Os=l.unstable_setDisableYieldValue,ls=null,it=null;function Xt(e){if(typeof ya=="function"&&Os(e),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(ls,e)}catch{}}var Ft=Math.clz32?Math.clz32:eo,lu=Math.log,zh=Math.LN2;function eo(e){return e>>>=0,e===0?32:31-(lu(e)/zh|0)|0}var zs=256,si=262144,li=4194304;function is(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ls(e,t,s){var a=e.pendingLanes;if(a===0)return 0;var o=0,d=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var x=a&134217727;return x!==0?(a=x&~d,a!==0?o=is(a):(m&=x,m!==0?o=is(m):s||(s=x&~e,s!==0&&(o=is(s))))):(x=a&~d,x!==0?o=is(x):m!==0?o=is(m):s||(s=a&~e,s!==0&&(o=is(s)))),o===0?0:t!==0&&t!==o&&(t&d)===0&&(d=o&-o,s=t&-t,d>=s||d===32&&(s&4194048)!==0)?t:o}function Ct(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function xa(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function on(){var e=li;return li<<=1,(li&62914560)===0&&(li=4194304),e}function ii(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function as(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Lh(e,t,s,a,o,d){var m=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var x=e.entanglements,S=e.expirationTimes,A=e.hiddenUpdates;for(s=m&~s;0<s;){var L=31-Ft(s),H=1<<L;x[L]=0,S[L]=-1;var D=A[L];if(D!==null)for(A[L]=null,L=0;L<D.length;L++){var k=D[L];k!==null&&(k.lane&=-536870913)}s&=~H}a!==0&&ai(e,a,0),d!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=d&~(m&~t))}function ai(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Ft(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|s&261930}function rs(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var a=31-Ft(s),o=1<<a;o&t|e[a]&t&&(e[a]|=t),s&=~o}}function to(e,t){var s=t&-t;return s=(s&42)!==0?1:$s(s),(s&(e.suspendedLanes|t))!==0?0:s}function $s(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ri(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function no(){var e=V.p;return e!==0?e:(e=window.event,e===void 0?32:l0(e.type))}function va(e,t){var s=V.p;try{return V.p=e,t()}finally{V.p=s}}var Mn=Math.random().toString(36).slice(2),wt="__reactFiber$"+Mn,nt="__reactProps$"+Mn,Vn="__reactContainer$"+Mn,os="__reactEvents$"+Mn,vl="__reactListeners$"+Mn,$h="__reactHandles$"+Mn,ba="__reactResources$"+Mn,oi="__reactMarker$"+Mn;function ci(e){delete e[wt],delete e[nt],delete e[os],delete e[vl],delete e[$h]}function bl(e){var t=e[wt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Vn]||s[wt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=qg(e);e!==null;){if(s=e[wt])return s;e=qg(e)}return t}e=s,s=e.parentNode}return null}function _l(e){if(e=e[wt]||e[Vn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Sl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Us(e){var t=e[ba];return t||(t=e[ba]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ot(e){e[oi]=!0}var _a=new Set,ui={};function Pn(e,t){Qn(e,t),Qn(e+"Capture",t)}function Qn(e,t){for(ui[e]=t,e=0;e<t.length;e++)_a.add(t[e])}var so=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),di={},Sa={};function lo(e){return Dn.call(Sa,e)?!0:Dn.call(di,e)?!1:so.test(e)?Sa[e]=!0:(di[e]=!0,!1)}function Nl(e,t,s){if(lo(t))if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+s)}}function Cl(e,t,s){if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+s)}}function kn(e,t,s,a){if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(t,s,""+a)}}function Bt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function io(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ao(e,t,s){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var o=a.get,d=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){s=""+m,d.call(this,m)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(m){s=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cn(e){if(!e._valueTracker){var t=io(e)?"checked":"value";e._valueTracker=ao(e,t,""+e[t])}}function fi(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),a="";return e&&(a=io(e)?e.checked?"true":"false":e.value),e=a,e!==s?(t.setValue(e),!0):!1}function vn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hi=/[\n"\\]/g;function Ot(e){return e.replace(hi,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Is(e,t,s,a,o,d,m,x){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Bt(t)):e.value!==""+Bt(t)&&(e.value=""+Bt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?wl(e,m,Bt(t)):s!=null?wl(e,m,Bt(s)):a!=null&&e.removeAttribute("value"),o==null&&d!=null&&(e.defaultChecked=!!d),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+Bt(x):e.removeAttribute("name")}function Na(e,t,s,a,o,d,m,x){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){cn(e);return}s=s!=null?""+Bt(s):"",t=t!=null?""+Bt(t):s,x||t===e.value||(e.value=t),e.defaultValue=t}a=a??o,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=x?e.checked:!!a,e.defaultChecked=!!a,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),cn(e)}function wl(e,t,s){t==="number"&&vn(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function cs(e,t,s,a){if(e=e.options,t){t={};for(var o=0;o<s.length;o++)t["$"+s[o]]=!0;for(s=0;s<e.length;s++)o=t.hasOwnProperty("$"+e[s].value),e[s].selected!==o&&(e[s].selected=o),o&&a&&(e[s].defaultSelected=!0)}else{for(s=""+Bt(s),t=null,o=0;o<e.length;o++){if(e[o].value===s){e[o].selected=!0,a&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function b(e,t,s){if(t!=null&&(t=""+Bt(t),t!==e.value&&(e.value=t),s==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=s!=null?""+Bt(s):""}function ro(e,t,s,a){if(t==null){if(a!=null){if(s!=null)throw Error(r(92));if(se(a)){if(1<a.length)throw Error(r(93));a=a[0]}s=a}s==null&&(s=""),t=s}s=Bt(t),e.defaultValue=s,a=e.textContent,a===s&&a!==""&&a!==null&&(e.value=a),cn(e)}function Rn(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var ke=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function El(e,t,s){var a=t.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,s):typeof s!="number"||s===0||ke.has(t)?t==="float"?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function jl(e,t,s){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,s!=null){for(var a in s)!s.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var o in t)a=t[o],t.hasOwnProperty(o)&&s[o]!==a&&El(e,o,a)}else for(var d in t)t.hasOwnProperty(d)&&El(e,d,t[d])}function Ca(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mi(e){return oo.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function un(){}var wa=null;function Ea(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var us=null,Hs=null;function co(e){var t=_l(e);if(t&&(e=t.stateNode)){var s=e[nt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Is(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ot(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var a=s[t];if(a!==e&&a.form===e.form){var o=a[nt]||null;if(!o)throw Error(r(90));Is(a,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<s.length;t++)a=s[t],a.form===e.form&&fi(a)}break e;case"textarea":b(e,s.value,s.defaultValue);break e;case"select":t=s.value,t!=null&&cs(e,!!s.multiple,t,!1)}}}var ja=!1;function uo(e,t,s){if(ja)return e(t,s);ja=!0;try{var a=e(t);return a}finally{if(ja=!1,(us!==null||Hs!==null)&&(Zo(),us&&(t=us,e=Hs,Hs=us=null,co(t),e)))for(t=0;t<e.length;t++)co(e[t])}}function Tl(e,t){var s=e.stateNode;if(s===null)return null;var a=s[nt]||null;if(a===null)return null;s=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,t,typeof s));return s}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ta=!1;if(On)try{var Al={};Object.defineProperty(Al,"passive",{get:function(){Ta=!0}}),window.addEventListener("test",Al,Al),window.removeEventListener("test",Al,Al)}catch{Ta=!1}var Xn=null,Aa=null,pi=null;function fo(){if(pi)return pi;var e,t=Aa,s=t.length,a,o="value"in Xn?Xn.value:Xn.textContent,d=o.length;for(e=0;e<s&&t[e]===o[e];e++);var m=s-e;for(a=1;a<=m&&t[s-a]===o[d-a];a++);return pi=o.slice(e,1<a?1-a:void 0)}function Zt(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gi(){return!0}function ho(){return!1}function qt(e){function t(s,a,o,d,m){this._reactName=s,this._targetInst=o,this.type=a,this.nativeEvent=d,this.target=m,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(s=e[x],this[x]=s?s(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?gi:ho,this.isPropagationStopped=ho,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),t}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=qt(ds),Dl=_({},ds,{view:0,detail:0}),au=qt(Dl),Da,Ma,Ml,xi=_({},Dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ru,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ml&&(Ml&&e.type==="mousemove"?(Da=e.screenX-Ml.screenX,Ma=e.screenY-Ml.screenY):Ma=Da=0,Ml=e),Da)},movementY:function(e){return"movementY"in e?e.movementY:Ma}}),mo=qt(xi),Uh=_({},xi,{dataTransfer:0}),C=qt(Uh),q=_({},Dl,{relatedTarget:0}),O=qt(q),B=_({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),Y=qt(B),te=_({},ds,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),X=qt(te),Ge=_({},ds,{data:0}),ne=qt(Ge),pt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yt[e])?!!t[e]:!1}function ru(){return zn}var bv=_({},Dl,{key:function(e){if(e.key){var t=pt[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zt(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dt[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ru,charCode:function(e){return e.type==="keypress"?Zt(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zt(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_v=qt(bv),Sv=_({},xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ih=qt(Sv),Nv=_({},Dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ru}),Cv=qt(Nv),wv=_({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ev=qt(wv),jv=_({},xi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tv=qt(jv),Av=_({},ds,{newState:0,oldState:0}),Dv=qt(Av),Mv=[9,13,27,32],ou=On&&"CompositionEvent"in window,ka=null;On&&"documentMode"in document&&(ka=document.documentMode);var kv=On&&"TextEvent"in window&&!ka,Hh=On&&(!ou||ka&&8<ka&&11>=ka),Bh=" ",qh=!1;function Yh(e,t){switch(e){case"keyup":return Mv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vi=!1;function Rv(e,t){switch(e){case"compositionend":return Gh(t);case"keypress":return t.which!==32?null:(qh=!0,Bh);case"textInput":return e=t.data,e===Bh&&qh?null:e;default:return null}}function Ov(e,t){if(vi)return e==="compositionend"||!ou&&Yh(e,t)?(e=fo(),pi=Aa=Xn=null,vi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hh&&t.locale!=="ko"?null:t.data;default:return null}}var zv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zv[e.type]:t==="textarea"}function Ph(e,t,s,a){us?Hs?Hs.push(a):Hs=[a]:us=a,t=sc(t,"onChange"),0<t.length&&(s=new yi("onChange","change",null,s,a),e.push({event:s,listeners:t}))}var Ra=null,Oa=null;function Lv(e){Tg(e,0)}function po(e){var t=Sl(e);if(fi(t))return e}function Qh(e,t){if(e==="change")return t}var Xh=!1;if(On){var cu;if(On){var uu="oninput"in document;if(!uu){var Fh=document.createElement("div");Fh.setAttribute("oninput","return;"),uu=typeof Fh.oninput=="function"}cu=uu}else cu=!1;Xh=cu&&(!document.documentMode||9<document.documentMode)}function Zh(){Ra&&(Ra.detachEvent("onpropertychange",Kh),Oa=Ra=null)}function Kh(e){if(e.propertyName==="value"&&po(Oa)){var t=[];Ph(t,Oa,e,Ea(e)),uo(Lv,t)}}function $v(e,t,s){e==="focusin"?(Zh(),Ra=t,Oa=s,Ra.attachEvent("onpropertychange",Kh)):e==="focusout"&&Zh()}function Uv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return po(Oa)}function Iv(e,t){if(e==="click")return po(t)}function Hv(e,t){if(e==="input"||e==="change")return po(t)}function Bv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dn=typeof Object.is=="function"?Object.is:Bv;function za(e,t){if(dn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var o=s[a];if(!Dn.call(t,o)||!dn(e[o],t[o]))return!1}return!0}function Wh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jh(e,t){var s=Wh(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=t&&a>=t)return{node:s,offset:t-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Wh(s)}}function em(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?em(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function tm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=vn(e.document);t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=vn(e.document)}return t}function du(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var qv=On&&"documentMode"in document&&11>=document.documentMode,bi=null,fu=null,La=null,hu=!1;function nm(e,t,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;hu||bi==null||bi!==vn(a)||(a=bi,"selectionStart"in a&&du(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),La&&za(La,a)||(La=a,a=sc(fu,"onSelect"),0<a.length&&(t=new yi("onSelect","select",null,t,s),e.push({event:t,listeners:a}),t.target=bi)))}function kl(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var _i={animationend:kl("Animation","AnimationEnd"),animationiteration:kl("Animation","AnimationIteration"),animationstart:kl("Animation","AnimationStart"),transitionrun:kl("Transition","TransitionRun"),transitionstart:kl("Transition","TransitionStart"),transitioncancel:kl("Transition","TransitionCancel"),transitionend:kl("Transition","TransitionEnd")},mu={},sm={};On&&(sm=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);function Rl(e){if(mu[e])return mu[e];if(!_i[e])return e;var t=_i[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in sm)return mu[e]=t[s];return e}var lm=Rl("animationend"),im=Rl("animationiteration"),am=Rl("animationstart"),Yv=Rl("transitionrun"),Gv=Rl("transitionstart"),Vv=Rl("transitioncancel"),rm=Rl("transitionend"),om=new Map,pu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pu.push("scrollEnd");function Ln(e,t){om.set(e,t),Pn(t,[e])}var go=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},bn=[],Si=0,gu=0;function yo(){for(var e=Si,t=gu=Si=0;t<e;){var s=bn[t];bn[t++]=null;var a=bn[t];bn[t++]=null;var o=bn[t];bn[t++]=null;var d=bn[t];if(bn[t++]=null,a!==null&&o!==null){var m=a.pending;m===null?o.next=o:(o.next=m.next,m.next=o),a.pending=o}d!==0&&cm(s,o,d)}}function xo(e,t,s,a){bn[Si++]=e,bn[Si++]=t,bn[Si++]=s,bn[Si++]=a,gu|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function yu(e,t,s,a){return xo(e,t,s,a),vo(e)}function Ol(e,t){return xo(e,null,null,t),vo(e)}function cm(e,t,s){e.lanes|=s;var a=e.alternate;a!==null&&(a.lanes|=s);for(var o=!1,d=e.return;d!==null;)d.childLanes|=s,a=d.alternate,a!==null&&(a.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(o=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,o&&t!==null&&(o=31-Ft(s),e=d.hiddenUpdates,a=e[o],a===null?e[o]=[t]:a.push(t),t.lane=s|536870912),d):null}function vo(e){if(50<lr)throw lr=0,Ed=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ni={};function Pv(e,t,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,t,s,a){return new Pv(e,t,s,a)}function xu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fs(e,t){var s=e.alternate;return s===null?(s=fn(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function um(e,t){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function bo(e,t,s,a,o,d){var m=0;if(a=e,typeof e=="function")xu(e)&&(m=1);else if(typeof e=="string")m=Kb(e,s,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ct:return e=fn(31,s,t,o),e.elementType=ct,e.lanes=d,e;case K:return zl(s.children,o,d,t);case de:m=8,o|=24;break;case F:return e=fn(12,s,t,o|2),e.elementType=F,e.lanes=d,e;case tt:return e=fn(13,s,t,o),e.elementType=tt,e.lanes=d,e;case Ue:return e=fn(19,s,t,o),e.elementType=Ue,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pe:m=10;break e;case fe:m=9;break e;case ie:m=11;break e;case oe:m=14;break e;case Ae:m=16,a=null;break e}m=29,s=Error(r(130,e===null?"null":typeof e,"")),a=null}return t=fn(m,s,t,o),t.elementType=e,t.type=a,t.lanes=d,t}function zl(e,t,s,a){return e=fn(7,e,a,t),e.lanes=s,e}function vu(e,t,s){return e=fn(6,e,null,t),e.lanes=s,e}function dm(e){var t=fn(18,null,null,0);return t.stateNode=e,t}function bu(e,t,s){return t=fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var fm=new WeakMap;function _n(e,t){if(typeof e=="object"&&e!==null){var s=fm.get(e);return s!==void 0?s:(t={value:e,source:t,stack:Ie(t)},fm.set(e,t),t)}return{value:e,source:t,stack:Ie(t)}}var Ci=[],wi=0,_o=null,$a=0,Sn=[],Nn=0,Bs=null,Fn=1,Zn="";function hs(e,t){Ci[wi++]=$a,Ci[wi++]=_o,_o=e,$a=t}function hm(e,t,s){Sn[Nn++]=Fn,Sn[Nn++]=Zn,Sn[Nn++]=Bs,Bs=e;var a=Fn;e=Zn;var o=32-Ft(a)-1;a&=~(1<<o),s+=1;var d=32-Ft(t)+o;if(30<d){var m=o-o%5;d=(a&(1<<m)-1).toString(32),a>>=m,o-=m,Fn=1<<32-Ft(t)+o|s<<o|a,Zn=d+e}else Fn=1<<d|s<<o|a,Zn=e}function _u(e){e.return!==null&&(hs(e,1),hm(e,1,0))}function Su(e){for(;e===_o;)_o=Ci[--wi],Ci[wi]=null,$a=Ci[--wi],Ci[wi]=null;for(;e===Bs;)Bs=Sn[--Nn],Sn[Nn]=null,Zn=Sn[--Nn],Sn[Nn]=null,Fn=Sn[--Nn],Sn[Nn]=null}function mm(e,t){Sn[Nn++]=Fn,Sn[Nn++]=Zn,Sn[Nn++]=Bs,Fn=t.id,Zn=t.overflow,Bs=e}var zt=null,st=null,De=!1,qs=null,Cn=!1,Nu=Error(r(519));function Ys(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ua(_n(t,e)),Nu}function pm(e){var t=e.stateNode,s=e.type,a=e.memoizedProps;switch(t[wt]=e,t[nt]=a,s){case"dialog":Ce("cancel",t),Ce("close",t);break;case"iframe":case"object":case"embed":Ce("load",t);break;case"video":case"audio":for(s=0;s<ar.length;s++)Ce(ar[s],t);break;case"source":Ce("error",t);break;case"img":case"image":case"link":Ce("error",t),Ce("load",t);break;case"details":Ce("toggle",t);break;case"input":Ce("invalid",t),Na(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Ce("invalid",t);break;case"textarea":Ce("invalid",t),ro(t,a.value,a.defaultValue,a.children)}s=a.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||t.textContent===""+s||a.suppressHydrationWarning===!0||kg(t.textContent,s)?(a.popover!=null&&(Ce("beforetoggle",t),Ce("toggle",t)),a.onScroll!=null&&Ce("scroll",t),a.onScrollEnd!=null&&Ce("scrollend",t),a.onClick!=null&&(t.onclick=un),t=!0):t=!1,t||Ys(e,!0)}function gm(e){for(zt=e.return;zt;)switch(zt.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:zt=zt.return}}function Ei(e){if(e!==zt)return!1;if(!De)return gm(e),De=!0,!1;var t=e.tag,s;if((s=t!==3&&t!==27)&&((s=t===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Bd(e.type,e.memoizedProps)),s=!s),s&&st&&Ys(e),gm(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));st=Bg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));st=Bg(e)}else t===27?(t=st,sl(e.type)?(e=Pd,Pd=null,st=e):st=t):st=zt?En(e.stateNode.nextSibling):null;return!0}function Ll(){st=zt=null,De=!1}function Cu(){var e=qs;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),qs=null),e}function Ua(e){qs===null?qs=[e]:qs.push(e)}var wu=w(null),$l=null,ms=null;function Gs(e,t,s){P(wu,t._currentValue),t._currentValue=s}function ps(e){e._currentValue=wu.current,U(wu)}function Eu(e,t,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===s)break;e=e.return}}function ju(e,t,s,a){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){var m=o.child;d=d.firstContext;e:for(;d!==null;){var x=d;d=o;for(var S=0;S<t.length;S++)if(x.context===t[S]){d.lanes|=s,x=d.alternate,x!==null&&(x.lanes|=s),Eu(d.return,s,e),a||(m=null);break e}d=x.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(r(341));m.lanes|=s,d=m.alternate,d!==null&&(d.lanes|=s),Eu(m,s,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function ji(e,t,s,a){e=null;for(var o=t,d=!1;o!==null;){if(!d){if((o.flags&524288)!==0)d=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(r(387));if(m=m.memoizedProps,m!==null){var x=o.type;dn(o.pendingProps.value,m.value)||(e!==null?e.push(x):e=[x])}}else if(o===ge.current){if(m=o.alternate,m===null)throw Error(r(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(dr):e=[dr])}o=o.return}e!==null&&ju(t,e,s,a),t.flags|=262144}function So(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ul(e){$l=e,ms=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Lt(e){return ym($l,e)}function No(e,t){return $l===null&&Ul(e),ym(e,t)}function ym(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},ms===null){if(e===null)throw Error(r(308));ms=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ms=ms.next=t;return s}var Qv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(s,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(s){return s()})}},Xv=l.unstable_scheduleCallback,Fv=l.unstable_NormalPriority,xt={$$typeof:pe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tu(){return{controller:new Qv,data:new Map,refCount:0}}function Ia(e){e.refCount--,e.refCount===0&&Xv(Fv,function(){e.controller.abort()})}var Ha=null,Au=0,Ti=0,Ai=null;function Zv(e,t){if(Ha===null){var s=Ha=[];Au=0,Ti=kd(),Ai={status:"pending",value:void 0,then:function(a){s.push(a)}}}return Au++,t.then(xm,xm),t}function xm(){if(--Au===0&&Ha!==null){Ai!==null&&(Ai.status="fulfilled");var e=Ha;Ha=null,Ti=0,Ai=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Kv(e,t){var s=[],a={status:"pending",value:null,reason:null,then:function(o){s.push(o)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var o=0;o<s.length;o++)(0,s[o])(t)},function(o){for(a.status="rejected",a.reason=o,o=0;o<s.length;o++)(0,s[o])(void 0)}),a}var vm=z.S;z.S=function(e,t){ng=Qt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Zv(e,t),vm!==null&&vm(e,t)};var Il=w(null);function Du(){var e=Il.current;return e!==null?e:Fe.pooledCache}function Co(e,t){t===null?P(Il,Il.current):P(Il,t.pool)}function bm(){var e=Du();return e===null?null:{parent:xt._currentValue,pool:e}}var Di=Error(r(460)),Mu=Error(r(474)),wo=Error(r(542)),Eo={then:function(){}};function _m(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Sm(e,t,s){switch(s=e[s],s===void 0?e.push(t):s!==t&&(t.then(un,un),t=s),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Cm(e),e;default:if(typeof t.status=="string")t.then(un,un);else{if(e=Fe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=a}},function(a){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Cm(e),e}throw Bl=t,Di}}function Hl(e){try{var t=e._init;return t(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Bl=s,Di):s}}var Bl=null;function Nm(){if(Bl===null)throw Error(r(459));var e=Bl;return Bl=null,e}function Cm(e){if(e===Di||e===wo)throw Error(r(483))}var Mi=null,Ba=0;function jo(e){var t=Ba;return Ba+=1,Mi===null&&(Mi=[]),Sm(Mi,e,t)}function qa(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function To(e,t){throw t.$$typeof===v?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function wm(e){function t(j,E){if(e){var T=j.deletions;T===null?(j.deletions=[E],j.flags|=16):T.push(E)}}function s(j,E){if(!e)return null;for(;E!==null;)t(j,E),E=E.sibling;return null}function a(j){for(var E=new Map;j!==null;)j.key!==null?E.set(j.key,j):E.set(j.index,j),j=j.sibling;return E}function o(j,E){return j=fs(j,E),j.index=0,j.sibling=null,j}function d(j,E,T){return j.index=T,e?(T=j.alternate,T!==null?(T=T.index,T<E?(j.flags|=67108866,E):T):(j.flags|=67108866,E)):(j.flags|=1048576,E)}function m(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function x(j,E,T,I){return E===null||E.tag!==6?(E=vu(T,j.mode,I),E.return=j,E):(E=o(E,T),E.return=j,E)}function S(j,E,T,I){var le=T.type;return le===K?L(j,E,T.props.children,I,T.key):E!==null&&(E.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Ae&&Hl(le)===E.type)?(E=o(E,T.props),qa(E,T),E.return=j,E):(E=bo(T.type,T.key,T.props,null,j.mode,I),qa(E,T),E.return=j,E)}function A(j,E,T,I){return E===null||E.tag!==4||E.stateNode.containerInfo!==T.containerInfo||E.stateNode.implementation!==T.implementation?(E=bu(T,j.mode,I),E.return=j,E):(E=o(E,T.children||[]),E.return=j,E)}function L(j,E,T,I,le){return E===null||E.tag!==7?(E=zl(T,j.mode,I,le),E.return=j,E):(E=o(E,T),E.return=j,E)}function H(j,E,T){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=vu(""+E,j.mode,T),E.return=j,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case R:return T=bo(E.type,E.key,E.props,null,j.mode,T),qa(T,E),T.return=j,T;case G:return E=bu(E,j.mode,T),E.return=j,E;case Ae:return E=Hl(E),H(j,E,T)}if(se(E)||qe(E))return E=zl(E,j.mode,T,null),E.return=j,E;if(typeof E.then=="function")return H(j,jo(E),T);if(E.$$typeof===pe)return H(j,No(j,E),T);To(j,E)}return null}function D(j,E,T,I){var le=E!==null?E.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return le!==null?null:x(j,E,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case R:return T.key===le?S(j,E,T,I):null;case G:return T.key===le?A(j,E,T,I):null;case Ae:return T=Hl(T),D(j,E,T,I)}if(se(T)||qe(T))return le!==null?null:L(j,E,T,I,null);if(typeof T.then=="function")return D(j,E,jo(T),I);if(T.$$typeof===pe)return D(j,E,No(j,T),I);To(j,T)}return null}function k(j,E,T,I,le){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return j=j.get(T)||null,x(E,j,""+I,le);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case R:return j=j.get(I.key===null?T:I.key)||null,S(E,j,I,le);case G:return j=j.get(I.key===null?T:I.key)||null,A(E,j,I,le);case Ae:return I=Hl(I),k(j,E,T,I,le)}if(se(I)||qe(I))return j=j.get(T)||null,L(E,j,I,le,null);if(typeof I.then=="function")return k(j,E,T,jo(I),le);if(I.$$typeof===pe)return k(j,E,T,No(E,I),le);To(E,I)}return null}function J(j,E,T,I){for(var le=null,Re=null,ee=E,ve=E=0,Te=null;ee!==null&&ve<T.length;ve++){ee.index>ve?(Te=ee,ee=null):Te=ee.sibling;var Oe=D(j,ee,T[ve],I);if(Oe===null){ee===null&&(ee=Te);break}e&&ee&&Oe.alternate===null&&t(j,ee),E=d(Oe,E,ve),Re===null?le=Oe:Re.sibling=Oe,Re=Oe,ee=Te}if(ve===T.length)return s(j,ee),De&&hs(j,ve),le;if(ee===null){for(;ve<T.length;ve++)ee=H(j,T[ve],I),ee!==null&&(E=d(ee,E,ve),Re===null?le=ee:Re.sibling=ee,Re=ee);return De&&hs(j,ve),le}for(ee=a(ee);ve<T.length;ve++)Te=k(ee,j,ve,T[ve],I),Te!==null&&(e&&Te.alternate!==null&&ee.delete(Te.key===null?ve:Te.key),E=d(Te,E,ve),Re===null?le=Te:Re.sibling=Te,Re=Te);return e&&ee.forEach(function(ol){return t(j,ol)}),De&&hs(j,ve),le}function re(j,E,T,I){if(T==null)throw Error(r(151));for(var le=null,Re=null,ee=E,ve=E=0,Te=null,Oe=T.next();ee!==null&&!Oe.done;ve++,Oe=T.next()){ee.index>ve?(Te=ee,ee=null):Te=ee.sibling;var ol=D(j,ee,Oe.value,I);if(ol===null){ee===null&&(ee=Te);break}e&&ee&&ol.alternate===null&&t(j,ee),E=d(ol,E,ve),Re===null?le=ol:Re.sibling=ol,Re=ol,ee=Te}if(Oe.done)return s(j,ee),De&&hs(j,ve),le;if(ee===null){for(;!Oe.done;ve++,Oe=T.next())Oe=H(j,Oe.value,I),Oe!==null&&(E=d(Oe,E,ve),Re===null?le=Oe:Re.sibling=Oe,Re=Oe);return De&&hs(j,ve),le}for(ee=a(ee);!Oe.done;ve++,Oe=T.next())Oe=k(ee,j,ve,Oe.value,I),Oe!==null&&(e&&Oe.alternate!==null&&ee.delete(Oe.key===null?ve:Oe.key),E=d(Oe,E,ve),Re===null?le=Oe:Re.sibling=Oe,Re=Oe);return e&&ee.forEach(function(o1){return t(j,o1)}),De&&hs(j,ve),le}function Qe(j,E,T,I){if(typeof T=="object"&&T!==null&&T.type===K&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case R:e:{for(var le=T.key;E!==null;){if(E.key===le){if(le=T.type,le===K){if(E.tag===7){s(j,E.sibling),I=o(E,T.props.children),I.return=j,j=I;break e}}else if(E.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Ae&&Hl(le)===E.type){s(j,E.sibling),I=o(E,T.props),qa(I,T),I.return=j,j=I;break e}s(j,E);break}else t(j,E);E=E.sibling}T.type===K?(I=zl(T.props.children,j.mode,I,T.key),I.return=j,j=I):(I=bo(T.type,T.key,T.props,null,j.mode,I),qa(I,T),I.return=j,j=I)}return m(j);case G:e:{for(le=T.key;E!==null;){if(E.key===le)if(E.tag===4&&E.stateNode.containerInfo===T.containerInfo&&E.stateNode.implementation===T.implementation){s(j,E.sibling),I=o(E,T.children||[]),I.return=j,j=I;break e}else{s(j,E);break}else t(j,E);E=E.sibling}I=bu(T,j.mode,I),I.return=j,j=I}return m(j);case Ae:return T=Hl(T),Qe(j,E,T,I)}if(se(T))return J(j,E,T,I);if(qe(T)){if(le=qe(T),typeof le!="function")throw Error(r(150));return T=le.call(T),re(j,E,T,I)}if(typeof T.then=="function")return Qe(j,E,jo(T),I);if(T.$$typeof===pe)return Qe(j,E,No(j,T),I);To(j,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,E!==null&&E.tag===6?(s(j,E.sibling),I=o(E,T),I.return=j,j=I):(s(j,E),I=vu(T,j.mode,I),I.return=j,j=I),m(j)):s(j,E)}return function(j,E,T,I){try{Ba=0;var le=Qe(j,E,T,I);return Mi=null,le}catch(ee){if(ee===Di||ee===wo)throw ee;var Re=fn(29,ee,null,j.mode);return Re.lanes=I,Re.return=j,Re}finally{}}}var ql=wm(!0),Em=wm(!1),Vs=!1;function ku(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ru(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ps(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Qs(e,t,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,($e&2)!==0){var o=a.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),a.pending=t,t=vo(e),cm(e,null,s),t}return xo(e,a,t,s),vo(e)}function Ya(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,rs(e,s)}}function Ou(e,t){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var o=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var m={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?o=d=m:d=d.next=m,s=s.next}while(s!==null);d===null?o=d=t:d=d.next=t}else o=d=t;s={baseState:a.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:a.shared,callbacks:a.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var zu=!1;function Ga(){if(zu){var e=Ai;if(e!==null)throw e}}function Va(e,t,s,a){zu=!1;var o=e.updateQueue;Vs=!1;var d=o.firstBaseUpdate,m=o.lastBaseUpdate,x=o.shared.pending;if(x!==null){o.shared.pending=null;var S=x,A=S.next;S.next=null,m===null?d=A:m.next=A,m=S;var L=e.alternate;L!==null&&(L=L.updateQueue,x=L.lastBaseUpdate,x!==m&&(x===null?L.firstBaseUpdate=A:x.next=A,L.lastBaseUpdate=S))}if(d!==null){var H=o.baseState;m=0,L=A=S=null,x=d;do{var D=x.lane&-536870913,k=D!==x.lane;if(k?(je&D)===D:(a&D)===D){D!==0&&D===Ti&&(zu=!0),L!==null&&(L=L.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var J=e,re=x;D=t;var Qe=s;switch(re.tag){case 1:if(J=re.payload,typeof J=="function"){H=J.call(Qe,H,D);break e}H=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=re.payload,D=typeof J=="function"?J.call(Qe,H,D):J,D==null)break e;H=_({},H,D);break e;case 2:Vs=!0}}D=x.callback,D!==null&&(e.flags|=64,k&&(e.flags|=8192),k=o.callbacks,k===null?o.callbacks=[D]:k.push(D))}else k={lane:D,tag:x.tag,payload:x.payload,callback:x.callback,next:null},L===null?(A=L=k,S=H):L=L.next=k,m|=D;if(x=x.next,x===null){if(x=o.shared.pending,x===null)break;k=x,x=k.next,k.next=null,o.lastBaseUpdate=k,o.shared.pending=null}}while(!0);L===null&&(S=H),o.baseState=S,o.firstBaseUpdate=A,o.lastBaseUpdate=L,d===null&&(o.shared.lanes=0),Ws|=m,e.lanes=m,e.memoizedState=H}}function jm(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Tm(e,t){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)jm(s[e],t)}var ki=w(null),Ao=w(0);function Am(e,t){e=Cs,P(Ao,e),P(ki,t),Cs=e|t.baseLanes}function Lu(){P(Ao,Cs),P(ki,ki.current)}function $u(){Cs=Ao.current,U(ki),U(Ao)}var hn=w(null),wn=null;function Xs(e){var t=e.alternate;P(gt,gt.current&1),P(hn,e),wn===null&&(t===null||ki.current!==null||t.memoizedState!==null)&&(wn=e)}function Uu(e){P(gt,gt.current),P(hn,e),wn===null&&(wn=e)}function Dm(e){e.tag===22?(P(gt,gt.current),P(hn,e),wn===null&&(wn=e)):Fs()}function Fs(){P(gt,gt.current),P(hn,hn.current)}function mn(e){U(hn),wn===e&&(wn=null),U(gt)}var gt=w(0);function Do(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Gd(s)||Vd(s)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gs=0,xe=null,Ve=null,vt=null,Mo=!1,Ri=!1,Yl=!1,ko=0,Pa=0,Oi=null,Wv=0;function ut(){throw Error(r(321))}function Iu(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!dn(e[s],t[s]))return!1;return!0}function Hu(e,t,s,a,o,d){return gs=d,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?hp:td,Yl=!1,d=s(a,o),Yl=!1,Ri&&(d=km(t,s,a,o)),Mm(e),d}function Mm(e){z.H=Fa;var t=Ve!==null&&Ve.next!==null;if(gs=0,vt=Ve=xe=null,Mo=!1,Pa=0,Oi=null,t)throw Error(r(300));e===null||bt||(e=e.dependencies,e!==null&&So(e)&&(bt=!0))}function km(e,t,s,a){xe=e;var o=0;do{if(Ri&&(Oi=null),Pa=0,Ri=!1,25<=o)throw Error(r(301));if(o+=1,vt=Ve=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}z.H=mp,d=t(s,a)}while(Ri);return d}function Jv(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?Qa(t):t,e=e.useState()[0],(Ve!==null?Ve.memoizedState:null)!==e&&(xe.flags|=1024),t}function Bu(){var e=ko!==0;return ko=0,e}function qu(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function Yu(e){if(Mo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Mo=!1}gs=0,vt=Ve=xe=null,Ri=!1,Pa=ko=0,Oi=null}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?xe.memoizedState=vt=e:vt=vt.next=e,vt}function yt(){if(Ve===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=vt===null?xe.memoizedState:vt.next;if(t!==null)vt=t,Ve=e;else{if(e===null)throw xe.alternate===null?Error(r(467)):Error(r(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},vt===null?xe.memoizedState=vt=e:vt=vt.next=e}return vt}function Ro(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qa(e){var t=Pa;return Pa+=1,Oi===null&&(Oi=[]),e=Sm(Oi,e,t),t=xe,(vt===null?t.memoizedState:vt.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?hp:td),e}function Oo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qa(e);if(e.$$typeof===pe)return Lt(e)}throw Error(r(438,String(e)))}function Gu(e){var t=null,s=xe.updateQueue;if(s!==null&&(t=s.memoCache),t==null){var a=xe.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),s===null&&(s=Ro(),xe.updateQueue=s),s.memoCache=t,s=t.data[t.index],s===void 0)for(s=t.data[t.index]=Array(e),a=0;a<e;a++)s[a]=he;return t.index++,s}function ys(e,t){return typeof t=="function"?t(e):t}function zo(e){var t=yt();return Vu(t,Ve,e)}function Vu(e,t,s){var a=e.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=s;var o=e.baseQueue,d=a.pending;if(d!==null){if(o!==null){var m=o.next;o.next=d.next,d.next=m}t.baseQueue=o=d,a.pending=null}if(d=e.baseState,o===null)e.memoizedState=d;else{t=o.next;var x=m=null,S=null,A=t,L=!1;do{var H=A.lane&-536870913;if(H!==A.lane?(je&H)===H:(gs&H)===H){var D=A.revertLane;if(D===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),H===Ti&&(L=!0);else if((gs&D)===D){A=A.next,D===Ti&&(L=!0);continue}else H={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},S===null?(x=S=H,m=d):S=S.next=H,xe.lanes|=D,Ws|=D;H=A.action,Yl&&s(d,H),d=A.hasEagerState?A.eagerState:s(d,H)}else D={lane:H,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},S===null?(x=S=D,m=d):S=S.next=D,xe.lanes|=H,Ws|=H;A=A.next}while(A!==null&&A!==t);if(S===null?m=d:S.next=x,!dn(d,e.memoizedState)&&(bt=!0,L&&(s=Ai,s!==null)))throw s;e.memoizedState=d,e.baseState=m,e.baseQueue=S,a.lastRenderedState=d}return o===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Pu(e){var t=yt(),s=t.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var a=s.dispatch,o=s.pending,d=t.memoizedState;if(o!==null){s.pending=null;var m=o=o.next;do d=e(d,m.action),m=m.next;while(m!==o);dn(d,t.memoizedState)||(bt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),s.lastRenderedState=d}return[d,a]}function Rm(e,t,s){var a=xe,o=yt(),d=De;if(d){if(s===void 0)throw Error(r(407));s=s()}else s=t();var m=!dn((Ve||o).memoizedState,s);if(m&&(o.memoizedState=s,bt=!0),o=o.queue,Fu(Lm.bind(null,a,o,e),[e]),o.getSnapshot!==t||m||vt!==null&&vt.memoizedState.tag&1){if(a.flags|=2048,zi(9,{destroy:void 0},zm.bind(null,a,o,s,t),null),Fe===null)throw Error(r(349));d||(gs&127)!==0||Om(a,t,s)}return s}function Om(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=xe.updateQueue,t===null?(t=Ro(),xe.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function zm(e,t,s,a){t.value=s,t.getSnapshot=a,$m(t)&&Um(e)}function Lm(e,t,s){return s(function(){$m(t)&&Um(e)})}function $m(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!dn(e,s)}catch{return!0}}function Um(e){var t=Ol(e,2);t!==null&&an(t,e,2)}function Qu(e){var t=Kt();if(typeof e=="function"){var s=e;if(e=s(),Yl){Xt(!0);try{s()}finally{Xt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:e},t}function Im(e,t,s,a){return e.baseState=s,Vu(e,Ve,typeof a=="function"?a:ys)}function eb(e,t,s,a,o){if(Uo(e))throw Error(r(485));if(e=t.action,e!==null){var d={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){d.listeners.push(m)}};z.T!==null?s(!0):d.isTransition=!1,a(d),s=t.pending,s===null?(d.next=t.pending=d,Hm(t,d)):(d.next=s.next,t.pending=s.next=d)}}function Hm(e,t){var s=t.action,a=t.payload,o=e.state;if(t.isTransition){var d=z.T,m={};z.T=m;try{var x=s(o,a),S=z.S;S!==null&&S(m,x),Bm(e,t,x)}catch(A){Xu(e,t,A)}finally{d!==null&&m.types!==null&&(d.types=m.types),z.T=d}}else try{d=s(o,a),Bm(e,t,d)}catch(A){Xu(e,t,A)}}function Bm(e,t,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(a){qm(e,t,a)},function(a){return Xu(e,t,a)}):qm(e,t,s)}function qm(e,t,s){t.status="fulfilled",t.value=s,Ym(t),e.state=s,t=e.pending,t!==null&&(s=t.next,s===t?e.pending=null:(s=s.next,t.next=s,Hm(e,s)))}function Xu(e,t,s){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=s,Ym(t),t=t.next;while(t!==a)}e.action=null}function Ym(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Gm(e,t){return t}function Vm(e,t){if(De){var s=Fe.formState;if(s!==null){e:{var a=xe;if(De){if(st){t:{for(var o=st,d=Cn;o.nodeType!==8;){if(!d){o=null;break t}if(o=En(o.nextSibling),o===null){o=null;break t}}d=o.data,o=d==="F!"||d==="F"?o:null}if(o){st=En(o.nextSibling),a=o.data==="F!";break e}}Ys(a)}a=!1}a&&(t=s[0])}}return s=Kt(),s.memoizedState=s.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gm,lastRenderedState:t},s.queue=a,s=up.bind(null,xe,a),a.dispatch=s,a=Qu(!1),d=ed.bind(null,xe,!1,a.queue),a=Kt(),o={state:t,dispatch:null,action:e,pending:null},a.queue=o,s=eb.bind(null,xe,o,d,s),o.dispatch=s,a.memoizedState=e,[t,s,!1]}function Pm(e){var t=yt();return Qm(t,Ve,e)}function Qm(e,t,s){if(t=Vu(e,t,Gm)[0],e=zo(ys)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Qa(t)}catch(m){throw m===Di?wo:m}else a=t;t=yt();var o=t.queue,d=o.dispatch;return s!==t.memoizedState&&(xe.flags|=2048,zi(9,{destroy:void 0},tb.bind(null,o,s),null)),[a,d,e]}function tb(e,t){e.action=t}function Xm(e){var t=yt(),s=Ve;if(s!==null)return Qm(t,s,e);yt(),t=t.memoizedState,s=yt();var a=s.queue.dispatch;return s.memoizedState=e,[t,a,!1]}function zi(e,t,s,a){return e={tag:e,create:s,deps:a,inst:t,next:null},t=xe.updateQueue,t===null&&(t=Ro(),xe.updateQueue=t),s=t.lastEffect,s===null?t.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,t.lastEffect=e),e}function Fm(){return yt().memoizedState}function Lo(e,t,s,a){var o=Kt();xe.flags|=e,o.memoizedState=zi(1|t,{destroy:void 0},s,a===void 0?null:a)}function $o(e,t,s,a){var o=yt();a=a===void 0?null:a;var d=o.memoizedState.inst;Ve!==null&&a!==null&&Iu(a,Ve.memoizedState.deps)?o.memoizedState=zi(t,d,s,a):(xe.flags|=e,o.memoizedState=zi(1|t,d,s,a))}function Zm(e,t){Lo(8390656,8,e,t)}function Fu(e,t){$o(2048,8,e,t)}function nb(e){xe.flags|=4;var t=xe.updateQueue;if(t===null)t=Ro(),xe.updateQueue=t,t.events=[e];else{var s=t.events;s===null?t.events=[e]:s.push(e)}}function Km(e){var t=yt().memoizedState;return nb({ref:t,nextImpl:e}),function(){if(($e&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Wm(e,t){return $o(4,2,e,t)}function Jm(e,t){return $o(4,4,e,t)}function ep(e,t){if(typeof t=="function"){e=e();var s=t(e);return function(){typeof s=="function"?s():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tp(e,t,s){s=s!=null?s.concat([e]):null,$o(4,4,ep.bind(null,t,e),s)}function Zu(){}function np(e,t){var s=yt();t=t===void 0?null:t;var a=s.memoizedState;return t!==null&&Iu(t,a[1])?a[0]:(s.memoizedState=[e,t],e)}function sp(e,t){var s=yt();t=t===void 0?null:t;var a=s.memoizedState;if(t!==null&&Iu(t,a[1]))return a[0];if(a=e(),Yl){Xt(!0);try{e()}finally{Xt(!1)}}return s.memoizedState=[a,t],a}function Ku(e,t,s){return s===void 0||(gs&1073741824)!==0&&(je&261930)===0?e.memoizedState=t:(e.memoizedState=s,e=lg(),xe.lanes|=e,Ws|=e,s)}function lp(e,t,s,a){return dn(s,t)?s:ki.current!==null?(e=Ku(e,s,a),dn(e,t)||(bt=!0),e):(gs&42)===0||(gs&1073741824)!==0&&(je&261930)===0?(bt=!0,e.memoizedState=s):(e=lg(),xe.lanes|=e,Ws|=e,t)}function ip(e,t,s,a,o){var d=V.p;V.p=d!==0&&8>d?d:8;var m=z.T,x={};z.T=x,ed(e,!1,t,s);try{var S=o(),A=z.S;if(A!==null&&A(x,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var L=Kv(S,a);Xa(e,t,L,yn(e))}else Xa(e,t,a,yn(e))}catch(H){Xa(e,t,{then:function(){},status:"rejected",reason:H},yn())}finally{V.p=d,m!==null&&x.types!==null&&(m.types=x.types),z.T=m}}function sb(){}function Wu(e,t,s,a){if(e.tag!==5)throw Error(r(476));var o=ap(e).queue;ip(e,o,t,Z,s===null?sb:function(){return rp(e),s(a)})}function ap(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:Z},next:null};var s={};return t.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:s},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function rp(e){var t=ap(e);t.next===null&&(t=e.alternate.memoizedState),Xa(e,t.next.queue,{},yn())}function Ju(){return Lt(dr)}function op(){return yt().memoizedState}function cp(){return yt().memoizedState}function lb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var s=yn();e=Ps(s);var a=Qs(t,e,s);a!==null&&(an(a,t,s),Ya(a,t,s)),t={cache:Tu()},e.payload=t;return}t=t.return}}function ib(e,t,s){var a=yn();s={lane:a,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Uo(e)?dp(t,s):(s=yu(e,t,s,a),s!==null&&(an(s,e,a),fp(s,t,a)))}function up(e,t,s){var a=yn();Xa(e,t,s,a)}function Xa(e,t,s,a){var o={lane:a,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Uo(e))dp(t,o);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var m=t.lastRenderedState,x=d(m,s);if(o.hasEagerState=!0,o.eagerState=x,dn(x,m))return xo(e,t,o,0),Fe===null&&yo(),!1}catch{}finally{}if(s=yu(e,t,o,a),s!==null)return an(s,e,a),fp(s,t,a),!0}return!1}function ed(e,t,s,a){if(a={lane:2,revertLane:kd(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Uo(e)){if(t)throw Error(r(479))}else t=yu(e,s,a,2),t!==null&&an(t,e,2)}function Uo(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function dp(e,t){Ri=Mo=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function fp(e,t,s){if((s&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,rs(e,s)}}var Fa={readContext:Lt,use:Oo,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut};Fa.useEffectEvent=ut;var hp={readContext:Lt,use:Oo,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:Lt,useEffect:Zm,useImperativeHandle:function(e,t,s){s=s!=null?s.concat([e]):null,Lo(4194308,4,ep.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Lo(4194308,4,e,t)},useInsertionEffect:function(e,t){Lo(4,2,e,t)},useMemo:function(e,t){var s=Kt();t=t===void 0?null:t;var a=e();if(Yl){Xt(!0);try{e()}finally{Xt(!1)}}return s.memoizedState=[a,t],a},useReducer:function(e,t,s){var a=Kt();if(s!==void 0){var o=s(t);if(Yl){Xt(!0);try{s(t)}finally{Xt(!1)}}}else o=t;return a.memoizedState=a.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},a.queue=e,e=e.dispatch=ib.bind(null,xe,e),[a.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:function(e){e=Qu(e);var t=e.queue,s=up.bind(null,xe,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:Zu,useDeferredValue:function(e,t){var s=Kt();return Ku(s,e,t)},useTransition:function(){var e=Qu(!1);return e=ip.bind(null,xe,e.queue,!0,!1),Kt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var a=xe,o=Kt();if(De){if(s===void 0)throw Error(r(407));s=s()}else{if(s=t(),Fe===null)throw Error(r(349));(je&127)!==0||Om(a,t,s)}o.memoizedState=s;var d={value:s,getSnapshot:t};return o.queue=d,Zm(Lm.bind(null,a,d,e),[e]),a.flags|=2048,zi(9,{destroy:void 0},zm.bind(null,a,d,s,t),null),s},useId:function(){var e=Kt(),t=Fe.identifierPrefix;if(De){var s=Zn,a=Fn;s=(a&~(1<<32-Ft(a)-1)).toString(32)+s,t="_"+t+"R_"+s,s=ko++,0<s&&(t+="H"+s.toString(32)),t+="_"}else s=Wv++,t="_"+t+"r_"+s.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ju,useFormState:Vm,useActionState:Vm,useOptimistic:function(e){var t=Kt();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=ed.bind(null,xe,!0,s),s.dispatch=t,[e,t]},useMemoCache:Gu,useCacheRefresh:function(){return Kt().memoizedState=lb.bind(null,xe)},useEffectEvent:function(e){var t=Kt(),s={impl:e};return t.memoizedState=s,function(){if(($e&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},td={readContext:Lt,use:Oo,useCallback:np,useContext:Lt,useEffect:Fu,useImperativeHandle:tp,useInsertionEffect:Wm,useLayoutEffect:Jm,useMemo:sp,useReducer:zo,useRef:Fm,useState:function(){return zo(ys)},useDebugValue:Zu,useDeferredValue:function(e,t){var s=yt();return lp(s,Ve.memoizedState,e,t)},useTransition:function(){var e=zo(ys)[0],t=yt().memoizedState;return[typeof e=="boolean"?e:Qa(e),t]},useSyncExternalStore:Rm,useId:op,useHostTransitionStatus:Ju,useFormState:Pm,useActionState:Pm,useOptimistic:function(e,t){var s=yt();return Im(s,Ve,e,t)},useMemoCache:Gu,useCacheRefresh:cp};td.useEffectEvent=Km;var mp={readContext:Lt,use:Oo,useCallback:np,useContext:Lt,useEffect:Fu,useImperativeHandle:tp,useInsertionEffect:Wm,useLayoutEffect:Jm,useMemo:sp,useReducer:Pu,useRef:Fm,useState:function(){return Pu(ys)},useDebugValue:Zu,useDeferredValue:function(e,t){var s=yt();return Ve===null?Ku(s,e,t):lp(s,Ve.memoizedState,e,t)},useTransition:function(){var e=Pu(ys)[0],t=yt().memoizedState;return[typeof e=="boolean"?e:Qa(e),t]},useSyncExternalStore:Rm,useId:op,useHostTransitionStatus:Ju,useFormState:Xm,useActionState:Xm,useOptimistic:function(e,t){var s=yt();return Ve!==null?Im(s,Ve,e,t):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Gu,useCacheRefresh:cp};mp.useEffectEvent=Km;function nd(e,t,s,a){t=e.memoizedState,s=s(a,t),s=s==null?t:_({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var sd={enqueueSetState:function(e,t,s){e=e._reactInternals;var a=yn(),o=Ps(a);o.payload=t,s!=null&&(o.callback=s),t=Qs(e,o,a),t!==null&&(an(t,e,a),Ya(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var a=yn(),o=Ps(a);o.tag=1,o.payload=t,s!=null&&(o.callback=s),t=Qs(e,o,a),t!==null&&(an(t,e,a),Ya(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=yn(),a=Ps(s);a.tag=2,t!=null&&(a.callback=t),t=Qs(e,a,s),t!==null&&(an(t,e,s),Ya(t,e,s))}};function pp(e,t,s,a,o,d,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,d,m):t.prototype&&t.prototype.isPureReactComponent?!za(s,a)||!za(o,d):!0}function gp(e,t,s,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,a),t.state!==e&&sd.enqueueReplaceState(t,t.state,null)}function Gl(e,t){var s=t;if("ref"in t){s={};for(var a in t)a!=="ref"&&(s[a]=t[a])}if(e=e.defaultProps){s===t&&(s=_({},s));for(var o in e)s[o]===void 0&&(s[o]=e[o])}return s}function yp(e){go(e)}function xp(e){console.error(e)}function vp(e){go(e)}function Io(e,t){try{var s=e.onUncaughtError;s(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function bp(e,t,s){try{var a=e.onCaughtError;a(s.value,{componentStack:s.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function ld(e,t,s){return s=Ps(s),s.tag=3,s.payload={element:null},s.callback=function(){Io(e,t)},s}function _p(e){return e=Ps(e),e.tag=3,e}function Sp(e,t,s,a){var o=s.type.getDerivedStateFromError;if(typeof o=="function"){var d=a.value;e.payload=function(){return o(d)},e.callback=function(){bp(t,s,a)}}var m=s.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){bp(t,s,a),typeof o!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var x=a.stack;this.componentDidCatch(a.value,{componentStack:x!==null?x:""})})}function ab(e,t,s,a,o){if(s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=s.alternate,t!==null&&ji(t,s,o,!0),s=hn.current,s!==null){switch(s.tag){case 31:case 13:return wn===null?Ko():s.alternate===null&&dt===0&&(dt=3),s.flags&=-257,s.flags|=65536,s.lanes=o,a===Eo?s.flags|=16384:(t=s.updateQueue,t===null?s.updateQueue=new Set([a]):t.add(a),Ad(e,a,o)),!1;case 22:return s.flags|=65536,a===Eo?s.flags|=16384:(t=s.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},s.updateQueue=t):(s=t.retryQueue,s===null?t.retryQueue=new Set([a]):s.add(a)),Ad(e,a,o)),!1}throw Error(r(435,s.tag))}return Ad(e,a,o),Ko(),!1}if(De)return t=hn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,a!==Nu&&(e=Error(r(422),{cause:a}),Ua(_n(e,s)))):(a!==Nu&&(t=Error(r(423),{cause:a}),Ua(_n(t,s))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,a=_n(a,s),o=ld(e.stateNode,a,o),Ou(e,o),dt!==4&&(dt=2)),!1;var d=Error(r(520),{cause:a});if(d=_n(d,s),sr===null?sr=[d]:sr.push(d),dt!==4&&(dt=2),t===null)return!0;a=_n(a,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=o&-o,s.lanes|=e,e=ld(s.stateNode,a,e),Ou(s,e),!1;case 1:if(t=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Js===null||!Js.has(d))))return s.flags|=65536,o&=-o,s.lanes|=o,o=_p(o),Sp(o,e,s,a),Ou(s,o),!1}s=s.return}while(s!==null);return!1}var id=Error(r(461)),bt=!1;function $t(e,t,s,a){t.child=e===null?Em(t,null,s,a):ql(t,e.child,s,a)}function Np(e,t,s,a,o){s=s.render;var d=t.ref;if("ref"in a){var m={};for(var x in a)x!=="ref"&&(m[x]=a[x])}else m=a;return Ul(t),a=Hu(e,t,s,m,d,o),x=Bu(),e!==null&&!bt?(qu(e,t,o),xs(e,t,o)):(De&&x&&_u(t),t.flags|=1,$t(e,t,a,o),t.child)}function Cp(e,t,s,a,o){if(e===null){var d=s.type;return typeof d=="function"&&!xu(d)&&d.defaultProps===void 0&&s.compare===null?(t.tag=15,t.type=d,wp(e,t,d,a,o)):(e=bo(s.type,null,a,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!hd(e,o)){var m=d.memoizedProps;if(s=s.compare,s=s!==null?s:za,s(m,a)&&e.ref===t.ref)return xs(e,t,o)}return t.flags|=1,e=fs(d,a),e.ref=t.ref,e.return=t,t.child=e}function wp(e,t,s,a,o){if(e!==null){var d=e.memoizedProps;if(za(d,a)&&e.ref===t.ref)if(bt=!1,t.pendingProps=a=d,hd(e,o))(e.flags&131072)!==0&&(bt=!0);else return t.lanes=e.lanes,xs(e,t,o)}return ad(e,t,s,a,o)}function Ep(e,t,s,a){var o=a.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,e!==null){for(a=t.child=e.child,o=0;a!==null;)o=o|a.lanes|a.childLanes,a=a.sibling;a=o&~d}else a=0,t.child=null;return jp(e,t,d,s,a)}if((s&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Co(t,d!==null?d.cachePool:null),d!==null?Am(t,d):Lu(),Dm(t);else return a=t.lanes=536870912,jp(e,t,d!==null?d.baseLanes|s:s,s,a)}else d!==null?(Co(t,d.cachePool),Am(t,d),Fs(),t.memoizedState=null):(e!==null&&Co(t,null),Lu(),Fs());return $t(e,t,o,s),t.child}function Za(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function jp(e,t,s,a,o){var d=Du();return d=d===null?null:{parent:xt._currentValue,pool:d},t.memoizedState={baseLanes:s,cachePool:d},e!==null&&Co(t,null),Lu(),Dm(t),e!==null&&ji(e,t,a,!0),t.childLanes=o,null}function Ho(e,t){return t=qo({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Tp(e,t,s){return ql(t,e.child,null,s),e=Ho(t,t.pendingProps),e.flags|=2,mn(t),t.memoizedState=null,e}function rb(e,t,s){var a=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(De){if(a.mode==="hidden")return e=Ho(t,a),t.lanes=536870912,Za(null,e);if(Uu(t),(e=st)?(e=Hg(e,Cn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Bs!==null?{id:Fn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},s=dm(e),s.return=t,t.child=s,zt=t,st=null)):e=null,e===null)throw Ys(t);return t.lanes=536870912,null}return Ho(t,a)}var d=e.memoizedState;if(d!==null){var m=d.dehydrated;if(Uu(t),o)if(t.flags&256)t.flags&=-257,t=Tp(e,t,s);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(bt||ji(e,t,s,!1),o=(s&e.childLanes)!==0,bt||o){if(a=Fe,a!==null&&(m=to(a,s),m!==0&&m!==d.retryLane))throw d.retryLane=m,Ol(e,m),an(a,e,m),id;Ko(),t=Tp(e,t,s)}else e=d.treeContext,st=En(m.nextSibling),zt=t,De=!0,qs=null,Cn=!1,e!==null&&mm(t,e),t=Ho(t,a),t.flags|=4096;return t}return e=fs(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Bo(e,t){var s=t.ref;if(s===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(t.flags|=4194816)}}function ad(e,t,s,a,o){return Ul(t),s=Hu(e,t,s,a,void 0,o),a=Bu(),e!==null&&!bt?(qu(e,t,o),xs(e,t,o)):(De&&a&&_u(t),t.flags|=1,$t(e,t,s,o),t.child)}function Ap(e,t,s,a,o,d){return Ul(t),t.updateQueue=null,s=km(t,a,s,o),Mm(e),a=Bu(),e!==null&&!bt?(qu(e,t,d),xs(e,t,d)):(De&&a&&_u(t),t.flags|=1,$t(e,t,s,d),t.child)}function Dp(e,t,s,a,o){if(Ul(t),t.stateNode===null){var d=Ni,m=s.contextType;typeof m=="object"&&m!==null&&(d=Lt(m)),d=new s(a,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=sd,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=a,d.state=t.memoizedState,d.refs={},ku(t),m=s.contextType,d.context=typeof m=="object"&&m!==null?Lt(m):Ni,d.state=t.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(nd(t,s,m,a),d.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(m=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),m!==d.state&&sd.enqueueReplaceState(d,d.state,null),Va(t,a,d,o),Ga(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){d=t.stateNode;var x=t.memoizedProps,S=Gl(s,x);d.props=S;var A=d.context,L=s.contextType;m=Ni,typeof L=="object"&&L!==null&&(m=Lt(L));var H=s.getDerivedStateFromProps;L=typeof H=="function"||typeof d.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,L||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x||A!==m)&&gp(t,d,a,m),Vs=!1;var D=t.memoizedState;d.state=D,Va(t,a,d,o),Ga(),A=t.memoizedState,x||D!==A||Vs?(typeof H=="function"&&(nd(t,s,H,a),A=t.memoizedState),(S=Vs||pp(t,s,S,a,D,A,m))?(L||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=A),d.props=a,d.state=A,d.context=m,a=S):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{d=t.stateNode,Ru(e,t),m=t.memoizedProps,L=Gl(s,m),d.props=L,H=t.pendingProps,D=d.context,A=s.contextType,S=Ni,typeof A=="object"&&A!==null&&(S=Lt(A)),x=s.getDerivedStateFromProps,(A=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==H||D!==S)&&gp(t,d,a,S),Vs=!1,D=t.memoizedState,d.state=D,Va(t,a,d,o),Ga();var k=t.memoizedState;m!==H||D!==k||Vs||e!==null&&e.dependencies!==null&&So(e.dependencies)?(typeof x=="function"&&(nd(t,s,x,a),k=t.memoizedState),(L=Vs||pp(t,s,L,a,D,k,S)||e!==null&&e.dependencies!==null&&So(e.dependencies))?(A||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(a,k,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(a,k,S)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=k),d.props=a,d.state=k,d.context=S,a=L):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),a=!1)}return d=a,Bo(e,t),a=(t.flags&128)!==0,d||a?(d=t.stateNode,s=a&&typeof s.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&a?(t.child=ql(t,e.child,null,o),t.child=ql(t,null,s,o)):$t(e,t,s,o),t.memoizedState=d.state,e=t.child):e=xs(e,t,o),e}function Mp(e,t,s,a){return Ll(),t.flags|=256,$t(e,t,s,a),t.child}var rd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function od(e){return{baseLanes:e,cachePool:bm()}}function cd(e,t,s){return e=e!==null?e.childLanes&~s:0,t&&(e|=gn),e}function kp(e,t,s){var a=t.pendingProps,o=!1,d=(t.flags&128)!==0,m;if((m=d)||(m=e!==null&&e.memoizedState===null?!1:(gt.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(De){if(o?Xs(t):Fs(),(e=st)?(e=Hg(e,Cn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Bs!==null?{id:Fn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},s=dm(e),s.return=t,t.child=s,zt=t,st=null)):e=null,e===null)throw Ys(t);return Vd(e)?t.lanes=32:t.lanes=536870912,null}var x=a.children;return a=a.fallback,o?(Fs(),o=t.mode,x=qo({mode:"hidden",children:x},o),a=zl(a,o,s,null),x.return=t,a.return=t,x.sibling=a,t.child=x,a=t.child,a.memoizedState=od(s),a.childLanes=cd(e,m,s),t.memoizedState=rd,Za(null,a)):(Xs(t),ud(t,x))}var S=e.memoizedState;if(S!==null&&(x=S.dehydrated,x!==null)){if(d)t.flags&256?(Xs(t),t.flags&=-257,t=dd(e,t,s)):t.memoizedState!==null?(Fs(),t.child=e.child,t.flags|=128,t=null):(Fs(),x=a.fallback,o=t.mode,a=qo({mode:"visible",children:a.children},o),x=zl(x,o,s,null),x.flags|=2,a.return=t,x.return=t,a.sibling=x,t.child=a,ql(t,e.child,null,s),a=t.child,a.memoizedState=od(s),a.childLanes=cd(e,m,s),t.memoizedState=rd,t=Za(null,a));else if(Xs(t),Vd(x)){if(m=x.nextSibling&&x.nextSibling.dataset,m)var A=m.dgst;m=A,a=Error(r(419)),a.stack="",a.digest=m,Ua({value:a,source:null,stack:null}),t=dd(e,t,s)}else if(bt||ji(e,t,s,!1),m=(s&e.childLanes)!==0,bt||m){if(m=Fe,m!==null&&(a=to(m,s),a!==0&&a!==S.retryLane))throw S.retryLane=a,Ol(e,a),an(m,e,a),id;Gd(x)||Ko(),t=dd(e,t,s)}else Gd(x)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,st=En(x.nextSibling),zt=t,De=!0,qs=null,Cn=!1,e!==null&&mm(t,e),t=ud(t,a.children),t.flags|=4096);return t}return o?(Fs(),x=a.fallback,o=t.mode,S=e.child,A=S.sibling,a=fs(S,{mode:"hidden",children:a.children}),a.subtreeFlags=S.subtreeFlags&65011712,A!==null?x=fs(A,x):(x=zl(x,o,s,null),x.flags|=2),x.return=t,a.return=t,a.sibling=x,t.child=a,Za(null,a),a=t.child,x=e.child.memoizedState,x===null?x=od(s):(o=x.cachePool,o!==null?(S=xt._currentValue,o=o.parent!==S?{parent:S,pool:S}:o):o=bm(),x={baseLanes:x.baseLanes|s,cachePool:o}),a.memoizedState=x,a.childLanes=cd(e,m,s),t.memoizedState=rd,Za(e.child,a)):(Xs(t),s=e.child,e=s.sibling,s=fs(s,{mode:"visible",children:a.children}),s.return=t,s.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=s,t.memoizedState=null,s)}function ud(e,t){return t=qo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function qo(e,t){return e=fn(22,e,null,t),e.lanes=0,e}function dd(e,t,s){return ql(t,e.child,null,s),e=ud(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rp(e,t,s){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Eu(e.return,t,s)}function fd(e,t,s,a,o,d){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:o,treeForkCount:d}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=a,m.tail=s,m.tailMode=o,m.treeForkCount=d)}function Op(e,t,s){var a=t.pendingProps,o=a.revealOrder,d=a.tail;a=a.children;var m=gt.current,x=(m&2)!==0;if(x?(m=m&1|2,t.flags|=128):m&=1,P(gt,m),$t(e,t,a,s),a=De?$a:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rp(e,s,t);else if(e.tag===19)Rp(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(s=t.child,o=null;s!==null;)e=s.alternate,e!==null&&Do(e)===null&&(o=s),s=s.sibling;s=o,s===null?(o=t.child,t.child=null):(o=s.sibling,s.sibling=null),fd(t,!1,o,s,d,a);break;case"backwards":case"unstable_legacy-backwards":for(s=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Do(e)===null){t.child=o;break}e=o.sibling,o.sibling=s,s=o,o=e}fd(t,!0,s,null,d,a);break;case"together":fd(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function xs(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Ws|=t.lanes,(s&t.childLanes)===0)if(e!==null){if(ji(e,t,s,!1),(s&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,s=fs(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=fs(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function hd(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&So(e)))}function ob(e,t,s){switch(t.tag){case 3:rt(t,t.stateNode.containerInfo),Gs(t,xt,e.memoizedState.cache),Ll();break;case 27:case 5:Yn(t);break;case 4:rt(t,t.stateNode.containerInfo);break;case 10:Gs(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Uu(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Xs(t),t.flags|=128,null):(s&t.child.childLanes)!==0?kp(e,t,s):(Xs(t),e=xs(e,t,s),e!==null?e.sibling:null);Xs(t);break;case 19:var o=(e.flags&128)!==0;if(a=(s&t.childLanes)!==0,a||(ji(e,t,s,!1),a=(s&t.childLanes)!==0),o){if(a)return Op(e,t,s);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),P(gt,gt.current),a)break;return null;case 22:return t.lanes=0,Ep(e,t,s,t.pendingProps);case 24:Gs(t,xt,e.memoizedState.cache)}return xs(e,t,s)}function zp(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps)bt=!0;else{if(!hd(e,s)&&(t.flags&128)===0)return bt=!1,ob(e,t,s);bt=(e.flags&131072)!==0}else bt=!1,De&&(t.flags&1048576)!==0&&hm(t,$a,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Hl(t.elementType),t.type=e,typeof e=="function")xu(e)?(a=Gl(e,a),t.tag=1,t=Dp(null,t,e,a,s)):(t.tag=0,t=ad(null,t,e,a,s));else{if(e!=null){var o=e.$$typeof;if(o===ie){t.tag=11,t=Np(null,t,e,a,s);break e}else if(o===oe){t.tag=14,t=Cp(null,t,e,a,s);break e}}throw t=St(e)||e,Error(r(306,t,""))}}return t;case 0:return ad(e,t,t.type,t.pendingProps,s);case 1:return a=t.type,o=Gl(a,t.pendingProps),Dp(e,t,a,o,s);case 3:e:{if(rt(t,t.stateNode.containerInfo),e===null)throw Error(r(387));a=t.pendingProps;var d=t.memoizedState;o=d.element,Ru(e,t),Va(t,a,null,s);var m=t.memoizedState;if(a=m.cache,Gs(t,xt,a),a!==d.cache&&ju(t,[xt],s,!0),Ga(),a=m.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=Mp(e,t,a,s);break e}else if(a!==o){o=_n(Error(r(424)),t),Ua(o),t=Mp(e,t,a,s);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(st=En(e.firstChild),zt=t,De=!0,qs=null,Cn=!0,s=Em(t,null,a,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ll(),a===o){t=xs(e,t,s);break e}$t(e,t,a,s)}t=t.child}return t;case 26:return Bo(e,t),e===null?(s=Pg(t.type,null,t.pendingProps,null))?t.memoizedState=s:De||(s=t.type,e=t.pendingProps,a=lc(ye.current).createElement(s),a[wt]=t,a[nt]=e,Ut(a,s,e),ot(a),t.stateNode=a):t.memoizedState=Pg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Yn(t),e===null&&De&&(a=t.stateNode=Yg(t.type,t.pendingProps,ye.current),zt=t,Cn=!0,o=st,sl(t.type)?(Pd=o,st=En(a.firstChild)):st=o),$t(e,t,t.pendingProps.children,s),Bo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&De&&((o=a=st)&&(a=Ub(a,t.type,t.pendingProps,Cn),a!==null?(t.stateNode=a,zt=t,st=En(a.firstChild),Cn=!1,o=!0):o=!1),o||Ys(t)),Yn(t),o=t.type,d=t.pendingProps,m=e!==null?e.memoizedProps:null,a=d.children,Bd(o,d)?a=null:m!==null&&Bd(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=Hu(e,t,Jv,null,null,s),dr._currentValue=o),Bo(e,t),$t(e,t,a,s),t.child;case 6:return e===null&&De&&((e=s=st)&&(s=Ib(s,t.pendingProps,Cn),s!==null?(t.stateNode=s,zt=t,st=null,e=!0):e=!1),e||Ys(t)),null;case 13:return kp(e,t,s);case 4:return rt(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ql(t,null,a,s):$t(e,t,a,s),t.child;case 11:return Np(e,t,t.type,t.pendingProps,s);case 7:return $t(e,t,t.pendingProps,s),t.child;case 8:return $t(e,t,t.pendingProps.children,s),t.child;case 12:return $t(e,t,t.pendingProps.children,s),t.child;case 10:return a=t.pendingProps,Gs(t,t.type,a.value),$t(e,t,a.children,s),t.child;case 9:return o=t.type._context,a=t.pendingProps.children,Ul(t),o=Lt(o),a=a(o),t.flags|=1,$t(e,t,a,s),t.child;case 14:return Cp(e,t,t.type,t.pendingProps,s);case 15:return wp(e,t,t.type,t.pendingProps,s);case 19:return Op(e,t,s);case 31:return rb(e,t,s);case 22:return Ep(e,t,s,t.pendingProps);case 24:return Ul(t),a=Lt(xt),e===null?(o=Du(),o===null&&(o=Fe,d=Tu(),o.pooledCache=d,d.refCount++,d!==null&&(o.pooledCacheLanes|=s),o=d),t.memoizedState={parent:a,cache:o},ku(t),Gs(t,xt,o)):((e.lanes&s)!==0&&(Ru(e,t),Va(t,null,null,s),Ga()),o=e.memoizedState,d=t.memoizedState,o.parent!==a?(o={parent:a,cache:a},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Gs(t,xt,a)):(a=d.cache,Gs(t,xt,a),a!==o.cache&&ju(t,[xt],s,!0))),$t(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function vs(e){e.flags|=4}function md(e,t,s,a,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(og())e.flags|=8192;else throw Bl=Eo,Mu}else e.flags&=-16777217}function Lp(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Kg(t))if(og())e.flags|=8192;else throw Bl=Eo,Mu}function Yo(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?on():536870912,e.lanes|=t,Ii|=t)}function Ka(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(t)for(var o=e.child;o!==null;)s|=o.lanes|o.childLanes,a|=o.subtreeFlags&65011712,a|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)s|=o.lanes|o.childLanes,a|=o.subtreeFlags,a|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=a,e.childLanes=s,t}function cb(e,t,s){var a=t.pendingProps;switch(Su(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return lt(t),null;case 3:return s=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ps(xt),Ke(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ei(t)?vs(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Cu())),lt(t),null;case 26:var o=t.type,d=t.memoizedState;return e===null?(vs(t),d!==null?(lt(t),Lp(t,d)):(lt(t),md(t,o,null,a,s))):d?d!==e.memoizedState?(vs(t),lt(t),Lp(t,d)):(lt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&vs(t),lt(t),md(t,o,e,a,s)),null;case 27:if(Rs(t),s=ye.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&vs(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return lt(t),null}e=W.current,Ei(t)?pm(t):(e=Yg(o,a,s),t.stateNode=e,vs(t))}return lt(t),null;case 5:if(Rs(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&vs(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return lt(t),null}if(d=W.current,Ei(t))pm(t);else{var m=lc(ye.current);switch(d){case 1:d=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:d=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":d=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":d=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":d=m.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof a.is=="string"?m.createElement("select",{is:a.is}):m.createElement("select"),a.multiple?d.multiple=!0:a.size&&(d.size=a.size);break;default:d=typeof a.is=="string"?m.createElement(o,{is:a.is}):m.createElement(o)}}d[wt]=t,d[nt]=a;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)d.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=d;e:switch(Ut(d,o,a),o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&vs(t)}}return lt(t),md(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,s),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&vs(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(r(166));if(e=ye.current,Ei(t)){if(e=t.stateNode,s=t.memoizedProps,a=null,o=zt,o!==null)switch(o.tag){case 27:case 5:a=o.memoizedProps}e[wt]=t,e=!!(e.nodeValue===s||a!==null&&a.suppressHydrationWarning===!0||kg(e.nodeValue,s)),e||Ys(t,!0)}else e=lc(e).createTextNode(a),e[wt]=t,t.stateNode=e}return lt(t),null;case 31:if(s=t.memoizedState,e===null||e.memoizedState!==null){if(a=Ei(t),s!==null){if(e===null){if(!a)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[wt]=t}else Ll(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;lt(t),e=!1}else s=Cu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return t.flags&256?(mn(t),t):(mn(t),null);if((t.flags&128)!==0)throw Error(r(558))}return lt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Ei(t),a!==null&&a.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[wt]=t}else Ll(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;lt(t),o=!1}else o=Cu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(mn(t),t):(mn(t),null)}return mn(t),(t.flags&128)!==0?(t.lanes=s,t):(s=a!==null,e=e!==null&&e.memoizedState!==null,s&&(a=t.child,o=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(o=a.alternate.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==o&&(a.flags|=2048)),s!==e&&s&&(t.child.flags|=8192),Yo(t,t.updateQueue),lt(t),null);case 4:return Ke(),e===null&&Ld(t.stateNode.containerInfo),lt(t),null;case 10:return ps(t.type),lt(t),null;case 19:if(U(gt),a=t.memoizedState,a===null)return lt(t),null;if(o=(t.flags&128)!==0,d=a.rendering,d===null)if(o)Ka(a,!1);else{if(dt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Do(e),d!==null){for(t.flags|=128,Ka(a,!1),e=d.updateQueue,t.updateQueue=e,Yo(t,e),t.subtreeFlags=0,e=s,s=t.child;s!==null;)um(s,e),s=s.sibling;return P(gt,gt.current&1|2),De&&hs(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Qt()>Xo&&(t.flags|=128,o=!0,Ka(a,!1),t.lanes=4194304)}else{if(!o)if(e=Do(d),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Yo(t,e),Ka(a,!0),a.tail===null&&a.tailMode==="hidden"&&!d.alternate&&!De)return lt(t),null}else 2*Qt()-a.renderingStartTime>Xo&&s!==536870912&&(t.flags|=128,o=!0,Ka(a,!1),t.lanes=4194304);a.isBackwards?(d.sibling=t.child,t.child=d):(e=a.last,e!==null?e.sibling=d:t.child=d,a.last=d)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Qt(),e.sibling=null,s=gt.current,P(gt,o?s&1|2:s&1),De&&hs(t,a.treeForkCount),e):(lt(t),null);case 22:case 23:return mn(t),$u(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(s&536870912)!==0&&(t.flags&128)===0&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),s=t.updateQueue,s!==null&&Yo(t,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==s&&(t.flags|=2048),e!==null&&U(Il),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),ps(xt),lt(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function ub(e,t){switch(Su(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ps(xt),Ke(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Rs(t),null;case 31:if(t.memoizedState!==null){if(mn(t),t.alternate===null)throw Error(r(340));Ll()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(mn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Ll()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return U(gt),null;case 4:return Ke(),null;case 10:return ps(t.type),null;case 22:case 23:return mn(t),$u(),e!==null&&U(Il),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ps(xt),null;case 25:return null;default:return null}}function $p(e,t){switch(Su(t),t.tag){case 3:ps(xt),Ke();break;case 26:case 27:case 5:Rs(t);break;case 4:Ke();break;case 31:t.memoizedState!==null&&mn(t);break;case 13:mn(t);break;case 19:U(gt);break;case 10:ps(t.type);break;case 22:case 23:mn(t),$u(),e!==null&&U(Il);break;case 24:ps(xt)}}function Wa(e,t){try{var s=t.updateQueue,a=s!==null?s.lastEffect:null;if(a!==null){var o=a.next;s=o;do{if((s.tag&e)===e){a=void 0;var d=s.create,m=s.inst;a=d(),m.destroy=a}s=s.next}while(s!==o)}}catch(x){Be(t,t.return,x)}}function Zs(e,t,s){try{var a=t.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var d=o.next;a=d;do{if((a.tag&e)===e){var m=a.inst,x=m.destroy;if(x!==void 0){m.destroy=void 0,o=t;var S=s,A=x;try{A()}catch(L){Be(o,S,L)}}}a=a.next}while(a!==d)}}catch(L){Be(t,t.return,L)}}function Up(e){var t=e.updateQueue;if(t!==null){var s=e.stateNode;try{Tm(t,s)}catch(a){Be(e,e.return,a)}}}function Ip(e,t,s){s.props=Gl(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(a){Be(e,t,a)}}function Ja(e,t){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof s=="function"?e.refCleanup=s(a):s.current=a}}catch(o){Be(e,t,o)}}function Kn(e,t){var s=e.ref,a=e.refCleanup;if(s!==null)if(typeof a=="function")try{a()}catch(o){Be(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(o){Be(e,t,o)}else s.current=null}function Hp(e){var t=e.type,s=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&a.focus();break e;case"img":s.src?a.src=s.src:s.srcSet&&(a.srcset=s.srcSet)}}catch(o){Be(e,e.return,o)}}function pd(e,t,s){try{var a=e.stateNode;kb(a,e.type,s,t),a[nt]=t}catch(o){Be(e,e.return,o)}}function Bp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&sl(e.type)||e.tag===4}function gd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&sl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yd(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,t):(t=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,t.appendChild(e),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=un));else if(a!==4&&(a===27&&sl(e.type)&&(s=e.stateNode,t=null),e=e.child,e!==null))for(yd(e,t,s),e=e.sibling;e!==null;)yd(e,t,s),e=e.sibling}function Go(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(a!==4&&(a===27&&sl(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Go(e,t,s),e=e.sibling;e!==null;)Go(e,t,s),e=e.sibling}function qp(e){var t=e.stateNode,s=e.memoizedProps;try{for(var a=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);Ut(t,a,s),t[wt]=e,t[nt]=s}catch(d){Be(e,e.return,d)}}var bs=!1,_t=!1,xd=!1,Yp=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function db(e,t){if(e=e.containerInfo,Id=dc,e=tm(e),du(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var o=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var m=0,x=-1,S=-1,A=0,L=0,H=e,D=null;t:for(;;){for(var k;H!==s||o!==0&&H.nodeType!==3||(x=m+o),H!==d||a!==0&&H.nodeType!==3||(S=m+a),H.nodeType===3&&(m+=H.nodeValue.length),(k=H.firstChild)!==null;)D=H,H=k;for(;;){if(H===e)break t;if(D===s&&++A===o&&(x=m),D===d&&++L===a&&(S=m),(k=H.nextSibling)!==null)break;H=D,D=H.parentNode}H=k}s=x===-1||S===-1?null:{start:x,end:S}}else s=null}s=s||{start:0,end:0}}else s=null;for(Hd={focusedElem:e,selectionRange:s},dc=!1,Mt=t;Mt!==null;)if(t=Mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Mt=e;else for(;Mt!==null;){switch(t=Mt,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)o=e[s],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=t,o=d.memoizedProps,d=d.memoizedState,a=s.stateNode;try{var J=Gl(s.type,o);e=a.getSnapshotBeforeUpdate(J,d),a.__reactInternalSnapshotBeforeUpdate=e}catch(re){Be(s,s.return,re)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,s=e.nodeType,s===9)Yd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Yd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Mt=e;break}Mt=t.return}}function Gp(e,t,s){var a=s.flags;switch(s.tag){case 0:case 11:case 15:Ss(e,s),a&4&&Wa(5,s);break;case 1:if(Ss(e,s),a&4)if(e=s.stateNode,t===null)try{e.componentDidMount()}catch(m){Be(s,s.return,m)}else{var o=Gl(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Be(s,s.return,m)}}a&64&&Up(s),a&512&&Ja(s,s.return);break;case 3:if(Ss(e,s),a&64&&(e=s.updateQueue,e!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{Tm(e,t)}catch(m){Be(s,s.return,m)}}break;case 27:t===null&&a&4&&qp(s);case 26:case 5:Ss(e,s),t===null&&a&4&&Hp(s),a&512&&Ja(s,s.return);break;case 12:Ss(e,s);break;case 31:Ss(e,s),a&4&&Qp(e,s);break;case 13:Ss(e,s),a&4&&Xp(e,s),a&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=bb.bind(null,s),Hb(e,s))));break;case 22:if(a=s.memoizedState!==null||bs,!a){t=t!==null&&t.memoizedState!==null||_t,o=bs;var d=_t;bs=a,(_t=t)&&!d?Ns(e,s,(s.subtreeFlags&8772)!==0):Ss(e,s),bs=o,_t=d}break;case 30:break;default:Ss(e,s)}}function Vp(e){var t=e.alternate;t!==null&&(e.alternate=null,Vp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ci(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var at=null,tn=!1;function _s(e,t,s){for(s=s.child;s!==null;)Pp(e,t,s),s=s.sibling}function Pp(e,t,s){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(ls,s)}catch{}switch(s.tag){case 26:_t||Kn(s,t),_s(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:_t||Kn(s,t);var a=at,o=tn;sl(s.type)&&(at=s.stateNode,tn=!1),_s(e,t,s),or(s.stateNode),at=a,tn=o;break;case 5:_t||Kn(s,t);case 6:if(a=at,o=tn,at=null,_s(e,t,s),at=a,tn=o,at!==null)if(tn)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(s.stateNode)}catch(d){Be(s,t,d)}else try{at.removeChild(s.stateNode)}catch(d){Be(s,t,d)}break;case 18:at!==null&&(tn?(e=at,Ug(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Qi(e)):Ug(at,s.stateNode));break;case 4:a=at,o=tn,at=s.stateNode.containerInfo,tn=!0,_s(e,t,s),at=a,tn=o;break;case 0:case 11:case 14:case 15:Zs(2,s,t),_t||Zs(4,s,t),_s(e,t,s);break;case 1:_t||(Kn(s,t),a=s.stateNode,typeof a.componentWillUnmount=="function"&&Ip(s,t,a)),_s(e,t,s);break;case 21:_s(e,t,s);break;case 22:_t=(a=_t)||s.memoizedState!==null,_s(e,t,s),_t=a;break;default:_s(e,t,s)}}function Qp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Qi(e)}catch(s){Be(t,t.return,s)}}}function Xp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qi(e)}catch(s){Be(t,t.return,s)}}function fb(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Yp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Yp),t;default:throw Error(r(435,e.tag))}}function Vo(e,t){var s=fb(e);t.forEach(function(a){if(!s.has(a)){s.add(a);var o=_b.bind(null,e,a);a.then(o,o)}})}function nn(e,t){var s=t.deletions;if(s!==null)for(var a=0;a<s.length;a++){var o=s[a],d=e,m=t,x=m;e:for(;x!==null;){switch(x.tag){case 27:if(sl(x.type)){at=x.stateNode,tn=!1;break e}break;case 5:at=x.stateNode,tn=!1;break e;case 3:case 4:at=x.stateNode.containerInfo,tn=!0;break e}x=x.return}if(at===null)throw Error(r(160));Pp(d,m,o),at=null,tn=!1,d=o.alternate,d!==null&&(d.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Fp(t,e),t=t.sibling}var $n=null;function Fp(e,t){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:nn(t,e),sn(e),a&4&&(Zs(3,e,e.return),Wa(3,e),Zs(5,e,e.return));break;case 1:nn(t,e),sn(e),a&512&&(_t||s===null||Kn(s,s.return)),a&64&&bs&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?a:s.concat(a))));break;case 26:var o=$n;if(nn(t,e),sn(e),a&512&&(_t||s===null||Kn(s,s.return)),a&4){var d=s!==null?s.memoizedState:null;if(a=e.memoizedState,s===null)if(a===null)if(e.stateNode===null){e:{a=e.type,s=e.memoizedProps,o=o.ownerDocument||o;t:switch(a){case"title":d=o.getElementsByTagName("title")[0],(!d||d[oi]||d[wt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=o.createElement(a),o.head.insertBefore(d,o.querySelector("head > title"))),Ut(d,a,s),d[wt]=e,ot(d),a=d;break e;case"link":var m=Fg("link","href",o).get(a+(s.href||""));if(m){for(var x=0;x<m.length;x++)if(d=m[x],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){m.splice(x,1);break t}}d=o.createElement(a),Ut(d,a,s),o.head.appendChild(d);break;case"meta":if(m=Fg("meta","content",o).get(a+(s.content||""))){for(x=0;x<m.length;x++)if(d=m[x],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){m.splice(x,1);break t}}d=o.createElement(a),Ut(d,a,s),o.head.appendChild(d);break;default:throw Error(r(468,a))}d[wt]=e,ot(d),a=d}e.stateNode=a}else Zg(o,e.type,e.stateNode);else e.stateNode=Xg(o,a,e.memoizedProps);else d!==a?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,a===null?Zg(o,e.type,e.stateNode):Xg(o,a,e.memoizedProps)):a===null&&e.stateNode!==null&&pd(e,e.memoizedProps,s.memoizedProps)}break;case 27:nn(t,e),sn(e),a&512&&(_t||s===null||Kn(s,s.return)),s!==null&&a&4&&pd(e,e.memoizedProps,s.memoizedProps);break;case 5:if(nn(t,e),sn(e),a&512&&(_t||s===null||Kn(s,s.return)),e.flags&32){o=e.stateNode;try{Rn(o,"")}catch(J){Be(e,e.return,J)}}a&4&&e.stateNode!=null&&(o=e.memoizedProps,pd(e,o,s!==null?s.memoizedProps:o)),a&1024&&(xd=!0);break;case 6:if(nn(t,e),sn(e),a&4){if(e.stateNode===null)throw Error(r(162));a=e.memoizedProps,s=e.stateNode;try{s.nodeValue=a}catch(J){Be(e,e.return,J)}}break;case 3:if(rc=null,o=$n,$n=ic(t.containerInfo),nn(t,e),$n=o,sn(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{Qi(t.containerInfo)}catch(J){Be(e,e.return,J)}xd&&(xd=!1,Zp(e));break;case 4:a=$n,$n=ic(e.stateNode.containerInfo),nn(t,e),sn(e),$n=a;break;case 12:nn(t,e),sn(e);break;case 31:nn(t,e),sn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Vo(e,a)));break;case 13:nn(t,e),sn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Qo=Qt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Vo(e,a)));break;case 22:o=e.memoizedState!==null;var S=s!==null&&s.memoizedState!==null,A=bs,L=_t;if(bs=A||o,_t=L||S,nn(t,e),_t=L,bs=A,sn(e),a&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(s===null||S||bs||_t||Vl(e)),s=null,t=e;;){if(t.tag===5||t.tag===26){if(s===null){S=s=t;try{if(d=S.stateNode,o)m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{x=S.stateNode;var H=S.memoizedProps.style,D=H!=null&&H.hasOwnProperty("display")?H.display:null;x.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(J){Be(S,S.return,J)}}}else if(t.tag===6){if(s===null){S=t;try{S.stateNode.nodeValue=o?"":S.memoizedProps}catch(J){Be(S,S.return,J)}}}else if(t.tag===18){if(s===null){S=t;try{var k=S.stateNode;o?Ig(k,!0):Ig(S.stateNode,!1)}catch(J){Be(S,S.return,J)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(s=a.retryQueue,s!==null&&(a.retryQueue=null,Vo(e,s))));break;case 19:nn(t,e),sn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Vo(e,a)));break;case 30:break;case 21:break;default:nn(t,e),sn(e)}}function sn(e){var t=e.flags;if(t&2){try{for(var s,a=e.return;a!==null;){if(Bp(a)){s=a;break}a=a.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var o=s.stateNode,d=gd(e);Go(e,d,o);break;case 5:var m=s.stateNode;s.flags&32&&(Rn(m,""),s.flags&=-33);var x=gd(e);Go(e,x,m);break;case 3:case 4:var S=s.stateNode.containerInfo,A=gd(e);yd(e,A,S);break;default:throw Error(r(161))}}catch(L){Be(e,e.return,L)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Zp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Zp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ss(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Gp(e,t.alternate,t),t=t.sibling}function Vl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Zs(4,t,t.return),Vl(t);break;case 1:Kn(t,t.return);var s=t.stateNode;typeof s.componentWillUnmount=="function"&&Ip(t,t.return,s),Vl(t);break;case 27:or(t.stateNode);case 26:case 5:Kn(t,t.return),Vl(t);break;case 22:t.memoizedState===null&&Vl(t);break;case 30:Vl(t);break;default:Vl(t)}e=e.sibling}}function Ns(e,t,s){for(s=s&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,o=e,d=t,m=d.flags;switch(d.tag){case 0:case 11:case 15:Ns(o,d,s),Wa(4,d);break;case 1:if(Ns(o,d,s),a=d,o=a.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(A){Be(a,a.return,A)}if(a=d,o=a.updateQueue,o!==null){var x=a.stateNode;try{var S=o.shared.hiddenCallbacks;if(S!==null)for(o.shared.hiddenCallbacks=null,o=0;o<S.length;o++)jm(S[o],x)}catch(A){Be(a,a.return,A)}}s&&m&64&&Up(d),Ja(d,d.return);break;case 27:qp(d);case 26:case 5:Ns(o,d,s),s&&a===null&&m&4&&Hp(d),Ja(d,d.return);break;case 12:Ns(o,d,s);break;case 31:Ns(o,d,s),s&&m&4&&Qp(o,d);break;case 13:Ns(o,d,s),s&&m&4&&Xp(o,d);break;case 22:d.memoizedState===null&&Ns(o,d,s),Ja(d,d.return);break;case 30:break;default:Ns(o,d,s)}t=t.sibling}}function vd(e,t){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ia(s))}function bd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ia(e))}function Un(e,t,s,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Kp(e,t,s,a),t=t.sibling}function Kp(e,t,s,a){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Un(e,t,s,a),o&2048&&Wa(9,t);break;case 1:Un(e,t,s,a);break;case 3:Un(e,t,s,a),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ia(e)));break;case 12:if(o&2048){Un(e,t,s,a),e=t.stateNode;try{var d=t.memoizedProps,m=d.id,x=d.onPostCommit;typeof x=="function"&&x(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){Be(t,t.return,S)}}else Un(e,t,s,a);break;case 31:Un(e,t,s,a);break;case 13:Un(e,t,s,a);break;case 23:break;case 22:d=t.stateNode,m=t.alternate,t.memoizedState!==null?d._visibility&2?Un(e,t,s,a):er(e,t):d._visibility&2?Un(e,t,s,a):(d._visibility|=2,Li(e,t,s,a,(t.subtreeFlags&10256)!==0||!1)),o&2048&&vd(m,t);break;case 24:Un(e,t,s,a),o&2048&&bd(t.alternate,t);break;default:Un(e,t,s,a)}}function Li(e,t,s,a,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,m=t,x=s,S=a,A=m.flags;switch(m.tag){case 0:case 11:case 15:Li(d,m,x,S,o),Wa(8,m);break;case 23:break;case 22:var L=m.stateNode;m.memoizedState!==null?L._visibility&2?Li(d,m,x,S,o):er(d,m):(L._visibility|=2,Li(d,m,x,S,o)),o&&A&2048&&vd(m.alternate,m);break;case 24:Li(d,m,x,S,o),o&&A&2048&&bd(m.alternate,m);break;default:Li(d,m,x,S,o)}t=t.sibling}}function er(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var s=e,a=t,o=a.flags;switch(a.tag){case 22:er(s,a),o&2048&&vd(a.alternate,a);break;case 24:er(s,a),o&2048&&bd(a.alternate,a);break;default:er(s,a)}t=t.sibling}}var tr=8192;function $i(e,t,s){if(e.subtreeFlags&tr)for(e=e.child;e!==null;)Wp(e,t,s),e=e.sibling}function Wp(e,t,s){switch(e.tag){case 26:$i(e,t,s),e.flags&tr&&e.memoizedState!==null&&Wb(s,$n,e.memoizedState,e.memoizedProps);break;case 5:$i(e,t,s);break;case 3:case 4:var a=$n;$n=ic(e.stateNode.containerInfo),$i(e,t,s),$n=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=tr,tr=16777216,$i(e,t,s),tr=a):$i(e,t,s));break;default:$i(e,t,s)}}function Jp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function nr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var a=t[s];Mt=a,tg(a,e)}Jp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)eg(e),e=e.sibling}function eg(e){switch(e.tag){case 0:case 11:case 15:nr(e),e.flags&2048&&Zs(9,e,e.return);break;case 3:nr(e);break;case 12:nr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Po(e)):nr(e);break;default:nr(e)}}function Po(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var a=t[s];Mt=a,tg(a,e)}Jp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Zs(8,t,t.return),Po(t);break;case 22:s=t.stateNode,s._visibility&2&&(s._visibility&=-3,Po(t));break;default:Po(t)}e=e.sibling}}function tg(e,t){for(;Mt!==null;){var s=Mt;switch(s.tag){case 0:case 11:case 15:Zs(8,s,t);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var a=s.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Ia(s.memoizedState.cache)}if(a=s.child,a!==null)a.return=s,Mt=a;else e:for(s=e;Mt!==null;){a=Mt;var o=a.sibling,d=a.return;if(Vp(a),a===s){Mt=null;break e}if(o!==null){o.return=d,Mt=o;break e}Mt=d}}}var hb={getCacheForType:function(e){var t=Lt(xt),s=t.data.get(e);return s===void 0&&(s=e(),t.data.set(e,s)),s},cacheSignal:function(){return Lt(xt).controller.signal}},mb=typeof WeakMap=="function"?WeakMap:Map,$e=0,Fe=null,Ne=null,je=0,He=0,pn=null,Ks=!1,Ui=!1,_d=!1,Cs=0,dt=0,Ws=0,Pl=0,Sd=0,gn=0,Ii=0,sr=null,ln=null,Nd=!1,Qo=0,ng=0,Xo=1/0,Fo=null,Js=null,Et=0,el=null,Hi=null,ws=0,Cd=0,wd=null,sg=null,lr=0,Ed=null;function yn(){return($e&2)!==0&&je!==0?je&-je:z.T!==null?kd():no()}function lg(){if(gn===0)if((je&536870912)===0||De){var e=si;si<<=1,(si&3932160)===0&&(si=262144),gn=e}else gn=536870912;return e=hn.current,e!==null&&(e.flags|=32),gn}function an(e,t,s){(e===Fe&&(He===2||He===9)||e.cancelPendingCommit!==null)&&(Bi(e,0),tl(e,je,gn,!1)),as(e,s),(($e&2)===0||e!==Fe)&&(e===Fe&&(($e&2)===0&&(Pl|=s),dt===4&&tl(e,je,gn,!1)),Wn(e))}function ig(e,t,s){if(($e&6)!==0)throw Error(r(327));var a=!s&&(t&127)===0&&(t&e.expiredLanes)===0||Ct(e,t),o=a?yb(e,t):Td(e,t,!0),d=a;do{if(o===0){Ui&&!a&&tl(e,t,0,!1);break}else{if(s=e.current.alternate,d&&!pb(s)){o=Td(e,t,!1),d=!1;continue}if(o===2){if(d=t,e.errorRecoveryDisabledLanes&d)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var x=e;o=sr;var S=x.current.memoizedState.isDehydrated;if(S&&(Bi(x,m).flags|=256),m=Td(x,m,!1),m!==2){if(_d&&!S){x.errorRecoveryDisabledLanes|=d,Pl|=d,o=4;break e}d=ln,ln=o,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}o=m}if(d=!1,o!==2)continue}}if(o===1){Bi(e,0),tl(e,t,0,!0);break}e:{switch(a=e,d=o,d){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:tl(a,t,gn,!Ks);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=Qo+300-Qt(),10<o)){if(tl(a,t,gn,!Ks),Ls(a,0,!0)!==0)break e;ws=t,a.timeoutHandle=Lg(ag.bind(null,a,s,ln,Fo,Nd,t,gn,Pl,Ii,Ks,d,"Throttled",-0,0),o);break e}ag(a,s,ln,Fo,Nd,t,gn,Pl,Ii,Ks,d,null,-0,0)}}break}while(!0);Wn(e)}function ag(e,t,s,a,o,d,m,x,S,A,L,H,D,k){if(e.timeoutHandle=-1,H=t.subtreeFlags,H&8192||(H&16785408)===16785408){H={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:un},Wp(t,d,H);var J=(d&62914560)===d?Qo-Qt():(d&4194048)===d?ng-Qt():0;if(J=Jb(H,J),J!==null){ws=d,e.cancelPendingCommit=J(mg.bind(null,e,t,d,s,a,o,m,x,S,L,H,null,D,k)),tl(e,d,m,!A);return}}mg(e,t,d,s,a,o,m,x,S)}function pb(e){for(var t=e;;){var s=t.tag;if((s===0||s===11||s===15)&&t.flags&16384&&(s=t.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var a=0;a<s.length;a++){var o=s[a],d=o.getSnapshot;o=o.value;try{if(!dn(d(),o))return!1}catch{return!1}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tl(e,t,s,a){t&=~Sd,t&=~Pl,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var o=t;0<o;){var d=31-Ft(o),m=1<<d;a[d]=-1,o&=~m}s!==0&&ai(e,s,t)}function Zo(){return($e&6)===0?(ir(0),!1):!0}function jd(){if(Ne!==null){if(He===0)var e=Ne.return;else e=Ne,ms=$l=null,Yu(e),Mi=null,Ba=0,e=Ne;for(;e!==null;)$p(e.alternate,e),e=e.return;Ne=null}}function Bi(e,t){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,zb(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),ws=0,jd(),Fe=e,Ne=s=fs(e.current,null),je=t,He=0,pn=null,Ks=!1,Ui=Ct(e,t),_d=!1,Ii=gn=Sd=Pl=Ws=dt=0,ln=sr=null,Nd=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var o=31-Ft(a),d=1<<o;t|=e[o],a&=~d}return Cs=t,yo(),s}function rg(e,t){xe=null,z.H=Fa,t===Di||t===wo?(t=Nm(),He=3):t===Mu?(t=Nm(),He=4):He=t===id?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,pn=t,Ne===null&&(dt=1,Io(e,_n(t,e.current)))}function og(){var e=hn.current;return e===null?!0:(je&4194048)===je?wn===null:(je&62914560)===je||(je&536870912)!==0?e===wn:!1}function cg(){var e=z.H;return z.H=Fa,e===null?Fa:e}function ug(){var e=z.A;return z.A=hb,e}function Ko(){dt=4,Ks||(je&4194048)!==je&&hn.current!==null||(Ui=!0),(Ws&134217727)===0&&(Pl&134217727)===0||Fe===null||tl(Fe,je,gn,!1)}function Td(e,t,s){var a=$e;$e|=2;var o=cg(),d=ug();(Fe!==e||je!==t)&&(Fo=null,Bi(e,t)),t=!1;var m=dt;e:do try{if(He!==0&&Ne!==null){var x=Ne,S=pn;switch(He){case 8:jd(),m=6;break e;case 3:case 2:case 9:case 6:hn.current===null&&(t=!0);var A=He;if(He=0,pn=null,qi(e,x,S,A),s&&Ui){m=0;break e}break;default:A=He,He=0,pn=null,qi(e,x,S,A)}}gb(),m=dt;break}catch(L){rg(e,L)}while(!0);return t&&e.shellSuspendCounter++,ms=$l=null,$e=a,z.H=o,z.A=d,Ne===null&&(Fe=null,je=0,yo()),m}function gb(){for(;Ne!==null;)dg(Ne)}function yb(e,t){var s=$e;$e|=2;var a=cg(),o=ug();Fe!==e||je!==t?(Fo=null,Xo=Qt()+500,Bi(e,t)):Ui=Ct(e,t);e:do try{if(He!==0&&Ne!==null){t=Ne;var d=pn;t:switch(He){case 1:He=0,pn=null,qi(e,t,d,1);break;case 2:case 9:if(_m(d)){He=0,pn=null,fg(t);break}t=function(){He!==2&&He!==9||Fe!==e||(He=7),Wn(e)},d.then(t,t);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:_m(d)?(He=0,pn=null,fg(t)):(He=0,pn=null,qi(e,t,d,7));break;case 5:var m=null;switch(Ne.tag){case 26:m=Ne.memoizedState;case 5:case 27:var x=Ne;if(m?Kg(m):x.stateNode.complete){He=0,pn=null;var S=x.sibling;if(S!==null)Ne=S;else{var A=x.return;A!==null?(Ne=A,Wo(A)):Ne=null}break t}}He=0,pn=null,qi(e,t,d,5);break;case 6:He=0,pn=null,qi(e,t,d,6);break;case 8:jd(),dt=6;break e;default:throw Error(r(462))}}xb();break}catch(L){rg(e,L)}while(!0);return ms=$l=null,z.H=a,z.A=o,$e=s,Ne!==null?0:(Fe=null,je=0,yo(),dt)}function xb(){for(;Ne!==null&&!ti();)dg(Ne)}function dg(e){var t=zp(e.alternate,e,Cs);e.memoizedProps=e.pendingProps,t===null?Wo(e):Ne=t}function fg(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=Ap(s,t,t.pendingProps,t.type,void 0,je);break;case 11:t=Ap(s,t,t.pendingProps,t.type.render,t.ref,je);break;case 5:Yu(t);default:$p(s,t),t=Ne=um(t,Cs),t=zp(s,t,Cs)}e.memoizedProps=e.pendingProps,t===null?Wo(e):Ne=t}function qi(e,t,s,a){ms=$l=null,Yu(t),Mi=null,Ba=0;var o=t.return;try{if(ab(e,o,t,s,je)){dt=1,Io(e,_n(s,e.current)),Ne=null;return}}catch(d){if(o!==null)throw Ne=o,d;dt=1,Io(e,_n(s,e.current)),Ne=null;return}t.flags&32768?(De||a===1?e=!0:Ui||(je&536870912)!==0?e=!1:(Ks=e=!0,(a===2||a===9||a===3||a===6)&&(a=hn.current,a!==null&&a.tag===13&&(a.flags|=16384))),hg(t,e)):Wo(t)}function Wo(e){var t=e;do{if((t.flags&32768)!==0){hg(t,Ks);return}e=t.return;var s=cb(t.alternate,t,Cs);if(s!==null){Ne=s;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);dt===0&&(dt=5)}function hg(e,t){do{var s=ub(e.alternate,e);if(s!==null){s.flags&=32767,Ne=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&(e=e.sibling,e!==null)){Ne=e;return}Ne=e=s}while(e!==null);dt=6,Ne=null}function mg(e,t,s,a,o,d,m,x,S){e.cancelPendingCommit=null;do Jo();while(Et!==0);if(($e&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(d=t.lanes|t.childLanes,d|=gu,Lh(e,s,d,m,x,S),e===Fe&&(Ne=Fe=null,je=0),Hi=t,el=e,ws=s,Cd=d,wd=o,sg=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Sb(ss,function(){return vg(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=z.T,z.T=null,o=V.p,V.p=2,m=$e,$e|=4;try{db(e,t,s)}finally{$e=m,V.p=o,z.T=a}}Et=1,pg(),gg(),yg()}}function pg(){if(Et===1){Et=0;var e=el,t=Hi,s=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||s){s=z.T,z.T=null;var a=V.p;V.p=2;var o=$e;$e|=4;try{Fp(t,e);var d=Hd,m=tm(e.containerInfo),x=d.focusedElem,S=d.selectionRange;if(m!==x&&x&&x.ownerDocument&&em(x.ownerDocument.documentElement,x)){if(S!==null&&du(x)){var A=S.start,L=S.end;if(L===void 0&&(L=A),"selectionStart"in x)x.selectionStart=A,x.selectionEnd=Math.min(L,x.value.length);else{var H=x.ownerDocument||document,D=H&&H.defaultView||window;if(D.getSelection){var k=D.getSelection(),J=x.textContent.length,re=Math.min(S.start,J),Qe=S.end===void 0?re:Math.min(S.end,J);!k.extend&&re>Qe&&(m=Qe,Qe=re,re=m);var j=Jh(x,re),E=Jh(x,Qe);if(j&&E&&(k.rangeCount!==1||k.anchorNode!==j.node||k.anchorOffset!==j.offset||k.focusNode!==E.node||k.focusOffset!==E.offset)){var T=H.createRange();T.setStart(j.node,j.offset),k.removeAllRanges(),re>Qe?(k.addRange(T),k.extend(E.node,E.offset)):(T.setEnd(E.node,E.offset),k.addRange(T))}}}}for(H=[],k=x;k=k.parentNode;)k.nodeType===1&&H.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<H.length;x++){var I=H[x];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}dc=!!Id,Hd=Id=null}finally{$e=o,V.p=a,z.T=s}}e.current=t,Et=2}}function gg(){if(Et===2){Et=0;var e=el,t=Hi,s=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||s){s=z.T,z.T=null;var a=V.p;V.p=2;var o=$e;$e|=4;try{Gp(e,t.alternate,t)}finally{$e=o,V.p=a,z.T=s}}Et=3}}function yg(){if(Et===4||Et===3){Et=0,ga();var e=el,t=Hi,s=ws,a=sg;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Et=5:(Et=0,Hi=el=null,xg(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Js=null),ri(s),t=t.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(ls,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=z.T,o=V.p,V.p=2,z.T=null;try{for(var d=e.onRecoverableError,m=0;m<a.length;m++){var x=a[m];d(x.value,{componentStack:x.stack})}}finally{z.T=t,V.p=o}}(ws&3)!==0&&Jo(),Wn(e),o=e.pendingLanes,(s&261930)!==0&&(o&42)!==0?e===Ed?lr++:(lr=0,Ed=e):lr=0,ir(0)}}function xg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ia(t)))}function Jo(){return pg(),gg(),yg(),vg()}function vg(){if(Et!==5)return!1;var e=el,t=Cd;Cd=0;var s=ri(ws),a=z.T,o=V.p;try{V.p=32>s?32:s,z.T=null,s=wd,wd=null;var d=el,m=ws;if(Et=0,Hi=el=null,ws=0,($e&6)!==0)throw Error(r(331));var x=$e;if($e|=4,eg(d.current),Kp(d,d.current,m,s),$e=x,ir(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(ls,d)}catch{}return!0}finally{V.p=o,z.T=a,xg(e,t)}}function bg(e,t,s){t=_n(s,t),t=ld(e.stateNode,t,2),e=Qs(e,t,2),e!==null&&(as(e,2),Wn(e))}function Be(e,t,s){if(e.tag===3)bg(e,e,s);else for(;t!==null;){if(t.tag===3){bg(t,e,s);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Js===null||!Js.has(a))){e=_n(s,e),s=_p(2),a=Qs(t,s,2),a!==null&&(Sp(s,a,t,e),as(a,2),Wn(a));break}}t=t.return}}function Ad(e,t,s){var a=e.pingCache;if(a===null){a=e.pingCache=new mb;var o=new Set;a.set(t,o)}else o=a.get(t),o===void 0&&(o=new Set,a.set(t,o));o.has(s)||(_d=!0,o.add(s),e=vb.bind(null,e,t,s),t.then(e,e))}function vb(e,t,s){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Fe===e&&(je&s)===s&&(dt===4||dt===3&&(je&62914560)===je&&300>Qt()-Qo?($e&2)===0&&Bi(e,0):Sd|=s,Ii===je&&(Ii=0)),Wn(e)}function _g(e,t){t===0&&(t=on()),e=Ol(e,t),e!==null&&(as(e,t),Wn(e))}function bb(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),_g(e,s)}function _b(e,t){var s=0;switch(e.tag){case 31:case 13:var a=e.stateNode,o=e.memoizedState;o!==null&&(s=o.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(t),_g(e,s)}function Sb(e,t){return Nt(e,t)}var ec=null,Yi=null,Dd=!1,tc=!1,Md=!1,nl=0;function Wn(e){e!==Yi&&e.next===null&&(Yi===null?ec=Yi=e:Yi=Yi.next=e),tc=!0,Dd||(Dd=!0,Cb())}function ir(e,t){if(!Md&&tc){Md=!0;do for(var s=!1,a=ec;a!==null;){if(e!==0){var o=a.pendingLanes;if(o===0)var d=0;else{var m=a.suspendedLanes,x=a.pingedLanes;d=(1<<31-Ft(42|e)+1)-1,d&=o&~(m&~x),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,wg(a,d))}else d=je,d=Ls(a,a===Fe?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(d&3)===0||Ct(a,d)||(s=!0,wg(a,d));a=a.next}while(s);Md=!1}}function Nb(){Sg()}function Sg(){tc=Dd=!1;var e=0;nl!==0&&Ob()&&(e=nl);for(var t=Qt(),s=null,a=ec;a!==null;){var o=a.next,d=Ng(a,t);d===0?(a.next=null,s===null?ec=o:s.next=o,o===null&&(Yi=s)):(s=a,(e!==0||(d&3)!==0)&&(tc=!0)),a=o}Et!==0&&Et!==5||ir(e),nl!==0&&(nl=0)}function Ng(e,t){for(var s=e.suspendedLanes,a=e.pingedLanes,o=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var m=31-Ft(d),x=1<<m,S=o[m];S===-1?((x&s)===0||(x&a)!==0)&&(o[m]=xa(x,t)):S<=t&&(e.expiredLanes|=x),d&=~x}if(t=Fe,s=je,s=Ls(e,e===t?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,s===0||e===t&&(He===2||He===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&xn(a),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Ct(e,s)){if(t=s&-s,t===e.callbackPriority)return t;switch(a!==null&&xn(a),ri(s)){case 2:case 8:s=Jr;break;case 32:s=ss;break;case 268435456:s=xl;break;default:s=ss}return a=Cg.bind(null,e),s=Nt(s,a),e.callbackPriority=t,e.callbackNode=s,t}return a!==null&&a!==null&&xn(a),e.callbackPriority=2,e.callbackNode=null,2}function Cg(e,t){if(Et!==0&&Et!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Jo()&&e.callbackNode!==s)return null;var a=je;return a=Ls(e,e===Fe?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(ig(e,a,t),Ng(e,Qt()),e.callbackNode!=null&&e.callbackNode===s?Cg.bind(null,e):null)}function wg(e,t){if(Jo())return null;ig(e,t,!0)}function Cb(){Lb(function(){($e&6)!==0?Nt(Wr,Nb):Sg()})}function kd(){if(nl===0){var e=Ti;e===0&&(e=zs,zs<<=1,(zs&261888)===0&&(zs=256)),nl=e}return nl}function Eg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:mi(""+e)}function jg(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}function wb(e,t,s,a,o){if(t==="submit"&&s&&s.stateNode===o){var d=Eg((o[nt]||null).action),m=a.submitter;m&&(t=(t=m[nt]||null)?Eg(t.formAction):m.getAttribute("formAction"),t!==null&&(d=t,m=null));var x=new yi("action","action",null,a,o);e.push({event:x,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(nl!==0){var S=m?jg(o,m):new FormData(o);Wu(s,{pending:!0,data:S,method:o.method,action:d},null,S)}}else typeof d=="function"&&(x.preventDefault(),S=m?jg(o,m):new FormData(o),Wu(s,{pending:!0,data:S,method:o.method,action:d},d,S))},currentTarget:o}]})}}for(var Rd=0;Rd<pu.length;Rd++){var Od=pu[Rd],Eb=Od.toLowerCase(),jb=Od[0].toUpperCase()+Od.slice(1);Ln(Eb,"on"+jb)}Ln(lm,"onAnimationEnd"),Ln(im,"onAnimationIteration"),Ln(am,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(Yv,"onTransitionRun"),Ln(Gv,"onTransitionStart"),Ln(Vv,"onTransitionCancel"),Ln(rm,"onTransitionEnd"),Qn("onMouseEnter",["mouseout","mouseover"]),Qn("onMouseLeave",["mouseout","mouseover"]),Qn("onPointerEnter",["pointerout","pointerover"]),Qn("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ar="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ar));function Tg(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],o=a.event;a=a.listeners;e:{var d=void 0;if(t)for(var m=a.length-1;0<=m;m--){var x=a[m],S=x.instance,A=x.currentTarget;if(x=x.listener,S!==d&&o.isPropagationStopped())break e;d=x,o.currentTarget=A;try{d(o)}catch(L){go(L)}o.currentTarget=null,d=S}else for(m=0;m<a.length;m++){if(x=a[m],S=x.instance,A=x.currentTarget,x=x.listener,S!==d&&o.isPropagationStopped())break e;d=x,o.currentTarget=A;try{d(o)}catch(L){go(L)}o.currentTarget=null,d=S}}}}function Ce(e,t){var s=t[os];s===void 0&&(s=t[os]=new Set);var a=e+"__bubble";s.has(a)||(Ag(t,e,2,!1),s.add(a))}function zd(e,t,s){var a=0;t&&(a|=4),Ag(s,e,a,t)}var nc="_reactListening"+Math.random().toString(36).slice(2);function Ld(e){if(!e[nc]){e[nc]=!0,_a.forEach(function(s){s!=="selectionchange"&&(Tb.has(s)||zd(s,!1,e),zd(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[nc]||(t[nc]=!0,zd("selectionchange",!1,t))}}function Ag(e,t,s,a){switch(l0(t)){case 2:var o=n1;break;case 8:o=s1;break;default:o=Kd}s=o.bind(null,t,s,e),o=void 0,!Ta||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),a?o!==void 0?e.addEventListener(t,s,{capture:!0,passive:o}):e.addEventListener(t,s,!0):o!==void 0?e.addEventListener(t,s,{passive:o}):e.addEventListener(t,s,!1)}function $d(e,t,s,a,o){var d=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var m=a.tag;if(m===3||m===4){var x=a.stateNode.containerInfo;if(x===o)break;if(m===4)for(m=a.return;m!==null;){var S=m.tag;if((S===3||S===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;x!==null;){if(m=bl(x),m===null)return;if(S=m.tag,S===5||S===6||S===26||S===27){a=d=m;continue e}x=x.parentNode}}a=a.return}uo(function(){var A=d,L=Ea(s),H=[];e:{var D=om.get(e);if(D!==void 0){var k=yi,J=e;switch(e){case"keypress":if(Zt(s)===0)break e;case"keydown":case"keyup":k=_v;break;case"focusin":J="focus",k=O;break;case"focusout":J="blur",k=O;break;case"beforeblur":case"afterblur":k=O;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=mo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=C;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Cv;break;case lm:case im:case am:k=Y;break;case rm:k=Ev;break;case"scroll":case"scrollend":k=au;break;case"wheel":k=Tv;break;case"copy":case"cut":case"paste":k=X;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Ih;break;case"toggle":case"beforetoggle":k=Dv}var re=(t&4)!==0,Qe=!re&&(e==="scroll"||e==="scrollend"),j=re?D!==null?D+"Capture":null:D;re=[];for(var E=A,T;E!==null;){var I=E;if(T=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||T===null||j===null||(I=Tl(E,j),I!=null&&re.push(rr(E,I,T))),Qe)break;E=E.return}0<re.length&&(D=new k(D,J,null,s,L),H.push({event:D,listeners:re}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",D&&s!==wa&&(J=s.relatedTarget||s.fromElement)&&(bl(J)||J[Vn]))break e;if((k||D)&&(D=L.window===L?L:(D=L.ownerDocument)?D.defaultView||D.parentWindow:window,k?(J=s.relatedTarget||s.toElement,k=A,J=J?bl(J):null,J!==null&&(Qe=f(J),re=J.tag,J!==Qe||re!==5&&re!==27&&re!==6)&&(J=null)):(k=null,J=A),k!==J)){if(re=mo,I="onMouseLeave",j="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(re=Ih,I="onPointerLeave",j="onPointerEnter",E="pointer"),Qe=k==null?D:Sl(k),T=J==null?D:Sl(J),D=new re(I,E+"leave",k,s,L),D.target=Qe,D.relatedTarget=T,I=null,bl(L)===A&&(re=new re(j,E+"enter",J,s,L),re.target=T,re.relatedTarget=Qe,I=re),Qe=I,k&&J)t:{for(re=Ab,j=k,E=J,T=0,I=j;I;I=re(I))T++;I=0;for(var le=E;le;le=re(le))I++;for(;0<T-I;)j=re(j),T--;for(;0<I-T;)E=re(E),I--;for(;T--;){if(j===E||E!==null&&j===E.alternate){re=j;break t}j=re(j),E=re(E)}re=null}else re=null;k!==null&&Dg(H,D,k,re,!1),J!==null&&Qe!==null&&Dg(H,Qe,J,re,!0)}}e:{if(D=A?Sl(A):window,k=D.nodeName&&D.nodeName.toLowerCase(),k==="select"||k==="input"&&D.type==="file")var Re=Qh;else if(Vh(D))if(Xh)Re=Hv;else{Re=Uv;var ee=$v}else k=D.nodeName,!k||k.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?A&&Ca(A.elementType)&&(Re=Qh):Re=Iv;if(Re&&(Re=Re(e,A))){Ph(H,Re,s,L);break e}ee&&ee(e,D,A),e==="focusout"&&A&&D.type==="number"&&A.memoizedProps.value!=null&&wl(D,"number",D.value)}switch(ee=A?Sl(A):window,e){case"focusin":(Vh(ee)||ee.contentEditable==="true")&&(bi=ee,fu=A,La=null);break;case"focusout":La=fu=bi=null;break;case"mousedown":hu=!0;break;case"contextmenu":case"mouseup":case"dragend":hu=!1,nm(H,s,L);break;case"selectionchange":if(qv)break;case"keydown":case"keyup":nm(H,s,L)}var ve;if(ou)e:{switch(e){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else vi?Yh(e,s)&&(Te="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Te="onCompositionStart");Te&&(Hh&&s.locale!=="ko"&&(vi||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&vi&&(ve=fo()):(Xn=L,Aa="value"in Xn?Xn.value:Xn.textContent,vi=!0)),ee=sc(A,Te),0<ee.length&&(Te=new ne(Te,e,null,s,L),H.push({event:Te,listeners:ee}),ve?Te.data=ve:(ve=Gh(s),ve!==null&&(Te.data=ve)))),(ve=kv?Rv(e,s):Ov(e,s))&&(Te=sc(A,"onBeforeInput"),0<Te.length&&(ee=new ne("onBeforeInput","beforeinput",null,s,L),H.push({event:ee,listeners:Te}),ee.data=ve)),wb(H,e,A,s,L)}Tg(H,t)})}function rr(e,t,s){return{instance:e,listener:t,currentTarget:s}}function sc(e,t){for(var s=t+"Capture",a=[];e!==null;){var o=e,d=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||d===null||(o=Tl(e,s),o!=null&&a.unshift(rr(e,o,d)),o=Tl(e,t),o!=null&&a.push(rr(e,o,d))),e.tag===3)return a;e=e.return}return[]}function Ab(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Dg(e,t,s,a,o){for(var d=t._reactName,m=[];s!==null&&s!==a;){var x=s,S=x.alternate,A=x.stateNode;if(x=x.tag,S!==null&&S===a)break;x!==5&&x!==26&&x!==27||A===null||(S=A,o?(A=Tl(s,d),A!=null&&m.unshift(rr(s,A,S))):o||(A=Tl(s,d),A!=null&&m.push(rr(s,A,S)))),s=s.return}m.length!==0&&e.push({event:t,listeners:m})}var Db=/\r\n?/g,Mb=/\u0000|\uFFFD/g;function Mg(e){return(typeof e=="string"?e:""+e).replace(Db,`
`).replace(Mb,"")}function kg(e,t){return t=Mg(t),Mg(e)===t}function Pe(e,t,s,a,o,d){switch(s){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Rn(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Rn(e,""+a);break;case"className":Cl(e,"class",a);break;case"tabIndex":Cl(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Cl(e,s,a);break;case"style":jl(e,a,d);break;case"data":if(t!=="object"){Cl(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||s!=="href")){e.removeAttribute(s);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(s);break}a=mi(""+a),e.setAttribute(s,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(t!=="input"&&Pe(e,t,"name",o.name,o,null),Pe(e,t,"formEncType",o.formEncType,o,null),Pe(e,t,"formMethod",o.formMethod,o,null),Pe(e,t,"formTarget",o.formTarget,o,null)):(Pe(e,t,"encType",o.encType,o,null),Pe(e,t,"method",o.method,o,null),Pe(e,t,"target",o.target,o,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(s);break}a=mi(""+a),e.setAttribute(s,a);break;case"onClick":a!=null&&(e.onclick=un);break;case"onScroll":a!=null&&Ce("scroll",e);break;case"onScrollEnd":a!=null&&Ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(s=a.__html,s!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}s=mi(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(s,""+a):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":a===!0?e.setAttribute(s,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(s,a):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(s,a):e.removeAttribute(s);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(s):e.setAttribute(s,a);break;case"popover":Ce("beforetoggle",e),Ce("toggle",e),Nl(e,"popover",a);break;case"xlinkActuate":kn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":kn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":kn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":kn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":kn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":kn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":kn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":kn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":kn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Nl(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=iu.get(s)||s,Nl(e,s,a))}}function Ud(e,t,s,a,o,d){switch(s){case"style":jl(e,a,d);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(s=a.__html,s!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof a=="string"?Rn(e,a):(typeof a=="number"||typeof a=="bigint")&&Rn(e,""+a);break;case"onScroll":a!=null&&Ce("scroll",e);break;case"onScrollEnd":a!=null&&Ce("scrollend",e);break;case"onClick":a!=null&&(e.onclick=un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ui.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(o=s.endsWith("Capture"),t=s.slice(2,o?s.length-7:void 0),d=e[nt]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(t,d,o),typeof a=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,a,o);break e}s in e?e[s]=a:a===!0?e.setAttribute(s,""):Nl(e,s,a)}}}function Ut(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",e),Ce("load",e);var a=!1,o=!1,d;for(d in s)if(s.hasOwnProperty(d)){var m=s[d];if(m!=null)switch(d){case"src":a=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Pe(e,t,d,m,s,null)}}o&&Pe(e,t,"srcSet",s.srcSet,s,null),a&&Pe(e,t,"src",s.src,s,null);return;case"input":Ce("invalid",e);var x=d=m=o=null,S=null,A=null;for(a in s)if(s.hasOwnProperty(a)){var L=s[a];if(L!=null)switch(a){case"name":o=L;break;case"type":m=L;break;case"checked":S=L;break;case"defaultChecked":A=L;break;case"value":d=L;break;case"defaultValue":x=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,t));break;default:Pe(e,t,a,L,s,null)}}Na(e,d,x,S,A,m,o,!1);return;case"select":Ce("invalid",e),a=m=d=null;for(o in s)if(s.hasOwnProperty(o)&&(x=s[o],x!=null))switch(o){case"value":d=x;break;case"defaultValue":m=x;break;case"multiple":a=x;default:Pe(e,t,o,x,s,null)}t=d,s=m,e.multiple=!!a,t!=null?cs(e,!!a,t,!1):s!=null&&cs(e,!!a,s,!0);return;case"textarea":Ce("invalid",e),d=o=a=null;for(m in s)if(s.hasOwnProperty(m)&&(x=s[m],x!=null))switch(m){case"value":a=x;break;case"defaultValue":o=x;break;case"children":d=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:Pe(e,t,m,x,s,null)}ro(e,a,o,d);return;case"option":for(S in s)if(s.hasOwnProperty(S)&&(a=s[S],a!=null))switch(S){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Pe(e,t,S,a,s,null)}return;case"dialog":Ce("beforetoggle",e),Ce("toggle",e),Ce("cancel",e),Ce("close",e);break;case"iframe":case"object":Ce("load",e);break;case"video":case"audio":for(a=0;a<ar.length;a++)Ce(ar[a],e);break;case"image":Ce("error",e),Ce("load",e);break;case"details":Ce("toggle",e);break;case"embed":case"source":case"link":Ce("error",e),Ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in s)if(s.hasOwnProperty(A)&&(a=s[A],a!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Pe(e,t,A,a,s,null)}return;default:if(Ca(t)){for(L in s)s.hasOwnProperty(L)&&(a=s[L],a!==void 0&&Ud(e,t,L,a,s,void 0));return}}for(x in s)s.hasOwnProperty(x)&&(a=s[x],a!=null&&Pe(e,t,x,a,s,null))}function kb(e,t,s,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,d=null,m=null,x=null,S=null,A=null,L=null;for(k in s){var H=s[k];if(s.hasOwnProperty(k)&&H!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":S=H;default:a.hasOwnProperty(k)||Pe(e,t,k,null,a,H)}}for(var D in a){var k=a[D];if(H=s[D],a.hasOwnProperty(D)&&(k!=null||H!=null))switch(D){case"type":d=k;break;case"name":o=k;break;case"checked":A=k;break;case"defaultChecked":L=k;break;case"value":m=k;break;case"defaultValue":x=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,t));break;default:k!==H&&Pe(e,t,D,k,a,H)}}Is(e,m,x,S,A,L,d,o);return;case"select":k=m=x=D=null;for(d in s)if(S=s[d],s.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":k=S;default:a.hasOwnProperty(d)||Pe(e,t,d,null,a,S)}for(o in a)if(d=a[o],S=s[o],a.hasOwnProperty(o)&&(d!=null||S!=null))switch(o){case"value":D=d;break;case"defaultValue":x=d;break;case"multiple":m=d;default:d!==S&&Pe(e,t,o,d,a,S)}t=x,s=m,a=k,D!=null?cs(e,!!s,D,!1):!!a!=!!s&&(t!=null?cs(e,!!s,t,!0):cs(e,!!s,s?[]:"",!1));return;case"textarea":k=D=null;for(x in s)if(o=s[x],s.hasOwnProperty(x)&&o!=null&&!a.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Pe(e,t,x,null,a,o)}for(m in a)if(o=a[m],d=s[m],a.hasOwnProperty(m)&&(o!=null||d!=null))switch(m){case"value":D=o;break;case"defaultValue":k=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==d&&Pe(e,t,m,o,a,d)}b(e,D,k);return;case"option":for(var J in s)if(D=s[J],s.hasOwnProperty(J)&&D!=null&&!a.hasOwnProperty(J))switch(J){case"selected":e.selected=!1;break;default:Pe(e,t,J,null,a,D)}for(S in a)if(D=a[S],k=s[S],a.hasOwnProperty(S)&&D!==k&&(D!=null||k!=null))switch(S){case"selected":e.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Pe(e,t,S,D,a,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in s)D=s[re],s.hasOwnProperty(re)&&D!=null&&!a.hasOwnProperty(re)&&Pe(e,t,re,null,a,D);for(A in a)if(D=a[A],k=s[A],a.hasOwnProperty(A)&&D!==k&&(D!=null||k!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,t));break;default:Pe(e,t,A,D,a,k)}return;default:if(Ca(t)){for(var Qe in s)D=s[Qe],s.hasOwnProperty(Qe)&&D!==void 0&&!a.hasOwnProperty(Qe)&&Ud(e,t,Qe,void 0,a,D);for(L in a)D=a[L],k=s[L],!a.hasOwnProperty(L)||D===k||D===void 0&&k===void 0||Ud(e,t,L,D,a,k);return}}for(var j in s)D=s[j],s.hasOwnProperty(j)&&D!=null&&!a.hasOwnProperty(j)&&Pe(e,t,j,null,a,D);for(H in a)D=a[H],k=s[H],!a.hasOwnProperty(H)||D===k||D==null&&k==null||Pe(e,t,H,D,a,k)}function Rg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Rb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,s=performance.getEntriesByType("resource"),a=0;a<s.length;a++){var o=s[a],d=o.transferSize,m=o.initiatorType,x=o.duration;if(d&&x&&Rg(m)){for(m=0,x=o.responseEnd,a+=1;a<s.length;a++){var S=s[a],A=S.startTime;if(A>x)break;var L=S.transferSize,H=S.initiatorType;L&&Rg(H)&&(S=S.responseEnd,m+=L*(S<x?1:(x-A)/(S-A)))}if(--a,t+=8*(d+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Id=null,Hd=null;function lc(e){return e.nodeType===9?e:e.ownerDocument}function Og(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Bd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qd=null;function Ob(){var e=window.event;return e&&e.type==="popstate"?e===qd?!1:(qd=e,!0):(qd=null,!1)}var Lg=typeof setTimeout=="function"?setTimeout:void 0,zb=typeof clearTimeout=="function"?clearTimeout:void 0,$g=typeof Promise=="function"?Promise:void 0,Lb=typeof queueMicrotask=="function"?queueMicrotask:typeof $g<"u"?function(e){return $g.resolve(null).then(e).catch($b)}:Lg;function $b(e){setTimeout(function(){throw e})}function sl(e){return e==="head"}function Ug(e,t){var s=t,a=0;do{var o=s.nextSibling;if(e.removeChild(s),o&&o.nodeType===8)if(s=o.data,s==="/$"||s==="/&"){if(a===0){e.removeChild(o),Qi(t);return}a--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")a++;else if(s==="html")or(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,or(s);for(var d=s.firstChild;d;){var m=d.nextSibling,x=d.nodeName;d[oi]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=m}}else s==="body"&&or(e.ownerDocument.body);s=o}while(s);Qi(t)}function Ig(e,t){var s=e;e=0;do{var a=s.nextSibling;if(s.nodeType===1?t?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(t?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=a}while(s)}function Yd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Yd(s),ci(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Ub(e,t,s,a){for(;e.nodeType===1;){var o=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[oi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=En(e.nextSibling),e===null)break}return null}function Ib(e,t,s){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=En(e.nextSibling),e===null))return null;return e}function Hg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=En(e.nextSibling),e===null))return null;return e}function Gd(e){return e.data==="$?"||e.data==="$~"}function Vd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Hb(e,t){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||s.readyState!=="loading")t();else{var a=function(){t(),s.removeEventListener("DOMContentLoaded",a)};s.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function En(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Pd=null;function Bg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(t===0)return En(e.nextSibling);t--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||t++}e=e.nextSibling}return null}function qg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(t===0)return e;t--}else s!=="/$"&&s!=="/&"||t++}e=e.previousSibling}return null}function Yg(e,t,s){switch(t=lc(s),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function or(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ci(e)}var jn=new Map,Gg=new Set;function ic(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Es=V.d;V.d={f:Bb,r:qb,D:Yb,C:Gb,L:Vb,m:Pb,X:Xb,S:Qb,M:Fb};function Bb(){var e=Es.f(),t=Zo();return e||t}function qb(e){var t=_l(e);t!==null&&t.tag===5&&t.type==="form"?rp(t):Es.r(e)}var Gi=typeof document>"u"?null:document;function Vg(e,t,s){var a=Gi;if(a&&typeof t=="string"&&t){var o=Ot(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof s=="string"&&(o+='[crossorigin="'+s+'"]'),Gg.has(o)||(Gg.add(o),e={rel:e,crossOrigin:s,href:t},a.querySelector(o)===null&&(t=a.createElement("link"),Ut(t,"link",e),ot(t),a.head.appendChild(t)))}}function Yb(e){Es.D(e),Vg("dns-prefetch",e,null)}function Gb(e,t){Es.C(e,t),Vg("preconnect",e,t)}function Vb(e,t,s){Es.L(e,t,s);var a=Gi;if(a&&e&&t){var o='link[rel="preload"][as="'+Ot(t)+'"]';t==="image"&&s&&s.imageSrcSet?(o+='[imagesrcset="'+Ot(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(o+='[imagesizes="'+Ot(s.imageSizes)+'"]')):o+='[href="'+Ot(e)+'"]';var d=o;switch(t){case"style":d=Vi(e);break;case"script":d=Pi(e)}jn.has(d)||(e=_({rel:"preload",href:t==="image"&&s&&s.imageSrcSet?void 0:e,as:t},s),jn.set(d,e),a.querySelector(o)!==null||t==="style"&&a.querySelector(cr(d))||t==="script"&&a.querySelector(ur(d))||(t=a.createElement("link"),Ut(t,"link",e),ot(t),a.head.appendChild(t)))}}function Pb(e,t){Es.m(e,t);var s=Gi;if(s&&e){var a=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Ot(a)+'"][href="'+Ot(e)+'"]',d=o;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Pi(e)}if(!jn.has(d)&&(e=_({rel:"modulepreload",href:e},t),jn.set(d,e),s.querySelector(o)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ur(d)))return}a=s.createElement("link"),Ut(a,"link",e),ot(a),s.head.appendChild(a)}}}function Qb(e,t,s){Es.S(e,t,s);var a=Gi;if(a&&e){var o=Us(a).hoistableStyles,d=Vi(e);t=t||"default";var m=o.get(d);if(!m){var x={loading:0,preload:null};if(m=a.querySelector(cr(d)))x.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},s),(s=jn.get(d))&&Qd(e,s);var S=m=a.createElement("link");ot(S),Ut(S,"link",e),S._p=new Promise(function(A,L){S.onload=A,S.onerror=L}),S.addEventListener("load",function(){x.loading|=1}),S.addEventListener("error",function(){x.loading|=2}),x.loading|=4,ac(m,t,a)}m={type:"stylesheet",instance:m,count:1,state:x},o.set(d,m)}}}function Xb(e,t){Es.X(e,t);var s=Gi;if(s&&e){var a=Us(s).hoistableScripts,o=Pi(e),d=a.get(o);d||(d=s.querySelector(ur(o)),d||(e=_({src:e,async:!0},t),(t=jn.get(o))&&Xd(e,t),d=s.createElement("script"),ot(d),Ut(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},a.set(o,d))}}function Fb(e,t){Es.M(e,t);var s=Gi;if(s&&e){var a=Us(s).hoistableScripts,o=Pi(e),d=a.get(o);d||(d=s.querySelector(ur(o)),d||(e=_({src:e,async:!0,type:"module"},t),(t=jn.get(o))&&Xd(e,t),d=s.createElement("script"),ot(d),Ut(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},a.set(o,d))}}function Pg(e,t,s,a){var o=(o=ye.current)?ic(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(t=Vi(s.href),s=Us(o).hoistableStyles,a=s.get(t),a||(a={type:"style",instance:null,count:0,state:null},s.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Vi(s.href);var d=Us(o).hoistableStyles,m=d.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,m),(d=o.querySelector(cr(e)))&&!d._p&&(m.instance=d,m.state.loading=5),jn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},jn.set(e,s),d||Zb(o,e,s,m.state))),t&&a===null)throw Error(r(528,""));return m}if(t&&a!==null)throw Error(r(529,""));return null;case"script":return t=s.async,s=s.src,typeof s=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Pi(s),s=Us(o).hoistableScripts,a=s.get(t),a||(a={type:"script",instance:null,count:0,state:null},s.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Vi(e){return'href="'+Ot(e)+'"'}function cr(e){return'link[rel="stylesheet"]['+e+"]"}function Qg(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function Zb(e,t,s,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Ut(t,"link",s),ot(t),e.head.appendChild(t))}function Pi(e){return'[src="'+Ot(e)+'"]'}function ur(e){return"script[async]"+e}function Xg(e,t,s){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Ot(s.href)+'"]');if(a)return t.instance=a,ot(a),a;var o=_({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),ot(a),Ut(a,"style",o),ac(a,s.precedence,e),t.instance=a;case"stylesheet":o=Vi(s.href);var d=e.querySelector(cr(o));if(d)return t.state.loading|=4,t.instance=d,ot(d),d;a=Qg(s),(o=jn.get(o))&&Qd(a,o),d=(e.ownerDocument||e).createElement("link"),ot(d);var m=d;return m._p=new Promise(function(x,S){m.onload=x,m.onerror=S}),Ut(d,"link",a),t.state.loading|=4,ac(d,s.precedence,e),t.instance=d;case"script":return d=Pi(s.src),(o=e.querySelector(ur(d)))?(t.instance=o,ot(o),o):(a=s,(o=jn.get(d))&&(a=_({},s),Xd(a,o)),e=e.ownerDocument||e,o=e.createElement("script"),ot(o),Ut(o,"link",a),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,ac(a,s.precedence,e));return t.instance}function ac(e,t,s){for(var a=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=a.length?a[a.length-1]:null,d=o,m=0;m<a.length;m++){var x=a[m];if(x.dataset.precedence===t)d=x;else if(d!==o)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=s.nodeType===9?s.head:s,t.insertBefore(e,t.firstChild))}function Qd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Xd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var rc=null;function Fg(e,t,s){if(rc===null){var a=new Map,o=rc=new Map;o.set(s,a)}else o=rc,a=o.get(s),a||(a=new Map,o.set(s,a));if(a.has(e))return a;for(a.set(e,null),s=s.getElementsByTagName(e),o=0;o<s.length;o++){var d=s[o];if(!(d[oi]||d[wt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var m=d.getAttribute(t)||"";m=e+m;var x=a.get(m);x?x.push(d):a.set(m,[d])}}return a}function Zg(e,t,s){e=e.ownerDocument||e,e.head.insertBefore(s,t==="title"?e.querySelector("head > title"):null)}function Kb(e,t,s){if(s===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Kg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Wb(e,t,s,a){if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var o=Vi(a.href),d=t.querySelector(cr(o));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=oc.bind(e),t.then(e,e)),s.state.loading|=4,s.instance=d,ot(d);return}d=t.ownerDocument||t,a=Qg(a),(o=jn.get(o))&&Qd(a,o),d=d.createElement("link"),ot(d);var m=d;m._p=new Promise(function(x,S){m.onload=x,m.onerror=S}),Ut(d,"link",a),s.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=oc.bind(e),t.addEventListener("load",s),t.addEventListener("error",s))}}var Fd=0;function Jb(e,t){return e.stylesheets&&e.count===0&&uc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var a=setTimeout(function(){if(e.stylesheets&&uc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&Fd===0&&(Fd=62500*Rb());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&uc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Fd?50:800)+t);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(o)}}:null}function oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var cc=null;function uc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,cc=new Map,t.forEach(e1,e),cc=null,oc.call(e))}function e1(e,t){if(!(t.state.loading&4)){var s=cc.get(e);if(s)var a=s.get(null);else{s=new Map,cc.set(e,s);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<o.length;d++){var m=o[d];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(s.set(m.dataset.precedence,m),a=m)}a&&s.set(null,a)}o=t.instance,m=o.getAttribute("data-precedence"),d=s.get(m)||a,d===a&&s.set(null,o),s.set(m,o),this.count++,a=oc.bind(this),o.addEventListener("load",a),o.addEventListener("error",a),d?d.parentNode.insertBefore(o,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var dr={$$typeof:pe,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function t1(e,t,s,a,o,d,m,x,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=a,this.onUncaughtError=o,this.onCaughtError=d,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Wg(e,t,s,a,o,d,m,x,S,A,L,H){return e=new t1(e,t,s,m,S,A,L,H,x),t=1,d===!0&&(t|=24),d=fn(3,null,null,t),e.current=d,d.stateNode=e,t=Tu(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:a,isDehydrated:s,cache:t},ku(d),e}function Jg(e){return e?(e=Ni,e):Ni}function e0(e,t,s,a,o,d){o=Jg(o),a.context===null?a.context=o:a.pendingContext=o,a=Ps(t),a.payload={element:s},d=d===void 0?null:d,d!==null&&(a.callback=d),s=Qs(e,a,t),s!==null&&(an(s,e,t),Ya(s,e,t))}function t0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Zd(e,t){t0(e,t),(e=e.alternate)&&t0(e,t)}function n0(e){if(e.tag===13||e.tag===31){var t=Ol(e,67108864);t!==null&&an(t,e,67108864),Zd(e,67108864)}}function s0(e){if(e.tag===13||e.tag===31){var t=yn();t=$s(t);var s=Ol(e,t);s!==null&&an(s,e,t),Zd(e,t)}}var dc=!0;function n1(e,t,s,a){var o=z.T;z.T=null;var d=V.p;try{V.p=2,Kd(e,t,s,a)}finally{V.p=d,z.T=o}}function s1(e,t,s,a){var o=z.T;z.T=null;var d=V.p;try{V.p=8,Kd(e,t,s,a)}finally{V.p=d,z.T=o}}function Kd(e,t,s,a){if(dc){var o=Wd(a);if(o===null)$d(e,t,a,fc,s),i0(e,a);else if(i1(o,e,t,s,a))a.stopPropagation();else if(i0(e,a),t&4&&-1<l1.indexOf(e)){for(;o!==null;){var d=_l(o);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var m=is(d.pendingLanes);if(m!==0){var x=d;for(x.pendingLanes|=2,x.entangledLanes|=2;m;){var S=1<<31-Ft(m);x.entanglements[1]|=S,m&=~S}Wn(d),($e&6)===0&&(Xo=Qt()+500,ir(0))}}break;case 31:case 13:x=Ol(d,2),x!==null&&an(x,d,2),Zo(),Zd(d,2)}if(d=Wd(a),d===null&&$d(e,t,a,fc,s),d===o)break;o=d}o!==null&&a.stopPropagation()}else $d(e,t,a,null,s)}}function Wd(e){return e=Ea(e),Jd(e)}var fc=null;function Jd(e){if(fc=null,e=bl(e),e!==null){var t=f(e);if(t===null)e=null;else{var s=t.tag;if(s===13){if(e=h(t),e!==null)return e;e=null}else if(s===31){if(e=p(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return fc=e,null}function l0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(su()){case Wr:return 2;case Jr:return 8;case ss:case ni:return 32;case xl:return 268435456;default:return 32}default:return 32}}var ef=!1,ll=null,il=null,al=null,fr=new Map,hr=new Map,rl=[],l1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function i0(e,t){switch(e){case"focusin":case"focusout":ll=null;break;case"dragenter":case"dragleave":il=null;break;case"mouseover":case"mouseout":al=null;break;case"pointerover":case"pointerout":fr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hr.delete(t.pointerId)}}function mr(e,t,s,a,o,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:s,eventSystemFlags:a,nativeEvent:d,targetContainers:[o]},t!==null&&(t=_l(t),t!==null&&n0(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function i1(e,t,s,a,o){switch(t){case"focusin":return ll=mr(ll,e,t,s,a,o),!0;case"dragenter":return il=mr(il,e,t,s,a,o),!0;case"mouseover":return al=mr(al,e,t,s,a,o),!0;case"pointerover":var d=o.pointerId;return fr.set(d,mr(fr.get(d)||null,e,t,s,a,o)),!0;case"gotpointercapture":return d=o.pointerId,hr.set(d,mr(hr.get(d)||null,e,t,s,a,o)),!0}return!1}function a0(e){var t=bl(e.target);if(t!==null){var s=f(t);if(s!==null){if(t=s.tag,t===13){if(t=h(s),t!==null){e.blockedOn=t,va(e.priority,function(){s0(s)});return}}else if(t===31){if(t=p(s),t!==null){e.blockedOn=t,va(e.priority,function(){s0(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Wd(e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);wa=a,s.target.dispatchEvent(a),wa=null}else return t=_l(s),t!==null&&n0(t),e.blockedOn=s,!1;t.shift()}return!0}function r0(e,t,s){hc(e)&&s.delete(t)}function a1(){ef=!1,ll!==null&&hc(ll)&&(ll=null),il!==null&&hc(il)&&(il=null),al!==null&&hc(al)&&(al=null),fr.forEach(r0),hr.forEach(r0)}function mc(e,t){e.blockedOn===t&&(e.blockedOn=null,ef||(ef=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,a1)))}var pc=null;function o0(e){pc!==e&&(pc=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){pc===e&&(pc=null);for(var t=0;t<e.length;t+=3){var s=e[t],a=e[t+1],o=e[t+2];if(typeof a!="function"){if(Jd(a||s)===null)continue;break}var d=_l(s);d!==null&&(e.splice(t,3),t-=3,Wu(d,{pending:!0,data:o,method:s.method,action:a},a,o))}}))}function Qi(e){function t(S){return mc(S,e)}ll!==null&&mc(ll,e),il!==null&&mc(il,e),al!==null&&mc(al,e),fr.forEach(t),hr.forEach(t);for(var s=0;s<rl.length;s++){var a=rl[s];a.blockedOn===e&&(a.blockedOn=null)}for(;0<rl.length&&(s=rl[0],s.blockedOn===null);)a0(s),s.blockedOn===null&&rl.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(a=0;a<s.length;a+=3){var o=s[a],d=s[a+1],m=o[nt]||null;if(typeof d=="function")m||o0(s);else if(m){var x=null;if(d&&d.hasAttribute("formAction")){if(o=d,m=d[nt]||null)x=m.formAction;else if(Jd(o)!==null)continue}else x=m.action;typeof x=="function"?s[a+1]=x:(s.splice(a,3),a-=3),o0(s)}}}function c0(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),a||setTimeout(s,20)}function s(){if(!a&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(s,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function tf(e){this._internalRoot=e}gc.prototype.render=tf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var s=t.current,a=yn();e0(s,a,e,t,null,null)},gc.prototype.unmount=tf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;e0(e.current,2,null,e,null,null),Zo(),t[Vn]=null}};function gc(e){this._internalRoot=e}gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=no();e={blockedOn:null,target:e,priority:t};for(var s=0;s<rl.length&&t!==0&&t<rl[s].priority;s++);rl.splice(s,0,e),s===0&&a0(e)}};var u0=n.version;if(u0!=="19.2.3")throw Error(r(527,u0,"19.2.3"));V.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(t),e=e!==null?N(e):null,e=e===null?null:e.stateNode,e};var r1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{ls=yc.inject(r1),it=yc}catch{}}return gr.createRoot=function(e,t){if(!c(e))throw Error(r(299));var s=!1,a="",o=yp,d=xp,m=vp;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=Wg(e,1,!1,null,null,s,a,null,o,d,m,c0),e[Vn]=t.current,Ld(e),new tf(t)},gr.hydrateRoot=function(e,t,s){if(!c(e))throw Error(r(299));var a=!1,o="",d=yp,m=xp,x=vp,S=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.formState!==void 0&&(S=s.formState)),t=Wg(e,1,!0,t,s??null,a,o,S,d,m,x,c0),t.context=Jg(null),s=t.current,a=yn(),a=$s(a),o=Ps(a),o.callback=null,Qs(s,o,a),s=a,t.current.lanes=s,as(t,s),Wn(t),e[Vn]=t.current,Ld(e),new gc(t)},gr.version="19.2.3",gr}var b0;function y1(){if(b0)return lf.exports;b0=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),lf.exports=g1(),lf.exports}var x1=y1();const v1=Dy(x1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_1=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,i,r)=>r?r.toUpperCase():i.toLowerCase()),_0=l=>{const n=_1(l);return n.charAt(0).toUpperCase()+n.slice(1)},My=(...l)=>l.filter((n,i,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===i).join(" ").trim(),S1=l=>{for(const n in l)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var N1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=M.forwardRef(({color:l="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:c="",children:f,iconNode:h,...p},y)=>M.createElement("svg",{ref:y,...N1,width:n,height:n,stroke:l,strokeWidth:r?Number(i)*24/Number(n):i,className:My("lucide",c),...!f&&!S1(p)&&{"aria-hidden":"true"},...p},[...h.map(([g,N])=>M.createElement(g,N)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=(l,n)=>{const i=M.forwardRef(({className:r,...c},f)=>M.createElement(C1,{ref:f,iconNode:n,className:My(`lucide-${b1(_0(l))}`,`lucide-${l}`,r),...c}));return i.displayName=_0(l),i};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],E1=ce("arrow-right",w1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],S0=ce("book-open",j1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],A1=ce("calculator",T1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ky=ce("calendar",D1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],k1=ce("chart-column",M1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],cf=ce("chart-pie",R1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ry=ce("check",O1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],js=ce("chevron-left",z1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],cl=ce("chevron-right",L1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],N0=ce("circle-alert",$1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],I1=ce("circle-check-big",U1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],wc=ce("circle-check",H1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],q1=ce("circle-x",B1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],C0=ce("clock",Y1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1waht3"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"11",r:"3",key:"itu57m"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]],V1=ce("contact",G1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Q1=ce("database",P1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],F1=ce("eye-off",X1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],K1=ce("eye",Z1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],w0=ce("flag",W1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],E0=ce("folder",J1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Zi=ce("graduation-cap",e_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Pf=ce("history",t_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],s_=ce("house",n_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Oy=ce("layout-dashboard",l_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],zy=ce("loader-circle",i_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],r_=ce("lock",a_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],j0=ce("log-in",o_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],T0=ce("log-out",c_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],d_=ce("message-circle",u_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],A0=ce("panels-top-left",f_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Ly=ce("phone",h_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_c=ce("plus",m_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],g_=ce("save",p_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],$y=ce("school",y_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Uy=ce("search",x_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Iy=ce("settings",v_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Sc=ce("shield-check",b_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Qf=ce("square-check-big",__);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],D0=ce("square-pen",S_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],uf=ce("star",N_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ki=ce("trash-2",C_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],E_=ce("trending-up",w_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Xf=ce("triangle-alert",j_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],A_=ce("upload",T_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],M_=ce("user-minus",D_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],R_=ce("user",k_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Fi=ce("users",O_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],M0=ce("wifi-off",z_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Jn=ce("x",L_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Tr=ce("zap",$_),U_=[{id:1,name:"1st Period",start:"08:10",end:"09:00"},{id:2,name:"2nd Period",start:"09:00",end:"09:45"},{id:3,name:"3rd Period",start:"09:45",end:"10:30"},{id:4,name:"4th Period",start:"10:30",end:"11:15"},{id:5,name:"Break",start:"11:15",end:"11:30",isBreak:!0},{id:6,name:"5th Period",start:"11:30",end:"12:15"},{id:7,name:"6th Period",start:"12:15",end:"13:00"},{id:8,name:"7th Period",start:"13:00",end:"13:30"}],Nc={minimal_light:{id:"minimal_light",name:"Modern Clean",bg:"bg-[#f8fafc]",surface:"bg-white border border-slate-200 shadow-sm",navBg:"bg-white/90 backdrop-blur-md border-t border-slate-200",sidebarBg:"bg-white border-r border-slate-200",textPrimary:"text-slate-900",textSecondary:"text-slate-500",accent:"bg-indigo-600 text-white shadow-lg shadow-indigo-500/20 hover:bg-indigo-700",accentText:"text-indigo-600",border:"border-slate-200"},minimal_dark:{id:"minimal_dark",name:"Stealth Black",bg:"bg-[#0d1117]",surface:"bg-[#161b22] border-[#30363d]",navBg:"bg-[#161b22]/90 backdrop-blur-md border-t border-[#30363d]",sidebarBg:"bg-[#161b22] border-r border-[#30363d]",textPrimary:"text-[#e6edf3]",textSecondary:"text-[#8b949e]",accent:"bg-[#238636] text-white shadow-lg shadow-green-900/20 hover:bg-[#2ea043]",accentText:"text-[#238636]",border:"border-[#30363d]"},minimal_blue:{id:"minimal_blue",name:"Ocean Depth",bg:"bg-[#f0f9ff]",surface:"bg-white border-[#bae6fd]",navBg:"bg-white/80 border-t border-[#bae6fd]",sidebarBg:"bg-white border-r border-[#bae6fd]",textPrimary:"text-[#0c4a6e]",textSecondary:"text-[#075985]",accent:"bg-[#0284c7] text-white shadow-lg shadow-sky-500/20 hover:bg-[#0369a1]",accentText:"text-[#0284c7]",border:"border-[#bae6fd]"},minimal_purple:{id:"minimal_purple",name:"Royal Purple",bg:"bg-[#faf5ff]",surface:"bg-white border-[#e9d5ff]",navBg:"bg-white/80 border-t border-[#e9d5ff]",sidebarBg:"bg-white border-r border-[#e9d5ff]",textPrimary:"text-[#581c87]",textSecondary:"text-[#7e22ce]",accent:"bg-[#9333ea] text-white shadow-lg shadow-purple-500/20 hover:bg-[#7e22ce]",accentText:"text-[#9333ea]",border:"border-[#e9d5ff]"},minimal_gray:{id:"minimal_gray",name:"Concrete",bg:"bg-[#f9fafb]",surface:"bg-white border-[#d1d5db]",navBg:"bg-white/80 border-t border-[#d1d5db]",sidebarBg:"bg-white border-r border-[#d1d5db]",textPrimary:"text-[#111827]",textSecondary:"text-[#4b5563]",accent:"bg-[#111827] text-white shadow-lg shadow-gray-900/20 hover:bg-black",accentText:"text-[#111827]",border:"border-[#d1d5db]"},minimal_green:{id:"minimal_green",name:"Emerald Garden",bg:"bg-[#f0fdf4]",surface:"bg-white border-[#bbf7d0]",navBg:"bg-white/80 border-t border-[#bbf7d0]",sidebarBg:"bg-white border-r border-[#bbf7d0]",textPrimary:"text-[#064e3b]",textSecondary:"text-[#065f46]",accent:"bg-[#059669] text-white shadow-lg shadow-emerald-500/20 hover:bg-[#047857]",accentText:"text-[#059669]",border:"border-[#bbf7d0]"}},I_=()=>{};var k0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q=function(l,n){if(!l)throw ca(n)},ca=function(l){return new Error("Firebase Database ("+Hy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=function(l){const n=[];let i=0;for(let r=0;r<l.length;r++){let c=l.charCodeAt(r);c<128?n[i++]=c:c<2048?(n[i++]=c>>6|192,n[i++]=c&63|128):(c&64512)===55296&&r+1<l.length&&(l.charCodeAt(r+1)&64512)===56320?(c=65536+((c&1023)<<10)+(l.charCodeAt(++r)&1023),n[i++]=c>>18|240,n[i++]=c>>12&63|128,n[i++]=c>>6&63|128,n[i++]=c&63|128):(n[i++]=c>>12|224,n[i++]=c>>6&63|128,n[i++]=c&63|128)}return n},H_=function(l){const n=[];let i=0,r=0;for(;i<l.length;){const c=l[i++];if(c<128)n[r++]=String.fromCharCode(c);else if(c>191&&c<224){const f=l[i++];n[r++]=String.fromCharCode((c&31)<<6|f&63)}else if(c>239&&c<365){const f=l[i++],h=l[i++],p=l[i++],y=((c&7)<<18|(f&63)<<12|(h&63)<<6|p&63)-65536;n[r++]=String.fromCharCode(55296+(y>>10)),n[r++]=String.fromCharCode(56320+(y&1023))}else{const f=l[i++],h=l[i++];n[r++]=String.fromCharCode((c&15)<<12|(f&63)<<6|h&63)}}return n.join("")},Ff={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(l,n){if(!Array.isArray(l))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let c=0;c<l.length;c+=3){const f=l[c],h=c+1<l.length,p=h?l[c+1]:0,y=c+2<l.length,g=y?l[c+2]:0,N=f>>2,_=(f&3)<<4|p>>4;let v=(p&15)<<2|g>>6,R=g&63;y||(R=64,h||(v=64)),r.push(i[N],i[_],i[v],i[R])}return r.join("")},encodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(l):this.encodeByteArray(By(l),n)},decodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(l):H_(this.decodeStringToByteArray(l,n))},decodeStringToByteArray(l,n){this.init_();const i=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let c=0;c<l.length;){const f=i[l.charAt(c++)],p=c<l.length?i[l.charAt(c)]:0;++c;const g=c<l.length?i[l.charAt(c)]:64;++c;const _=c<l.length?i[l.charAt(c)]:64;if(++c,f==null||p==null||g==null||_==null)throw new B_;const v=f<<2|p>>4;if(r.push(v),g!==64){const R=p<<4&240|g>>2;if(r.push(R),_!==64){const G=g<<6&192|_;r.push(G)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let l=0;l<this.ENCODED_VALS.length;l++)this.byteToCharMap_[l]=this.ENCODED_VALS.charAt(l),this.charToByteMap_[this.byteToCharMap_[l]]=l,this.byteToCharMapWebSafe_[l]=this.ENCODED_VALS_WEBSAFE.charAt(l),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[l]]=l,l>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(l)]=l,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(l)]=l)}}};class B_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qy=function(l){const n=By(l);return Ff.encodeByteArray(n,!0)},Ec=function(l){return qy(l).replace(/\./g,"")},Cf=function(l){try{return Ff.decodeString(l,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(l){return Yy(void 0,l)}function Yy(l,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const i=n;return new Date(i.getTime());case Object:l===void 0&&(l={});break;case Array:l=[];break;default:return n}for(const i in n)!n.hasOwnProperty(i)||!Y_(i)||(l[i]=Yy(l[i],n[i]));return l}function Y_(l){return l!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=()=>G_().__FIREBASE_DEFAULTS__,P_=()=>{if(typeof process>"u"||typeof k0>"u")return;const l=k0.__FIREBASE_DEFAULTS__;if(l)return JSON.parse(l)},Q_=()=>{if(typeof document>"u")return;let l;try{l=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=l&&Cf(l[1]);return n&&JSON.parse(n)},Gy=()=>{try{return I_()||V_()||P_()||Q_()}catch(l){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${l}`);return}},X_=l=>{var n,i;return(i=(n=Gy())==null?void 0:n.emulatorHosts)==null?void 0:i[l]},F_=l=>{const n=X_(l);if(!n)return;const i=n.lastIndexOf(":");if(i<=0||i+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const r=parseInt(n.substring(i+1),10);return n[0]==="["?[n.substring(1,i-1),r]:[n.substring(0,i),r]},Vy=()=>{var l;return(l=Gy())==null?void 0:l.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}wrapCallback(n){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(i):n(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(l){try{return(l.startsWith("http://")||l.startsWith("https://")?new URL(l).hostname:l).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Z_(l){return(await fetch(l,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(l,n){if(l.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=n||"demo-project",c=l.iat||0,f=l.sub||l.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:c,exp:c+3600,auth_time:c,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...l};return[Ec(JSON.stringify(i)),Ec(JSON.stringify(h)),""].join(".")}const Sr={};function W_(){const l={prod:[],emulator:[]};for(const n of Object.keys(Sr))Sr[n]?l.emulator.push(n):l.prod.push(n);return l}function J_(l){let n=document.getElementById(l),i=!1;return n||(n=document.createElement("div"),n.setAttribute("id",l),i=!0),{created:i,element:n}}let R0=!1;function e2(l,n){if(typeof window>"u"||typeof document>"u"||!Zf(window.location.host)||Sr[l]===n||Sr[l]||R0)return;Sr[l]=n;function i(v){return`__firebase__banner__${v}`}const r="__firebase__banner",f=W_().prod.length>0;function h(){const v=document.getElementById(r);v&&v.remove()}function p(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function y(v,R){v.setAttribute("width","24"),v.setAttribute("id",R),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function g(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{R0=!0,h()},v}function N(v,R){v.setAttribute("id",R),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function _(){const v=J_(r),R=i("text"),G=document.getElementById(R)||document.createElement("span"),K=i("learnmore"),de=document.getElementById(K)||document.createElement("a"),F=i("preprendIcon"),fe=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const pe=v.element;p(pe),N(de,K);const ie=g();y(fe,F),pe.append(fe,G,de,ie),document.body.appendChild(pe)}f?(G.innerText="Preview backend disconnected.",fe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(fe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Py(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(t2())}function n2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function s2(){return Hy.NODE_ADMIN===!0}function l2(){try{return typeof indexedDB=="object"}catch{return!1}}function i2(){return new Promise((l,n)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(r);c.onsuccess=()=>{c.result.close(),i||self.indexedDB.deleteDatabase(r),l(!0)},c.onupgradeneeded=()=>{i=!1},c.onerror=()=>{var f;n(((f=c.error)==null?void 0:f.message)||"")}}catch(i){n(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="FirebaseError";class Yr extends Error{constructor(n,i,r){super(i),this.code=n,this.customData=r,this.name=a2,Object.setPrototypeOf(this,Yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qy.prototype.create)}}class Qy{constructor(n,i,r){this.service=n,this.serviceName=i,this.errors=r}create(n,...i){const r=i[0]||{},c=`${this.service}/${n}`,f=this.errors[n],h=f?r2(f,r):"Error",p=`${this.serviceName}: ${h} (${c}).`;return new Yr(c,p,r)}}function r2(l,n){return l.replace(o2,(i,r)=>{const c=n[r];return c!=null?String(c):`<${r}?>`})}const o2=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(l){return JSON.parse(l)}function At(l){return JSON.stringify(l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=function(l){let n={},i={},r={},c="";try{const f=l.split(".");n=Ar(Cf(f[0])||""),i=Ar(Cf(f[1])||""),c=f[2],r=i.d||{},delete i.d}catch{}return{header:n,claims:i,data:r,signature:c}},c2=function(l){const n=Xy(l),i=n.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},u2=function(l){const n=Xy(l).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(l,n){return Object.prototype.hasOwnProperty.call(l,n)}function na(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]}function O0(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}function jc(l,n,i){const r={};for(const c in l)Object.prototype.hasOwnProperty.call(l,c)&&(r[c]=n.call(i,l[c],c,l));return r}function Tc(l,n){if(l===n)return!0;const i=Object.keys(l),r=Object.keys(n);for(const c of i){if(!r.includes(c))return!1;const f=l[c],h=n[c];if(z0(f)&&z0(h)){if(!Tc(f,h))return!1}else if(f!==h)return!1}for(const c of r)if(!i.includes(c))return!1;return!0}function z0(l){return l!==null&&typeof l=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(l){const n=[];for(const[i,r]of Object.entries(l))Array.isArray(r)?r.forEach(c=>{n.push(encodeURIComponent(i)+"="+encodeURIComponent(c))}):n.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return n.length?"&"+n.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,i){i||(i=0);const r=this.W_;if(typeof n=="string")for(let _=0;_<16;_++)r[_]=n.charCodeAt(i)<<24|n.charCodeAt(i+1)<<16|n.charCodeAt(i+2)<<8|n.charCodeAt(i+3),i+=4;else for(let _=0;_<16;_++)r[_]=n[i]<<24|n[i+1]<<16|n[i+2]<<8|n[i+3],i+=4;for(let _=16;_<80;_++){const v=r[_-3]^r[_-8]^r[_-14]^r[_-16];r[_]=(v<<1|v>>>31)&4294967295}let c=this.chain_[0],f=this.chain_[1],h=this.chain_[2],p=this.chain_[3],y=this.chain_[4],g,N;for(let _=0;_<80;_++){_<40?_<20?(g=p^f&(h^p),N=1518500249):(g=f^h^p,N=1859775393):_<60?(g=f&h|p&(f|h),N=2400959708):(g=f^h^p,N=3395469782);const v=(c<<5|c>>>27)+g+y+N+r[_]&4294967295;y=p,p=h,h=(f<<30|f>>>2)&4294967295,f=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+y&4294967295}update(n,i){if(n==null)return;i===void 0&&(i=n.length);const r=i-this.blockSize;let c=0;const f=this.buf_;let h=this.inbuf_;for(;c<i;){if(h===0)for(;c<=r;)this.compress_(n,c),c+=this.blockSize;if(typeof n=="string"){for(;c<i;)if(f[h]=n.charCodeAt(c),++h,++c,h===this.blockSize){this.compress_(f),h=0;break}}else for(;c<i;)if(f[h]=n[c],++h,++c,h===this.blockSize){this.compress_(f),h=0;break}}this.inbuf_=h,this.total_+=i}digest(){const n=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let c=this.blockSize-1;c>=56;c--)this.buf_[c]=i&255,i/=256;this.compress_(this.buf_);let r=0;for(let c=0;c<5;c++)for(let f=24;f>=0;f-=8)n[r]=this.chain_[c]>>f&255,++r;return n}}function Vc(l,n){return`${l} failed: ${n} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=function(l){const n=[];let i=0;for(let r=0;r<l.length;r++){let c=l.charCodeAt(r);if(c>=55296&&c<=56319){const f=c-55296;r++,Q(r<l.length,"Surrogate pair missing trail surrogate.");const h=l.charCodeAt(r)-56320;c=65536+(f<<10)+h}c<128?n[i++]=c:c<2048?(n[i++]=c>>6|192,n[i++]=c&63|128):c<65536?(n[i++]=c>>12|224,n[i++]=c>>6&63|128,n[i++]=c&63|128):(n[i++]=c>>18|240,n[i++]=c>>12&63|128,n[i++]=c>>6&63|128,n[i++]=c&63|128)}return n},Pc=function(l){let n=0;for(let i=0;i<l.length;i++){const r=l.charCodeAt(i);r<128?n++:r<2048?n+=2:r>=55296&&r<=56319?(n+=4,i++):n+=3}return n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(l){return l&&l._delegate?l._delegate:l}class Dr{constructor(n,i,r){this.name=n,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(n,i){this.name=n,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const i=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(i)){const r=new qr;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:i});c&&r.resolve(c)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(n){const i=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),r=(n==null?void 0:n.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(c){if(r)return null;throw c}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(g2(n))try{this.getOrInitializeService({instanceIdentifier:Ql})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:c});r.resolve(f)}catch{}}}}clearInstance(n=Ql){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...n.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Ql){return this.instances.has(n)}getOptions(n=Ql){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:i={}}=n,r=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[f,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(f);r===p&&h.resolve(c)}return c}onInit(n,i){const r=this.normalizeInstanceIdentifier(i),c=this.onInitCallbacks.get(r)??new Set;c.add(n),this.onInitCallbacks.set(r,c);const f=this.instances.get(r);return f&&n(f,r),()=>{c.delete(n)}}invokeOnInitCallbacks(n,i){const r=this.onInitCallbacks.get(i);if(r)for(const c of r)try{c(n,i)}catch{}}getOrInitializeService({instanceIdentifier:n,options:i={}}){let r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:p2(n),options:i}),this.instances.set(n,r),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch{}return r||null}normalizeInstanceIdentifier(n=Ql){return this.component?this.component.multipleInstances?n:Ql:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function p2(l){return l===Ql?void 0:l}function g2(l){return l.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const i=this.getProvider(n.name);if(i.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);i.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const i=new m2(n,this);return this.providers.set(n,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(l){l[l.DEBUG=0]="DEBUG",l[l.VERBOSE=1]="VERBOSE",l[l.INFO=2]="INFO",l[l.WARN=3]="WARN",l[l.ERROR=4]="ERROR",l[l.SILENT=5]="SILENT"})(Je||(Je={}));const x2={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},v2=Je.INFO,b2={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},_2=(l,n,...i)=>{if(n<l.logLevel)return;const r=new Date().toISOString(),c=b2[n];if(c)console[c](`[${r}]  ${l.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class Fy{constructor(n){this.name=n,this._logLevel=v2,this._logHandler=_2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Je))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?x2[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...n),this._logHandler(this,Je.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...n),this._logHandler(this,Je.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...n),this._logHandler(this,Je.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...n),this._logHandler(this,Je.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...n),this._logHandler(this,Je.ERROR,...n)}}const S2=(l,n)=>n.some(i=>l instanceof i);let L0,$0;function N2(){return L0||(L0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function C2(){return $0||($0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zy=new WeakMap,wf=new WeakMap,Ky=new WeakMap,df=new WeakMap,Kf=new WeakMap;function w2(l){const n=new Promise((i,r)=>{const c=()=>{l.removeEventListener("success",f),l.removeEventListener("error",h)},f=()=>{i(dl(l.result)),c()},h=()=>{r(l.error),c()};l.addEventListener("success",f),l.addEventListener("error",h)});return n.then(i=>{i instanceof IDBCursor&&Zy.set(i,l)}).catch(()=>{}),Kf.set(n,l),n}function E2(l){if(wf.has(l))return;const n=new Promise((i,r)=>{const c=()=>{l.removeEventListener("complete",f),l.removeEventListener("error",h),l.removeEventListener("abort",h)},f=()=>{i(),c()},h=()=>{r(l.error||new DOMException("AbortError","AbortError")),c()};l.addEventListener("complete",f),l.addEventListener("error",h),l.addEventListener("abort",h)});wf.set(l,n)}let Ef={get(l,n,i){if(l instanceof IDBTransaction){if(n==="done")return wf.get(l);if(n==="objectStoreNames")return l.objectStoreNames||Ky.get(l);if(n==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return dl(l[n])},set(l,n,i){return l[n]=i,!0},has(l,n){return l instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in l}};function j2(l){Ef=l(Ef)}function T2(l){return l===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...i){const r=l.call(ff(this),n,...i);return Ky.set(r,n.sort?n.sort():[n]),dl(r)}:C2().includes(l)?function(...n){return l.apply(ff(this),n),dl(Zy.get(this))}:function(...n){return dl(l.apply(ff(this),n))}}function A2(l){return typeof l=="function"?T2(l):(l instanceof IDBTransaction&&E2(l),S2(l,N2())?new Proxy(l,Ef):l)}function dl(l){if(l instanceof IDBRequest)return w2(l);if(df.has(l))return df.get(l);const n=A2(l);return n!==l&&(df.set(l,n),Kf.set(n,l)),n}const ff=l=>Kf.get(l);function D2(l,n,{blocked:i,upgrade:r,blocking:c,terminated:f}={}){const h=indexedDB.open(l,n),p=dl(h);return r&&h.addEventListener("upgradeneeded",y=>{r(dl(h.result),y.oldVersion,y.newVersion,dl(h.transaction),y)}),i&&h.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{f&&y.addEventListener("close",()=>f()),c&&y.addEventListener("versionchange",g=>c(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const M2=["get","getKey","getAll","getAllKeys","count"],k2=["put","add","delete","clear"],hf=new Map;function U0(l,n){if(!(l instanceof IDBDatabase&&!(n in l)&&typeof n=="string"))return;if(hf.get(n))return hf.get(n);const i=n.replace(/FromIndex$/,""),r=n!==i,c=k2.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(c||M2.includes(i)))return;const f=async function(h,...p){const y=this.transaction(h,c?"readwrite":"readonly");let g=y.store;return r&&(g=g.index(p.shift())),(await Promise.all([g[i](...p),c&&y.done]))[0]};return hf.set(n,f),f}j2(l=>({...l,get:(n,i,r)=>U0(n,i)||l.get(n,i,r),has:(n,i)=>!!U0(n,i)||l.has(n,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(O2(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function O2(l){const n=l.getComponent();return(n==null?void 0:n.type)==="VERSION"}const jf="@firebase/app",I0="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new Fy("@firebase/app"),z2="@firebase/app-compat",L2="@firebase/analytics-compat",$2="@firebase/analytics",U2="@firebase/app-check-compat",I2="@firebase/app-check",H2="@firebase/auth",B2="@firebase/auth-compat",q2="@firebase/database",Y2="@firebase/data-connect",G2="@firebase/database-compat",V2="@firebase/functions",P2="@firebase/functions-compat",Q2="@firebase/installations",X2="@firebase/installations-compat",F2="@firebase/messaging",Z2="@firebase/messaging-compat",K2="@firebase/performance",W2="@firebase/performance-compat",J2="@firebase/remote-config",eS="@firebase/remote-config-compat",tS="@firebase/storage",nS="@firebase/storage-compat",sS="@firebase/firestore",lS="@firebase/ai",iS="@firebase/firestore-compat",aS="firebase",rS="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf="[DEFAULT]",oS={[jf]:"fire-core",[z2]:"fire-core-compat",[$2]:"fire-analytics",[L2]:"fire-analytics-compat",[I2]:"fire-app-check",[U2]:"fire-app-check-compat",[H2]:"fire-auth",[B2]:"fire-auth-compat",[q2]:"fire-rtdb",[Y2]:"fire-data-connect",[G2]:"fire-rtdb-compat",[V2]:"fire-fn",[P2]:"fire-fn-compat",[Q2]:"fire-iid",[X2]:"fire-iid-compat",[F2]:"fire-fcm",[Z2]:"fire-fcm-compat",[K2]:"fire-perf",[W2]:"fire-perf-compat",[J2]:"fire-rc",[eS]:"fire-rc-compat",[tS]:"fire-gcs",[nS]:"fire-gcs-compat",[sS]:"fire-fst",[iS]:"fire-fst-compat",[lS]:"fire-vertex","fire-js":"fire-js",[aS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new Map,cS=new Map,Af=new Map;function H0(l,n){try{l.container.addComponent(n)}catch(i){Ds.debug(`Component ${n.name} failed to register with FirebaseApp ${l.name}`,i)}}function Ac(l){const n=l.name;if(Af.has(n))return Ds.debug(`There were multiple attempts to register component ${n}.`),!1;Af.set(n,l);for(const i of Mr.values())H0(i,l);for(const i of cS.values())H0(i,l);return!0}function uS(l,n){const i=l.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),l.container.getProvider(n)}function dS(l){return l==null?!1:l.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fl=new Qy("app","Firebase",fS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(n,i,r){this._isDeleted=!1,this._options={...n},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw fl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=rS;function Wy(l,n={}){let i=l;typeof n!="object"&&(n={name:n});const r={name:Tf,automaticDataCollectionEnabled:!0,...n},c=r.name;if(typeof c!="string"||!c)throw fl.create("bad-app-name",{appName:String(c)});if(i||(i=Vy()),!i)throw fl.create("no-options");const f=Mr.get(c);if(f){if(Tc(i,f.options)&&Tc(r,f.config))return f;throw fl.create("duplicate-app",{appName:c})}const h=new y2(c);for(const y of Af.values())h.addComponent(y);const p=new hS(i,r,h);return Mr.set(c,p),p}function Jy(l=Tf){const n=Mr.get(l);if(!n&&l===Tf&&Vy())return Wy();if(!n)throw fl.create("no-app",{appName:l});return n}function pS(){return Array.from(Mr.values())}function Ji(l,n,i){let r=oS[l]??l;i&&(r+=`-${i}`);const c=r.match(/\s|\//),f=n.match(/\s|\//);if(c||f){const h=[`Unable to register library "${r}" with version "${n}":`];c&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),c&&f&&h.push("and"),f&&h.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Ds.warn(h.join(" "));return}Ac(new Dr(`${r}-version`,()=>({library:r,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="firebase-heartbeat-database",yS=1,kr="firebase-heartbeat-store";let mf=null;function ex(){return mf||(mf=D2(gS,yS,{upgrade:(l,n)=>{switch(n){case 0:try{l.createObjectStore(kr)}catch(i){console.warn(i)}}}}).catch(l=>{throw fl.create("idb-open",{originalErrorMessage:l.message})})),mf}async function xS(l){try{const i=(await ex()).transaction(kr),r=await i.objectStore(kr).get(tx(l));return await i.done,r}catch(n){if(n instanceof Yr)Ds.warn(n.message);else{const i=fl.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});Ds.warn(i.message)}}}async function B0(l,n){try{const r=(await ex()).transaction(kr,"readwrite");await r.objectStore(kr).put(n,tx(l)),await r.done}catch(i){if(i instanceof Yr)Ds.warn(i.message);else{const r=fl.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ds.warn(r.message)}}}function tx(l){return`${l.name}!${l.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=1024,bS=30;class _S{constructor(n){this.container=n,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new NS(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var n,i;try{const c=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=q0();if(((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(h=>h.date===f))return;if(this._heartbeatsCache.heartbeats.push({date:f,agent:c}),this._heartbeatsCache.heartbeats.length>bS){const h=CS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ds.warn(r)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=q0(),{heartbeatsToSend:r,unsentEntries:c}=SS(this._heartbeatsCache.heartbeats),f=Ec(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,c.length>0?(this._heartbeatsCache.heartbeats=c,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(i){return Ds.warn(i),""}}}function q0(){return new Date().toISOString().substring(0,10)}function SS(l,n=vS){const i=[];let r=l.slice();for(const c of l){const f=i.find(h=>h.agent===c.agent);if(f){if(f.dates.push(c.date),Y0(i)>n){f.dates.pop();break}}else if(i.push({agent:c.agent,dates:[c.date]}),Y0(i)>n){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class NS{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return l2()?i2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await xS(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return B0(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return B0(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...n.heartbeats]})}else return}}function Y0(l){return Ec(JSON.stringify({version:2,heartbeats:l})).length}function CS(l){if(l.length===0)return-1;let n=0,i=l[0].date;for(let r=1;r<l.length;r++)l[r].date<i&&(i=l[r].date,n=r);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(l){Ac(new Dr("platform-logger",n=>new R2(n),"PRIVATE")),Ac(new Dr("heartbeat",n=>new _S(n),"PRIVATE")),Ji(jf,I0,l),Ji(jf,I0,"esm2020"),Ji("fire-js","")}wS("");var ES="firebase",jS="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ji(ES,jS,"app");var G0={};const V0="@firebase/database",P0="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nx="";function TS(l){nx=l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,i){i==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),At(i))}get(n){const i=this.domStorage_.getItem(this.prefixedName_(n));return i==null?null:Ar(i)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,i){i==null?delete this.cache_[n]:this.cache_[n]=i}get(n){return es(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=function(l){try{if(typeof window<"u"&&typeof window[l]<"u"){const n=window[l];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new AS(n)}}catch{}return new DS},Fl=sx("localStorage"),MS=sx("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new Fy("@firebase/database"),kS=(function(){let l=1;return function(){return l++}})(),lx=function(l){const n=h2(l),i=new f2;i.update(n);const r=i.digest();return Ff.encodeByteArray(r)},Gr=function(...l){let n="";for(let i=0;i<l.length;i++){const r=l[i];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?n+=Gr.apply(null,r):typeof r=="object"?n+=At(r):n+=r,n+=" "}return n};let Nr=null,Q0=!0;const RS=function(l,n){Q(!0,"Can't turn on custom loggers persistently."),ea.logLevel=Je.VERBOSE,Nr=ea.log.bind(ea)},It=function(...l){if(Q0===!0&&(Q0=!1,Nr===null&&MS.get("logging_enabled")===!0&&RS()),Nr){const n=Gr.apply(null,l);Nr(n)}},Vr=function(l){return function(...n){It(l,...n)}},Df=function(...l){const n="FIREBASE INTERNAL ERROR: "+Gr(...l);ea.error(n)},Ms=function(...l){const n=`FIREBASE FATAL ERROR: ${Gr(...l)}`;throw ea.error(n),new Error(n)},Jt=function(...l){const n="FIREBASE WARNING: "+Gr(...l);ea.warn(n)},OS=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Jt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Wf=function(l){return typeof l=="number"&&(l!==l||l===Number.POSITIVE_INFINITY||l===Number.NEGATIVE_INFINITY)},zS=function(l){if(document.readyState==="complete")l();else{let n=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}n||(n=!0,l())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},sa="[MIN_NAME]",Zl="[MAX_NAME]",Jl=function(l,n){if(l===n)return 0;if(l===sa||n===Zl)return-1;if(n===sa||l===Zl)return 1;{const i=X0(l),r=X0(n);return i!==null?r!==null?i-r===0?l.length-n.length:i-r:-1:r!==null?1:l<n?-1:1}},LS=function(l,n){return l===n?0:l<n?-1:1},yr=function(l,n){if(n&&l in n)return n[l];throw new Error("Missing required key ("+l+") in object: "+At(n))},Jf=function(l){if(typeof l!="object"||l===null)return At(l);const n=[];for(const r in l)n.push(r);n.sort();let i="{";for(let r=0;r<n.length;r++)r!==0&&(i+=","),i+=At(n[r]),i+=":",i+=Jf(l[n[r]]);return i+="}",i},ix=function(l,n){const i=l.length;if(i<=n)return[l];const r=[];for(let c=0;c<i;c+=n)c+n>i?r.push(l.substring(c,i)):r.push(l.substring(c,c+n));return r};function Ht(l,n){for(const i in l)l.hasOwnProperty(i)&&n(i,l[i])}const ax=function(l){Q(!Wf(l),"Invalid JSON number");const n=11,i=52,r=(1<<n-1)-1;let c,f,h,p,y;l===0?(f=0,h=0,c=1/l===-1/0?1:0):(c=l<0,l=Math.abs(l),l>=Math.pow(2,1-r)?(p=Math.min(Math.floor(Math.log(l)/Math.LN2),r),f=p+r,h=Math.round(l*Math.pow(2,i-p)-Math.pow(2,i))):(f=0,h=Math.round(l/Math.pow(2,1-r-i))));const g=[];for(y=i;y;y-=1)g.push(h%2?1:0),h=Math.floor(h/2);for(y=n;y;y-=1)g.push(f%2?1:0),f=Math.floor(f/2);g.push(c?1:0),g.reverse();const N=g.join("");let _="";for(y=0;y<64;y+=8){let v=parseInt(N.substr(y,8),2).toString(16);v.length===1&&(v="0"+v),_=_+v}return _.toLowerCase()},$S=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},US=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function IS(l,n){let i="Unknown Error";l==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":l==="permission_denied"?i="Client doesn't have permission to access the desired data.":l==="unavailable"&&(i="The service is unavailable");const r=new Error(l+" at "+n._path.toString()+": "+i);return r.code=l.toUpperCase(),r}const HS=new RegExp("^-?(0*)\\d{1,10}$"),BS=-2147483648,qS=2147483647,X0=function(l){if(HS.test(l)){const n=Number(l);if(n>=BS&&n<=qS)return n}return null},da=function(l){try{l()}catch(n){setTimeout(()=>{const i=n.stack||"";throw Jt("Exception was thrown by user callback.",i),n},Math.floor(0))}},YS=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Cr=function(l,n){const i=setTimeout(l,n);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(n,i){this.appCheckProvider=i,this.appName=n.name,dS(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(r=>this.appCheck=r)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((i,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(i,r):i(null)},0)})}addTokenChangeListener(n){var i;(i=this.appCheckProvider)==null||i.get().then(r=>r.addTokenListener(n))}notifyForInvalidToken(){Jt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(n,i,r){this.appName_=n,this.firebaseOptions_=i,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(c=>this.auth_=c)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(i=>i&&i.code==="auth/token-not-initialized"?(It("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(i,r):i(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(i=>i.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(i=>i.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Jt(n)}}class Cc{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}Cc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh="5",rx="v",ox="s",cx="r",ux="f",dx=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,fx="ls",hx="p",Mf="ac",mx="websocket",px="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(n,i,r,c,f=!1,h="",p=!1,y=!1,g=null){this.secure=i,this.namespace=r,this.webSocketOnly=c,this.nodeAdmin=f,this.persistenceKey=h,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=y,this.emulatorOptions=g,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Fl.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Fl.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${i}`}}function PS(l){return l.host!==l.internalHost||l.isCustomHost()||l.includeNamespaceInQueryParams}function yx(l,n,i){Q(typeof n=="string","typeof type must == string"),Q(typeof i=="object","typeof params must == object");let r;if(n===mx)r=(l.secure?"wss://":"ws://")+l.internalHost+"/.ws?";else if(n===px)r=(l.secure?"https://":"http://")+l.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);PS(l)&&(i.ns=l.namespace);const c=[];return Ht(i,(f,h)=>{c.push(f+"="+h)}),r+c.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(){this.counters_={}}incrementCounter(n,i=1){es(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=i}get(){return q_(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf={},gf={};function th(l){const n=l.toString();return pf[n]||(pf[n]=new QS),pf[n]}function XS(l,n){const i=l.toString();return gf[i]||(gf[i]=n()),gf[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,i){this.closeAfterResponse=n,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,i){for(this.pendingResponses[n]=i;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let c=0;c<r.length;++c)r[c]&&da(()=>{this.onMessage_(r[c])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="start",ZS="close",KS="pLPCommand",WS="pRTLPCB",xx="id",vx="pw",bx="ser",JS="cb",eN="seg",tN="ts",nN="d",sN="dframe",_x=1870,Sx=30,lN=_x-Sx,iN=25e3,aN=3e4;class Wi{constructor(n,i,r,c,f,h,p){this.connId=n,this.repoInfo=i,this.applicationId=r,this.appCheckToken=c,this.authToken=f,this.transportSessionId=h,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Vr(n),this.stats_=th(i),this.urlFn=y=>(this.appCheckToken&&(y[Mf]=this.appCheckToken),yx(i,px,y))}open(n,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new FS(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(aN)),zS(()=>{if(this.isClosed_)return;this.scriptTagHolder=new nh((...f)=>{const[h,p,y,g,N]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===F0)this.id=p,this.password=y;else if(h===ZS)p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...f)=>{const[h,p]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(h,p)},()=>{this.onClosed_()},this.urlFn);const r={};r[F0]="t",r[bx]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[JS]=this.scriptTagHolder.uniqueCallbackIdentifier),r[rx]=eh,this.transportSessionId&&(r[ox]=this.transportSessionId),this.lastSessionId&&(r[fx]=this.lastSessionId),this.applicationId&&(r[hx]=this.applicationId),this.appCheckToken&&(r[Mf]=this.appCheckToken),typeof location<"u"&&location.hostname&&dx.test(location.hostname)&&(r[cx]=ux);const c=this.urlFn(r);this.log_("Connecting via long-poll to "+c),this.scriptTagHolder.addTag(c,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Wi.forceAllow_=!0}static forceDisallow(){Wi.forceDisallow_=!0}static isAvailable(){return Wi.forceAllow_?!0:!Wi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!$S()&&!US()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const i=At(n);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=qy(i),c=ix(r,lN);for(let f=0;f<c.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,c.length,c[f]),this.curSegmentNum++}addDisconnectPingFrame(n,i){this.myDisconnFrame=document.createElement("iframe");const r={};r[sN]="t",r[xx]=n,r[vx]=i,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const i=At(n).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class nh{constructor(n,i,r,c){this.onDisconnect=r,this.urlFn=c,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=kS(),window[KS+this.uniqueCallbackIdentifier]=n,window[WS+this.uniqueCallbackIdentifier]=i,this.myIFrame=nh.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(p){It("frame writing exception"),p.stack&&It(p.stack),It(p)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||It("No IE domain setting required")}catch{const r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,i){for(this.myID=n,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[xx]=this.myID,n[vx]=this.myPW,n[bx]=this.currentSerial;let i=this.urlFn(n),r="",c=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Sx+r.length<=_x;){const h=this.pendingSegs.shift();r=r+"&"+eN+c+"="+h.seg+"&"+tN+c+"="+h.ts+"&"+nN+c+"="+h.d,c++}return i=i+r,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(n,i,r){this.pendingSegs.push({seg:n,ts:i,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,i){this.outstandingRequests.add(i);const r=()=>{this.outstandingRequests.delete(i),this.newRequest_()},c=setTimeout(r,Math.floor(iN)),f=()=>{clearTimeout(c),r()};this.addTag(n,f)}addTag(n,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){const c=r.readyState;(!c||c==="loaded"||c==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),i())},r.onerror=()=>{It("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=16384,oN=45e3;let Dc=null;typeof MozWebSocket<"u"?Dc=MozWebSocket:typeof WebSocket<"u"&&(Dc=WebSocket);class In{constructor(n,i,r,c,f,h,p){this.connId=n,this.applicationId=r,this.appCheckToken=c,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Vr(this.connId),this.stats_=th(i),this.connURL=In.connectionURL_(i,h,p,c,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(n,i,r,c,f){const h={};return h[rx]=eh,typeof location<"u"&&location.hostname&&dx.test(location.hostname)&&(h[cx]=ux),i&&(h[ox]=i),r&&(h[fx]=r),c&&(h[Mf]=c),f&&(h[hx]=f),yx(n,mx,h)}open(n,i){this.onDisconnect=i,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Fl.set("previous_websocket_failure",!0);try{let r;s2(),this.mySock=new Dc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const c=r.message||r.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const c=r.message||r.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){In.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&Dc!==null&&!In.forceDisallow_}static previouslyFailed(){return Fl.isInMemoryStorage||Fl.get("previous_websocket_failure")===!0}markConnectionHealthy(){Fl.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=Ar(i);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(Q(this.frames===null,"We already have a frame buffer"),n.length<=6){const i=Number(n);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const i=n.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();const i=At(n);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=ix(i,rN);r.length>1&&this.sendString_(String(r.length));for(let c=0;c<r.length;c++)this.sendString_(r[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(oN))}sendString_(n){try{this.mySock.send(n)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}In.responsesRequiredToBeHealthy=2;In.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{static get ALL_TRANSPORTS(){return[Wi,In]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const i=In&&In.isAvailable();let r=i&&!In.previouslyFailed();if(n.webSocketOnly&&(i||Jt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[In];else{const c=this.transports_=[];for(const f of Rr.ALL_TRANSPORTS)f&&f.isAvailable()&&c.push(f);Rr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Rr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=6e4,uN=5e3,dN=10*1024,fN=100*1024,yf="t",Z0="d",hN="s",K0="r",mN="e",W0="o",J0="a",ey="n",ty="p",pN="h";class gN{constructor(n,i,r,c,f,h,p,y,g,N){this.id=n,this.repoInfo_=i,this.applicationId_=r,this.appCheckToken_=c,this.authToken_=f,this.onMessage_=h,this.onReady_=p,this.onDisconnect_=y,this.onKill_=g,this.lastSessionId=N,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Vr("c:"+this.id+":"),this.transportManager_=new Rr(i),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,r)},Math.floor(0));const c=n.healthyTimeout||0;c>0&&(this.healthyTimeout_=Cr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>fN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>dN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(c)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return i=>{n===this.conn_?this.onConnectionLost_(i):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return i=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(i):n===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(n){const i={t:"d",d:n};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(yf in n){const i=n[yf];i===J0?this.upgradeIfSecondaryHealthy_():i===K0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===W0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const i=yr("t",n),r=yr("d",n);if(i==="c")this.onSecondaryControl_(r);else if(i==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ty,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:J0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ey,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const i=yr("t",n),r=yr("d",n);i==="c"?this.onControl_(r):i==="d"&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const i=yr(yf,n);if(Z0 in n){const r=n[Z0];if(i===pN){const c={...r};this.repoInfo_.isUsingEmulator&&(c.h=this.repoInfo_.host),this.onHandshake_(c)}else if(i===ey){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let c=0;c<this.pendingDataMessages.length;++c)this.onDataMessage_(this.pendingDataMessages[c]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===hN?this.onConnectionShutdown_(r):i===K0?this.onReset_(r):i===mN?Df("Server Error: "+r):i===W0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Df("Unknown control packet command: "+i)}}onHandshake_(n){const i=n.ts,r=n.v,c=n.h;this.sessionId=n.s,this.repoInfo_.host=c,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),eh!==r&&Jt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,r),Cr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(cN))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,i){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Cr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(uN))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ty,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Fl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{put(n,i,r,c){}merge(n,i,r,c){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,i,r){}onDisconnectMerge(n,i,r){}onDisconnectCancel(n,i){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(n){this.allowedEvents_=n,this.listeners_={},Q(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...i){if(Array.isArray(this.listeners_[n])){const r=[...this.listeners_[n]];for(let c=0;c<r.length;c++)r[c].callback.apply(r[c].context,i)}}on(n,i,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:i,context:r});const c=this.getInitialEvent(n);c&&i.apply(r,c)}off(n,i,r){this.validateEventType_(n);const c=this.listeners_[n]||[];for(let f=0;f<c.length;f++)if(c[f].callback===i&&(!r||r===c[f].context)){c.splice(f,1);return}}validateEventType_(n){Q(this.allowedEvents_.find(i=>i===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends Cx{static getInstance(){return new Mc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Py()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return Q(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny=32,sy=768;class Xe{constructor(n,i){if(i===void 0){this.pieces_=n.split("/");let r=0;for(let c=0;c<this.pieces_.length;c++)this.pieces_[c].length>0&&(this.pieces_[r]=this.pieces_[c],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=i}toString(){let n="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(n+="/"+this.pieces_[i]);return n||"/"}}function ze(){return new Xe("")}function _e(l){return l.pieceNum_>=l.pieces_.length?null:l.pieces_[l.pieceNum_]}function pl(l){return l.pieces_.length-l.pieceNum_}function et(l){let n=l.pieceNum_;return n<l.pieces_.length&&n++,new Xe(l.pieces_,n)}function sh(l){return l.pieceNum_<l.pieces_.length?l.pieces_[l.pieces_.length-1]:null}function yN(l){let n="";for(let i=l.pieceNum_;i<l.pieces_.length;i++)l.pieces_[i]!==""&&(n+="/"+encodeURIComponent(String(l.pieces_[i])));return n||"/"}function Or(l,n=0){return l.pieces_.slice(l.pieceNum_+n)}function wx(l){if(l.pieceNum_>=l.pieces_.length)return null;const n=[];for(let i=l.pieceNum_;i<l.pieces_.length-1;i++)n.push(l.pieces_[i]);return new Xe(n,0)}function ft(l,n){const i=[];for(let r=l.pieceNum_;r<l.pieces_.length;r++)i.push(l.pieces_[r]);if(n instanceof Xe)for(let r=n.pieceNum_;r<n.pieces_.length;r++)i.push(n.pieces_[r]);else{const r=n.split("/");for(let c=0;c<r.length;c++)r[c].length>0&&i.push(r[c])}return new Xe(i,0)}function we(l){return l.pieceNum_>=l.pieces_.length}function Wt(l,n){const i=_e(l),r=_e(n);if(i===null)return n;if(i===r)return Wt(et(l),et(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+l+")")}function xN(l,n){const i=Or(l,0),r=Or(n,0);for(let c=0;c<i.length&&c<r.length;c++){const f=Jl(i[c],r[c]);if(f!==0)return f}return i.length===r.length?0:i.length<r.length?-1:1}function lh(l,n){if(pl(l)!==pl(n))return!1;for(let i=l.pieceNum_,r=n.pieceNum_;i<=l.pieces_.length;i++,r++)if(l.pieces_[i]!==n.pieces_[r])return!1;return!0}function Tn(l,n){let i=l.pieceNum_,r=n.pieceNum_;if(pl(l)>pl(n))return!1;for(;i<l.pieces_.length;){if(l.pieces_[i]!==n.pieces_[r])return!1;++i,++r}return!0}class vN{constructor(n,i){this.errorPrefix_=i,this.parts_=Or(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Pc(this.parts_[r]);Ex(this)}}function bN(l,n){l.parts_.length>0&&(l.byteLength_+=1),l.parts_.push(n),l.byteLength_+=Pc(n),Ex(l)}function _N(l){const n=l.parts_.pop();l.byteLength_-=Pc(n),l.parts_.length>0&&(l.byteLength_-=1)}function Ex(l){if(l.byteLength_>sy)throw new Error(l.errorPrefix_+"has a key path longer than "+sy+" bytes ("+l.byteLength_+").");if(l.parts_.length>ny)throw new Error(l.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ny+") or object contains a cycle "+Xl(l))}function Xl(l){return l.parts_.length===0?"":"in property '"+l.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih extends Cx{static getInstance(){return new ih}constructor(){super(["visible"]);let n,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(n){return Q(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr=1e3,SN=300*1e3,ly=30*1e3,NN=1.3,CN=3e4,wN="server_kill",iy=3;class As extends Nx{constructor(n,i,r,c,f,h,p,y){if(super(),this.repoInfo_=n,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=c,this.onServerInfoUpdate_=f,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=y,this.id=As.nextPersistentConnectionId_++,this.log_=Vr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xr,this.maxReconnectDelay_=SN,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ih.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Mc.getInstance().on("online",this.onOnline_,this)}sendRequest(n,i,r){const c=++this.requestNumber_,f={r:c,a:n,b:i};this.log_(At(f)),Q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),r&&(this.requestCBHash_[c]=r)}get(n){this.initConnection_();const i=new qr,c={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:h=>{const p=h.d;h.s==="ok"?i.resolve(p):i.reject(p)}};this.outstandingGets_.push(c),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),i.promise}listen(n,i,r,c){this.initConnection_();const f=n._queryIdentifier,h=n._path.toString();this.log_("Listen called for "+h+" "+f),this.listens.has(h)||this.listens.set(h,new Map),Q(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Q(!this.listens.get(h).has(f),"listen() called twice for same path/queryId.");const p={onComplete:c,hashFn:i,query:n,tag:r};this.listens.get(h).set(f,p),this.connected_&&this.sendListen_(p)}sendGet_(n){const i=this.outstandingGets_[n];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(n){const i=n.query,r=i._path.toString(),c=i._queryIdentifier;this.log_("Listen on "+r+" for "+c);const f={p:r},h="q";n.tag&&(f.q=i._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest(h,f,p=>{const y=p.d,g=p.s;As.warnOnListenWarnings_(y,i),(this.listens.get(r)&&this.listens.get(r).get(c))===n&&(this.log_("listen response",p),g!=="ok"&&this.removeListen_(r,c),n.onComplete&&n.onComplete(g,y))})}static warnOnListenWarnings_(n,i){if(n&&typeof n=="object"&&es(n,"w")){const r=na(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const c='".indexOn": "'+i._queryParams.getIndex().toString()+'"',f=i._path.toString();Jt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||u2(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ly)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,i=c2(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,c=>{const f=c.s,h=c.d||"error";this.authToken_===n&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const i=n.s,r=n.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(n,i){const r=n._path.toString(),c=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+c),Q(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,c)&&this.connected_&&this.sendUnlisten_(r,c,n._queryObject,i)}sendUnlisten_(n,i,r,c){this.log_("Unlisten on "+n+" for "+i);const f={p:n},h="n";c&&(f.q=r,f.t=c),this.sendRequest(h,f)}onDisconnectPut(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:i,onComplete:r})}onDisconnectMerge(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:i,onComplete:r})}onDisconnectCancel(n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(n,i,r,c){const f={p:i,d:r};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,h=>{c&&setTimeout(()=>{c(h.s,h.d)},Math.floor(0))})}put(n,i,r,c){this.putInternal("p",n,i,r,c)}merge(n,i,r,c){this.putInternal("m",n,i,r,c)}putInternal(n,i,r,c,f){this.initConnection_();const h={p:i,d:r};f!==void 0&&(h.h=f),this.outstandingPuts_.push({action:n,request:h,onComplete:c}),this.outstandingPutCount_++;const p=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(p):this.log_("Buffering put: "+i)}sendPut_(n){const i=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,c=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,r,f=>{this.log_(i+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),c&&c(f.s,f.d)})}reportStats(n){if(this.connected_){const i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){const f=r.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+At(n));const i=n.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,i){this.log_("handleServerMessage",n,i),n==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):n==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):n==="c"?this.onListenRevoked_(i.p,i.q):n==="ac"?this.onAuthRevoked_(i.s,i.d):n==="apc"?this.onAppCheckRevoked_(i.s,i.d):n==="sd"?this.onSecurityDebugPacket_(i):Df("Unrecognized action received from server: "+At(n)+`
Are you using the latest client?`)}onReady_(n,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){Q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xr,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=xr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>CN&&(this.reconnectDelay_=xr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-n);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*NN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),c=this.id+":"+As.nextConnectionId_++,f=this.lastSessionId;let h=!1,p=null;const y=function(){p?p.close():(h=!0,r())},g=function(_){Q(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(_)};this.realtime_={close:y,sendRequest:g};const N=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,v]=await Promise.all([this.authTokenProvider_.getToken(N),this.appCheckTokenProvider_.getToken(N)]);h?It("getToken() completed but was canceled"):(It("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=v&&v.token,p=new gN(c,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,i,r,R=>{Jt(R+" ("+this.repoInfo_.toString()+")"),this.interrupt(wN)},f))}catch(_){this.log_("Failed to get token: "+_),h||(this.repoInfo_.nodeAdmin&&Jt(_),y())}}}interrupt(n){It("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){It("Resuming connection for reason: "+n),delete this.interruptReasons_[n],O0(this.interruptReasons_)&&(this.reconnectDelay_=xr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const i=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const i=this.outstandingPuts_[n];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,i){let r;i?r=i.map(f=>Jf(f)).join("$"):r="default";const c=this.removeListen_(n,r);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(n,i){const r=new Xe(n).toString();let c;if(this.listens.has(r)){const f=this.listens.get(r);c=f.get(i),f.delete(i),f.size===0&&this.listens.delete(r)}else c=void 0;return c}onAuthRevoked_(n,i){It("Auth token revoked: "+n+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=iy&&(this.reconnectDelay_=ly,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,i){It("App check token revoked: "+n+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=iy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const i of n.values())this.sendListen_(i);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let i="js";n["sdk."+i+"."+nx.replace(/\./g,"-")]=1,Py()?n["framework.cordova"]=1:n2()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Mc.getInstance().currentlyOnline();return O0(this.interruptReasons_)&&n}}As.nextPersistentConnectionId_=0;As.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(n,i){this.name=n,this.node=i}static Wrap(n,i){return new Se(n,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,i){const r=new Se(sa,n),c=new Se(sa,i);return this.compare(r,c)!==0}minPost(){return Se.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc;class jx extends Qc{static get __EMPTY_NODE(){return xc}static set __EMPTY_NODE(n){xc=n}compare(n,i){return Jl(n.name,i.name)}isDefinedOn(n){throw ca("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,i){return!1}minPost(){return Se.MIN}maxPost(){return new Se(Zl,xc)}makePost(n,i){return Q(typeof n=="string","KeyIndex indexValue must always be a string."),new Se(n,xc)}toString(){return".key"}}const ta=new jx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(n,i,r,c,f=null){this.isReverse_=c,this.resultGenerator_=f,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(n=n,h=i?r(n.key,i):1,c&&(h*=-1),h<0)this.isReverse_?n=n.left:n=n.right;else if(h===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(n.key,n.value):i={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class Rt{constructor(n,i,r,c,f){this.key=n,this.value=i,this.color=r??Rt.RED,this.left=c??rn.EMPTY_NODE,this.right=f??rn.EMPTY_NODE}copy(n,i,r,c,f){return new Rt(n??this.key,i??this.value,r??this.color,c??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,r){let c=this;const f=r(n,c.key);return f<0?c=c.copy(null,null,null,c.left.insert(n,i,r),null):f===0?c=c.copy(null,i,null,null,null):c=c.copy(null,null,null,null,c.right.insert(n,i,r)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return rn.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,i){let r,c;if(r=this,i(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(n,r.key)===0){if(r.right.isEmpty())return rn.EMPTY_NODE;c=r.right.min_(),r=r.copy(c.key,c.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}Rt.RED=!0;Rt.BLACK=!1;class EN{copy(n,i,r,c,f){return this}insert(n,i,r){return new Rt(n,i,null)}remove(n,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class rn{constructor(n,i=rn.EMPTY_NODE){this.comparator_=n,this.root_=i}insert(n,i){return new rn(this.comparator_,this.root_.insert(n,i,this.comparator_).copy(null,null,Rt.BLACK,null,null))}remove(n){return new rn(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,Rt.BLACK,null,null))}get(n){let i,r=this.root_;for(;!r.isEmpty();){if(i=this.comparator_(n,r.key),i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}getPredecessorKey(n){let i,r=this.root_,c=null;for(;!r.isEmpty();)if(i=this.comparator_(n,r.key),i===0){if(r.left.isEmpty())return c?c.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else i<0?r=r.left:i>0&&(c=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new vc(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,i){return new vc(this.root_,n,this.comparator_,!1,i)}getReverseIteratorFrom(n,i){return new vc(this.root_,n,this.comparator_,!0,i)}getReverseIterator(n){return new vc(this.root_,null,this.comparator_,!0,n)}}rn.EMPTY_NODE=new EN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(l,n){return Jl(l.name,n.name)}function ah(l,n){return Jl(l,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kf;function TN(l){kf=l}const Tx=function(l){return typeof l=="number"?"number:"+ax(l):"string:"+l},Ax=function(l){if(l.isLeafNode()){const n=l.val();Q(typeof n=="string"||typeof n=="number"||typeof n=="object"&&es(n,".sv"),"Priority must be a string or number.")}else Q(l===kf||l.isEmpty(),"priority of unexpected type.");Q(l===kf||l.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ay;class kt{static set __childrenNodeConstructor(n){ay=n}static get __childrenNodeConstructor(){return ay}constructor(n,i=kt.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=i,this.lazyHash_=null,Q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Ax(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new kt(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:kt.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return we(n)?this:_e(n)===".priority"?this.priorityNode_:kt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,i){return null}updateImmediateChild(n,i){return n===".priority"?this.updatePriority(i):i.isEmpty()&&n!==".priority"?this:kt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,i).updatePriority(this.priorityNode_)}updateChild(n,i){const r=_e(n);return r===null?i:i.isEmpty()&&r!==".priority"?this:(Q(r!==".priority"||pl(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,kt.__childrenNodeConstructor.EMPTY_NODE.updateChild(et(n),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,i){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Tx(this.priorityNode_.val())+":");const i=typeof this.value_;n+=i+":",i==="number"?n+=ax(this.value_):n+=this.value_,this.lazyHash_=lx(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===kt.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof kt.__childrenNodeConstructor?-1:(Q(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const i=typeof n.value_,r=typeof this.value_,c=kt.VALUE_TYPE_ORDER.indexOf(i),f=kt.VALUE_TYPE_ORDER.indexOf(r);return Q(c>=0,"Unknown leaf type: "+i),Q(f>=0,"Unknown leaf type: "+r),c===f?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-c}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const i=n;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}kt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dx,Mx;function AN(l){Dx=l}function DN(l){Mx=l}class MN extends Qc{compare(n,i){const r=n.node.getPriority(),c=i.node.getPriority(),f=r.compareTo(c);return f===0?Jl(n.name,i.name):f}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,i){return!n.getPriority().equals(i.getPriority())}minPost(){return Se.MIN}maxPost(){return new Se(Zl,new kt("[PRIORITY-POST]",Mx))}makePost(n,i){const r=Dx(n);return new Se(i,new kt("[PRIORITY-POST]",r))}toString(){return".priority"}}const ht=new MN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=Math.log(2);class RN{constructor(n){const i=f=>parseInt(Math.log(f)/kN,10),r=f=>parseInt(Array(f+1).join("1"),2);this.count=i(n+1),this.current_=this.count-1;const c=r(this.count);this.bits_=n+1&c}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const kc=function(l,n,i,r){l.sort(n);const c=function(y,g){const N=g-y;let _,v;if(N===0)return null;if(N===1)return _=l[y],v=i?i(_):_,new Rt(v,_.node,Rt.BLACK,null,null);{const R=parseInt(N/2,10)+y,G=c(y,R),K=c(R+1,g);return _=l[R],v=i?i(_):_,new Rt(v,_.node,Rt.BLACK,G,K)}},f=function(y){let g=null,N=null,_=l.length;const v=function(G,K){const de=_-G,F=_;_-=G;const fe=c(de+1,F),pe=l[de],ie=i?i(pe):pe;R(new Rt(ie,pe.node,K,null,fe))},R=function(G){g?(g.left=G,g=G):(N=G,g=G)};for(let G=0;G<y.count;++G){const K=y.nextBitIsOne(),de=Math.pow(2,y.count-(G+1));K?v(de,Rt.BLACK):(v(de,Rt.BLACK),v(de,Rt.RED))}return N},h=new RN(l.length),p=f(h);return new rn(r||n,p)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xf;const Xi={};class Ts{static get Default(){return Q(Xi&&ht,"ChildrenNode.ts has not been loaded"),xf=xf||new Ts({".priority":Xi},{".priority":ht}),xf}constructor(n,i){this.indexes_=n,this.indexSet_=i}get(n){const i=na(this.indexes_,n);if(!i)throw new Error("No index defined for "+n);return i instanceof rn?i:null}hasIndex(n){return es(this.indexSet_,n.toString())}addIndex(n,i){Q(n!==ta,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let c=!1;const f=i.getIterator(Se.Wrap);let h=f.getNext();for(;h;)c=c||n.isDefinedOn(h.node),r.push(h),h=f.getNext();let p;c?p=kc(r,n.getCompare()):p=Xi;const y=n.toString(),g={...this.indexSet_};g[y]=n;const N={...this.indexes_};return N[y]=p,new Ts(N,g)}addToIndexes(n,i){const r=jc(this.indexes_,(c,f)=>{const h=na(this.indexSet_,f);if(Q(h,"Missing index implementation for "+f),c===Xi)if(h.isDefinedOn(n.node)){const p=[],y=i.getIterator(Se.Wrap);let g=y.getNext();for(;g;)g.name!==n.name&&p.push(g),g=y.getNext();return p.push(n),kc(p,h.getCompare())}else return Xi;else{const p=i.get(n.name);let y=c;return p&&(y=y.remove(new Se(n.name,p))),y.insert(n,n.node)}});return new Ts(r,this.indexSet_)}removeFromIndexes(n,i){const r=jc(this.indexes_,c=>{if(c===Xi)return c;{const f=i.get(n.name);return f?c.remove(new Se(n.name,f)):c}});return new Ts(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vr;class ue{static get EMPTY_NODE(){return vr||(vr=new ue(new rn(ah),null,Ts.Default))}constructor(n,i,r){this.children_=n,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Ax(this.priorityNode_),this.children_.isEmpty()&&Q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||vr}updatePriority(n){return this.children_.isEmpty()?this:new ue(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const i=this.children_.get(n);return i===null?vr:i}}getChild(n){const i=_e(n);return i===null?this:this.getImmediateChild(i).getChild(et(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,i){if(Q(i,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(i);{const r=new Se(n,i);let c,f;i.isEmpty()?(c=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(r,this.children_)):(c=this.children_.insert(n,i),f=this.indexMap_.addToIndexes(r,this.children_));const h=c.isEmpty()?vr:this.priorityNode_;return new ue(c,h,f)}}updateChild(n,i){const r=_e(n);if(r===null)return i;{Q(_e(n)!==".priority"||pl(n)===1,".priority must be the last token in a path");const c=this.getImmediateChild(r).updateChild(et(n),i);return this.updateImmediateChild(r,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const i={};let r=0,c=0,f=!0;if(this.forEachChild(ht,(h,p)=>{i[h]=p.val(n),r++,f&&ue.INTEGER_REGEXP_.test(h)?c=Math.max(c,Number(h)):f=!1}),!n&&f&&c<2*r){const h=[];for(const p in i)h[p]=i[p];return h}else return n&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+Tx(this.getPriority().val())+":"),this.forEachChild(ht,(i,r)=>{const c=r.hash();c!==""&&(n+=":"+i+":"+c)}),this.lazyHash_=n===""?"":lx(n)}return this.lazyHash_}getPredecessorChildName(n,i,r){const c=this.resolveIndex_(r);if(c){const f=c.getPredecessorKey(new Se(n,i));return f?f.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const i=this.resolveIndex_(n);if(i){const r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){const i=this.getFirstChildName(n);return i?new Se(i,this.children_.get(i)):null}getLastChildName(n){const i=this.resolveIndex_(n);if(i){const r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){const i=this.getLastChildName(n);return i?new Se(i,this.children_.get(i)):null}forEachChild(n,i){const r=this.resolveIndex_(n);return r?r.inorderTraversal(c=>i(c.name,c.node)):this.children_.inorderTraversal(i)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(n,c=>c);{const c=this.children_.getIteratorFrom(n.name,Se.Wrap);let f=c.peek();for(;f!=null&&i.compare(f,n)<0;)c.getNext(),f=c.peek();return c}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(n,c=>c);{const c=this.children_.getReverseIteratorFrom(n.name,Se.Wrap);let f=c.peek();for(;f!=null&&i.compare(f,n)>0;)c.getNext(),f=c.peek();return c}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Pr?-1:0}withIndex(n){if(n===ta||this.indexMap_.hasIndex(n))return this;{const i=this.indexMap_.addIndex(n,this.children_);return new ue(this.children_,this.priorityNode_,i)}}isIndexed(n){return n===ta||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const i=n;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const r=this.getIterator(ht),c=i.getIterator(ht);let f=r.getNext(),h=c.getNext();for(;f&&h;){if(f.name!==h.name||!f.node.equals(h.node))return!1;f=r.getNext(),h=c.getNext()}return f===null&&h===null}else return!1;else return!1}}resolveIndex_(n){return n===ta?null:this.indexMap_.get(n.toString())}}ue.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class ON extends ue{constructor(){super(new rn(ah),ue.EMPTY_NODE,Ts.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return ue.EMPTY_NODE}isEmpty(){return!1}}const Pr=new ON;Object.defineProperties(Se,{MIN:{value:new Se(sa,ue.EMPTY_NODE)},MAX:{value:new Se(Zl,Pr)}});jx.__EMPTY_NODE=ue.EMPTY_NODE;kt.__childrenNodeConstructor=ue;TN(Pr);DN(Pr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=!0;function jt(l,n=null){if(l===null)return ue.EMPTY_NODE;if(typeof l=="object"&&".priority"in l&&(n=l[".priority"]),Q(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof l=="object"&&".value"in l&&l[".value"]!==null&&(l=l[".value"]),typeof l!="object"||".sv"in l){const i=l;return new kt(i,jt(n))}if(!(l instanceof Array)&&zN){const i=[];let r=!1;if(Ht(l,(h,p)=>{if(h.substring(0,1)!=="."){const y=jt(p);y.isEmpty()||(r=r||!y.getPriority().isEmpty(),i.push(new Se(h,y)))}}),i.length===0)return ue.EMPTY_NODE;const f=kc(i,jN,h=>h.name,ah);if(r){const h=kc(i,ht.getCompare());return new ue(f,jt(n),new Ts({".priority":h},{".priority":ht}))}else return new ue(f,jt(n),Ts.Default)}else{let i=ue.EMPTY_NODE;return Ht(l,(r,c)=>{if(es(l,r)&&r.substring(0,1)!=="."){const f=jt(c);(f.isLeafNode()||!f.isEmpty())&&(i=i.updateImmediateChild(r,f))}}),i.updatePriority(jt(n))}}AN(jt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN extends Qc{constructor(n){super(),this.indexPath_=n,Q(!we(n)&&_e(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,i){const r=this.extractChild(n.node),c=this.extractChild(i.node),f=r.compareTo(c);return f===0?Jl(n.name,i.name):f}makePost(n,i){const r=jt(n),c=ue.EMPTY_NODE.updateChild(this.indexPath_,r);return new Se(i,c)}maxPost(){const n=ue.EMPTY_NODE.updateChild(this.indexPath_,Pr);return new Se(Zl,n)}toString(){return Or(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N extends Qc{compare(n,i){const r=n.node.compareTo(i.node);return r===0?Jl(n.name,i.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,i){return!n.equals(i)}minPost(){return Se.MIN}maxPost(){return Se.MAX}makePost(n,i){const r=jt(n);return new Se(i,r)}toString(){return".value"}}const UN=new $N;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(l){return{type:"value",snapshotNode:l}}function la(l,n){return{type:"child_added",snapshotNode:n,childName:l}}function zr(l,n){return{type:"child_removed",snapshotNode:n,childName:l}}function Lr(l,n,i){return{type:"child_changed",snapshotNode:n,childName:l,oldSnap:i}}function IN(l,n){return{type:"child_moved",snapshotNode:n,childName:l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(n){this.index_=n}updateChild(n,i,r,c,f,h){Q(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=n.getImmediateChild(i);return p.getChild(c).equals(r.getChild(c))&&p.isEmpty()===r.isEmpty()||(h!=null&&(r.isEmpty()?n.hasChild(i)?h.trackChildChange(zr(i,p)):Q(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?h.trackChildChange(la(i,r)):h.trackChildChange(Lr(i,r,p))),n.isLeafNode()&&r.isEmpty())?n:n.updateImmediateChild(i,r).withIndex(this.index_)}updateFullNode(n,i,r){return r!=null&&(n.isLeafNode()||n.forEachChild(ht,(c,f)=>{i.hasChild(c)||r.trackChildChange(zr(c,f))}),i.isLeafNode()||i.forEachChild(ht,(c,f)=>{if(n.hasChild(c)){const h=n.getImmediateChild(c);h.equals(f)||r.trackChildChange(Lr(c,f,h))}else r.trackChildChange(la(c,f))})),i.withIndex(this.index_)}updatePriority(n,i){return n.isEmpty()?ue.EMPTY_NODE:n.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(n){this.indexedFilter_=new rh(n.getIndex()),this.index_=n.getIndex(),this.startPost_=$r.getStartPost_(n),this.endPost_=$r.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,r=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return i&&r}updateChild(n,i,r,c,f,h){return this.matches(new Se(i,r))||(r=ue.EMPTY_NODE),this.indexedFilter_.updateChild(n,i,r,c,f,h)}updateFullNode(n,i,r){i.isLeafNode()&&(i=ue.EMPTY_NODE);let c=i.withIndex(this.index_);c=c.updatePriority(ue.EMPTY_NODE);const f=this;return i.forEachChild(ht,(h,p)=>{f.matches(new Se(h,p))||(c=c.updateImmediateChild(h,ue.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,c,r)}updatePriority(n,i){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const i=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),i)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const i=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),i)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(n){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=i=>{const r=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new $r(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,i,r,c,f,h){return this.rangedFilter_.matches(new Se(i,r))||(r=ue.EMPTY_NODE),n.getImmediateChild(i).equals(r)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,i,r,c,f,h):this.fullLimitUpdateChild_(n,i,r,f,h)}updateFullNode(n,i,r){let c;if(i.isLeafNode()||i.isEmpty())c=ue.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){c=ue.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;f.hasNext()&&h<this.limit_;){const p=f.getNext();if(this.withinDirectionalStart(p))if(this.withinDirectionalEnd(p))c=c.updateImmediateChild(p.name,p.node),h++;else break;else continue}}else{c=i.withIndex(this.index_),c=c.updatePriority(ue.EMPTY_NODE);let f;this.reverse_?f=c.getReverseIterator(this.index_):f=c.getIterator(this.index_);let h=0;for(;f.hasNext();){const p=f.getNext();h<this.limit_&&this.withinDirectionalStart(p)&&this.withinDirectionalEnd(p)?h++:c=c.updateImmediateChild(p.name,ue.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,c,r)}updatePriority(n,i){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,i,r,c,f){let h;if(this.reverse_){const _=this.index_.getCompare();h=(v,R)=>_(R,v)}else h=this.index_.getCompare();const p=n;Q(p.numChildren()===this.limit_,"");const y=new Se(i,r),g=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),N=this.rangedFilter_.matches(y);if(p.hasChild(i)){const _=p.getImmediateChild(i);let v=c.getChildAfterChild(this.index_,g,this.reverse_);for(;v!=null&&(v.name===i||p.hasChild(v.name));)v=c.getChildAfterChild(this.index_,v,this.reverse_);const R=v==null?1:h(v,y);if(N&&!r.isEmpty()&&R>=0)return f!=null&&f.trackChildChange(Lr(i,r,_)),p.updateImmediateChild(i,r);{f!=null&&f.trackChildChange(zr(i,_));const K=p.updateImmediateChild(i,ue.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(f!=null&&f.trackChildChange(la(v.name,v.node)),K.updateImmediateChild(v.name,v.node)):K}}else return r.isEmpty()?n:N&&h(g,y)>=0?(f!=null&&(f.trackChildChange(zr(g.name,g.node)),f.trackChildChange(la(i,r))),p.updateImmediateChild(i,r).updateImmediateChild(g.name,ue.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ht}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:sa}hasEnd(){return this.endSet_}getIndexEndValue(){return Q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Zl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ht}copy(){const n=new oh;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function BN(l){return l.loadsAllData()?new rh(l.getIndex()):l.hasLimit()?new HN(l):new $r(l)}function ry(l){const n={};if(l.isDefault())return n;let i;if(l.index_===ht?i="$priority":l.index_===UN?i="$value":l.index_===ta?i="$key":(Q(l.index_ instanceof LN,"Unrecognized index type!"),i=l.index_.toString()),n.orderBy=At(i),l.startSet_){const r=l.startAfterSet_?"startAfter":"startAt";n[r]=At(l.indexStartValue_),l.startNameSet_&&(n[r]+=","+At(l.indexStartName_))}if(l.endSet_){const r=l.endBeforeSet_?"endBefore":"endAt";n[r]=At(l.indexEndValue_),l.endNameSet_&&(n[r]+=","+At(l.indexEndName_))}return l.limitSet_&&(l.isViewFromLeft()?n.limitToFirst=l.limit_:n.limitToLast=l.limit_),n}function oy(l){const n={};if(l.startSet_&&(n.sp=l.indexStartValue_,l.startNameSet_&&(n.sn=l.indexStartName_),n.sin=!l.startAfterSet_),l.endSet_&&(n.ep=l.indexEndValue_,l.endNameSet_&&(n.en=l.indexEndName_),n.ein=!l.endBeforeSet_),l.limitSet_){n.l=l.limit_;let i=l.viewFrom_;i===""&&(l.isViewFromLeft()?i="l":i="r"),n.vf=i}return l.index_!==ht&&(n.i=l.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends Nx{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,i){return i!==void 0?"tag$"+i:(Q(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,i,r,c){super(),this.repoInfo_=n,this.onDataUpdate_=i,this.authTokenProvider_=r,this.appCheckTokenProvider_=c,this.log_=Vr("p:rest:"),this.listens_={}}listen(n,i,r,c){const f=n._path.toString();this.log_("Listen called for "+f+" "+n._queryIdentifier);const h=Rc.getListenId_(n,r),p={};this.listens_[h]=p;const y=ry(n._queryParams);this.restRequest_(f+".json",y,(g,N)=>{let _=N;if(g===404&&(_=null,g=null),g===null&&this.onDataUpdate_(f,_,!1,r),na(this.listens_,h)===p){let v;g?g===401?v="permission_denied":v="rest_error:"+g:v="ok",c(v,null)}})}unlisten(n,i){const r=Rc.getListenId_(n,i);delete this.listens_[r]}get(n){const i=ry(n._queryParams),r=n._path.toString(),c=new qr;return this.restRequest_(r+".json",i,(f,h)=>{let p=h;f===404&&(p=null,f=null),f===null?(this.onDataUpdate_(r,p,!1,null),c.resolve(p)):c.reject(new Error(p))}),c.promise}refreshAuthToken(n){}restRequest_(n,i={},r){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([c,f])=>{c&&c.accessToken&&(i.auth=c.accessToken),f&&f.token&&(i.ac=f.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+d2(i);this.log_("Sending REST request for "+h);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(r&&p.readyState===4){this.log_("REST Response for "+h+" received. status:",p.status,"response:",p.responseText);let y=null;if(p.status>=200&&p.status<300){try{y=Ar(p.responseText)}catch{Jt("Failed to parse JSON response for "+h+": "+p.responseText)}r(null,y)}else p.status!==401&&p.status!==404&&Jt("Got unsuccessful REST response for "+h+" Status: "+p.status),r(p.status);r=null}},p.open("GET",h,!0),p.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this.rootNode_=ue.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,i){this.rootNode_=this.rootNode_.updateChild(n,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(){return{value:null,children:new Map}}function Rx(l,n,i){if(we(n))l.value=i,l.children.clear();else if(l.value!==null)l.value=l.value.updateChild(n,i);else{const r=_e(n);l.children.has(r)||l.children.set(r,Oc());const c=l.children.get(r);n=et(n),Rx(c,n,i)}}function Rf(l,n,i){l.value!==null?i(n,l.value):YN(l,(r,c)=>{const f=new Xe(n.toString()+"/"+r);Rf(c,f,i)})}function YN(l,n){l.children.forEach((i,r)=>{n(r,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),i={...n};return this.last_&&Ht(this.last_,(r,c)=>{i[r]=i[r]-c}),this.last_=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy=10*1e3,VN=30*1e3,PN=300*1e3;class QN{constructor(n,i){this.server_=i,this.statsToReport_={},this.statsListener_=new GN(n);const r=cy+(VN-cy)*Math.random();Cr(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const n=this.statsListener_.get(),i={};let r=!1;Ht(n,(c,f)=>{f>0&&es(this.statsToReport_,c)&&(i[c]=f,r=!0)}),r&&this.server_.reportStats(i),Cr(this.reportStats_.bind(this),Math.floor(Math.random()*2*PN))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hn;(function(l){l[l.OVERWRITE=0]="OVERWRITE",l[l.MERGE=1]="MERGE",l[l.ACK_USER_WRITE=2]="ACK_USER_WRITE",l[l.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Hn||(Hn={}));function ch(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function uh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function dh(l){return{fromUser:!1,fromServer:!0,queryId:l,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(n,i,r){this.path=n,this.affectedTree=i,this.revert=r,this.type=Hn.ACK_USER_WRITE,this.source=ch()}operationForChild(n){if(we(this.path)){if(this.affectedTree.value!=null)return Q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Xe(n));return new zc(ze(),i,this.revert)}}else return Q(_e(this.path)===n,"operationForChild called for unrelated child."),new zc(et(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(n,i){this.source=n,this.path=i,this.type=Hn.LISTEN_COMPLETE}operationForChild(n){return we(this.path)?new Ur(this.source,ze()):new Ur(this.source,et(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(n,i,r){this.source=n,this.path=i,this.snap=r,this.type=Hn.OVERWRITE}operationForChild(n){return we(this.path)?new Kl(this.source,ze(),this.snap.getImmediateChild(n)):new Kl(this.source,et(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(n,i,r){this.source=n,this.path=i,this.children=r,this.type=Hn.MERGE}operationForChild(n){if(we(this.path)){const i=this.children.subtree(new Xe(n));return i.isEmpty()?null:i.value?new Kl(this.source,ze(),i.value):new ia(this.source,ze(),i)}else return Q(_e(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new ia(this.source,et(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(n,i,r){this.node_=n,this.fullyInitialized_=i,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(we(n))return this.isFullyInitialized()&&!this.filtered_;const i=_e(n);return this.isCompleteForChild(i)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function FN(l,n,i,r){const c=[],f=[];return n.forEach(h=>{h.type==="child_changed"&&l.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&f.push(IN(h.childName,h.snapshotNode))}),br(l,c,"child_removed",n,r,i),br(l,c,"child_added",n,r,i),br(l,c,"child_moved",f,r,i),br(l,c,"child_changed",n,r,i),br(l,c,"value",n,r,i),c}function br(l,n,i,r,c,f){const h=r.filter(p=>p.type===i);h.sort((p,y)=>KN(l,p,y)),h.forEach(p=>{const y=ZN(l,p,f);c.forEach(g=>{g.respondsTo(p.type)&&n.push(g.createEvent(y,l.query_))})})}function ZN(l,n,i){return n.type==="value"||n.type==="child_removed"||(n.prevName=i.getPredecessorChildName(n.childName,n.snapshotNode,l.index_)),n}function KN(l,n,i){if(n.childName==null||i.childName==null)throw ca("Should only compare child_ events.");const r=new Se(n.childName,n.snapshotNode),c=new Se(i.childName,i.snapshotNode);return l.index_.compare(r,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(l,n){return{eventCache:l,serverCache:n}}function wr(l,n,i,r){return Xc(new gl(n,i,r),l.serverCache)}function Ox(l,n,i,r){return Xc(l.eventCache,new gl(n,i,r))}function Lc(l){return l.eventCache.isFullyInitialized()?l.eventCache.getNode():null}function Wl(l){return l.serverCache.isFullyInitialized()?l.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vf;const WN=()=>(vf||(vf=new rn(LS)),vf);class We{static fromObject(n){let i=new We(null);return Ht(n,(r,c)=>{i=i.set(new Xe(r),c)}),i}constructor(n,i=WN()){this.value=n,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,i){if(this.value!=null&&i(this.value))return{path:ze(),value:this.value};if(we(n))return null;{const r=_e(n),c=this.children.get(r);if(c!==null){const f=c.findRootMostMatchingPathAndValue(et(n),i);return f!=null?{path:ft(new Xe(r),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(we(n))return this;{const i=_e(n),r=this.children.get(i);return r!==null?r.subtree(et(n)):new We(null)}}set(n,i){if(we(n))return new We(i,this.children);{const r=_e(n),f=(this.children.get(r)||new We(null)).set(et(n),i),h=this.children.insert(r,f);return new We(this.value,h)}}remove(n){if(we(n))return this.children.isEmpty()?new We(null):new We(null,this.children);{const i=_e(n),r=this.children.get(i);if(r){const c=r.remove(et(n));let f;return c.isEmpty()?f=this.children.remove(i):f=this.children.insert(i,c),this.value===null&&f.isEmpty()?new We(null):new We(this.value,f)}else return this}}get(n){if(we(n))return this.value;{const i=_e(n),r=this.children.get(i);return r?r.get(et(n)):null}}setTree(n,i){if(we(n))return i;{const r=_e(n),f=(this.children.get(r)||new We(null)).setTree(et(n),i);let h;return f.isEmpty()?h=this.children.remove(r):h=this.children.insert(r,f),new We(this.value,h)}}fold(n){return this.fold_(ze(),n)}fold_(n,i){const r={};return this.children.inorderTraversal((c,f)=>{r[c]=f.fold_(ft(n,c),i)}),i(n,this.value,r)}findOnPath(n,i){return this.findOnPath_(n,ze(),i)}findOnPath_(n,i,r){const c=this.value?r(i,this.value):!1;if(c)return c;if(we(n))return null;{const f=_e(n),h=this.children.get(f);return h?h.findOnPath_(et(n),ft(i,f),r):null}}foreachOnPath(n,i){return this.foreachOnPath_(n,ze(),i)}foreachOnPath_(n,i,r){if(we(n))return this;{this.value&&r(i,this.value);const c=_e(n),f=this.children.get(c);return f?f.foreachOnPath_(et(n),ft(i,c),r):new We(null)}}foreach(n){this.foreach_(ze(),n)}foreach_(n,i){this.children.inorderTraversal((r,c)=>{c.foreach_(ft(n,r),i)}),this.value&&i(n,this.value)}foreachChild(n){this.children.inorderTraversal((i,r)=>{r.value&&n(i,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(n){this.writeTree_=n}static empty(){return new Bn(new We(null))}}function Er(l,n,i){if(we(n))return new Bn(new We(i));{const r=l.writeTree_.findRootMostValueAndPath(n);if(r!=null){const c=r.path;let f=r.value;const h=Wt(c,n);return f=f.updateChild(h,i),new Bn(l.writeTree_.set(c,f))}else{const c=new We(i),f=l.writeTree_.setTree(n,c);return new Bn(f)}}}function Of(l,n,i){let r=l;return Ht(i,(c,f)=>{r=Er(r,ft(n,c),f)}),r}function uy(l,n){if(we(n))return Bn.empty();{const i=l.writeTree_.setTree(n,new We(null));return new Bn(i)}}function zf(l,n){return ei(l,n)!=null}function ei(l,n){const i=l.writeTree_.findRootMostValueAndPath(n);return i!=null?l.writeTree_.get(i.path).getChild(Wt(i.path,n)):null}function dy(l){const n=[],i=l.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(ht,(r,c)=>{n.push(new Se(r,c))}):l.writeTree_.children.inorderTraversal((r,c)=>{c.value!=null&&n.push(new Se(r,c.value))}),n}function hl(l,n){if(we(n))return l;{const i=ei(l,n);return i!=null?new Bn(new We(i)):new Bn(l.writeTree_.subtree(n))}}function Lf(l){return l.writeTree_.isEmpty()}function aa(l,n){return zx(ze(),l.writeTree_,n)}function zx(l,n,i){if(n.value!=null)return i.updateChild(l,n.value);{let r=null;return n.children.inorderTraversal((c,f)=>{c===".priority"?(Q(f.value!==null,"Priority writes must always be leaf nodes"),r=f.value):i=zx(ft(l,c),f,i)}),!i.getChild(l).isEmpty()&&r!==null&&(i=i.updateChild(ft(l,".priority"),r)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(l,n){return Ix(n,l)}function JN(l,n,i,r,c){Q(r>l.lastWriteId,"Stacking an older write on top of newer ones"),c===void 0&&(c=!0),l.allWrites.push({path:n,snap:i,writeId:r,visible:c}),c&&(l.visibleWrites=Er(l.visibleWrites,n,i)),l.lastWriteId=r}function eC(l,n,i,r){Q(r>l.lastWriteId,"Stacking an older merge on top of newer ones"),l.allWrites.push({path:n,children:i,writeId:r,visible:!0}),l.visibleWrites=Of(l.visibleWrites,n,i),l.lastWriteId=r}function tC(l,n){for(let i=0;i<l.allWrites.length;i++){const r=l.allWrites[i];if(r.writeId===n)return r}return null}function nC(l,n){const i=l.allWrites.findIndex(p=>p.writeId===n);Q(i>=0,"removeWrite called with nonexistent writeId.");const r=l.allWrites[i];l.allWrites.splice(i,1);let c=r.visible,f=!1,h=l.allWrites.length-1;for(;c&&h>=0;){const p=l.allWrites[h];p.visible&&(h>=i&&sC(p,r.path)?c=!1:Tn(r.path,p.path)&&(f=!0)),h--}if(c){if(f)return lC(l),!0;if(r.snap)l.visibleWrites=uy(l.visibleWrites,r.path);else{const p=r.children;Ht(p,y=>{l.visibleWrites=uy(l.visibleWrites,ft(r.path,y))})}return!0}else return!1}function sC(l,n){if(l.snap)return Tn(l.path,n);for(const i in l.children)if(l.children.hasOwnProperty(i)&&Tn(ft(l.path,i),n))return!0;return!1}function lC(l){l.visibleWrites=Lx(l.allWrites,iC,ze()),l.allWrites.length>0?l.lastWriteId=l.allWrites[l.allWrites.length-1].writeId:l.lastWriteId=-1}function iC(l){return l.visible}function Lx(l,n,i){let r=Bn.empty();for(let c=0;c<l.length;++c){const f=l[c];if(n(f)){const h=f.path;let p;if(f.snap)Tn(i,h)?(p=Wt(i,h),r=Er(r,p,f.snap)):Tn(h,i)&&(p=Wt(h,i),r=Er(r,ze(),f.snap.getChild(p)));else if(f.children){if(Tn(i,h))p=Wt(i,h),r=Of(r,p,f.children);else if(Tn(h,i))if(p=Wt(h,i),we(p))r=Of(r,ze(),f.children);else{const y=na(f.children,_e(p));if(y){const g=y.getChild(et(p));r=Er(r,ze(),g)}}}else throw ca("WriteRecord should have .snap or .children")}}return r}function $x(l,n,i,r,c){if(!r&&!c){const f=ei(l.visibleWrites,n);if(f!=null)return f;{const h=hl(l.visibleWrites,n);if(Lf(h))return i;if(i==null&&!zf(h,ze()))return null;{const p=i||ue.EMPTY_NODE;return aa(h,p)}}}else{const f=hl(l.visibleWrites,n);if(!c&&Lf(f))return i;if(!c&&i==null&&!zf(f,ze()))return null;{const h=function(g){return(g.visible||c)&&(!r||!~r.indexOf(g.writeId))&&(Tn(g.path,n)||Tn(n,g.path))},p=Lx(l.allWrites,h,n),y=i||ue.EMPTY_NODE;return aa(p,y)}}}function aC(l,n,i){let r=ue.EMPTY_NODE;const c=ei(l.visibleWrites,n);if(c)return c.isLeafNode()||c.forEachChild(ht,(f,h)=>{r=r.updateImmediateChild(f,h)}),r;if(i){const f=hl(l.visibleWrites,n);return i.forEachChild(ht,(h,p)=>{const y=aa(hl(f,new Xe(h)),p);r=r.updateImmediateChild(h,y)}),dy(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}else{const f=hl(l.visibleWrites,n);return dy(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}}function rC(l,n,i,r,c){Q(r||c,"Either existingEventSnap or existingServerSnap must exist");const f=ft(n,i);if(zf(l.visibleWrites,f))return null;{const h=hl(l.visibleWrites,f);return Lf(h)?c.getChild(i):aa(h,c.getChild(i))}}function oC(l,n,i,r){const c=ft(n,i),f=ei(l.visibleWrites,c);if(f!=null)return f;if(r.isCompleteForChild(i)){const h=hl(l.visibleWrites,c);return aa(h,r.getNode().getImmediateChild(i))}else return null}function cC(l,n){return ei(l.visibleWrites,n)}function uC(l,n,i,r,c,f,h){let p;const y=hl(l.visibleWrites,n),g=ei(y,ze());if(g!=null)p=g;else if(i!=null)p=aa(y,i);else return[];if(p=p.withIndex(h),!p.isEmpty()&&!p.isLeafNode()){const N=[],_=h.getCompare(),v=f?p.getReverseIteratorFrom(r,h):p.getIteratorFrom(r,h);let R=v.getNext();for(;R&&N.length<c;)_(R,r)!==0&&N.push(R),R=v.getNext();return N}else return[]}function dC(){return{visibleWrites:Bn.empty(),allWrites:[],lastWriteId:-1}}function $c(l,n,i,r){return $x(l.writeTree,l.treePath,n,i,r)}function fh(l,n){return aC(l.writeTree,l.treePath,n)}function fy(l,n,i,r){return rC(l.writeTree,l.treePath,n,i,r)}function Uc(l,n){return cC(l.writeTree,ft(l.treePath,n))}function fC(l,n,i,r,c,f){return uC(l.writeTree,l.treePath,n,i,r,c,f)}function hh(l,n,i){return oC(l.writeTree,l.treePath,n,i)}function Ux(l,n){return Ix(ft(l.treePath,n),l.writeTree)}function Ix(l,n){return{treePath:l,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.changeMap=new Map}trackChildChange(n){const i=n.type,r=n.childName;Q(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),Q(r!==".priority","Only non-priority child changes can be tracked.");const c=this.changeMap.get(r);if(c){const f=c.type;if(i==="child_added"&&f==="child_removed")this.changeMap.set(r,Lr(r,n.snapshotNode,c.snapshotNode));else if(i==="child_removed"&&f==="child_added")this.changeMap.delete(r);else if(i==="child_removed"&&f==="child_changed")this.changeMap.set(r,zr(r,c.oldSnap));else if(i==="child_changed"&&f==="child_added")this.changeMap.set(r,la(r,n.snapshotNode));else if(i==="child_changed"&&f==="child_changed")this.changeMap.set(r,Lr(r,n.snapshotNode,c.oldSnap));else throw ca("Illegal combination of changes: "+n+" occurred after "+c)}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{getCompleteChild(n){return null}getChildAfterChild(n,i,r){return null}}const Hx=new mC;class mh{constructor(n,i,r=null){this.writes_=n,this.viewCache_=i,this.optCompleteServerCache_=r}getCompleteChild(n){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(n))return i.getNode().getImmediateChild(n);{const r=this.optCompleteServerCache_!=null?new gl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hh(this.writes_,n,r)}}getChildAfterChild(n,i,r){const c=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Wl(this.viewCache_),f=fC(this.writes_,c,i,1,r,n);return f.length===0?null:f[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(l){return{filter:l}}function gC(l,n){Q(n.eventCache.getNode().isIndexed(l.filter.getIndex()),"Event snap not indexed"),Q(n.serverCache.getNode().isIndexed(l.filter.getIndex()),"Server snap not indexed")}function yC(l,n,i,r,c){const f=new hC;let h,p;if(i.type===Hn.OVERWRITE){const g=i;g.source.fromUser?h=$f(l,n,g.path,g.snap,r,c,f):(Q(g.source.fromServer,"Unknown source."),p=g.source.tagged||n.serverCache.isFiltered()&&!we(g.path),h=Ic(l,n,g.path,g.snap,r,c,p,f))}else if(i.type===Hn.MERGE){const g=i;g.source.fromUser?h=vC(l,n,g.path,g.children,r,c,f):(Q(g.source.fromServer,"Unknown source."),p=g.source.tagged||n.serverCache.isFiltered(),h=Uf(l,n,g.path,g.children,r,c,p,f))}else if(i.type===Hn.ACK_USER_WRITE){const g=i;g.revert?h=SC(l,n,g.path,r,c,f):h=bC(l,n,g.path,g.affectedTree,r,c,f)}else if(i.type===Hn.LISTEN_COMPLETE)h=_C(l,n,i.path,r,f);else throw ca("Unknown operation type: "+i.type);const y=f.getChanges();return xC(n,h,y),{viewCache:h,changes:y}}function xC(l,n,i){const r=n.eventCache;if(r.isFullyInitialized()){const c=r.getNode().isLeafNode()||r.getNode().isEmpty(),f=Lc(l);(i.length>0||!l.eventCache.isFullyInitialized()||c&&!r.getNode().equals(f)||!r.getNode().getPriority().equals(f.getPriority()))&&i.push(kx(Lc(n)))}}function Bx(l,n,i,r,c,f){const h=n.eventCache;if(Uc(r,i)!=null)return n;{let p,y;if(we(i))if(Q(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const g=Wl(n),N=g instanceof ue?g:ue.EMPTY_NODE,_=fh(r,N);p=l.filter.updateFullNode(n.eventCache.getNode(),_,f)}else{const g=$c(r,Wl(n));p=l.filter.updateFullNode(n.eventCache.getNode(),g,f)}else{const g=_e(i);if(g===".priority"){Q(pl(i)===1,"Can't have a priority with additional path components");const N=h.getNode();y=n.serverCache.getNode();const _=fy(r,i,N,y);_!=null?p=l.filter.updatePriority(N,_):p=h.getNode()}else{const N=et(i);let _;if(h.isCompleteForChild(g)){y=n.serverCache.getNode();const v=fy(r,i,h.getNode(),y);v!=null?_=h.getNode().getImmediateChild(g).updateChild(N,v):_=h.getNode().getImmediateChild(g)}else _=hh(r,g,n.serverCache);_!=null?p=l.filter.updateChild(h.getNode(),g,_,N,c,f):p=h.getNode()}}return wr(n,p,h.isFullyInitialized()||we(i),l.filter.filtersNodes())}}function Ic(l,n,i,r,c,f,h,p){const y=n.serverCache;let g;const N=h?l.filter:l.filter.getIndexedFilter();if(we(i))g=N.updateFullNode(y.getNode(),r,null);else if(N.filtersNodes()&&!y.isFiltered()){const R=y.getNode().updateChild(i,r);g=N.updateFullNode(y.getNode(),R,null)}else{const R=_e(i);if(!y.isCompleteForPath(i)&&pl(i)>1)return n;const G=et(i),de=y.getNode().getImmediateChild(R).updateChild(G,r);R===".priority"?g=N.updatePriority(y.getNode(),de):g=N.updateChild(y.getNode(),R,de,G,Hx,null)}const _=Ox(n,g,y.isFullyInitialized()||we(i),N.filtersNodes()),v=new mh(c,_,f);return Bx(l,_,i,c,v,p)}function $f(l,n,i,r,c,f,h){const p=n.eventCache;let y,g;const N=new mh(c,n,f);if(we(i))g=l.filter.updateFullNode(n.eventCache.getNode(),r,h),y=wr(n,g,!0,l.filter.filtersNodes());else{const _=_e(i);if(_===".priority")g=l.filter.updatePriority(n.eventCache.getNode(),r),y=wr(n,g,p.isFullyInitialized(),p.isFiltered());else{const v=et(i),R=p.getNode().getImmediateChild(_);let G;if(we(v))G=r;else{const K=N.getCompleteChild(_);K!=null?sh(v)===".priority"&&K.getChild(wx(v)).isEmpty()?G=K:G=K.updateChild(v,r):G=ue.EMPTY_NODE}if(R.equals(G))y=n;else{const K=l.filter.updateChild(p.getNode(),_,G,v,N,h);y=wr(n,K,p.isFullyInitialized(),l.filter.filtersNodes())}}}return y}function hy(l,n){return l.eventCache.isCompleteForChild(n)}function vC(l,n,i,r,c,f,h){let p=n;return r.foreach((y,g)=>{const N=ft(i,y);hy(n,_e(N))&&(p=$f(l,p,N,g,c,f,h))}),r.foreach((y,g)=>{const N=ft(i,y);hy(n,_e(N))||(p=$f(l,p,N,g,c,f,h))}),p}function my(l,n,i){return i.foreach((r,c)=>{n=n.updateChild(r,c)}),n}function Uf(l,n,i,r,c,f,h,p){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let y=n,g;we(i)?g=r:g=new We(null).setTree(i,r);const N=n.serverCache.getNode();return g.children.inorderTraversal((_,v)=>{if(N.hasChild(_)){const R=n.serverCache.getNode().getImmediateChild(_),G=my(l,R,v);y=Ic(l,y,new Xe(_),G,c,f,h,p)}}),g.children.inorderTraversal((_,v)=>{const R=!n.serverCache.isCompleteForChild(_)&&v.value===null;if(!N.hasChild(_)&&!R){const G=n.serverCache.getNode().getImmediateChild(_),K=my(l,G,v);y=Ic(l,y,new Xe(_),K,c,f,h,p)}}),y}function bC(l,n,i,r,c,f,h){if(Uc(c,i)!=null)return n;const p=n.serverCache.isFiltered(),y=n.serverCache;if(r.value!=null){if(we(i)&&y.isFullyInitialized()||y.isCompleteForPath(i))return Ic(l,n,i,y.getNode().getChild(i),c,f,p,h);if(we(i)){let g=new We(null);return y.getNode().forEachChild(ta,(N,_)=>{g=g.set(new Xe(N),_)}),Uf(l,n,i,g,c,f,p,h)}else return n}else{let g=new We(null);return r.foreach((N,_)=>{const v=ft(i,N);y.isCompleteForPath(v)&&(g=g.set(N,y.getNode().getChild(v)))}),Uf(l,n,i,g,c,f,p,h)}}function _C(l,n,i,r,c){const f=n.serverCache,h=Ox(n,f.getNode(),f.isFullyInitialized()||we(i),f.isFiltered());return Bx(l,h,i,r,Hx,c)}function SC(l,n,i,r,c,f){let h;if(Uc(r,i)!=null)return n;{const p=new mh(r,n,c),y=n.eventCache.getNode();let g;if(we(i)||_e(i)===".priority"){let N;if(n.serverCache.isFullyInitialized())N=$c(r,Wl(n));else{const _=n.serverCache.getNode();Q(_ instanceof ue,"serverChildren would be complete if leaf node"),N=fh(r,_)}N=N,g=l.filter.updateFullNode(y,N,f)}else{const N=_e(i);let _=hh(r,N,n.serverCache);_==null&&n.serverCache.isCompleteForChild(N)&&(_=y.getImmediateChild(N)),_!=null?g=l.filter.updateChild(y,N,_,et(i),p,f):n.eventCache.getNode().hasChild(N)?g=l.filter.updateChild(y,N,ue.EMPTY_NODE,et(i),p,f):g=y,g.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=$c(r,Wl(n)),h.isLeafNode()&&(g=l.filter.updateFullNode(g,h,f)))}return h=n.serverCache.isFullyInitialized()||Uc(r,ze())!=null,wr(n,g,h,l.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(n,i){this.query_=n,this.eventRegistrations_=[];const r=this.query_._queryParams,c=new rh(r.getIndex()),f=BN(r);this.processor_=pC(f);const h=i.serverCache,p=i.eventCache,y=c.updateFullNode(ue.EMPTY_NODE,h.getNode(),null),g=f.updateFullNode(ue.EMPTY_NODE,p.getNode(),null),N=new gl(y,h.isFullyInitialized(),c.filtersNodes()),_=new gl(g,p.isFullyInitialized(),f.filtersNodes());this.viewCache_=Xc(_,N),this.eventGenerator_=new XN(this.query_)}get query(){return this.query_}}function CC(l){return l.viewCache_.serverCache.getNode()}function wC(l){return Lc(l.viewCache_)}function EC(l,n){const i=Wl(l.viewCache_);return i&&(l.query._queryParams.loadsAllData()||!we(n)&&!i.getImmediateChild(_e(n)).isEmpty())?i.getChild(n):null}function py(l){return l.eventRegistrations_.length===0}function jC(l,n){l.eventRegistrations_.push(n)}function gy(l,n,i){const r=[];if(i){Q(n==null,"A cancel should cancel all event registrations.");const c=l.query._path;l.eventRegistrations_.forEach(f=>{const h=f.createCancelEvent(i,c);h&&r.push(h)})}if(n){let c=[];for(let f=0;f<l.eventRegistrations_.length;++f){const h=l.eventRegistrations_[f];if(!h.matches(n))c.push(h);else if(n.hasAnyCallback()){c=c.concat(l.eventRegistrations_.slice(f+1));break}}l.eventRegistrations_=c}else l.eventRegistrations_=[];return r}function yy(l,n,i,r){n.type===Hn.MERGE&&n.source.queryId!==null&&(Q(Wl(l.viewCache_),"We should always have a full cache before handling merges"),Q(Lc(l.viewCache_),"Missing event cache, even though we have a server cache"));const c=l.viewCache_,f=yC(l.processor_,c,n,i,r);return gC(l.processor_,f.viewCache),Q(f.viewCache.serverCache.isFullyInitialized()||!c.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),l.viewCache_=f.viewCache,qx(l,f.changes,f.viewCache.eventCache.getNode(),null)}function TC(l,n){const i=l.viewCache_.eventCache,r=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(ht,(f,h)=>{r.push(la(f,h))}),i.isFullyInitialized()&&r.push(kx(i.getNode())),qx(l,r,i.getNode(),n)}function qx(l,n,i,r){const c=r?[r]:l.eventRegistrations_;return FN(l.eventGenerator_,n,i,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hc;class Yx{constructor(){this.views=new Map}}function AC(l){Q(!Hc,"__referenceConstructor has already been defined"),Hc=l}function DC(){return Q(Hc,"Reference.ts has not been loaded"),Hc}function MC(l){return l.views.size===0}function ph(l,n,i,r){const c=n.source.queryId;if(c!==null){const f=l.views.get(c);return Q(f!=null,"SyncTree gave us an op for an invalid query."),yy(f,n,i,r)}else{let f=[];for(const h of l.views.values())f=f.concat(yy(h,n,i,r));return f}}function Gx(l,n,i,r,c){const f=n._queryIdentifier,h=l.views.get(f);if(!h){let p=$c(i,c?r:null),y=!1;p?y=!0:r instanceof ue?(p=fh(i,r),y=!1):(p=ue.EMPTY_NODE,y=!1);const g=Xc(new gl(p,y,!1),new gl(r,c,!1));return new NC(n,g)}return h}function kC(l,n,i,r,c,f){const h=Gx(l,n,r,c,f);return l.views.has(n._queryIdentifier)||l.views.set(n._queryIdentifier,h),jC(h,i),TC(h,i)}function RC(l,n,i,r){const c=n._queryIdentifier,f=[];let h=[];const p=yl(l);if(c==="default")for(const[y,g]of l.views.entries())h=h.concat(gy(g,i,r)),py(g)&&(l.views.delete(y),g.query._queryParams.loadsAllData()||f.push(g.query));else{const y=l.views.get(c);y&&(h=h.concat(gy(y,i,r)),py(y)&&(l.views.delete(c),y.query._queryParams.loadsAllData()||f.push(y.query)))}return p&&!yl(l)&&f.push(new(DC())(n._repo,n._path)),{removed:f,events:h}}function Vx(l){const n=[];for(const i of l.views.values())i.query._queryParams.loadsAllData()||n.push(i);return n}function ml(l,n){let i=null;for(const r of l.views.values())i=i||EC(r,n);return i}function Px(l,n){if(n._queryParams.loadsAllData())return Zc(l);{const r=n._queryIdentifier;return l.views.get(r)}}function Qx(l,n){return Px(l,n)!=null}function yl(l){return Zc(l)!=null}function Zc(l){for(const n of l.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc;function OC(l){Q(!Bc,"__referenceConstructor has already been defined"),Bc=l}function zC(){return Q(Bc,"Reference.ts has not been loaded"),Bc}let LC=1;class xy{constructor(n){this.listenProvider_=n,this.syncPointTree_=new We(null),this.pendingWriteTree_=dC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Xx(l,n,i,r,c){return JN(l.pendingWriteTree_,n,i,r,c),c?fa(l,new Kl(ch(),n,i)):[]}function $C(l,n,i,r){eC(l.pendingWriteTree_,n,i,r);const c=We.fromObject(i);return fa(l,new ia(ch(),n,c))}function ul(l,n,i=!1){const r=tC(l.pendingWriteTree_,n);if(nC(l.pendingWriteTree_,n)){let f=new We(null);return r.snap!=null?f=f.set(ze(),!0):Ht(r.children,h=>{f=f.set(new Xe(h),!0)}),fa(l,new zc(r.path,f,i))}else return[]}function Qr(l,n,i){return fa(l,new Kl(uh(),n,i))}function UC(l,n,i){const r=We.fromObject(i);return fa(l,new ia(uh(),n,r))}function IC(l,n){return fa(l,new Ur(uh(),n))}function HC(l,n,i){const r=yh(l,i);if(r){const c=xh(r),f=c.path,h=c.queryId,p=Wt(f,n),y=new Ur(dh(h),p);return vh(l,f,y)}else return[]}function qc(l,n,i,r,c=!1){const f=n._path,h=l.syncPointTree_.get(f);let p=[];if(h&&(n._queryIdentifier==="default"||Qx(h,n))){const y=RC(h,n,i,r);MC(h)&&(l.syncPointTree_=l.syncPointTree_.remove(f));const g=y.removed;if(p=y.events,!c){const N=g.findIndex(v=>v._queryParams.loadsAllData())!==-1,_=l.syncPointTree_.findOnPath(f,(v,R)=>yl(R));if(N&&!_){const v=l.syncPointTree_.subtree(f);if(!v.isEmpty()){const R=YC(v);for(let G=0;G<R.length;++G){const K=R[G],de=K.query,F=Wx(l,K);l.listenProvider_.startListening(jr(de),Ir(l,de),F.hashFn,F.onComplete)}}}!_&&g.length>0&&!r&&(N?l.listenProvider_.stopListening(jr(n),null):g.forEach(v=>{const R=l.queryToTagMap.get(Kc(v));l.listenProvider_.stopListening(jr(v),R)}))}GC(l,g)}return p}function Fx(l,n,i,r){const c=yh(l,r);if(c!=null){const f=xh(c),h=f.path,p=f.queryId,y=Wt(h,n),g=new Kl(dh(p),y,i);return vh(l,h,g)}else return[]}function BC(l,n,i,r){const c=yh(l,r);if(c){const f=xh(c),h=f.path,p=f.queryId,y=Wt(h,n),g=We.fromObject(i),N=new ia(dh(p),y,g);return vh(l,h,N)}else return[]}function If(l,n,i,r=!1){const c=n._path;let f=null,h=!1;l.syncPointTree_.foreachOnPath(c,(v,R)=>{const G=Wt(v,c);f=f||ml(R,G),h=h||yl(R)});let p=l.syncPointTree_.get(c);p?(h=h||yl(p),f=f||ml(p,ze())):(p=new Yx,l.syncPointTree_=l.syncPointTree_.set(c,p));let y;f!=null?y=!0:(y=!1,f=ue.EMPTY_NODE,l.syncPointTree_.subtree(c).foreachChild((R,G)=>{const K=ml(G,ze());K&&(f=f.updateImmediateChild(R,K))}));const g=Qx(p,n);if(!g&&!n._queryParams.loadsAllData()){const v=Kc(n);Q(!l.queryToTagMap.has(v),"View does not exist, but we have a tag");const R=VC();l.queryToTagMap.set(v,R),l.tagToQueryMap.set(R,v)}const N=Fc(l.pendingWriteTree_,c);let _=kC(p,n,i,N,f,y);if(!g&&!h&&!r){const v=Px(p,n);_=_.concat(PC(l,n,v))}return _}function gh(l,n,i){const c=l.pendingWriteTree_,f=l.syncPointTree_.findOnPath(n,(h,p)=>{const y=Wt(h,n),g=ml(p,y);if(g)return g});return $x(c,n,f,i,!0)}function qC(l,n){const i=n._path;let r=null;l.syncPointTree_.foreachOnPath(i,(g,N)=>{const _=Wt(g,i);r=r||ml(N,_)});let c=l.syncPointTree_.get(i);c?r=r||ml(c,ze()):(c=new Yx,l.syncPointTree_=l.syncPointTree_.set(i,c));const f=r!=null,h=f?new gl(r,!0,!1):null,p=Fc(l.pendingWriteTree_,n._path),y=Gx(c,n,p,f?h.getNode():ue.EMPTY_NODE,f);return wC(y)}function fa(l,n){return Zx(n,l.syncPointTree_,null,Fc(l.pendingWriteTree_,ze()))}function Zx(l,n,i,r){if(we(l.path))return Kx(l,n,i,r);{const c=n.get(ze());i==null&&c!=null&&(i=ml(c,ze()));let f=[];const h=_e(l.path),p=l.operationForChild(h),y=n.children.get(h);if(y&&p){const g=i?i.getImmediateChild(h):null,N=Ux(r,h);f=f.concat(Zx(p,y,g,N))}return c&&(f=f.concat(ph(c,l,r,i))),f}}function Kx(l,n,i,r){const c=n.get(ze());i==null&&c!=null&&(i=ml(c,ze()));let f=[];return n.children.inorderTraversal((h,p)=>{const y=i?i.getImmediateChild(h):null,g=Ux(r,h),N=l.operationForChild(h);N&&(f=f.concat(Kx(N,p,y,g)))}),c&&(f=f.concat(ph(c,l,r,i))),f}function Wx(l,n){const i=n.query,r=Ir(l,i);return{hashFn:()=>(CC(n)||ue.EMPTY_NODE).hash(),onComplete:c=>{if(c==="ok")return r?HC(l,i._path,r):IC(l,i._path);{const f=IS(c,i);return qc(l,i,null,f)}}}}function Ir(l,n){const i=Kc(n);return l.queryToTagMap.get(i)}function Kc(l){return l._path.toString()+"$"+l._queryIdentifier}function yh(l,n){return l.tagToQueryMap.get(n)}function xh(l){const n=l.indexOf("$");return Q(n!==-1&&n<l.length-1,"Bad queryKey."),{queryId:l.substr(n+1),path:new Xe(l.substr(0,n))}}function vh(l,n,i){const r=l.syncPointTree_.get(n);Q(r,"Missing sync point for query tag that we're tracking");const c=Fc(l.pendingWriteTree_,n);return ph(r,i,c,null)}function YC(l){return l.fold((n,i,r)=>{if(i&&yl(i))return[Zc(i)];{let c=[];return i&&(c=Vx(i)),Ht(r,(f,h)=>{c=c.concat(h)}),c}})}function jr(l){return l._queryParams.loadsAllData()&&!l._queryParams.isDefault()?new(zC())(l._repo,l._path):l}function GC(l,n){for(let i=0;i<n.length;++i){const r=n[i];if(!r._queryParams.loadsAllData()){const c=Kc(r),f=l.queryToTagMap.get(c);l.queryToTagMap.delete(c),l.tagToQueryMap.delete(f)}}}function VC(){return LC++}function PC(l,n,i){const r=n._path,c=Ir(l,n),f=Wx(l,i),h=l.listenProvider_.startListening(jr(n),c,f.hashFn,f.onComplete),p=l.syncPointTree_.subtree(r);if(c)Q(!yl(p.value),"If we're adding a query, it shouldn't be shadowed");else{const y=p.fold((g,N,_)=>{if(!we(g)&&N&&yl(N))return[Zc(N).query];{let v=[];return N&&(v=v.concat(Vx(N).map(R=>R.query))),Ht(_,(R,G)=>{v=v.concat(G)}),v}});for(let g=0;g<y.length;++g){const N=y[g];l.listenProvider_.stopListening(jr(N),Ir(l,N))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(n){this.node_=n}getImmediateChild(n){const i=this.node_.getImmediateChild(n);return new bh(i)}node(){return this.node_}}class _h{constructor(n,i){this.syncTree_=n,this.path_=i}getImmediateChild(n){const i=ft(this.path_,n);return new _h(this.syncTree_,i)}node(){return gh(this.syncTree_,this.path_)}}const QC=function(l){return l=l||{},l.timestamp=l.timestamp||new Date().getTime(),l},vy=function(l,n,i){if(!l||typeof l!="object")return l;if(Q(".sv"in l,"Unexpected leaf node or priority contents"),typeof l[".sv"]=="string")return XC(l[".sv"],n,i);if(typeof l[".sv"]=="object")return FC(l[".sv"],n);Q(!1,"Unexpected server value: "+JSON.stringify(l,null,2))},XC=function(l,n,i){switch(l){case"timestamp":return i.timestamp;default:Q(!1,"Unexpected server value: "+l)}},FC=function(l,n,i){l.hasOwnProperty("increment")||Q(!1,"Unexpected server value: "+JSON.stringify(l,null,2));const r=l.increment;typeof r!="number"&&Q(!1,"Unexpected increment value: "+r);const c=n.node();if(Q(c!==null&&typeof c<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!c.isLeafNode())return r;const h=c.getValue();return typeof h!="number"?r:h+r},Jx=function(l,n,i,r){return Sh(n,new _h(i,l),r)},ev=function(l,n,i){return Sh(l,new bh(n),i)};function Sh(l,n,i){const r=l.getPriority().val(),c=vy(r,n.getImmediateChild(".priority"),i);let f;if(l.isLeafNode()){const h=l,p=vy(h.getValue(),n,i);return p!==h.getValue()||c!==h.getPriority().val()?new kt(p,jt(c)):l}else{const h=l;return f=h,c!==h.getPriority().val()&&(f=f.updatePriority(new kt(c))),h.forEachChild(ht,(p,y)=>{const g=Sh(y,n.getImmediateChild(p),i);g!==y&&(f=f.updateImmediateChild(p,g))}),f}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(n="",i=null,r={children:{},childCount:0}){this.name=n,this.parent=i,this.node=r}}function Ch(l,n){let i=n instanceof Xe?n:new Xe(n),r=l,c=_e(i);for(;c!==null;){const f=na(r.node.children,c)||{children:{},childCount:0};r=new Nh(c,r,f),i=et(i),c=_e(i)}return r}function ha(l){return l.node.value}function tv(l,n){l.node.value=n,Hf(l)}function nv(l){return l.node.childCount>0}function ZC(l){return ha(l)===void 0&&!nv(l)}function Wc(l,n){Ht(l.node.children,(i,r)=>{n(new Nh(i,l,r))})}function sv(l,n,i,r){i&&n(l),Wc(l,c=>{sv(c,n,!0)})}function KC(l,n,i){let r=l.parent;for(;r!==null;){if(n(r))return!0;r=r.parent}return!1}function Xr(l){return new Xe(l.parent===null?l.name:Xr(l.parent)+"/"+l.name)}function Hf(l){l.parent!==null&&WC(l.parent,l.name,l)}function WC(l,n,i){const r=ZC(i),c=es(l.node.children,n);r&&c?(delete l.node.children[n],l.node.childCount--,Hf(l)):!r&&!c&&(l.node.children[n]=i.node,l.node.childCount++,Hf(l))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=/[\[\].#$\/\u0000-\u001F\u007F]/,ew=/[\[\].#$\u0000-\u001F\u007F]/,bf=10*1024*1024,wh=function(l){return typeof l=="string"&&l.length!==0&&!JC.test(l)},lv=function(l){return typeof l=="string"&&l.length!==0&&!ew.test(l)},tw=function(l){return l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),lv(l)},nw=function(l){return l===null||typeof l=="string"||typeof l=="number"&&!Wf(l)||l&&typeof l=="object"&&es(l,".sv")},sw=function(l,n,i,r){Jc(Vc(l,"value"),n,i)},Jc=function(l,n,i){const r=i instanceof Xe?new vN(i,l):i;if(n===void 0)throw new Error(l+"contains undefined "+Xl(r));if(typeof n=="function")throw new Error(l+"contains a function "+Xl(r)+" with contents = "+n.toString());if(Wf(n))throw new Error(l+"contains "+n.toString()+" "+Xl(r));if(typeof n=="string"&&n.length>bf/3&&Pc(n)>bf)throw new Error(l+"contains a string greater than "+bf+" utf8 bytes "+Xl(r)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let c=!1,f=!1;if(Ht(n,(h,p)=>{if(h===".value")c=!0;else if(h!==".priority"&&h!==".sv"&&(f=!0,!wh(h)))throw new Error(l+" contains an invalid key ("+h+") "+Xl(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);bN(r,h),Jc(l,p,r),_N(r)}),c&&f)throw new Error(l+' contains ".value" child '+Xl(r)+" in addition to actual children.")}},lw=function(l,n){let i,r;for(i=0;i<n.length;i++){r=n[i];const f=Or(r);for(let h=0;h<f.length;h++)if(!(f[h]===".priority"&&h===f.length-1)){if(!wh(f[h]))throw new Error(l+"contains an invalid key ("+f[h]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(xN);let c=null;for(i=0;i<n.length;i++){if(r=n[i],c!==null&&Tn(c,r))throw new Error(l+"contains a path "+c.toString()+" that is ancestor of another path "+r.toString());c=r}},iw=function(l,n,i,r){const c=Vc(l,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(c+" must be an object containing the children to replace.");const f=[];Ht(n,(h,p)=>{const y=new Xe(h);if(Jc(c,p,ft(i,y)),sh(y)===".priority"&&!nw(p))throw new Error(c+"contains an invalid value for '"+y.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");f.push(y)}),lw(c,f)},iv=function(l,n,i,r){if(!lv(i))throw new Error(Vc(l,n)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},aw=function(l,n,i,r){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),iv(l,n,i)},av=function(l,n){if(_e(n)===".info")throw new Error(l+" failed = Can't modify data under /.info/")},rw=function(l,n){const i=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!wh(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!tw(i))throw new Error(Vc(l,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function eu(l,n){let i=null;for(let r=0;r<n.length;r++){const c=n[r],f=c.getPath();i!==null&&!lh(f,i.path)&&(l.eventLists_.push(i),i=null),i===null&&(i={events:[],path:f}),i.events.push(c)}i&&l.eventLists_.push(i)}function rv(l,n,i){eu(l,i),ov(l,r=>lh(r,n))}function An(l,n,i){eu(l,i),ov(l,r=>Tn(r,n)||Tn(n,r))}function ov(l,n){l.recursionDepth_++;let i=!0;for(let r=0;r<l.eventLists_.length;r++){const c=l.eventLists_[r];if(c){const f=c.path;n(f)?(cw(l.eventLists_[r]),l.eventLists_[r]=null):i=!1}}i&&(l.eventLists_=[]),l.recursionDepth_--}function cw(l){for(let n=0;n<l.events.length;n++){const i=l.events[n];if(i!==null){l.events[n]=null;const r=i.getEventRunner();Nr&&It("event: "+i.toString()),da(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="repo_interrupt",dw=25;class fw{constructor(n,i,r,c){this.repoInfo_=n,this.forceRestClient_=i,this.authTokenProvider_=r,this.appCheckProvider_=c,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ow,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Oc(),this.transactionQueueTree_=new Nh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function hw(l,n,i){if(l.stats_=th(l.repoInfo_),l.forceRestClient_||YS())l.server_=new Rc(l.repoInfo_,(r,c,f,h)=>{by(l,r,c,f,h)},l.authTokenProvider_,l.appCheckProvider_),setTimeout(()=>_y(l,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{At(i)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}l.persistentConnection_=new As(l.repoInfo_,n,(r,c,f,h)=>{by(l,r,c,f,h)},r=>{_y(l,r)},r=>{pw(l,r)},l.authTokenProvider_,l.appCheckProvider_,i),l.server_=l.persistentConnection_}l.authTokenProvider_.addTokenChangeListener(r=>{l.server_.refreshAuthToken(r)}),l.appCheckProvider_.addTokenChangeListener(r=>{l.server_.refreshAppCheckToken(r.token)}),l.statsReporter_=XS(l.repoInfo_,()=>new QN(l.stats_,l.server_)),l.infoData_=new qN,l.infoSyncTree_=new xy({startListening:(r,c,f,h)=>{let p=[];const y=l.infoData_.getNode(r._path);return y.isEmpty()||(p=Qr(l.infoSyncTree_,r._path,y),setTimeout(()=>{h("ok")},0)),p},stopListening:()=>{}}),Eh(l,"connected",!1),l.serverSyncTree_=new xy({startListening:(r,c,f,h)=>(l.server_.listen(r,f,c,(p,y)=>{const g=h(p,y);An(l.eventQueue_,r._path,g)}),[]),stopListening:(r,c)=>{l.server_.unlisten(r,c)}})}function mw(l){const i=l.infoData_.getNode(new Xe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function tu(l){return QC({timestamp:mw(l)})}function by(l,n,i,r,c){l.dataUpdateCount++;const f=new Xe(n);i=l.interceptServerDataCallback_?l.interceptServerDataCallback_(n,i):i;let h=[];if(c)if(r){const y=jc(i,g=>jt(g));h=BC(l.serverSyncTree_,f,y,c)}else{const y=jt(i);h=Fx(l.serverSyncTree_,f,y,c)}else if(r){const y=jc(i,g=>jt(g));h=UC(l.serverSyncTree_,f,y)}else{const y=jt(i);h=Qr(l.serverSyncTree_,f,y)}let p=f;h.length>0&&(p=ra(l,f)),An(l.eventQueue_,p,h)}function _y(l,n){Eh(l,"connected",n),n===!1&&vw(l)}function pw(l,n){Ht(n,(i,r)=>{Eh(l,i,r)})}function Eh(l,n,i){const r=new Xe("/.info/"+n),c=jt(i);l.infoData_.updateSnapshot(r,c);const f=Qr(l.infoSyncTree_,r,c);An(l.eventQueue_,r,f)}function jh(l){return l.nextWriteId_++}function gw(l,n,i){const r=qC(l.serverSyncTree_,n);return r!=null?Promise.resolve(r):l.server_.get(n).then(c=>{const f=jt(c).withIndex(n._queryParams.getIndex());If(l.serverSyncTree_,n,i,!0);let h;if(n._queryParams.loadsAllData())h=Qr(l.serverSyncTree_,n._path,f);else{const p=Ir(l.serverSyncTree_,n);h=Fx(l.serverSyncTree_,n._path,f,p)}return An(l.eventQueue_,n._path,h),qc(l.serverSyncTree_,n,i,null,!0),f},c=>(Fr(l,"get for query "+At(n)+" failed: "+c),Promise.reject(new Error(c))))}function yw(l,n,i,r,c){Fr(l,"set",{path:n.toString(),value:i,priority:r});const f=tu(l),h=jt(i,r),p=gh(l.serverSyncTree_,n),y=ev(h,p,f),g=jh(l),N=Xx(l.serverSyncTree_,n,y,g,!0);eu(l.eventQueue_,N),l.server_.put(n.toString(),h.val(!0),(v,R)=>{const G=v==="ok";G||Jt("set at "+n+" failed: "+v);const K=ul(l.serverSyncTree_,g,!G);An(l.eventQueue_,n,K),Bf(l,c,v,R)});const _=Ah(l,n);ra(l,_),An(l.eventQueue_,_,[])}function xw(l,n,i,r){Fr(l,"update",{path:n.toString(),value:i});let c=!0;const f=tu(l),h={};if(Ht(i,(p,y)=>{c=!1,h[p]=Jx(ft(n,p),jt(y),l.serverSyncTree_,f)}),c)It("update() called with empty data.  Don't do anything."),Bf(l,r,"ok",void 0);else{const p=jh(l),y=$C(l.serverSyncTree_,n,h,p);eu(l.eventQueue_,y),l.server_.merge(n.toString(),i,(g,N)=>{const _=g==="ok";_||Jt("update at "+n+" failed: "+g);const v=ul(l.serverSyncTree_,p,!_),R=v.length>0?ra(l,n):n;An(l.eventQueue_,R,v),Bf(l,r,g,N)}),Ht(i,g=>{const N=Ah(l,ft(n,g));ra(l,N)}),An(l.eventQueue_,n,[])}}function vw(l){Fr(l,"onDisconnectEvents");const n=tu(l),i=Oc();Rf(l.onDisconnect_,ze(),(c,f)=>{const h=Jx(c,f,l.serverSyncTree_,n);Rx(i,c,h)});let r=[];Rf(i,ze(),(c,f)=>{r=r.concat(Qr(l.serverSyncTree_,c,f));const h=Ah(l,c);ra(l,h)}),l.onDisconnect_=Oc(),An(l.eventQueue_,ze(),r)}function bw(l,n,i){let r;_e(n._path)===".info"?r=If(l.infoSyncTree_,n,i):r=If(l.serverSyncTree_,n,i),rv(l.eventQueue_,n._path,r)}function cv(l,n,i){let r;_e(n._path)===".info"?r=qc(l.infoSyncTree_,n,i):r=qc(l.serverSyncTree_,n,i),rv(l.eventQueue_,n._path,r)}function _w(l){l.persistentConnection_&&l.persistentConnection_.interrupt(uw)}function Fr(l,...n){let i="";l.persistentConnection_&&(i=l.persistentConnection_.id+":"),It(i,...n)}function Bf(l,n,i,r){n&&da(()=>{if(i==="ok")n(null);else{const c=(i||"error").toUpperCase();let f=c;r&&(f+=": "+r);const h=new Error(f);h.code=c,n(h)}})}function uv(l,n,i){return gh(l.serverSyncTree_,n,i)||ue.EMPTY_NODE}function Th(l,n=l.transactionQueueTree_){if(n||nu(l,n),ha(n)){const i=fv(l,n);Q(i.length>0,"Sending zero length transaction queue"),i.every(c=>c.status===0)&&Sw(l,Xr(n),i)}else nv(n)&&Wc(n,i=>{Th(l,i)})}function Sw(l,n,i){const r=i.map(g=>g.currentWriteId),c=uv(l,n,r);let f=c;const h=c.hash();for(let g=0;g<i.length;g++){const N=i[g];Q(N.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),N.status=1,N.retryCount++;const _=Wt(n,N.path);f=f.updateChild(_,N.currentOutputSnapshotRaw)}const p=f.val(!0),y=n;l.server_.put(y.toString(),p,g=>{Fr(l,"transaction put response",{path:y.toString(),status:g});let N=[];if(g==="ok"){const _=[];for(let v=0;v<i.length;v++)i[v].status=2,N=N.concat(ul(l.serverSyncTree_,i[v].currentWriteId)),i[v].onComplete&&_.push(()=>i[v].onComplete(null,!0,i[v].currentOutputSnapshotResolved)),i[v].unwatcher();nu(l,Ch(l.transactionQueueTree_,n)),Th(l,l.transactionQueueTree_),An(l.eventQueue_,n,N);for(let v=0;v<_.length;v++)da(_[v])}else{if(g==="datastale")for(let _=0;_<i.length;_++)i[_].status===3?i[_].status=4:i[_].status=0;else{Jt("transaction at "+y.toString()+" failed: "+g);for(let _=0;_<i.length;_++)i[_].status=4,i[_].abortReason=g}ra(l,n)}},h)}function ra(l,n){const i=dv(l,n),r=Xr(i),c=fv(l,i);return Nw(l,c,r),r}function Nw(l,n,i){if(n.length===0)return;const r=[];let c=[];const h=n.filter(p=>p.status===0).map(p=>p.currentWriteId);for(let p=0;p<n.length;p++){const y=n[p],g=Wt(i,y.path);let N=!1,_;if(Q(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),y.status===4)N=!0,_=y.abortReason,c=c.concat(ul(l.serverSyncTree_,y.currentWriteId,!0));else if(y.status===0)if(y.retryCount>=dw)N=!0,_="maxretry",c=c.concat(ul(l.serverSyncTree_,y.currentWriteId,!0));else{const v=uv(l,y.path,h);y.currentInputSnapshot=v;const R=n[p].update(v.val());if(R!==void 0){Jc("transaction failed: Data returned ",R,y.path);let G=jt(R);typeof R=="object"&&R!=null&&es(R,".priority")||(G=G.updatePriority(v.getPriority()));const de=y.currentWriteId,F=tu(l),fe=ev(G,v,F);y.currentOutputSnapshotRaw=G,y.currentOutputSnapshotResolved=fe,y.currentWriteId=jh(l),h.splice(h.indexOf(de),1),c=c.concat(Xx(l.serverSyncTree_,y.path,fe,y.currentWriteId,y.applyLocally)),c=c.concat(ul(l.serverSyncTree_,de,!0))}else N=!0,_="nodata",c=c.concat(ul(l.serverSyncTree_,y.currentWriteId,!0))}An(l.eventQueue_,i,c),c=[],N&&(n[p].status=2,(function(v){setTimeout(v,Math.floor(0))})(n[p].unwatcher),n[p].onComplete&&(_==="nodata"?r.push(()=>n[p].onComplete(null,!1,n[p].currentInputSnapshot)):r.push(()=>n[p].onComplete(new Error(_),!1,null))))}nu(l,l.transactionQueueTree_);for(let p=0;p<r.length;p++)da(r[p]);Th(l,l.transactionQueueTree_)}function dv(l,n){let i,r=l.transactionQueueTree_;for(i=_e(n);i!==null&&ha(r)===void 0;)r=Ch(r,i),n=et(n),i=_e(n);return r}function fv(l,n){const i=[];return hv(l,n,i),i.sort((r,c)=>r.order-c.order),i}function hv(l,n,i){const r=ha(n);if(r)for(let c=0;c<r.length;c++)i.push(r[c]);Wc(n,c=>{hv(l,c,i)})}function nu(l,n){const i=ha(n);if(i){let r=0;for(let c=0;c<i.length;c++)i[c].status!==2&&(i[r]=i[c],r++);i.length=r,tv(n,i.length>0?i:void 0)}Wc(n,r=>{nu(l,r)})}function Ah(l,n){const i=Xr(dv(l,n)),r=Ch(l.transactionQueueTree_,n);return KC(r,c=>{_f(l,c)}),_f(l,r),sv(r,c=>{_f(l,c)}),i}function _f(l,n){const i=ha(n);if(i){const r=[];let c=[],f=-1;for(let h=0;h<i.length;h++)i[h].status===3||(i[h].status===1?(Q(f===h-1,"All SENT items should be at beginning of queue."),f=h,i[h].status=3,i[h].abortReason="set"):(Q(i[h].status===0,"Unexpected transaction status in abort"),i[h].unwatcher(),c=c.concat(ul(l.serverSyncTree_,i[h].currentWriteId,!0)),i[h].onComplete&&r.push(i[h].onComplete.bind(null,new Error("set"),!1,null))));f===-1?tv(n,void 0):i.length=f+1,An(l.eventQueue_,Xr(n),c);for(let h=0;h<r.length;h++)da(r[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(l){let n="";const i=l.split("/");for(let r=0;r<i.length;r++)if(i[r].length>0){let c=i[r];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch{}n+="/"+c}return n}function ww(l){const n={};l.charAt(0)==="?"&&(l=l.substring(1));for(const i of l.split("&")){if(i.length===0)continue;const r=i.split("=");r.length===2?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Jt(`Invalid query segment '${i}' in query '${l}'`)}return n}const Sy=function(l,n){const i=Ew(l),r=i.namespace;i.domain==="firebase.com"&&Ms(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&i.domain!=="localhost"&&Ms("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||OS();const c=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new gx(i.host,i.secure,r,c,n,"",r!==i.subdomain),path:new Xe(i.pathString)}},Ew=function(l){let n="",i="",r="",c="",f="",h=!0,p="https",y=443;if(typeof l=="string"){let g=l.indexOf("//");g>=0&&(p=l.substring(0,g-1),l=l.substring(g+2));let N=l.indexOf("/");N===-1&&(N=l.length);let _=l.indexOf("?");_===-1&&(_=l.length),n=l.substring(0,Math.min(N,_)),N<_&&(c=Cw(l.substring(N,_)));const v=ww(l.substring(Math.min(l.length,_)));g=n.indexOf(":"),g>=0?(h=p==="https"||p==="wss",y=parseInt(n.substring(g+1),10)):g=n.length;const R=n.slice(0,g);if(R.toLowerCase()==="localhost")i="localhost";else if(R.split(".").length<=2)i=R;else{const G=n.indexOf(".");r=n.substring(0,G).toLowerCase(),i=n.substring(G+1),f=r}"ns"in v&&(f=v.ns)}return{host:n,port:y,domain:i,subdomain:r,secure:h,scheme:p,pathString:c,namespace:f}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(n,i,r,c){this.eventType=n,this.eventRegistration=i,this.snapshot=r,this.prevName=c}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+At(this.snapshot.exportVal())}}class Tw{constructor(n,i,r){this.eventRegistration=n,this.error=i,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(n,i){this.snapshotCallback=n,this.cancelCallback=i}onValue(n,i){this.snapshotCallback.call(null,n,i)}onCancel(n){return Q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(n,i,r,c){this._repo=n,this._path=i,this._queryParams=r,this._orderByCalled=c}get key(){return we(this._path)?null:sh(this._path)}get ref(){return new ks(this._repo,this._path)}get _queryIdentifier(){const n=oy(this._queryParams),i=Jf(n);return i==="{}"?"default":i}get _queryObject(){return oy(this._queryParams)}isEqual(n){if(n=ua(n),!(n instanceof Mh))return!1;const i=this._repo===n._repo,r=lh(this._path,n._path),c=this._queryIdentifier===n._queryIdentifier;return i&&r&&c}toJSON(){return this.toString()}toString(){return this._repo.toString()+yN(this._path)}}class ks extends Mh{constructor(n,i){super(n,i,new oh,!1)}get parent(){const n=wx(this._path);return n===null?null:new ks(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class Hr{constructor(n,i,r){this._node=n,this.ref=i,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const i=new Xe(n),r=qf(this.ref,n);return new Hr(this._node.getChild(i),r,ht)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,c)=>n(new Hr(c,qf(this.ref,r),ht)))}hasChild(n){const i=new Xe(n);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Le(l,n){return l=ua(l),l._checkNotDeleted("ref"),n!==void 0?qf(l._root,n):l._root}function qf(l,n){return l=ua(l),_e(l._path)===null?aw("child","path",n):iv("child","path",n),new ks(l._repo,ft(l._path,n))}function ma(l){return av("remove",l._path),ts(l,null)}function ts(l,n){l=ua(l),av("set",l._path),sw("set",n,l._path);const i=new qr;return yw(l._repo,l._path,n,null,i.wrapCallback(()=>{})),i.promise}function Zr(l,n){iw("update",n,l._path);const i=new qr;return xw(l._repo,l._path,n,i.wrapCallback(()=>{})),i.promise}function qn(l){l=ua(l);const n=new Dh(()=>{}),i=new Kr(n);return gw(l._repo,l,i).then(r=>new Hr(r,new ks(l._repo,l._path),l._queryParams.getIndex()))}class Kr{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,i){const r=i._queryParams.getIndex();return new jw("value",this,new Hr(n.snapshotNode,new ks(i._repo,i._path),r))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,i){return this.callbackContext.hasCancelCallback?new Tw(this,n,i):null}matches(n){return n instanceof Kr?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function Aw(l,n,i,r,c){const f=new Dh(i,void 0),h=new Kr(f);return bw(l._repo,l,h),()=>cv(l._repo,l,h)}function Dw(l,n,i,r){return Aw(l,"value",n)}function Mw(l,n,i){let r=null;const c=i?new Dh(i):null;r=new Kr(c),cv(l._repo,l,r)}AC(ks);OC(ks);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="FIREBASE_DATABASE_EMULATOR_HOST",Yf={};let Rw=!1;function Ow(l,n,i,r){const c=n.lastIndexOf(":"),f=n.substring(0,c),h=Zf(f);l.repoInfo_=new gx(n,h,l.repoInfo_.namespace,l.repoInfo_.webSocketOnly,l.repoInfo_.nodeAdmin,l.repoInfo_.persistenceKey,l.repoInfo_.includeNamespaceInQueryParams,!0,i),r&&(l.authTokenProvider_=r)}function zw(l,n,i,r,c){let f=r||l.options.databaseURL;f===void 0&&(l.options.projectId||Ms("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),It("Using default host for project ",l.options.projectId),f=`${l.options.projectId}-default-rtdb.firebaseio.com`);let h=Sy(f,c),p=h.repoInfo,y;typeof process<"u"&&G0&&(y=G0[kw]),y?(f=`http://${y}?ns=${p.namespace}`,h=Sy(f,c),p=h.repoInfo):h.repoInfo.secure;const g=new VS(l.name,l.options,n);rw("Invalid Firebase Database URL",h),we(h.path)||Ms("Database URL must point to the root of a Firebase Database (not including a child path).");const N=$w(p,l,g,new GS(l,i));return new Uw(N,l)}function Lw(l,n){const i=Yf[n];(!i||i[l.key]!==l)&&Ms(`Database ${n}(${l.repoInfo_}) has already been deleted.`),_w(l),delete i[l.key]}function $w(l,n,i,r){let c=Yf[n.name];c||(c={},Yf[n.name]=c);let f=c[l.toURLString()];return f&&Ms("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new fw(l,Rw,i,r),c[l.toURLString()]=f,f}class Uw{constructor(n,i){this._repoInternal=n,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(hw(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ks(this._repo,ze())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Lw(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&Ms("Cannot call "+n+" on a deleted database.")}}function Iw(l=Jy(),n){const i=uS(l,"database").getImmediate({identifier:n});if(!i._instanceStarted){const r=F_("database");r&&Hw(i,...r)}return i}function Hw(l,n,i,r={}){l=ua(l),l._checkNotDeleted("useEmulator");const c=`${n}:${i}`,f=l._repoInternal;if(l._instanceStarted){if(c===l._repoInternal.repoInfo_.host&&Tc(r,f.repoInfo_.emulatorOptions))return;Ms("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(f.repoInfo_.nodeAdmin)r.mockUserToken&&Ms('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Cc(Cc.OWNER);else if(r.mockUserToken){const p=typeof r.mockUserToken=="string"?r.mockUserToken:K_(r.mockUserToken,l.app.options.projectId);h=new Cc(p)}Zf(n)&&(Z_(n),e2("Database",!0)),Ow(f,c,r,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(l){TS(mS),Ac(new Dr("database",(n,{instanceIdentifier:i})=>{const r=n.getProvider("app").getImmediate(),c=n.getProvider("auth-internal"),f=n.getProvider("app-check-internal");return zw(r,c,f,i)},"PUBLIC").setMultipleInstances(!0)),Ji(V0,P0,l),Ji(V0,P0,"esm2020")}As.prototype.simpleListen=function(l,n){this.sendRequest("q",{p:l},n)};As.prototype.echo=function(l,n){this.sendRequest("echo",{d:l},n)};Bw();const mv="classtrack_theme_v1",kh="classtrack_auth_session_v1",qw="classtrack_logo_cache_v1",pv="classtrack_offline_queue_v1",Ny={apiKey:"AIzaSyBwsZ9ZwMq6fBS6t-YfWbV0lLd-ndU5MXs",authDomain:"chatbot-classtrack.firebaseapp.com",projectId:"chatbot-classtrack",storageBucket:"chatbot-classtrack.firebasestorage.app",messagingSenderId:"1056660264918",appId:"1:1056660264918:web:82850292e8583f2ece7677",measurementId:"G-G6ZXY4FBYS",databaseURL:"https://chatbot-classtrack-default-rtdb.asia-southeast1.firebasedatabase.app"};let Me=null;try{const l=pS().length?Jy():Wy(Ny);Me=Iw(l,Ny.databaseURL)}catch(l){console.error(" Database Init Error:",l)}const pa=()=>!!Me&&navigator.onLine,Yc=()=>JSON.parse(localStorage.getItem(pv)||"[]"),gv=l=>localStorage.setItem(pv,JSON.stringify(l)),Rh=(l,n)=>{const i=Yc();i.push({id:`sync_${Date.now()}_${Math.random()}`,type:l,payload:n,timestamp:Date.now()}),gv(i)},Cy=()=>Yc().length,oa=l=>{let n=0;for(let i=0;i<l.length;i++)n=(n<<5)-n+l.charCodeAt(i),n|=0;return n.toString()},Yw=async(l,n)=>{if(!pa())return null;const i=await qn(Le(Me,"users")),r=Object.values(i.val()||{}),c=oa(n);return r.find(f=>f.username.toLowerCase()===l.toLowerCase()&&f.password===c)||null},Gw=async l=>{if(!pa())return null;const n=await qn(Le(Me,"users"));return Object.values(n.val()||{}).find(r=>r.username.toLowerCase()===l.toLowerCase())||null},Vw=async(l,n)=>{await Zr(Le(Me,`users/${l}`),{password:oa(n)})},Pw=async(l,n,i,r)=>{const c=`${r}_${n.toLowerCase().replace(/\s/g,"_")}`,f={id:c,name:l,username:n,role:r,password:oa(i)};return await ts(Le(Me,`users/${c}`),f),f},wy=async(l,n)=>{n.password&&(n.password=oa(n.password)),await Zr(Le(Me,`users/${l}`),n)},Qw=async()=>{const l=await qn(Le(Me,"users"));return Object.values(l.val()||{})},Xw=async l=>ma(Le(Me,`users/${l}`)),Sf=()=>JSON.parse(localStorage.getItem(kh)||"null"),Gf=l=>localStorage.setItem(kh,JSON.stringify(l)),Fw=()=>localStorage.removeItem(kh),Zw=async()=>(await qn(Le(Me,"school_settings"))).val(),Ey=async l=>{await Zr(Le(Me,"school_settings"),l)},Kw=()=>localStorage.getItem(qw),Oh=async()=>(await qn(Le(Me,"classes"))).val()||[],Ww=async l=>{const n=await Oh();if(n.includes(l))throw new Error("Exists");const i=[...n,l];return await ts(Le(Me,"classes"),i),i},Jw=async l=>{const i=(await Oh()).filter(r=>r!==l);return await ts(Le(Me,"classes"),i),i},Vt=async l=>{const n=await qn(Le(Me,"students")),i=Object.values(n.val()||{});return l?i.filter(r=>r.classId===l):i},eE=async(l,n,i)=>{const r=`s_${Date.now()}_${Math.random().toString(36).substr(2,5)}`,c={id:r,name:l,classId:n,avatarSeed:r,phone:i||null};return pa()?await ts(Le(Me,`students/${r}`),c):Rh("ADD_STUDENT",c),c},bc=(l,n)=>Zr(Le(Me,`students/${l}`),n),tE=l=>ma(Le(Me,`students/${l}`)),yv=async l=>{const n=`${l.date}_${l.classId.replace(/\//g,"_")}`;pa()?await ts(Le(Me,`attendance/${n}`),l):Rh("SAVE_ATTENDANCE",l)},_r=async()=>{const l=await qn(Le(Me,"attendance"));return Object.values(l.val()||{})},nE=async(l,n)=>{const i=`${l}_${n.replace(/\//g,"_")}`;await ma(Le(Me,`attendance/${i}`))},xv=async l=>{pa()?await ts(Le(Me,`fees/${l.month}/${l.studentId}`),l):Rh("SAVE_FEE",l)},sE=async l=>(await qn(Le(Me,`fees/${l}`))).val()||{},lE=async(l,n)=>ma(Le(Me,`fees/${l}/${n}`)),iE=(l,n,i)=>{const r=`${l}_${n.replace(/\//g,"_")}`,c=Le(Me,`attendance/${r}`),f=Dw(c,h=>i(h.val()));return()=>Mw(c,"value",f)},aE=async l=>{if(!pa())return;const n=Yc();if(n.length===0)return;l==null||l(`Syncing ${n.length} items...`);const i=[];for(const r of n)try{switch(r.type){case"SAVE_ATTENDANCE":await yv(r.payload);break;case"ADD_STUDENT":await ts(Le(Me,`students/${r.payload.id}`),r.payload);break;case"SAVE_FEE":await xv(r.payload);break}i.push(r.id)}catch(c){console.error("Sync error",c)}gv(Yc().filter(r=>!i.includes(r.id)))},rE=async(l,n)=>(await qn(Le(Me,`attendance/${l}_${n.replace(/\//g,"_")}`))).val(),oE=(l,n)=>Zr(Le(Me,`students/${l}`),{customFee:n}),cE=l=>localStorage.setItem(mv,l),uE=()=>localStorage.getItem(mv)||"minimal_light",dE=async l=>{const n=await qn(Le(Me,"todos"));return Object.values(n.val()||{}).filter(i=>i.userId===l)},jy=l=>ts(Le(Me,`todos/${l.id}`),l),fE=(l,n)=>ma(Le(Me,`todos/${n}`)),hE=async l=>{const n=await qn(Le(Me,"projects"));return Object.values(n.val()||{}).filter(i=>i.userId===l)},mE=async l=>ts(Le(Me,`projects/${l.id}`),l),pE=async(l,n)=>ma(Le(Me,`projects/${n}`)),gE=({percentage:l,size:n=180,strokeWidth:i=15,label:r="",subLabel:c="Present",colorStart:f="#6366f1",colorEnd:h="#a855f7"})=>{const[p,y]=M.useState(0);M.useEffect(()=>{const G=performance.now(),K=de=>{const F=de-G,fe=Math.min(F/1200,1),pe=1-Math.pow(1-fe,4);y(pe*l),fe<1&&requestAnimationFrame(K)};requestAnimationFrame(K)},[l]);const g=(n-i)/2,N=g*2*Math.PI,_=N-p/100*N,v="gradient-chart";return u.jsxs("div",{className:"relative flex items-center justify-center p-4",children:[u.jsxs("svg",{width:n,height:n,viewBox:`0 0 ${n} ${n}`,className:"transform -rotate-90 relative z-10",children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:v,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:f}),u.jsx("stop",{offset:"100%",stopColor:h})]})}),u.jsx("circle",{cx:n/2,cy:n/2,r:g,stroke:"currentColor",strokeWidth:i,fill:"transparent",className:"text-slate-200 dark:text-slate-800 opacity-20",strokeLinecap:"round"}),u.jsx("circle",{cx:n/2,cy:n/2,r:g,stroke:`url(#${v})`,strokeWidth:i,fill:"transparent",strokeDasharray:N,strokeDashoffset:_,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.8s ease-out"}})]}),u.jsxs("div",{className:"absolute flex flex-col items-center justify-center text-center z-20 font-black",children:[u.jsxs("span",{className:"text-4xl md:text-5xl font-black tracking-tighter",children:[Math.round(p),"%"]}),c&&u.jsx("span",{className:"text-[10px] uppercase tracking-widest opacity-60 mt-1",children:c})]})]})},Tt=({children:l,variant:n="primary",fullWidth:i=!1,themeAccent:r,className:c="",loading:f=!1,...h})=>{const p="px-5 py-2.5 rounded-md font-medium text-sm transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2";let y="";return n==="primary"?y=`${r||"bg-[#2563eb]"} text-white hover:opacity-90 active:scale-[0.98] shadow-md`:n==="secondary"?y="bg-transparent text-current border border-current hover:bg-current/10 active:scale-[0.98]":n==="danger"&&(y="bg-transparent text-red-600 border border-red-600 hover:bg-red-500/10 active:scale-[0.98]"),u.jsx("button",{className:`${p} ${y} ${i?"w-full":""} ${c} ${f?"opacity-60 cursor-not-allowed":""}`,disabled:f||h.disabled,...h,children:f?u.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):l})},yE=({currentView:l,onChangeView:n,theme:i,user:r,onLogout:c,shouldHide:f,width:h,onStartResize:p,isResizing:y,logo:g})=>{const[N,_]=Br.useState(!1),v=h<125,R=()=>{const F=[{id:"home",icon:s_,label:"Home"},{id:"todo",icon:Qf,label:"Tasks"},{id:"history",icon:Pf,label:"History"}];return(r==null?void 0:r.role)==="admin"&&F.push({id:"admin-dashboard",icon:Oy,label:"Admin"}),F.push({id:"settings",icon:Iy,label:"Settings"}),F},G=l==="dashboard"||l==="attendance"?"home":l.startsWith("admin-")||l==="student-directory"||l==="timetable"||l==="calculator"||l==="student-profile"?"admin-dashboard":l,K=()=>f?null:u.jsx("div",{className:`fixed bottom-0 left-0 right-0 ${i.navBg} border-t ${i.border} p-2 flex justify-around items-center z-[200] md:hidden`,children:R().map(F=>{const fe=G===F.id,pe=F.icon;return u.jsxs("button",{onClick:()=>{n(F.id)},className:`flex flex-col items-center justify-center py-2.5 px-3 flex-1 rounded-xl transition-all active:scale-95 ${fe?`${i.accentText} bg-current/10 font-bold`:`${i.textSecondary} hover:bg-black/5 dark:hover:bg-white/5`}`,children:[u.jsx(pe,{size:22,strokeWidth:fe?2.5:2}),u.jsx("span",{className:"text-[11px] font-bold mt-1.5",children:F.label})]},F.id)})}),de=()=>u.jsxs("div",{style:{width:`${h}px`},className:`hidden md:flex flex-col h-full ${i.sidebarBg} border-r ${i.border} px-4 py-6 relative select-none ${y?"":"transition-[width] duration-500 ease-[cubic-bezier(0.34,1.56,0.64,1)]"}`,children:[u.jsxs("div",{className:`mb-6 flex flex-col ${v?"items-center":"items-start"}`,children:[u.jsxs("div",{className:"flex items-center gap-3 w-full mb-6",children:[u.jsx("div",{className:`w-10 h-10 rounded-md ${i.accent} flex items-center justify-center text-white shrink-0 overflow-hidden`,children:g&&g.length>10?u.jsx("img",{src:g,alt:"Logo",className:"w-full h-full object-cover"}):u.jsx($y,{size:18,strokeWidth:2})}),!v&&u.jsx("h2",{className:`text-lg font-semibold ${i.textPrimary} truncate`,children:"IJ Education"})]}),r&&u.jsxs("div",{className:"w-full relative",children:[u.jsxs("button",{onClick:()=>_(!N),className:`w-full p-2.5 rounded-md flex items-center gap-3 transition-colors ${v?"justify-center":"hover:bg-black/5"}`,children:[u.jsx("div",{className:`w-9 h-9 rounded-md ${i.accent} flex items-center justify-center text-white font-semibold shrink-0`,children:r.avatar&&r.avatar.startsWith("data:image")?u.jsx("img",{src:r.avatar,alt:r.name,className:"w-full h-full object-cover rounded-md"}):u.jsx("span",{className:"text-sm",children:r.name.charAt(0).toUpperCase()})}),!v&&u.jsxs("div",{className:"text-left flex-1 overflow-hidden",children:[u.jsx("p",{className:`text-sm font-semibold ${i.textPrimary} truncate`,children:r.name}),u.jsx("p",{className:`text-xs ${i.textSecondary}`,children:r.role})]})]}),N&&!v&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-50",onClick:()=>_(!1)}),u.jsx("div",{className:`absolute top-full left-0 right-0 mt-2 p-1 rounded-md ${i.surface} border ${i.border} shadow-lg z-[60]`,children:u.jsxs("button",{onClick:c,className:"w-full flex items-center gap-2 p-2 rounded-md hover:bg-red-50 text-red-600 font-medium text-sm",children:[u.jsx(T0,{size:16})," Logout"]})})]})]})]}),u.jsx("div",{className:"flex-1 space-y-1 overflow-x-hidden",children:R().map(F=>{const fe=G===F.id,pe=F.icon;return u.jsxs("button",{onClick:()=>n(F.id),className:`w-full flex items-center ${v?"justify-center px-0":"gap-4 px-4"} py-3.5 rounded-xl transition-all active:scale-[0.98] ${fe?`${i.accent} text-white shadow-md`:`${i.textSecondary} hover:bg-black/5 dark:hover:bg-white/5`}`,children:[u.jsx(pe,{size:22,strokeWidth:fe?2.5:2,className:"shrink-0"}),!v&&u.jsx("span",{className:"font-bold text-base",children:F.label})]},F.id)})}),u.jsxs("button",{onClick:c,className:`w-full flex items-center ${v?"justify-center":"gap-4 px-4"} py-3.5 rounded-xl hover:bg-red-50 dark:hover:bg-red-900/20 text-red-600 mt-auto transition-all transition-colors active:scale-[0.98]`,children:[u.jsx(T0,{size:22,strokeWidth:2.5,className:"shrink-0"}),!v&&u.jsx("span",{className:"font-bold text-base",children:"Logout"})]}),u.jsx("div",{onMouseDown:p,className:`absolute top-0 -right-1 w-2 h-full cursor-col-resize hover:bg-indigo-500/30 transition-colors z-50 ${y?"bg-indigo-500/50":""}`})]});return u.jsxs(u.Fragment,{children:[u.jsx(K,{}),u.jsx(de,{})]})},Gc=({avatar:l,name:n,size:i="md",className:r=""})=>{const c=l||n||"default",f=l!=null&&l.startsWith("http")?l:`https://picsum.photos/seed/${c}/200`;let h="w-10 h-10 text-base";return i==="sm"&&(h="w-8 h-8 text-xs"),i==="lg"&&(h="w-16 h-16 text-2xl"),i==="xl"&&(h="w-32 h-32 text-4xl"),u.jsx("img",{src:f,alt:n,className:`rounded-full object-cover border border-white/10 ${h} ${r}`,onError:p=>{p.target.src=`https://ui-avatars.com/api/?name=${n}&background=random`}})},xE=({theme:l,onLogin:n,onToast:i,logo:r})=>{const[c,f]=M.useState("login"),[h,p]=M.useState(""),[y,g]=M.useState(""),[N,_]=M.useState(null),[v,R]=M.useState(""),[G,K]=M.useState(""),[de,F]=M.useState(!1),[fe,pe]=M.useState(!1),[ie,tt]=M.useState(0);M.useEffect(()=>{tt(0);const he=setTimeout(()=>tt(1),100);return()=>clearTimeout(he)},[c]);const Ue=async he=>{if(he.preventDefault(),!de){F(!0);try{if(c==="login"){const Ze=await Yw(h,y);Ze?n(Ze):i("Invalid credentials","error")}}catch{i("System Error or No Internet","error")}finally{F(!1)}}},oe=async()=>{if(!de){F(!0);try{const he=await Gw(h);he&&he.securityQuestion?_(he):i("User not identified","error")}finally{F(!1)}}},Ae=async()=>{var he;if(!(!N||de)){F(!0);try{((he=N.securityAnswer)==null?void 0:he.toLowerCase().trim())===v.toLowerCase().trim()?(await Vw(N.id,G),i("Access Restored. Please Login.","success"),f("login"),_(null)):i("Verification Failed","error")}finally{F(!1)}}},ct=()=>u.jsx("div",{className:"hidden lg:flex w-1/2 relative items-center justify-center overflow-hidden bg-slate-900",children:u.jsxs("div",{className:`relative z-10 p-16 transition-all duration-500 ${ie?"translate-x-0 opacity-100":"-translate-x-10 opacity-0"}`,children:[u.jsx("div",{className:"w-16 h-16 rounded-md bg-white flex items-center justify-center mb-8",children:r?u.jsx("img",{src:r,className:"w-full h-full object-cover rounded-md"}):u.jsx(Zi,{size:36,className:"text-slate-900"})}),u.jsxs("h1",{className:"text-5xl font-semibold text-white mb-4 leading-tight",children:["Class",u.jsx("span",{className:"text-blue-400",children:"Track"})]}),u.jsx("p",{className:"text-lg text-slate-300 mb-10 max-w-md",children:"Professional student management and attendance tracking system."}),u.jsx("div",{className:"space-y-4",children:[{icon:Sc,label:"Secure",desc:"Local data encryption"},{icon:k1,label:"Analytics",desc:"Performance tracking"}].map((he,Ze)=>u.jsxs("div",{className:"flex gap-3 items-center",children:[u.jsx("div",{className:"w-10 h-10 rounded-md bg-white/10 flex items-center justify-center text-blue-400",children:u.jsx(he.icon,{size:20})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-white font-medium text-sm",children:he.label}),u.jsx("p",{className:"text-slate-400 text-xs",children:he.desc})]})]},Ze))})]})});return u.jsxs("div",{className:"flex min-h-screen w-full bg-slate-900 overflow-hidden font-sans",children:[u.jsx(ct,{}),u.jsx("div",{className:"w-full lg:w-1/2 flex flex-col items-center justify-center p-6 md:p-12 relative",children:u.jsxs("div",{className:`w-full max-w-md relative z-10 transition-all duration-500 delay-150 ${ie?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[u.jsxs("div",{className:"mb-8 text-center lg:text-left",children:[u.jsx("h2",{className:"text-3xl font-semibold text-white mb-2",children:c==="login"?"Login":"Password Recovery"}),u.jsx("p",{className:"text-slate-400",children:"Access your account"})]}),u.jsx("div",{className:"bg-slate-800 p-8 rounded-md border border-slate-700",children:u.jsx("form",{onSubmit:Ue,className:"space-y-5",children:c==="login"?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Username"}),u.jsxs("div",{className:"relative",children:[u.jsx(R_,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),u.jsx("input",{type:"text",value:h,onChange:he=>p(he.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-md py-2.5 pl-10 pr-4 text-white text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"Enter username"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Password"}),u.jsx("button",{type:"button",onClick:()=>f("forgot"),className:"text-xs text-blue-400 hover:text-blue-300",children:"Forgot?"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(r_,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),u.jsx("input",{type:fe?"text":"password",value:y,onChange:he=>g(he.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-md py-2.5 pl-10 pr-10 text-white text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"Enter password"}),u.jsx("button",{type:"button",onClick:()=>pe(!fe),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-300",children:fe?u.jsx(F1,{size:18}):u.jsx(K1,{size:18})})]})]}),u.jsx(Tt,{type:"submit",fullWidth:!0,themeAccent:"bg-blue-600 text-white",disabled:de,className:"py-2.5 font-medium",children:de?u.jsx(zy,{size:20,className:"animate-spin m-auto"}):"Login"})]}):u.jsxs("div",{className:"space-y-5",children:[N?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"p-4 rounded-md bg-blue-500/10 border border-blue-500/20",children:[u.jsx("p",{className:"text-xs font-medium text-blue-400 mb-1",children:"Security Question"}),u.jsx("p",{className:"text-sm text-white",children:N.securityQuestion})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Your Answer"}),u.jsx("input",{type:"text",value:v,onChange:he=>R(he.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-md py-2.5 px-4 text-white text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Enter answer"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium text-slate-300",children:"New Password"}),u.jsx("input",{type:"password",value:G,onChange:he=>K(he.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-md py-2.5 px-4 text-white text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Enter new password"})]}),u.jsx(Tt,{onClick:Ae,fullWidth:!0,themeAccent:"bg-blue-600 text-white",disabled:de,children:"Reset Password"})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Account ID"}),u.jsx("input",{type:"text",value:h,onChange:he=>p(he.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-md py-2.5 px-4 text-white text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Enter account ID"})]}),u.jsx(Tt,{onClick:oe,fullWidth:!0,themeAccent:"bg-blue-600 text-white",disabled:de,children:"Verify ID"})]}),u.jsx("button",{onClick:()=>{f("login"),_(null)},className:"w-full text-xs text-slate-400 hover:text-blue-400 transition-colors",children:"Back to Login"})]})})}),u.jsx("div",{className:"mt-8 text-center",children:u.jsx("p",{className:"text-xs text-slate-500",children:"Secure Access  ClassTrack v1.0"})})]})})]})},vE=({theme:l,onBack:n,availableClasses:i,selectedClass:r,onSelectClass:c,students:f,onViewProfile:h,attendanceStats:p})=>u.jsx("div",{className:"flex flex-col h-full animate-fade-in px-4 md:px-6 pt-6 pb-32 overflow-y-auto w-full",children:u.jsxs("div",{className:"max-w-2xl mx-auto w-full",children:[u.jsx("div",{className:"mb-6 flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:n,className:`p-2 -ml-2 rounded-md hover:bg-black/5 transition-colors ${l.textPrimary}`,children:u.jsx(js,{size:20})}),u.jsxs("div",{children:[u.jsx("h2",{className:`text-xl md:text-2xl font-semibold ${l.textPrimary}`,children:"Student Directory"}),u.jsx("p",{className:`text-sm ${l.textSecondary}`,children:"View and contact students"})]})]})}),u.jsx("div",{className:"mb-4 flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:i.map(y=>u.jsxs("button",{onClick:()=>c(y),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors whitespace-nowrap border ${r===y?`${l.accent} text-white border-transparent`:`${l.surface} ${l.border} ${l.textSecondary} hover:bg-black/5`}`,children:["Class ",y]},y))}),u.jsx("div",{className:"space-y-2",children:f.length===0?u.jsx("div",{className:`text-center py-20 ${l.textSecondary}`,children:"No students in this class."}):f.sort((y,g)=>y.name.localeCompare(g.name)).map(y=>u.jsxs("div",{onClick:()=>h(y),className:`p-4 rounded-md ${l.surface} border ${l.border} flex justify-between items-center cursor-pointer hover:shadow-md transition-all`,children:[u.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[u.jsx(Gc,{avatar:y.avatarSeed,name:y.name,size:"md"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:`font-semibold ${l.textPrimary} truncate`,children:y.name}),u.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[u.jsxs("p",{className:`text-xs ${l.textSecondary} flex items-center gap-1`,children:[u.jsx(Ly,{size:12})," ",y.phone||"No number"]}),u.jsxs("span",{className:`text-xs font-medium ${p[y.id]>75?"text-green-600":"text-orange-600"}`,children:[p[y.id]||0,"% attendance"]})]})]})]}),y.phone&&u.jsx("button",{onClick:g=>{var N;g.stopPropagation(),window.open(`https://wa.me/${(N=y.phone)==null?void 0:N.replace(/\D/g,"")}`,"_blank")},className:"p-2 rounded-md bg-green-50 text-green-600 hover:bg-green-100 transition-colors ml-2",children:u.jsx(d_,{size:18})})]},y.id))})]})}),bE=({theme:l,themeId:n,onThemeChange:i,currentUser:r,onUpdateUser:c,onLogout:f,onToast:h,enableAnimations:p,onToggleAnimations:y,badges:g,onSaveBadges:N})=>{const[_,v]=M.useState("view"),[R,G]=M.useState(""),[K,de]=M.useState(""),[F,fe]=M.useState(""),[pe,ie]=M.useState(""),[tt,Ue]=M.useState(""),[oe,Ae]=M.useState(""),[ct,he]=M.useState(""),[Ze,qe]=M.useState(!1);M.useEffect(()=>{r&&(G(r.bio||""),de(r.avatar||""),fe(r.securityQuestion||""))},[r,_]);const en=async()=>{if(r){qe(!0);try{const se={bio:R,avatar:K};pe.trim()&&(se.securityQuestion=F,se.securityAnswer=pe),await wy(r.id,se);const z={...r,...se};c(z),Gf(z),v("view"),h("Profile Updated!","success")}catch{h("Failed to update profile.","error")}finally{qe(!1)}}},St=async()=>{if(r){if(oa(tt)!==r.password){h("Incorrect current password","error");return}if(oe!==ct){h("Passwords do not match","error");return}if(oe.length<3){h("Password too short","error");return}qe(!0);try{await wy(r.id,{password:oe});const se={...r,password:oa(oe)};c(se),Gf(se),v("view"),Ue(""),Ae(""),he(""),h("Password Changed Successfully!","success")}catch{h("Failed to change password.","error")}finally{qe(!1)}}};return u.jsx("div",{className:"flex flex-col h-full animate-fade-in px-4 md:px-6 pt-6 pb-32 overflow-y-auto w-full",children:u.jsxs("div",{className:"max-w-4xl mx-auto w-full",children:[u.jsx("h2",{className:`text-2xl md:text-3xl font-semibold ${l.textPrimary} mb-6`,children:"Settings"}),u.jsxs("div",{className:`flex gap-4 mb-6 border-b ${l.border} pb-2`,children:[u.jsxs("button",{onClick:()=>v("view"),className:`pb-2 text-sm font-medium transition-colors relative ${_==="view"?l.textPrimary:l.textSecondary}`,children:["Appearance",_==="view"&&u.jsx("div",{className:`absolute bottom-0 left-0 w-full h-0.5 ${l.accent.replace("bg-","bg-").replace("text-white","")} rounded-full`})]}),u.jsxs("button",{onClick:()=>v("edit"),className:`pb-2 text-sm font-medium transition-colors relative ${_==="edit"?l.textPrimary:l.textSecondary}`,children:["Profile",_==="edit"&&u.jsx("div",{className:`absolute bottom-0 left-0 w-full h-0.5 ${l.accentText.replace("text-","bg-")} rounded-full`})]}),u.jsxs("button",{onClick:()=>v("badges"),className:`pb-2 text-sm font-medium transition-colors relative ${_==="badges"?l.textPrimary:l.textSecondary}`,children:["Badges",_==="badges"&&u.jsx("div",{className:`absolute bottom-0 left-0 w-full h-0.5 ${l.accentText.replace("text-","bg-")} rounded-full`})]})]}),_==="view"&&u.jsxs("section",{children:[u.jsx("div",{className:"grid gap-3 md:grid-cols-2 mb-8",children:Object.values(Nc).filter(se=>se&&se.bg).map(se=>u.jsxs("button",{onClick:()=>i(se.id),className:`p-4 rounded-md border transition-all ${n===se.id?`${l.accent} text-white border-transparent`:`${l.surface} ${l.border} ${l.textPrimary} hover:shadow-md`} flex items-center justify-between`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-5 h-5 rounded border ${se.bg||"bg-gray-200"}`}),u.jsx("span",{className:"font-medium",children:se.name||"Unknown"})]}),n===se.id&&u.jsx(wc,{size:18})]},se.id))}),u.jsx("h3",{className:`text-xs font-semibold uppercase tracking-wide ${l.textSecondary} mb-3`,children:"Performance"}),u.jsxs("div",{className:`p-4 rounded-md ${l.surface} border ${l.border} flex items-center justify-between`,children:[u.jsxs("div",{children:[u.jsx("h4",{className:`text-sm font-medium ${l.textPrimary}`,children:"Animations"}),u.jsx("p",{className:`text-xs ${l.textSecondary}`,children:"Enable interface animations"})]}),u.jsx("button",{onClick:()=>y(!p),className:`w-11 h-6 rounded-full relative transition-colors duration-200 ${p?"bg-blue-600":"bg-gray-300"}`,children:u.jsx("div",{className:`absolute top-0.5 w-5 h-5 rounded-full bg-white transition-all duration-200 ${p?"left-5":"left-0.5"}`})})]})]}),_==="edit"&&u.jsxs("section",{className:"space-y-4 animate-slide-up",children:[u.jsxs("div",{className:`p-5 rounded-md ${l.surface} border ${l.border}`,children:[u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsx(Gc,{avatar:K||(r==null?void 0:r.avatar),name:(r==null?void 0:r.name)||"?",size:"xl"}),u.jsxs("div",{children:[u.jsx("h3",{className:`text-lg font-semibold ${l.textPrimary}`,children:r==null?void 0:r.name}),u.jsxs("p",{className:`text-sm ${l.textSecondary}`,children:["@",r==null?void 0:r.username,"  ",r==null?void 0:r.role]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:`text-sm font-medium mb-2 block ${l.textPrimary}`,children:"Bio"}),u.jsx("textarea",{value:R,onChange:se=>G(se.target.value),className:`w-full p-3 rounded-md border ${l.border} ${l.textPrimary} outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-transparent`,placeholder:"Tell us about yourself...",rows:3})]}),u.jsxs("div",{className:`border-t ${l.border} pt-4`,children:[u.jsx("h4",{className:`text-sm font-medium ${l.textPrimary} mb-4`,children:"Security Recovery"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:`text-sm font-medium mb-2 block ${l.textPrimary}`,children:"Security Question"}),u.jsx("input",{type:"text",value:F,onChange:se=>fe(se.target.value),className:`w-full p-3 rounded-md border ${l.border} ${l.textPrimary} outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-transparent`,placeholder:"e.g. Favorite Pet"})]}),u.jsxs("div",{children:[u.jsx("label",{className:`text-sm font-medium mb-2 block ${l.textPrimary}`,children:"Security Answer"}),u.jsx("input",{type:"text",value:pe,onChange:se=>ie(se.target.value),className:`w-full p-3 rounded-md border ${l.border} ${l.textPrimary} outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-transparent`,placeholder:"Enter answer"})]})]})]}),u.jsx(Tt,{fullWidth:!0,onClick:en,themeAccent:l.accent,disabled:Ze,children:Ze?"Saving...":"Save Changes"})]})]}),u.jsxs("div",{className:"p-5 rounded-md bg-red-50 border border-red-200",children:[u.jsx("h3",{className:"font-medium text-red-600 mb-4",children:"Security"}),u.jsx(Tt,{variant:"danger",fullWidth:!0,onClick:()=>v("password"),children:"Change Password"})]})]}),_==="password"&&u.jsx("section",{className:"animate-slide-up",children:u.jsxs("div",{className:`p-5 rounded-md ${l.surface} border ${l.border} space-y-4`,children:[u.jsx("h3",{className:`font-semibold ${l.textPrimary} mb-4`,children:"Change Password"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:`text-sm font-medium mb-2 block ${l.textPrimary}`,children:"Current Password"}),u.jsx("input",{type:"password",value:tt,onChange:se=>Ue(se.target.value),placeholder:"Enter current password",className:`w-full p-3 rounded-md border ${l.border} ${l.textPrimary} outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-transparent`})]}),u.jsxs("div",{children:[u.jsx("label",{className:`text-sm font-medium mb-2 block ${l.textPrimary}`,children:"New Password"}),u.jsx("input",{type:"password",value:oe,onChange:se=>Ae(se.target.value),placeholder:"Enter new password",className:`w-full p-3 rounded-md border ${l.border} ${l.textPrimary} outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-transparent`})]}),u.jsxs("div",{children:[u.jsx("label",{className:`text-sm font-medium mb-2 block ${l.textPrimary}`,children:"Confirm Password"}),u.jsx("input",{type:"password",value:ct,onChange:se=>he(se.target.value),placeholder:"Confirm new password",className:`w-full p-3 rounded-md border ${l.border} ${l.textPrimary} outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-transparent`})]})]}),u.jsxs("div",{className:"flex gap-2 mt-4",children:[u.jsx(Tt,{variant:"secondary",onClick:()=>v("edit"),children:"Cancel"}),u.jsx(Tt,{onClick:St,themeAccent:l.accent,disabled:Ze,children:"Update Password"})]})]})}),_==="badges"&&u.jsx("section",{className:"animate-slide-up space-y-6 pb-20",children:u.jsxs("div",{className:`p-6 rounded-3xl ${l.surface} border ${l.border}`,children:[u.jsx("h3",{className:`text-xl font-black ${l.textPrimary} mb-2`,children:"Monitor Badges"}),u.jsx("p",{className:`text-xs ${l.textSecondary} mb-6`,children:"Customize the badges teachers can award to students."}),u.jsx("div",{className:"space-y-4",children:g.map((se,z)=>u.jsxs("div",{className:`p-4 rounded-2xl border ${l.border} bg-black/5 flex items-center justify-between group`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-white",style:{backgroundColor:se.color},children:u.jsx(j0,{size:20})}),u.jsxs("div",{children:[u.jsx("input",{value:se.name,onChange:V=>{const Z=[...g];Z[z]={...se,name:V.target.value},N(Z)},className:`bg-transparent border-none font-bold ${l.textPrimary} outline-none focus:ring-1 focus:ring-indigo-500/30 rounded px-1`}),u.jsx("p",{className:"text-[10px] opacity-40 uppercase font-black tracking-widest",children:se.id})]})]}),u.jsx("input",{type:"color",value:se.color,onChange:V=>{const Z=[...g];Z[z]={...se,color:V.target.value},N(Z)},className:"w-8 h-8 rounded-full border-none bg-transparent cursor-pointer"})]},se.id))})]})}),u.jsx("div",{className:"mt-6",children:u.jsxs("button",{onClick:f,className:"w-full p-3 rounded-md bg-red-500 text-white font-medium hover:bg-red-600 transition-colors flex items-center justify-center gap-2",children:[u.jsx(j0,{className:"rotate-180",size:18})," Logout"]})}),u.jsxs("div",{className:"mt-6 text-center space-y-1",children:[u.jsx("p",{className:`text-xs ${l.textSecondary}`,children:"App Version 1.0.0"}),u.jsx("p",{className:`text-xs ${l.textSecondary}`,children:"Developed by M. Ayan & Abdul Wahab"})]})]})})},_E=({value:l})=>u.jsx("div",{className:"w-full h-1.5 bg-gray-200 rounded-full overflow-hidden",children:u.jsx("div",{className:`h-full transition-all duration-300 rounded-full ${l>=100?"bg-green-500":l>50?"bg-yellow-500/100":"bg-blue-500/100"}`,style:{width:`${l}%`}})}),SE=Br.memo(({date:l,setDate:n,todos:i,theme:r})=>{const[c,f]=M.useState(new Date(l));M.useEffect(()=>{f(new Date(l))},[l]);const h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],p=c.getFullYear(),y=c.getMonth(),g=new Date(p,y,1).getDay(),N=new Date(p,y+1,0).getDate();return u.jsxs("div",{className:`p-4 rounded-md ${r.surface} border ${r.border} space-y-4 w-full max-w-sm mx-auto flex-shrink-0 mb-6 lg:mb-0`,children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h3",{className:`text-base font-semibold ${r.textPrimary}`,children:[h[y]," ",p]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:()=>f(new Date(p,y-1)),className:"p-1.5 rounded-md hover:bg-black/5 transition-colors",children:u.jsx(js,{size:16})}),u.jsx("button",{onClick:()=>f(new Date(p,y+1)),className:"p-1.5 rounded-md hover:bg-black/5 transition-colors",children:u.jsx(cl,{size:16})})]})]}),u.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["S","M","T","W","T","F","S"].map(_=>u.jsx("div",{className:"text-center text-xs font-medium opacity-40 p-1",children:_},_)),Array.from({length:g}).map((_,v)=>u.jsx("div",{},`e-${v}`)),Array.from({length:N}).map((_,v)=>{const R=v+1,G=`${p}-${String(y+1).padStart(2,"0")}-${String(R).padStart(2,"0")}`,K=l===G,de=i.some(F=>F.dueDate===G&&!F.isCompleted);return u.jsxs("button",{onClick:()=>n(G),className:`aspect-square rounded-md flex flex-col items-center justify-center relative transition-colors ${K?`${r.accent} text-white`:`hover:bg-black/5 ${r.textPrimary}`}`,children:[u.jsx("span",{className:"text-xs font-medium",children:R}),de&&!K&&u.jsx("div",{className:"absolute bottom-1 w-1 h-1 rounded-full bg-blue-500/100"})]},R)})]})]})}),Ty=Br.memo(({todo:l,project:n,theme:i,onToggle:r,onEdit:c,onDelete:f})=>{const h=l.dueDate&&l.dueDate<new Date().toISOString().split("T")[0]&&!l.isCompleted;return u.jsxs("div",{className:`group flex flex-col p-4 rounded-md ${i.surface} border ${i.border} hover:shadow-md transition-all relative`,children:[l.isCompleted&&u.jsx("div",{className:"absolute top-2 right-2 p-1 bg-green-100 text-green-600 rounded",children:u.jsx(I1,{size:12})}),u.jsxs("div",{className:"flex gap-3 items-start",children:[u.jsx("button",{onClick:()=>r(l),className:`mt-0.5 flex-shrink-0 w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${l.isCompleted?"bg-green-500 border-green-500 text-white":"border-gray-300 hover:border-[#2563eb]"}`,children:l.isCompleted&&u.jsx(Ry,{size:10,strokeWidth:3})}),u.jsxs("div",{className:"flex-1 min-w-0",onClick:()=>c(l),children:[u.jsxs("div",{className:"flex justify-between items-start mb-1 gap-2",children:[u.jsx("h4",{className:`text-sm font-semibold truncate ${i.textPrimary} ${l.isCompleted?"line-through opacity-50":""}`,children:l.title}),u.jsx("button",{onClick:p=>{p.stopPropagation(),f(l.id)},className:"opacity-0 group-hover:opacity-100 p-1 text-red-500 hover:bg-red-500/10 rounded transition-opacity",children:u.jsx(Ki,{size:14})})]}),l.description&&u.jsx("p",{className:`text-xs ${i.textSecondary} line-clamp-2 mb-2 leading-relaxed`,children:l.description}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[n&&u.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 rounded-md bg-gray-100 text-xs",style:{color:n.color},children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:n.color}}),u.jsx("span",{className:"font-medium",children:n.name})]}),u.jsxs("div",{className:`flex items-center gap-1.5 text-xs ${h?"text-red-600":i.textSecondary}`,children:[u.jsx(ky,{size:12})," ",l.dueDate||"No date"]})]})]})]}),u.jsxs("div",{className:"mt-3 flex items-center gap-3 pt-2 border-t border-current/10",children:[u.jsx("div",{className:"flex-1",children:u.jsx(_E,{value:l.progress})}),u.jsxs("span",{className:`text-xs ${i.textSecondary}`,children:[l.progress,"%"]})]})]})}),NE=({theme:l,currentUser:n,onToast:i})=>{const[r,c]=M.useState([]),[f,h]=M.useState([]),[p,y]=M.useState("list"),[g,N]=M.useState("all"),[_,v]=M.useState(""),[R,G]=M.useState(new Date().toISOString().split("T")[0]),[K,de]=M.useState("pending"),[F,fe]=M.useState("all"),[pe,ie]=M.useState("none"),[tt,Ue]=M.useState(null),[oe,Ae]=M.useState(""),[ct,he]=M.useState(""),[Ze,qe]=M.useState(new Date().toISOString().split("T")[0]),[en,St]=M.useState("medium"),[se,z]=M.useState(""),[V,Z]=M.useState(""),[Ee,be]=M.useState(0),[w,U]=M.useState(""),[P,W]=M.useState("#6366f1"),ae=M.useCallback(async()=>{if(n)try{const[$,mt]=await Promise.all([dE(n.id),hE(n.id)]);c($.sort((Ie,Dn)=>Dn.createdAt-Ie.createdAt)),h(mt)}catch{i("Failed to load tasks","error")}},[n,i]);M.useEffect(()=>{ae()},[ae]);const ye=()=>{Ue(null),Ae(""),he(""),qe(R),St("medium"),z(g!=="all"?g:""),Z(""),be(0),ie("add_todo")},ge=M.useCallback($=>{Ue($),Ae($.title),he($.description||""),qe($.dueDate||""),St($.priority),z($.projectId||""),Z(($.tags||[]).join(", ")),be($.progress||0),ie("edit_todo")},[]),rt=async()=>{if(!n||!oe.trim()){i("Task title is required","error");return}const $={id:tt?tt.id:`todo_${Date.now()}`,userId:n.id,title:oe.trim(),description:ct.trim(),isCompleted:Ee===100,progress:Ee,dueDate:Ze,priority:en,projectId:se||null,tags:V.split(",").map(mt=>mt.trim()).filter(mt=>mt.length>0),createdAt:tt?tt.createdAt:Date.now()};await jy($),i(tt?"Task Updated":"Task Created Successfully!","success"),ie("none"),ae()},Ke=M.useCallback(async $=>{n&&(await fE(n.id,$),i("Task deleted","success"),ae())},[n,i,ae]),Yn=M.useCallback(async $=>{const mt=$.isCompleted?0:100,Ie={...$,isCompleted:!$.isCompleted,progress:mt};await jy(Ie),i(Ie.isCompleted?"Task Completed! Well done.":"Task marked as pending","success"),ae()},[i,ae]),Rs=async()=>{if(!n||!w.trim())return;const $={id:`proj_${Date.now()}`,name:w.trim(),color:P,userId:n.id};await mE($),U(""),ie("none"),i("New Project Added","success"),ae()},Gn=async $=>{n&&(await pE(n.id,$),g===$&&N("all"),i("Board removed","success"),ae())},ns=$=>$.priority==="high"||!!$.dueDate&&new Date($.dueDate)<=new Date(Date.now()+14*864e5)&&new Date($.dueDate)>=new Date(Date.now()-864e5),Pt=M.useMemo(()=>r.filter($=>{var xn;const mt=$.title.toLowerCase().includes(_.toLowerCase())||((xn=$.description)==null?void 0:xn.toLowerCase().includes(_.toLowerCase()))||$.tags.some(ti=>ti.toLowerCase().includes(_.toLowerCase())),Ie=g==="all"||$.projectId===g,Dn=K==="all"?!0:K==="completed"?$.isCompleted:!$.isCompleted,Nt=F==="all"?!0:F==="active"?!$.isCompleted:F==="urgent"?!$.isCompleted&&ns($):F==="overdue"?!$.isCompleted&&$.dueDate&&$.dueDate<new Date().toISOString().split("T")[0]:!0;return p==="calendar"?Ie&&($.dueDate===R||!$.dueDate):mt&&Ie&&Dn&&Nt}),[r,_,g,K,p,R,F]),Ye=M.useMemo(()=>{const $=r.length,mt=r.filter(Nt=>Nt.isCompleted).length,Ie=r.filter(Nt=>!Nt.isCompleted&&ns(Nt)).length,Dn=r.filter(Nt=>!Nt.isCompleted&&Nt.dueDate&&Nt.dueDate<new Date().toISOString().split("T")[0]).length;return{total:$,completed:mt,high:Ie,overdue:Dn}},[r]);return u.jsxs("div",{className:"flex h-full w-full overflow-hidden bg-opacity-50 relative flex-col lg:flex-row",children:[u.jsxs("div",{className:`hidden lg:flex flex-col w-64 h-full border-r ${l.border} p-4 transition-all duration-300`,children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:`text-xs font-semibold uppercase tracking-wide mb-4 ${l.textSecondary}`,children:"Filters"}),u.jsx("div",{className:"space-y-2",children:[{id:"all",label:"All Tasks",icon:A0,value:Ye.total,color:"text-blue-600",active:F==="all"},{id:"active",label:"Active",icon:Tr,value:Ye.total-Ye.completed,color:"text-yellow-600",active:F==="active"},{id:"urgent",label:"Urgent",icon:w0,value:Ye.high,color:"text-orange-600",active:F==="urgent"},{id:"overdue",label:"Overdue",icon:N0,value:Ye.overdue,color:"text-red-600",active:F==="overdue"}].map($=>u.jsxs("div",{onClick:()=>fe($.id),className:`flex items-center justify-between p-2.5 rounded-md transition-colors cursor-pointer ${$.active?"bg-blue-500/100/10 border border-blue-500/20":"hover:bg-black/5 border border-transparent"}`,children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx($.icon,{size:16,className:$.color}),u.jsx("span",{className:`text-sm font-medium ${l.textPrimary}`,children:$.label})]}),u.jsx("span",{className:`text-xs ${l.textSecondary}`,children:$.value})]},$.id))})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-hide",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsx("h3",{className:`text-xs font-semibold uppercase tracking-wide ${l.textSecondary}`,children:"Projects"}),u.jsx("button",{onClick:()=>ie("add_project"),className:"p-1 rounded-md hover:bg-black/5 transition-colors",children:u.jsx(_c,{size:14})})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs("button",{onClick:()=>N("all"),className:`w-full flex items-center gap-2 p-2 rounded-md transition-colors ${g==="all"?`bg-blue-500/10 ${l.textPrimary} font-medium`:`${l.textSecondary} hover:bg-black/5`}`,children:[u.jsx(E0,{size:16,className:"opacity-50"}),u.jsx("span",{className:"text-sm",children:"All Projects"})]}),f.length===0&&u.jsx("div",{className:"p-3 rounded-xl bg-indigo-500/5 border border-dashed border-indigo-500/20 text-center mb-2",children:u.jsx("p",{className:"text-[10px] font-black opacity-30 italic uppercase tracking-widest text-indigo-500",children:"No projects yet"})}),f.map($=>u.jsxs("div",{className:`group w-full flex items-center justify-between rounded-md transition-colors ${g===$.id?"bg-blue-500/10":"hover:bg-black/5"}`,children:[u.jsxs("button",{onClick:()=>N($.id),className:`flex-1 flex items-center gap-2 p-2 ${g===$.id?`${l.textPrimary} font-medium`:`${l.textSecondary}`}`,children:[u.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:$.color}}),u.jsx("span",{className:"text-sm truncate",children:$.name})]}),u.jsx("button",{onClick:mt=>{mt.stopPropagation(),Gn($.id)},className:"opacity-0 group-hover:opacity-100 p-1.5 text-red-500 hover:bg-red-500/10 rounded transition-all",children:u.jsx(Ki,{size:12})})]},$.id))]})]})]}),u.jsx("div",{className:"flex-1 h-full overflow-hidden flex flex-col p-4 md:p-6 lg:p-8",children:u.jsxs("div",{className:"max-w-5xl mx-auto w-full flex flex-col h-full bg-transparent",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:`text-2xl md:text-3xl font-semibold ${l.textPrimary} mb-1`,children:"Tasks"}),u.jsx("p",{className:`text-sm ${l.textSecondary}`,children:"Your personal task management"})]}),u.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[u.jsxs("div",{className:`flex p-1 rounded-md ${l.surface} border ${l.border}`,children:[u.jsx("button",{onClick:()=>y("list"),className:`px-3 py-1.5 rounded text-xs font-medium transition-colors ${p==="list"?`${l.accent} text-white`:`${l.textSecondary} hover:bg-black/5`}`,children:"List"}),u.jsx("button",{onClick:()=>y("calendar"),className:`px-3 py-1.5 rounded text-xs font-medium transition-colors ${p==="calendar"?`${l.accent} text-white`:`${l.textSecondary} hover:bg-black/5`}`,children:"Calendar"})]}),u.jsxs(Tt,{onClick:ye,themeAccent:l.accent,className:"text-xs",children:[u.jsx(_c,{size:14,className:"mr-1"})," New Task"]})]})]}),u.jsx("div",{className:"lg:hidden flex gap-2 overflow-x-auto mb-4 pb-2 scrollbar-thin",children:u.jsx("div",{className:"flex gap-2 min-w-max",children:[{id:"all",label:"Total",icon:A0,value:Ye.total,color:"text-blue-600",bg:"bg-blue-500/10",active:F==="all"},{id:"active",label:"Active",icon:Tr,value:Ye.total-Ye.completed,color:"text-yellow-600",bg:"bg-yellow-500/10",active:F==="active"},{id:"urgent",label:"Urgent",icon:w0,value:Ye.high,color:"text-orange-600",bg:"bg-orange-50",active:F==="urgent"},{id:"overdue",label:"Overdue",icon:N0,value:Ye.overdue,color:"text-red-600",bg:"bg-red-500/10",active:F==="overdue"}].map($=>u.jsxs("div",{onClick:()=>fe($.id),className:`flex-shrink-0 flex items-center gap-2 p-3 rounded-md ${l.surface} border ${l.border} min-w-[120px] transition-all ${$.active?"border-blue-300 bg-blue-500/10":""}`,children:[u.jsx($.icon,{size:16,className:$.color}),u.jsxs("div",{children:[u.jsx("span",{className:`block text-xs font-medium ${l.textPrimary}`,children:$.label}),u.jsx("span",{className:`block text-lg font-semibold ${l.textPrimary}`,children:$.value})]})]},$.id))})}),u.jsxs("div",{className:"flex flex-col md:flex-row gap-3 mb-6",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Uy,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 opacity-40"}),u.jsx("input",{type:"text",placeholder:"Search tasks...",value:_,onChange:$=>v($.target.value),className:`w-full py-2.5 pl-10 pr-4 rounded-md ${l.surface} border ${l.border} ${l.textPrimary} outline-none focus:ring-2 focus:ring-[#2563eb] focus:border-transparent transition-all text-sm`})]}),u.jsx("div",{className:"flex gap-2",children:["pending","completed","all"].map($=>u.jsx("button",{onClick:()=>de($),className:`px-4 py-2 rounded-md text-xs font-medium transition-colors capitalize ${K===$?`${l.accent} text-white`:`${l.surface} border ${l.border} ${l.textSecondary} hover:bg-black/5`}`,children:$},$))})]}),u.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-hide pb-32 p-1",children:p==="calendar"?u.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 md:gap-8 items-start h-full",children:[u.jsx(SE,{date:R,setDate:G,todos:r,theme:l}),u.jsxs("div",{className:"flex-1 space-y-4 w-full pb-40 lg:pb-0",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h4",{className:`text-xs font-black uppercase tracking-widest opacity-30 ${l.textPrimary}`,children:["Date HQ: ",R]}),u.jsxs(Tt,{onClick:ye,themeAccent:l.accent,className:"py-2 px-4 shadow-lg text-[10px] font-black uppercase",children:[u.jsx(_c,{size:14,className:"mr-1"})," Add Op"]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Pt.length===0?u.jsx("p",{className:"md:col-span-2 text-center py-20 opacity-20 text-xs font-black uppercase italic",children:"Zero ops detected."}):Pt.map($=>u.jsx(Ty,{todo:$,project:f.find(mt=>mt.id===$.projectId),theme:l,onToggle:Yn,onEdit:ge,onDelete:Ke},$.id))})]})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 p-1",children:Pt.length===0?u.jsx("p",{className:"md:col-span-2 text-center py-20 opacity-30 text-lg font-black italic",children:"No matches found"}):Pt.map($=>u.jsx(Ty,{todo:$,project:f.find(mt=>mt.id===$.projectId),theme:l,onToggle:Yn,onEdit:ge,onDelete:Ke},$.id))})})]})}),(pe==="add_todo"||pe==="edit_todo")&&u.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end md:items-center justify-center sm:p-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:()=>ie("none")}),u.jsxs("div",{className:`${l.surface} border-t md:border ${l.border} w-full max-w-xl p-6 rounded-t-lg md:rounded-lg shadow-lg relative animate-slide-up flex flex-col gap-4 max-h-[90vh] overflow-y-auto scrollbar-hide`,onClick:$=>$.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h3",{className:`text-lg font-semibold ${l.textPrimary}`,children:pe==="edit_todo"?"Edit Task":"New Task"}),u.jsx("button",{onClick:()=>ie("none"),className:`p-1 rounded-md hover:bg-black/5 ${l.textPrimary}`,children:u.jsx(Jn,{size:20})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:`text-sm font-medium ${l.textPrimary}`,children:"Title"}),u.jsx("input",{autoFocus:!0,value:oe,onChange:$=>Ae($.target.value),className:`w-full p-3 rounded-md border ${l.border} ${l.textPrimary} focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm bg-transparent`,placeholder:"Enter task title..."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:`text-sm font-medium ${l.textPrimary}`,children:"Description"}),u.jsx("textarea",{value:ct,onChange:$=>he($.target.value),className:`w-full p-3 rounded-md border ${l.border} ${l.textPrimary} focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none h-24 resize-none text-sm bg-transparent`,placeholder:"Add notes..."})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:`text-sm font-medium ${l.textPrimary}`,children:"Due Date"}),u.jsx("input",{type:"date",value:Ze,onChange:$=>qe($.target.value),className:`w-full p-3 rounded-md border ${l.border} ${l.textPrimary} outline-none text-sm bg-transparent`})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:`text-sm font-medium ${l.textPrimary}`,children:"Priority"}),u.jsx("div",{className:`flex gap-2 p-1 rounded-md border ${l.border}`,children:["low","medium","high"].map($=>u.jsx("button",{onClick:()=>St($),className:`flex-1 py-1.5 rounded text-xs font-medium transition-colors capitalize ${en===$?`${l.accent} text-white`:`${l.textSecondary} hover:bg-black/5`}`,children:$},$))})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:`text-sm font-medium ${l.textPrimary}`,children:"Project"}),u.jsxs("select",{value:se,onChange:$=>z($.target.value),className:`w-full p-3 rounded-md border ${l.border} ${l.textPrimary} outline-none text-sm bg-transparent`,children:[u.jsx("option",{value:"",children:"No Project"}),f.map($=>u.jsx("option",{value:$.id,children:$.name},$.id))]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:`text-sm font-medium ${l.textPrimary}`,children:"Tags"}),u.jsx("input",{value:V,onChange:$=>Z($.target.value),className:`w-full p-3 rounded-md border ${l.border} ${l.textPrimary} outline-none text-sm bg-transparent`,placeholder:"exams, results..."})]})]}),u.jsxs("div",{className:"space-y-2 pt-2",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("label",{className:`text-sm font-medium ${l.textPrimary}`,children:"Progress"}),u.jsxs("span",{className:`text-sm font-medium ${l.accentText}`,children:[Ee,"%"]})]}),u.jsx("input",{type:"range",min:"0",max:"100",step:"10",value:Ee,onChange:$=>be(parseInt($.target.value)),className:"w-full h-2 bg-gray-200 rounded-full appearance-none cursor-pointer accent-blue-500"})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-2",children:[u.jsx(Tt,{variant:"secondary",onClick:()=>ie("none"),className:"flex-1 order-2 sm:order-1",children:"Cancel"}),u.jsxs(Tt,{onClick:rt,themeAccent:l.accent,className:"flex-1 order-1 sm:order-2",children:[u.jsx(g_,{size:16,className:"mr-2"}),tt?"Update":"Create"]})]})]})]}),pe==="add_project"&&u.jsxs("div",{className:"fixed inset-0 z-[120] flex items-end md:items-center justify-center sm:p-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:()=>ie("none")}),u.jsxs("div",{className:`${l.surface} border-t md:border ${l.border} w-full max-w-sm p-6 rounded-t-lg md:rounded-lg shadow-lg relative animate-slide-up flex flex-col gap-4`,onClick:$=>$.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-md bg-blue-500/100 text-white",children:u.jsx(E0,{size:20})}),u.jsx("h3",{className:`text-lg font-semibold ${l.textPrimary}`,children:"New Project"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:`text-sm font-medium ${l.textPrimary}`,children:"Project Name"}),u.jsx("input",{autoFocus:!0,value:w,onChange:$=>U($.target.value),className:`w-full p-3 rounded-md border ${l.border} ${l.textPrimary} outline-none bg-transparent`,placeholder:"Enter project name..."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:`text-sm font-medium ${l.textPrimary}`,children:"Color"}),u.jsx("div",{className:"grid grid-cols-7 gap-2",children:["#2563eb","#ec4899","#f59e0b","#10b981","#ef4444","#8b5cf6","#06b6d4"].map($=>u.jsx("button",{onClick:()=>W($),className:`w-8 h-8 rounded-md transition-all ${P===$?"ring-2 ring-blue-500 scale-110":"opacity-50 hover:opacity-100 hover:scale-105"}`,style:{backgroundColor:$}},$))})]})]}),u.jsxs("div",{className:"flex gap-3 pt-2",children:[u.jsx(Tt,{variant:"secondary",onClick:()=>ie("none"),className:"flex-1",children:"Cancel"}),u.jsx(Tt,{onClick:Rs,themeAccent:l.accent,className:"flex-1",children:"Create"})]})]})]})]})},Nf=({value:l,options:n,onChange:i,theme:r,label:c})=>{const[f,h]=M.useState(!1);return u.jsxs("div",{className:"relative",children:[c&&u.jsx("label",{className:`text-[10px] font-bold uppercase tracking-wider ${r.textSecondary} mb-1 block ml-1`,children:c}),u.jsxs("button",{onClick:()=>h(!f),className:`flex items-center justify-between gap-3 px-4 py-2.5 rounded-lg ${r.surface} border ${r.border} ${r.textPrimary} font-semibold text-sm min-w-[140px] hover:bg-gray-500/10 transition-colors`,children:[u.jsxs("span",{className:"truncate",children:["Class ",l]}),u.jsx(cl,{size:14,className:`transition-transform ${f?"rotate-90":""}`})]}),f&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-[80]",onClick:()=>h(!1)}),u.jsx("div",{className:`absolute top-full left-0 right-0 mt-1 p-1 rounded-lg ${r.surface} border ${r.border} shadow-sm z-[90] max-h-60 overflow-y-auto`,children:n.map(p=>u.jsxs("button",{onClick:()=>{i(p),h(!1)},className:`w-full text-left px-3 py-2 rounded-md text-sm font-medium ${l===p?`${r.accent} text-white`:`${r.textPrimary} hover:bg-gray-500/10`} transition-colors`,children:["Class ",p]},p))})]})]})},CE=({isOpen:l,title:n,message:i,onConfirm:r,onCancel:c,theme:f})=>l?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 p-6",children:u.jsxs("div",{className:`${f.surface} border ${f.border} w-full max-w-sm p-6 rounded-xl shadow-sm flex flex-col gap-4`,children:[u.jsxs("div",{className:"flex flex-col items-center text-center gap-2",children:[u.jsx("h3",{className:`text-lg font-bold ${f.textPrimary}`,children:n}),u.jsx("p",{className:`text-sm ${f.textSecondary}`,children:i})]}),u.jsxs("div",{className:"flex gap-2 mt-2",children:[u.jsx("button",{onClick:c,className:`flex-1 py-2.5 rounded-lg font-semibold border ${f.border} ${f.textPrimary} hover:bg-gray-500/10`,children:"Cancel"}),u.jsx("button",{onClick:r,className:"flex-1 py-2.5 rounded-lg font-semibold bg-red-600 text-white hover:bg-red-700",children:"Confirm"})]})]})}):null,Ay=({message:l,type:n,onClose:i})=>(M.useEffect(()=>{const r=setTimeout(()=>{i()},3e3);return()=>clearTimeout(r)},[]),u.jsxs("div",{className:`fixed top-6 left-1/2 -translate-x-1/2 z-[200] flex items-center gap-3 px-6 py-3 rounded-full shadow-sm  ${n==="success"?"bg-emerald-500 text-white":"bg-red-500 text-white"}`,children:[n==="success"?u.jsx(wc,{size:20}):u.jsx(Xf,{size:20}),u.jsx("span",{className:"font-bold text-sm",children:l})]})),wE=()=>u.jsxs("div",{className:"fixed inset-0 z-[150] flex flex-col items-center justify-center bg-white dark:bg-slate-950",children:[u.jsx(zy,{className:"w-10 h-10 text-indigo-600 animate-spin"}),u.jsx("div",{className:"mt-4 text-xs font-semibold text-slate-500 uppercase tracking-widest",children:"Loading..."})]}),EE=({onFinish:l,logo:n})=>{const[i,r]=M.useState(!1);return M.useEffect(()=>{const c=setTimeout(()=>r(!0),300),f=setTimeout(()=>l(),500);return()=>{clearTimeout(c),clearTimeout(f)}},[l]),u.jsx("div",{className:`fixed inset-0 z-[100] flex flex-col items-center justify-center bg-slate-950 text-white transition-opacity duration-300 ${i?"opacity-0":"opacity-100"}`,children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"w-24 h-24 rounded-2xl bg-indigo-600 flex items-center justify-center mb-4 shadow-lg",children:n&&n.length>10?u.jsx("img",{src:n,alt:"Logo",className:"w-full h-full object-cover rounded-2xl"}):u.jsx(Zi,{size:48,className:"text-white"})}),u.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white mb-1",children:"IJ EDUCATION"}),u.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-indigo-400 opacity-60",children:"Professional Hub"})]})})},jE=({theme:l,onClose:n})=>{const[i,r]=M.useState(0),c=[{title:"Welcome to ClassTrack",desc:"Your professional hub for student management. Let's get you started.",icon:Tr},{title:"Master Controls",desc:"Use the bottom dock (mobile) or sidebar (PC) to navigate between Home, Tasks, and Settings.",icon:Oy},{title:"Attendance & Records",desc:"Click any Class Card on the home screen to start marking attendance instantly.",icon:Fi},{title:"Smart History",desc:"View detailed statistics and past attendance records in the History tab.",icon:Pf},{title:"Strategy Desk",desc:"Manage your personal tasks and to-do lists in the To-Do section.",icon:Qf},{title:"Ready to Start?",desc:"Head to the Admin menu to create your first class and populate your database.",icon:$y}],f=c[i],h=f.icon;return u.jsxs("div",{className:"fixed inset-0 z-[500] flex items-center justify-center p-6 sm:p-10 pointer-events-none",children:[u.jsx("div",{className:"absolute inset-0 bg-black/60  pointer-events-auto",onClick:n}),u.jsxs("div",{className:`${l.surface} border-2 border-indigo-500/30 w-full max-w-lg p-10 rounded-md shadow-[0_50px_100px_-20px_rgba(0,0,0,0.7)] relative animate-scale-up pointer-events-auto overflow-hidden`,children:[u.jsx("div",{className:"absolute -top-20 -right-20 w-64 h-64 bg-indigo-500/10 rounded-full blur-[80px]"}),u.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[u.jsx("div",{className:`w-24 h-24 rounded-lg ${l.accent} flex items-center justify-center text-white mb-8 shadow-sm scale-110`,children:u.jsx(h,{size:48,strokeWidth:2.5})}),u.jsxs("div",{className:"mb-2 text-[10px] font-black uppercase tracking-[0.4em] opacity-40 text-indigo-400",children:["Step ",i+1," of ",c.length]}),u.jsx("h2",{className:`text-2xl md:text-4xl font-black ${l.textPrimary} mb-4 tracking-tighter leading-tight`,children:f.title}),u.jsx("p",{className:`text-sm md:text-lg ${l.textSecondary} mb-12 leading-relaxed opacity-70`,children:f.desc}),u.jsxs("div",{className:"flex gap-4 w-full",children:[i>0?u.jsx("button",{onClick:()=>r(i-1),className:`flex-1 py-5 rounded-2xl bg-gray-500/10 font-black uppercase tracking-widest text-[11px] ${l.textPrimary}`,children:"Back"}):u.jsx("button",{onClick:n,className:`flex-1 py-5 rounded-2xl bg-gray-500/10 font-black uppercase tracking-widest text-[11px] ${l.textPrimary}`,children:"Skip"}),u.jsx("button",{onClick:()=>{i<c.length-1?r(i+1):n()},className:`flex-[2] py-5 rounded-2xl ${l.accent} text-white font-black uppercase tracking-widest text-[11px] shadow-sm shadow-indigo-500/30`,children:i===c.length-1?"Start Now":"Continue"})]})]})]})]})};class TE extends Br.Component{constructor(n){super(n),this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,i){console.error("Uncaught error:",n,i)}render(){return this.state.hasError?u.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-slate-950 text-white p-6 text-center",children:[u.jsx(Xf,{size:64,className:"text-red-500 mb-6 animate-bounce"}),u.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Something went wrong."}),u.jsx("p",{className:"text-slate-400 mb-8 max-w-md",children:"The application encountered an unexpected error. Please restart the app."}),u.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 rounded-xl bg-indigo-600 font-bold hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-500/30",children:"Restart Application"})]}):this.props.children}}function AE(){return u.jsx(TE,{children:u.jsx(DE,{})})}function DE(){const[l,n]=M.useState(!0),[i,r]=M.useState(!1),[c,f]=M.useState(!0),[h,p]=M.useState(()=>{const C=localStorage.getItem("classtrack_animations_v1");return C===null?!0:C==="true"}),[y,g]=M.useState(()=>{const C=localStorage.getItem("classtrack_theme_v1");return["minimal_light","minimal_dark","minimal_blue","minimal_gray","minimal_green","minimal_purple"].includes(C)?C:"minimal_light"});M.useEffect(()=>{h?document.body.classList.remove("disable-animations"):document.body.classList.add("disable-animations"),localStorage.setItem("classtrack_animations_v1",String(h))},[h]);const[N,_]=M.useState(()=>Sf()),[v,R]=M.useState(()=>Sf()?"home":"login"),[G,K]=M.useState(U_),[de,F]=M.useState(!0),[fe,pe]=M.useState(!1),[ie,tt]=M.useState(null),[Ue,oe]=M.useState(()=>Kw()||"./icons/icon-512x512.png"),[Ae,ct]=M.useState([]),[he,Ze]=M.useState(""),[qe,en]=M.useState(""),[St]=M.useState(()=>new Date().toLocaleDateString("en-CA")),[se,z]=M.useState(new Date),[V,Z]=M.useState([]),[Ee,be]=M.useState([]),[w,U]=M.useState({}),[P,W]=M.useState(null),[ae,ye]=M.useState([]),[ge,rt]=M.useState([]),[Ke,Yn]=M.useState("history"),[Rs,Gn]=M.useState(!1),[ns,Pt]=M.useState(""),[Ye,$]=M.useState(navigator.onLine),[mt,Ie]=M.useState(!1),[Dn,Nt]=M.useState(320),[xn,ti]=M.useState(!1),[ga,Qt]=M.useState([{id:"monitor",name:"Class Monitor",icon:"ShieldCheck",color:"#6366f1"},{id:"punctual",name:"Punctual",icon:"Clock",color:"#10b981"},{id:"helper",name:"Top Helper",icon:"Star",color:"#f59e0b"}]),[su,Wr]=M.useState(window.innerWidth);M.useEffect(()=>{const C=()=>Wr(window.innerWidth);return window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]);const Jr=M.useCallback(()=>ti(!0),[]),ss=M.useCallback(()=>{ti(!1),Nt(C=>C<180?80:C>340?400:280)},[]),ni=M.useCallback(C=>{if(xn){const q=C.clientX;q<180?Nt(80):q>340?Nt(400):Nt(280)}},[xn]);M.useEffect(()=>(xn?(window.addEventListener("mousemove",ni),window.addEventListener("mouseup",ss)):(window.removeEventListener("mousemove",ni),window.removeEventListener("mouseup",ss)),()=>{window.removeEventListener("mousemove",ni),window.removeEventListener("mouseup",ss)}),[xn,ni,ss]);const[xl,ya]=M.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),[Os,ls]=M.useState(null),[it,Xt]=M.useState(null),[Ft,lu]=M.useState(""),[zh,eo]=M.useState(!1),[zs,si]=M.useState(()=>localStorage.getItem("classtrack_tutorial_seen_v1")===null),li=()=>{localStorage.setItem("classtrack_tutorial_seen_v1","true"),si(!1)};M.useEffect(()=>{if(!l&&!c&&v==="home"&&Ae.length===0&&!zs){const C=setTimeout(()=>eo(!0),1500);return()=>clearTimeout(C)}else eo(!1)},[l,c,v,Ae.length,zs]);const[is,Ls]=M.useState("dashboard"),[Ct,xa]=M.useState("10"),[on,ii]=M.useState(new Date),[as,Lh]=M.useState(null),ai=M.useRef(null),[rs,to]=M.useState(()=>new Date().toISOString().slice(0,7)),[$s,ri]=M.useState({}),[no,va]=M.useState(!1),[Mn,wt]=M.useState({}),[nt,Vn]=M.useState("10"),[os,vl]=M.useState([]),[$h,ba]=M.useState(""),[oi,ci]=M.useState(0),[bl,_l]=M.useState(!1),Sl=async(C,q)=>{const O=it||V.find(te=>te.id===C);if(!O)return;const B=O.badges||[];if(B.includes(q))return ke("Student already has this badge","info");const Y=[...B,q];try{await bc(C,{badges:Y}),Xt(te=>te?{...te,badges:Y}:null),Z(te=>te.map(X=>X.id===C?{...X,badges:Y}:X)),ke("Badge Awarded!","success")}catch{ke("Failed to award badge","error")}},Us=async(C,q)=>{const O=it||V.find(Y=>Y.id===C);if(!O)return;const B=(O.badges||[]).filter(Y=>Y!==q);try{await bc(C,{badges:B}),Xt(Y=>Y?{...Y,badges:B}:null),Z(Y=>Y.map(te=>te.id===C?{...te,badges:B}:te)),ke("Badge Removed","success")}catch{ke("Failed to remove badge","error")}},[ot,_a]=M.useState(""),[ui,Pn]=M.useState(""),[Qn,so]=M.useState(""),[di,Sa]=M.useState("teacher"),[lo,Nl]=M.useState(!1),[Cl,kn]=M.useState([]),Bt=M.useMemo(()=>{const C={};if(ie&&V.length>0){const q=ge.filter(O=>O.classId===ie);V.forEach(O=>{const B=q.filter(Y=>Y.records&&Y.records[O.id]!==void 0);if(B.length===0)C[O.id]=100;else{const Y=B.filter(te=>{const X=te.records[O.id];return X==="present"||X===!0}).length;C[O.id]=Math.round(Y/B.length*100)}})}if(os.length>0){const q=ge.filter(O=>O.classId===nt);os.forEach(O=>{if(!C[O.id]){const B=q.filter(Y=>Y.records&&Y.records[O.id]!==void 0);if(B.length===0)C[O.id]=100;else{const Y=B.filter(te=>{const X=te.records[O.id];return X==="present"||X===!0}).length;C[O.id]=Math.round(Y/B.length*100)}}})}return C},[ie,ge,V,os,nt]),io=M.useMemo(()=>{const C=on.getMonth(),q=on.getFullYear(),O=ge.filter(Dt=>{const Yt=new Date(Dt.date);return Dt.classId===Ct&&Yt.getMonth()===C&&Yt.getFullYear()===q}),B=as?O.filter(Dt=>new Date(Dt.date).getDate()===as):O;let Y=0,te=0,X=0;B.forEach(Dt=>{Dt.records&&Object.values(Dt.records).forEach(Yt=>{Yt==="present"||Yt===!0?Y++:Yt==="leave"?X++:te++})});const Ge=Y+te+X,ne=Ge>0?Y/Ge*100:0,pt=Ge>0?`conic-gradient(#10b981 0% ${ne}%, #f97316 ${ne}% ${ne+X/Ge*100}%, #ef4444 ${ne+X/Ge*100}% 100%)`:"conic-gradient(#334155 0% 100%)";return{totalPresent:Y,totalAbsent:te,totalLeave:X,totalMarks:Ge,presentPercentage:ne,gradientStyle:pt}},[Ct,on,as,ge]),[ao,cn]=M.useState("0"),[fi,vn]=M.useState(""),[hi,Ot]=M.useState(null),[Is,Na]=M.useState(""),[wl,cs]=M.useState(""),b=Nc[y]||Nc.minimal_light,ro=["group-chat"].includes(v);M.useEffect(()=>{["midnight","forest","crimson","neon"].includes(y)?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[y]);const Rn=(C,q,O)=>{ya({isOpen:!0,title:C,message:q,onConfirm:()=>{O(),ya(B=>({...B,isOpen:!1}))}})},ke=(C,q)=>{ls({message:C,type:q})},El=M.useCallback(async()=>{const C=Cy();ci(C),navigator.onLine&&C>0&&(await aE(q=>{ba(q),setTimeout(()=>ba(""),3e3)}),ci(Cy()),v==="dashboard"&&ie&&Vt(ie).then(Z),v==="admin-dashboard"&&Vt(Ct).then(be),_r().then(rt))},[v,ie,Ct]),jl=M.useCallback(async()=>{try{const C=await Qw();kn(C)}catch{}},[]);M.useEffect(()=>{v==="admin-users"&&jl()},[v,jl]),M.useEffect(()=>{(async()=>{const Y=new Promise(ne=>setTimeout(ne,1200)),te=uE();["minimal_light","minimal_dark","minimal_blue","minimal_gray","minimal_green","minimal_purple"].includes(te)&&Nc[te]?g(te):g("minimal_light");const Ge=Sf();Ge&&_(Ge);try{const[ne,pt,Dt]=await Promise.all([Oh(),Zw(),_r()]);ct(ne),ne.length>0&&(xa(ne[0]),Vn(ne[0]),Vt(ne[0]).then(Yt=>{be(Yt),vl(Yt),Z(Yt)})),pt&&(pt.logo&&oe(pt.logo),pt.classFees&&wt(pt.classFees)),rt(Dt.sort((Yt,zn)=>zn.timestamp-Yt.timestamp))}catch(ne){console.error("Initialization error:",ne)}await Y,r(!0),n(!1)})();const q=()=>{$(navigator.onLine)};window.addEventListener("online",q),window.addEventListener("offline",q);const O=setInterval(()=>z(new Date),1e3);let B;return"serviceWorker"in navigator&&(B=Y=>{Y.data&&Y.data.type==="TRIGGER_SYNC"&&(console.log(" Sync triggered by Service Worker"),El())},navigator.serviceWorker.addEventListener("message",B)),()=>{clearInterval(O),window.removeEventListener("online",q),window.removeEventListener("offline",q),B&&navigator.serviceWorker.removeEventListener("message",B)}},[]),M.useEffect(()=>{let C;return Ye&&(El(),C=setInterval(El,3e4)),()=>{C&&clearInterval(C)}},[Ye,El]);const Ca=M.useCallback(()=>{f(!1),R(N?"home":"login")},[N]),iu=C=>{_(C),Gf(C),R("home")},oo=()=>{Fw(),_(null),R("login")},mi=C=>{g(C),cE(C)};M.useEffect(()=>{(v==="admin-dashboard"||v==="admin-menu")&&Vt(Ct).then(be)},[v,Ct]),M.useEffect(()=>{v==="admin-fees"&&(va(!0),sE(rs).then(C=>{ri(C),va(!1)}))},[v,rs]),M.useEffect(()=>{(v==="admin-fees"||v==="student-directory")&&Vt(nt).then(vl)},[v,nt]),M.useEffect(()=>{v==="dashboard"&&ie&&Vt(ie).then(Z)},[v,ie]);const un=async C=>{Ie(!0);try{tt(C);const q=await rE(St,C),O=await Vt(C);if(Z(O),q)U(q.records);else{const B={};O.forEach(Y=>B[Y.id]="present"),U(B)}R("dashboard")}catch(q){console.error("Error loading class",q)}finally{Ie(!1)}},wa=async()=>{Ie(!0);try{const C=await _r();rt(C.sort((q,O)=>O.timestamp-q.timestamp)),R("history")}finally{Ie(!1)}},Ea=C=>{navigator.vibrate&&navigator.vibrate(10),U(q=>{const O=q[C];let B;return O==="present"||O===!0?B="absent":O==="absent"||O===!1?B="leave":B="present",{...q,[C]:B}})},us=C=>{const q={};V.forEach(O=>q[O.id]=C?"present":"absent"),U(q),navigator.vibrate&&navigator.vibrate(20)},Hs=async()=>{if(ie){Ie(!0);try{const C={id:`${St}-${ie}`,date:St,classId:ie,timestamp:Date.now(),records:w};await yv(C);const q=V.map(B=>{if(B.classId===ie&&w[B.id]==="present"){const Y=B.xp||0,te=B.coins||0,X=Y+15,Ge=te+10,ne=Math.floor(X/1e3)+1;return{...B,xp:X,coins:Ge,level:ne}}return B});Z(q),await Promise.all(q.filter(B=>B.classId===ie&&w[B.id]==="present").map(B=>bc(B.id,B)));const O=await _r();rt(O.sort((B,Y)=>Y.timestamp-B.timestamp)),navigator.vibrate&&navigator.vibrate([30,50,30]),Ye||ke("Saved Offline! Syncing when Online.","success"),R("dashboard")}catch{ke("Failed to save. Action queued.","error"),R("dashboard")}finally{Ie(!1)}}},co=async()=>{var O,B;let C=ie;if(v==="admin-dashboard"&&(C=Ct),(v==="student-directory"||v==="admin-fees")&&(C=nt),!ns.trim()||!C)return;const q=ns.split(`
`).filter(Y=>Y.trim().length>0);Ie(!0);try{for(const te of q){const X=te.split(","),Ge=(O=X[0])==null?void 0:O.trim(),ne=(B=X[1])==null?void 0:B.trim();Ge&&await eE(Ge,C,ne)}Pt(""),Gn(!1),ke(Ye?"Sync Successful!":"Added Locally! Syncing soon...","success"),(()=>{v==="student-directory"||v==="admin-fees"?Vt(nt).then(vl):v==="admin-dashboard"?Vt(Ct).then(be):ie&&Vt(ie).then(Z)})()}catch{ke("Action queued for sync.","error")}finally{Ie(!1)}},ja=async(C,q)=>{C.stopPropagation(),Rn("Delete Student?","Are you sure you want to permanently delete this student? This action cannot be undone.",async()=>{await tE(q),navigator.vibrate&&navigator.vibrate(50),ke(Ye?"Student deleted":"Pending Deletion","success"),v==="admin-dashboard"&&Vt(Ct).then(be)})},uo=async(C,q)=>{C.stopPropagation(),Rn("Delete Record?",`Delete attendance record for ${q.date} (Class ${q.classId})?`,async()=>{await nE(q.date,q.classId);const O=await _r();rt(O.sort((B,Y)=>Y.timestamp-B.timestamp)),ke(Ye?"Record deleted":"Queued for deletion","success")})},Tl=async(C,q="history")=>{Ie(!0);try{const O=await Vt(C.classId);ye(O),W(C),Yn(q),R("history-detail")}finally{Ie(!1)}};M.useEffect(()=>{if(v==="history-detail"&&P){const C=iE(P.date,P.classId,q=>{q&&W(q)});return()=>C()}},[v,P==null?void 0:P.id]);const On=async C=>{var B;const q=(B=C.target.files)==null?void 0:B[0];if(!q)return;const O=new FileReader;O.onloadend=async()=>{if(typeof O.result=="string"){const Y=O.result;oe(Y),await Ey({logo:Y}),ke("School Logo Updated Everywhere!","success")}},O.readAsDataURL(q)},Ta=async C=>{const q=$s[C.id],O=(q==null?void 0:q.isPaid)||!1,B=Mn[C.classId]||2e3,Y=(q==null?void 0:q.amount)||C.customFee||B,te={id:`${rs}_${C.id}`,studentId:C.id,month:rs,amount:Y,isPaid:!O,paidAt:O?null:Date.now()};ri(X=>({...X,[C.id]:te}));try{O?(await lE(rs,C.id),ke("Payment Removed","success")):(await xv(te),navigator.vibrate&&navigator.vibrate(20),ke("Fee Marked as Paid","success"))}catch{ke("Sync Error: Payment queued","error")}},Al=async(C,q)=>{try{await oE(C,q),vl(O=>O.map(B=>B.id===C?{...B,customFee:q}:B)),ke("Custom fee updated","success")}catch{ke("Failed to update custom fee","error")}},Xn=async()=>{if(he.trim()){Ie(!0);try{const C=await Ww(he.trim());ct(C),Ze(""),ke(`Class ${he} added!`,"success")}catch(C){ke(C.message||"Failed to add class","error")}finally{Ie(!1)}}},Aa=async C=>{Rn("Delete Class?",`Are you sure you want to delete Class ${C}? This will NOT delete student data but will hide the class.`,async()=>{Ie(!0);try{const q=await Jw(C);ct(q),Ct===C&&q.length>0&&xa(q[0]),ke(`Class ${C} removed`,"success")}catch{ke("Failed to remove class","error")}finally{Ie(!1)}})},pi=C=>{Ot(C),Na(C.name),cs(C.phone||""),lu(C.classId)},fo=async()=>{if(!(!hi||!Is.trim())){Ie(!0);try{await bc(hi.id,{name:Is.trim(),phone:wl.trim(),classId:Ft}),ke("Student Updated!","success"),it&&it.id===hi.id&&Xt({...it,name:Is.trim(),phone:wl.trim()}),Ot(null),v==="student-directory"||v==="admin-fees"?Vt(nt).then(vl):v==="admin-dashboard"?Vt(Ct).then(be):ie&&Vt(ie).then(Z),v==="student-profile"&&it&&Vt(it.classId).then(Z)}catch{ke("Update failed","error")}finally{Ie(!1)}}},Zt=C=>{if(C==="C"){cn("0"),vn("");return}if(C==="="){try{const O=Function('"use strict";return ('+fi+")")();cn(String(O)),vn(String(O))}catch{cn("Error"),vn("")}return}const q=["+","-","*","/"].includes(C);if(ao==="0"&&!q)cn(C),vn(C);else{if(q)cn(C);else{const O=fi.slice(-1);["+","-","*","/"].includes(O)?cn(C):cn(B=>B+C)}vn(O=>O+C)}},gi=()=>u.jsx("div",{className:"flex flex-col h-full  px-3 md:px-6 pt-4 md:pt-12 pb-32 w-full max-w-7xl mx-auto items-center justify-center",children:u.jsxs("div",{className:"w-full",children:[u.jsxs("div",{className:"text-center mb-6 md:mb-12",children:[u.jsx("h1",{className:`text-xl md:text-4xl font-black ${b.textPrimary} mb-1 md:mb-2`,children:"Admin Center"}),u.jsx("p",{className:`text-[10px] md:text-sm ${b.textSecondary}`,children:"Secure management & oversight panel"})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-4 gap-4 md:gap-6 w-full max-h-[70vh] overflow-y-auto pr-2 scrollbar-hide py-4",children:[u.jsxs("button",{onClick:()=>R("admin-dashboard"),className:`p-6 md:p-8 rounded-2xl ${b.surface} border ${b.border} shadow-sm hover:scale-[1.02] active:scale-95 transition-all group text-left relative overflow-hidden flex flex-col items-start min-h-[220px]`,children:[u.jsx("div",{className:"p-4 rounded-2xl bg-blue-500/10 text-blue-500 mb-6 group-hover:bg-blue-500 group-hover:text-white transition-colors",children:u.jsx(Fi,{size:24})}),u.jsx("h3",{className:`text-xl font-black ${b.textPrimary} mb-2`,children:"Registry"}),u.jsx("p",{className:`text-xs ${b.textSecondary} leading-relaxed opacity-60`,children:"Manage students, classes, and analytics."}),u.jsxs("div",{className:"mt-auto flex items-center gap-2 text-blue-500 font-bold text-[10px] uppercase tracking-widest",children:["Open ",u.jsx(cl,{size:14})]})]}),u.jsxs("button",{onClick:()=>R("admin-fees"),className:`p-6 md:p-8 rounded-2xl ${b.surface} border ${b.border} shadow-sm hover:scale-[1.02] active:scale-95 transition-all group text-left relative overflow-hidden flex flex-col items-start min-h-[220px]`,children:[u.jsx("div",{className:"p-4 rounded-2xl bg-emerald-500/10 text-emerald-500 mb-6 group-hover:bg-emerald-500 group-hover:text-white transition-colors",children:u.jsx(Q1,{size:24})}),u.jsx("h3",{className:`text-xl font-black ${b.textPrimary} mb-2`,children:"Fees Desk"}),u.jsx("p",{className:`text-xs ${b.textSecondary} leading-relaxed opacity-60`,children:"Track payments and reports."}),u.jsxs("div",{className:"mt-auto flex items-center gap-2 text-emerald-500 font-bold text-[10px] uppercase tracking-widest",children:["Check ",u.jsx(cl,{size:14})]})]}),u.jsxs("button",{onClick:()=>R("student-directory"),className:`p-6 md:p-8 rounded-2xl ${b.surface} border ${b.border} shadow-sm hover:scale-[1.02] active:scale-95 transition-all group text-left relative overflow-hidden flex flex-col items-start min-h-[220px]`,children:[u.jsx("div",{className:"p-4 rounded-2xl bg-purple-500/10 text-purple-500 mb-6 group-hover:bg-purple-500 group-hover:text-white transition-colors",children:u.jsx(V1,{size:24})}),u.jsx("h3",{className:`text-xl font-black ${b.textPrimary} mb-2`,children:"Contacts"}),u.jsx("p",{className:`text-xs ${b.textSecondary} leading-relaxed opacity-60`,children:"Directory & Verification."}),u.jsxs("div",{className:"mt-auto flex items-center gap-2 text-purple-500 font-bold text-[10px] uppercase tracking-widest",children:["View ",u.jsx(cl,{size:14})]})]}),u.jsxs("button",{onClick:()=>R("admin-users"),className:`p-6 md:p-8 rounded-2xl ${b.surface} border ${b.border} shadow-sm hover:scale-[1.02] active:scale-95 transition-all group text-left relative overflow-hidden flex flex-col items-start min-h-[220px]`,children:[u.jsx("div",{className:"p-4 rounded-2xl bg-orange-500/10 text-orange-500 mb-6 group-hover:bg-orange-500 group-hover:text-white transition-colors",children:u.jsx(Sc,{size:24})}),u.jsx("h3",{className:`text-xl font-black ${b.textPrimary} mb-2`,children:"Access"}),u.jsx("p",{className:`text-xs ${b.textSecondary} leading-relaxed opacity-60`,children:"Manage Admin/Teacher accounts."}),u.jsxs("div",{className:"mt-auto flex items-center gap-2 text-orange-500 font-bold text-[10px] uppercase tracking-widest",children:["Manage ",u.jsx(cl,{size:14})]})]})]}),u.jsx("div",{className:"mt-6 md:mt-12 text-center",children:u.jsx("button",{onClick:()=>R("home"),className:`px-5 md:px-8 py-3 md:py-4 rounded-xl md:rounded-2xl bg-gray-500/10 hover:bg-gray-500/20 ${b.textSecondary} font-black text-[9px] uppercase tracking-[0.2em] transition-all`,children:"Return to Workspace"})})]})}),ho=()=>{const C=async()=>{if(!ot||!ui||!Qn)return ke("All fields required","error");Nl(!0);try{await Pw(Qn,ot,ui,di),ke(`User ${ot} Created!`,"success"),_a(""),Pn(""),so(""),jl()}catch{ke("Failed to create user","error")}finally{Nl(!1)}},q=O=>{Rn("Delete User?","This user will lose access immediately.",async()=>{try{await Xw(O),ke("User Deleted","success"),jl()}catch(B){ke(B.message||"Failed","error")}})};return u.jsx("div",{className:"flex flex-col h-full  px-4 md:px-6 pt-6 md:pt-12 pb-32 overflow-y-auto w-full scrollbar-hide",children:u.jsxs("div",{className:"max-w-4xl mx-auto w-full space-y-8",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h1",{className:`text-3xl md:text-5xl font-black ${b.textPrimary} mb-2 tracking-tighter`,children:"Access Control"}),u.jsx("p",{className:`text-[10px] md:text-xs font-bold uppercase tracking-widest ${b.textSecondary} opacity-40`,children:"Admin Tools & Users"})]}),u.jsx("button",{onClick:()=>R("admin-menu"),className:`p-2 rounded-full hover:bg-gray-500/20 ${b.textPrimary}`,children:u.jsx(Jn,{size:28})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8",children:[u.jsxs("div",{className:`p-6 md:p-8 rounded-2xl ${b.surface} border ${b.border} shadow-sm flex flex-col gap-6`,children:[u.jsx("h3",{className:`text-lg font-bold ${b.textPrimary} flex items-center gap-2`,children:"Authorize New Account"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:`text-[10px] font-black uppercase tracking-widest ${b.textSecondary} mb-2 block opacity-50`,children:"Display Name"}),u.jsx("input",{value:Qn,onChange:O=>so(O.target.value),className:`w-full p-4 rounded-xl bg-black/10 border ${b.border} ${b.textPrimary} font-bold outline-none focus:ring-2 focus:ring-indigo-500/30 transition-all`,placeholder:"e.g. Sir Daniyal"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:`text-[10px] font-black uppercase tracking-widest ${b.textSecondary} mb-2 block opacity-50`,children:"Username"}),u.jsx("input",{value:ot,onChange:O=>_a(O.target.value),className:`w-full p-4 rounded-xl bg-black/10 border ${b.border} ${b.textPrimary} font-bold outline-none focus:ring-2 focus:ring-indigo-500/30 transition-all`,placeholder:"Login ID"})]}),u.jsxs("div",{children:[u.jsx("label",{className:`text-[10px] font-black uppercase tracking-widest ${b.textSecondary} mb-2 block opacity-50`,children:"Password"}),u.jsx("input",{value:ui,onChange:O=>Pn(O.target.value),type:"text",className:`w-full p-4 rounded-xl bg-black/10 border ${b.border} ${b.textPrimary} font-bold outline-none focus:ring-2 focus:ring-indigo-500/30 transition-all`,placeholder:"Pass"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:`text-[10px] font-black uppercase tracking-widest ${b.textSecondary} mb-2 block opacity-50`,children:"Permission Role"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>Sa("teacher"),className:`flex-1 p-4 rounded-xl border font-black transition-all ${di==="teacher"?"bg-indigo-600 text-white border-indigo-600":`bg-black/10 border-slate-700 ${b.textSecondary}`}`,children:"Teacher"}),u.jsx("button",{onClick:()=>Sa("admin"),className:`flex-1 p-4 rounded-xl border font-black transition-all ${di==="admin"?"bg-indigo-600 text-white border-indigo-600":`bg-black/10 border-slate-700 ${b.textSecondary}`}`,children:"Admin"})]})]}),u.jsx(Tt,{onClick:C,fullWidth:!0,themeAccent:b.accent,disabled:lo,children:lo?"Creating...":"Create Account"})]})]}),u.jsxs("div",{className:`p-6 md:p-8 rounded-2xl ${b.surface} border ${b.border} shadow-sm flex flex-col`,children:[u.jsx("h3",{className:`text-lg font-bold ${b.textPrimary} mb-6 flex items-center gap-2`,children:"Active Accounts"}),u.jsxs("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2 scrollbar-hide",children:[Cl.length===0&&u.jsx("div",{className:"p-3 rounded-lg bg-gray-500/5 border border-dashed border-gray-500/20 text-center",children:u.jsx("p",{className:"text-[10px] font-medium opacity-40 italic uppercase tracking-widest",children:"No users found"})}),Cl.map(O=>u.jsxs("div",{className:"p-4 rounded-2xl bg-gray-500/10 border border-gray-500/10 flex items-center justify-between group hover:border-white/10 transition-all",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center font-black text-[10px] ${O.role==="admin"?"bg-indigo-500/20 text-indigo-400":"bg-orange-500/20 text-orange-400"}`,children:O.role[0].toUpperCase()}),u.jsxs("div",{children:[u.jsx("h4",{className:`font-black text-xs md:text-sm ${b.textPrimary}`,children:O.name}),u.jsx("p",{className:"text-[8px] md:text-[9px] font-black opacity-30 uppercase tracking-widest",children:O.id})]})]}),!["admin_ayan","admin_wahab"].includes(O.id)&&u.jsx("button",{onClick:()=>q(O.id),className:"p-2 rounded-lg text-red-500 hover:bg-red-500/10 transition-all",children:u.jsx(Ki,{size:16})})]},O.id))]})]})]})]})})},qt=()=>{let C=0,q=0,O=0;const B=os.filter(Y=>Y.classId===nt);return no?u.jsx("div",{className:"flex flex-col h-full px-4 md:px-6 pt-6 md:pt-12 pb-32 animate-pulse w-full",children:u.jsxs("div",{className:"max-w-4xl mx-auto w-full space-y-4",children:[u.jsx("div",{className:"h-10 w-48 bg-gray-500/10 rounded-lg"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx("div",{className:"h-24 bg-gray-500/10 rounded-2xl"}),u.jsx("div",{className:"h-24 bg-gray-500/10 rounded-2xl"})]}),u.jsx("div",{className:"h-64 bg-gray-500/10 rounded-3xl"})]})}):(B.forEach(Y=>{const te=$s[Y.id];te!=null&&te.isPaid?(C+=te.amount,q++):O++}),u.jsx("div",{className:"flex flex-col h-full px-4 md:px-6 pt-6 md:pt-12 pb-32 overflow-y-auto w-full scrollbar-hide",children:u.jsxs("div",{className:"max-w-4xl mx-auto w-full",children:[u.jsxs("div",{className:"mb-8 flex flex-col gap-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h1",{className:`text-3xl md:text-5xl font-black ${b.textPrimary} tracking-tighter`,children:"Finance Hub"}),u.jsx("p",{className:`text-[10px] md:text-sm font-bold uppercase tracking-widest ${b.textSecondary} opacity-40`,children:"Revenue & Fee Monitoring"})]}),u.jsx("button",{onClick:()=>R("admin-menu"),className:`p-3 rounded-full hover:bg-gray-500/10 ${b.textPrimary}`,children:u.jsx(Jn,{size:24})})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("label",{className:`text-[10px] font-black uppercase tracking-widest ${b.textSecondary} opacity-40 ml-1`,children:"Billing Month"}),u.jsx("input",{type:"month",value:rs,onChange:Y=>to(Y.target.value),className:`w-full p-4 rounded-xl ${b.surface} border ${b.border} ${b.textPrimary} font-bold outline-none focus:ring-2 ring-indigo-500/30 transition-all`})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("label",{className:`text-[10px] font-black uppercase tracking-widest ${b.textSecondary} opacity-40 ml-1`,children:"Target Class"}),u.jsx(Nf,{value:nt,options:Ae,onChange:Vn,theme:b})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[u.jsxs("div",{className:"p-6 rounded-3xl bg-indigo-600 text-white shadow-xl shadow-indigo-500/20 col-span-1 md:col-span-1",children:[u.jsx("p",{className:"text-white/60 text-[10px] font-black uppercase tracking-widest mb-1",children:"Net Revenue"}),u.jsxs("h3",{className:"text-3xl font-black tracking-tight",children:["Rs. ",C.toLocaleString()]})]}),u.jsxs("div",{className:`p-6 rounded-3xl ${b.surface} border ${b.border} flex flex-col justify-between`,children:[u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-40 mb-1",children:"Paid Accounts"}),u.jsxs("div",{className:"flex items-end justify-between",children:[u.jsx("h3",{className:`text-3xl font-black ${b.textPrimary}`,children:q}),u.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/10 text-emerald-500",children:u.jsx(wc,{size:18})})]})]}),u.jsxs("div",{className:`p-6 rounded-3xl ${b.surface} border ${b.border} flex flex-col justify-between`,children:[u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-40 mb-1",children:"Pending Dues"}),u.jsxs("div",{className:"flex items-end justify-between",children:[u.jsx("h3",{className:`text-3xl font-black ${b.textPrimary}`,children:O}),u.jsx("div",{className:"p-2 rounded-lg bg-red-500/10 text-red-500",children:u.jsx(Xf,{size:18})})]})]})]}),u.jsx("div",{className:"space-y-3",children:B.length===0?u.jsx("div",{className:"text-center py-20 opacity-30 italic text-sm",children:"No student records in this segment."}):B.map(Y=>{const te=$s[Y.id],X=(te==null?void 0:te.isPaid)||!1,Ge=Y.customFee||Mn[Y.classId]||2e3;return u.jsx("div",{className:`p-4 rounded-2xl border transition-all ${X?`${b.surface} ${b.border} opacity-40`:`${b.surface} border-indigo-500/20 shadow-md`}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Gc,{name:Y.name,avatar:Y.avatarSeed,size:"sm"}),u.jsxs("div",{children:[u.jsx("h4",{className:`font-black text-sm ${b.textPrimary}`,children:Y.name}),u.jsxs("p",{className:`text-[9px] font-bold ${b.textSecondary} opacity-40 uppercase tracking-widest`,children:["ID: ",Y.id.slice(-6),"  Rs. ",Ge]})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"hidden sm:flex flex-col items-end",children:u.jsx("input",{type:"number",defaultValue:Ge,onBlur:ne=>Al(Y.id,Number(ne.target.value)),className:`w-20 bg-transparent text-right font-black text-xs ${b.textPrimary} border-b border-dashed border-gray-500/30 outline-none focus:border-indigo-500`})}),u.jsx("button",{onClick:()=>Ta(Y),className:`px-6 py-2.5 rounded-xl font-black text-[10px] uppercase tracking-widest transition-all ${X?"bg-emerald-500/10 text-emerald-500":"bg-indigo-600 text-white shadow-lg shadow-indigo-500/20"}`,children:X?"PAID":"COLLECT"})]})]})},Y.id)})})]})}))},ds=()=>{const{totalPresent:C,totalAbsent:q,totalLeave:O,totalMarks:B,presentPercentage:Y,gradientStyle:te}=io;return u.jsx("div",{className:"flex flex-col h-full  px-4 md:px-6 pt-6 md:pt-12 pb-32 overflow-y-auto w-full",children:u.jsxs("div",{className:"max-w-7xl mx-auto w-full",children:[u.jsxs("div",{className:"mb-6 flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h1",{className:`text-2xl md:text-4xl font-black ${b.textPrimary}`,children:"Admin Console"}),u.jsx("p",{className:`text-xs md:text-sm ${b.textSecondary}`,children:"Analytics Hub"})]}),u.jsx("button",{onClick:()=>R("admin-menu"),className:`p-2 rounded-full hover:bg-gray-500/20 ${b.textPrimary}`,children:u.jsx(Jn,{size:24})})]}),u.jsxs("div",{className:`p-5 md:p-8 rounded-2xl md:rounded-2xl ${b.surface} border ${b.border} mb-6 shadow-sm`,children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6 border-b border-gray-500/10 pb-4",children:[" ",u.jsx("div",{className:"p-2 bg-orange-500/10 rounded-xl",children:u.jsx(Iy,{className:"text-orange-500",size:20})})," ",u.jsx("h3",{className:`font-black text-lg md:text-xl ${b.textPrimary}`,children:"Settings"})," "]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 md:gap-6 p-4 rounded-2xl bg-gray-500/10 border border-gray-500/10",children:[u.jsxs("div",{className:`w-24 h-24 rounded-full border-4 border-dashed ${b.border} flex items-center justify-center cursor-pointer hover:bg-white/5 overflow-hidden relative group transition-all`,onClick:()=>{var X;return(X=ai.current)==null?void 0:X.click()},children:[" ",Ue?u.jsx("img",{src:Ue,className:"w-full h-full object-cover"}):u.jsxs("div",{className:"text-center",children:[u.jsx(A_,{size:24,className:"mx-auto mb-1 opacity-50"}),u.jsx("span",{className:"text-[8px] opacity-50 uppercase tracking-widest font-black",children:"Logo"})]})," "]}),u.jsx("input",{type:"file","min-width":"0",ref:ai,className:"hidden",accept:"image/*",onChange:On}),u.jsxs("div",{className:"text-center sm:text-left",children:[" ",u.jsx("h4",{className:`text-base md:text-lg font-black ${b.textPrimary}`,children:"Identity"})," ",u.jsx("p",{className:`text-[10px] ${b.textSecondary} mb-2`,children:"512x512 recommended"})," ",u.jsx("button",{onClick:()=>{var X;return(X=ai.current)==null?void 0:X.click()},className:"px-4 py-2 bg-indigo-500 text-white rounded-xl text-[10px] font-black uppercase transition-all shadow-lg",children:"Change"})," "]})]}),u.jsxs("div",{className:`p-5 md:p-6 rounded-2xl bg-gray-500/10 border ${b.border}`,children:[u.jsx("h4",{className:`text-[10px] font-black ${b.textPrimary} mb-4 uppercase tracking-[0.2em] opacity-40`,children:"Management"}),u.jsxs("div",{className:"flex gap-2 mb-4",children:[u.jsx("input",{type:"text",value:he,onChange:X=>Ze(X.target.value),placeholder:"Add Class...",className:`flex-1 px-4 py-2 rounded-xl bg-white/5 border ${b.border} ${b.textPrimary} text-xs outline-none focus:ring-2 focus:ring-indigo-500/50`}),u.jsx("button",{onClick:Xn,disabled:!he.trim(),className:`px-4 py-2 rounded-xl ${b.accent} text-white font-black text-xs uppercase tracking-widest disabled:opacity-50`,children:"Add"})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:Ae.map(X=>u.jsxs("div",{className:`px-3 py-1 rounded-lg border ${b.border} ${b.surface} flex items-center gap-2`,children:[" ",u.jsx("span",{className:`text-[10px] font-black ${b.textPrimary}`,children:X})," ",u.jsx("button",{onClick:()=>Aa(X),className:"text-red-400 hover:text-red-500",children:u.jsx(Jn,{size:10})})," "]},X))})]})]})]}),u.jsxs("div",{className:`p-4 md:p-6 rounded-2xl md:rounded-2xl ${b.surface} border ${b.border} mb-6`,children:[u.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[u.jsxs("div",{className:"flex items-center justify-between h4 font-black",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[" ",u.jsx(cf,{className:"text-emerald-500",size:18})," ",u.jsx("h3",{className:`font-black text-sm md:text-base ${b.textPrimary}`,children:"Performance"})," "]}),u.jsx(Nf,{value:Ct,options:Ae,onChange:xa,theme:b,label:"Registry Class"})]}),u.jsxs("div",{className:"flex items-center justify-between bg-gray-500/10 p-2 rounded-xl border border-gray-500/10",children:[u.jsx("button",{onClick:()=>ii(new Date(on.getFullYear(),on.getMonth()-1,1)),className:`p-2 rounded-lg hover:bg-gray-500/20 ${b.textPrimary}`,children:u.jsx(js,{size:14})}),u.jsxs("span",{className:`text-[10px] md:text-xs font-black uppercase tracking-widest ${b.textPrimary}`,children:[" ",on.toLocaleDateString("en-US",{month:"short",year:"numeric"})," "]}),u.jsx("button",{onClick:()=>ii(new Date(on.getFullYear(),on.getMonth()+1,1)),disabled:new Date(on.getFullYear(),on.getMonth()+1,1)>new Date,className:`p-2 rounded-lg hover:bg-gray-500/20 ${b.textPrimary} disabled:opacity-20`,children:u.jsx(cl,{size:14})})]})]}),u.jsx("div",{className:"flex flex-col lg:flex-row items-center justify-center gap-8 md:gap-12 py-4",children:B===0?u.jsxs("div",{className:"h-40 flex flex-col items-center justify-center opacity-30 text-xs italic",children:[u.jsx(cf,{size:32,className:"mb-2"})," No Data"]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"relative w-48 h-48 md:w-64 md:h-64 rounded-full flex items-center justify-center shadow-sm",style:{background:te},children:u.jsxs("div",{className:`w-36 h-36 md:w-48 md:h-48 rounded-full ${b.surface} flex flex-col items-center justify-center shadow-inner`,children:[u.jsxs("span",{className:`text-4xl md:text-5xl font-black ${b.textPrimary}`,children:[Math.round(Y),"%"]}),u.jsx("span",{className:`text-[10px] md:text-xs font-black uppercase opacity-40 ${b.textSecondary}`,children:"Presence"})]})}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-3 w-full max-w-md overflow-x-auto pb-2",children:[{label:"Present",count:C,color:"bg-emerald-500",bg:"bg-emerald-500/5"},{label:"Leave",count:O,color:"bg-orange-500",bg:"bg-orange-500/5"},{label:"Absent",count:q,color:"bg-red-500",bg:"bg-red-500/5"}].map(X=>u.jsxs("div",{className:`flex items-center justify-between p-4 rounded-2xl ${X.bg} border border-gray-500/10 min-w-[200px] hover:scale-[1.02] transition-transform`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-3 h-3 rounded-full ${X.color} shadow-[0_0_10px_rgba(0,0,0,0.2)]`}),u.jsx("span",{className:`text-sm font-black ${b.textPrimary}`,children:X.label})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`text-sm font-black ${b.textSecondary}`,children:X.count}),u.jsx("span",{className:"text-[10px] opacity-30 font-bold",children:"PTS"})]})]},X.label))})]})})]}),u.jsxs("div",{className:`p-5 md:p-8 rounded-2xl md:rounded-2xl ${b.surface} border ${b.border} mb-8`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-4 border-b border-gray-500/10 pb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[" ",u.jsx(Fi,{className:"text-blue-500",size:18})," ",u.jsx("h3",{className:`font-black text-sm md:text-base ${b.textPrimary}`,children:"Students"})," "]}),u.jsx("button",{onClick:()=>Gn(!0),className:`px-4 py-2 rounded-xl text-[10px] font-black ${b.accent} text-white uppercase tracking-widest shadow-lg active:scale-95 transition-all`,children:"Add New"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 max-h-80 overflow-y-auto pr-1 scrollbar-hide",children:Ee.length===0?u.jsx("div",{className:"col-span-full py-10 opacity-30 text-center text-xs italic",children:"No students detected"}):Ee.map((X,Ge)=>u.jsxs("div",{onClick:()=>{Xt(X),Ls("admin-dashboard"),R("student-profile")},className:`flex items-center justify-between p-3 rounded-xl border ${b.border} bg-gray-500/10 hover:bg-white/5 transition-all cursor-pointer`,children:[" ",u.jsxs("div",{className:"flex items-center gap-3",children:[" ",u.jsx("div",{className:"w-6 h-6 rounded-lg bg-white/5 flex items-center justify-center text-[10px] font-black opacity-30",children:Ge+1})," ",u.jsx("span",{className:`font-black text-xs md:text-sm ${b.textPrimary} truncate max-w-[120px]`,children:X.name})," "]})," ",u.jsx("button",{onClick:ne=>ja(ne,X.id),className:"p-1.5 text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",children:u.jsx(Ki,{size:14})})," "]},X.id))})]})]})})},yi=()=>{if(!it)return null;const C=it,q=Bt[C.id]||0,O=ge.filter(ne=>ne.classId===C.classId),B=O.filter(ne=>ne.records&&(ne.records[C.id]==="present"||ne.records[C.id]===!0)).length,Y=O.filter(ne=>ne.records&&(ne.records[C.id]==="absent"||ne.records[C.id]===!1)).length,te=O.filter(ne=>ne.records&&ne.records[C.id]==="leave").length,X=B+Y+te,Ge=X>0?`conic-gradient(#10b981 0% ${B/X*100}%, #f97316 ${(B+te)/X*100}% ${(B+te)/X*100}%, #ef4444 ${(B+te)/X*100}% 100%)`:"conic-gradient(#334155 0% 100%)";return u.jsx("div",{className:"flex flex-col h-full  px-4 md:px-6 pt-6 md:pt-12 pb-32 overflow-y-auto w-full",children:u.jsxs("div",{className:"max-w-2xl mx-auto w-full",children:[u.jsx("button",{onClick:()=>R(is),className:`p-2 -ml-2 mb-2 rounded-full hover:bg-gray-500/10 ${b.textPrimary}`,children:u.jsx(js,{size:24})}),u.jsxs("div",{className:`p-6 md:p-10 rounded-md md:rounded-3xl ${b.surface} border ${b.border} shadow-sm mb-6 flex flex-col items-center text-center gap-4`,children:[u.jsxs("div",{className:"relative",children:[" ",u.jsx(Gc,{avatar:C.avatarSeed,name:C.name,size:"xl"})," ",u.jsx("div",{className:"absolute -bottom-1 -right-1 w-10 h-10 rounded-full bg-indigo-500 border-4 border-slate-900 flex items-center justify-center text-white",children:u.jsx(Zi,{size:16})})," "]}),u.jsxs("div",{children:[u.jsx("h2",{className:`text-2xl md:text-3xl font-black ${b.textPrimary} tracking-tight mb-1`,children:C.name}),u.jsxs("p",{className:`${b.textSecondary} font-black uppercase tracking-[0.2em] text-[9px] opacity-40 mb-4`,children:["Class ",C.classId,"  ID: ",C.id.slice(-6).toUpperCase()]}),u.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-gray-500/10 border border-gray-500/10",children:[" ",u.jsx(Ly,{size:12,className:"text-indigo-400"})," ",u.jsx("span",{className:`text-xs font-black ${b.textPrimary}`,children:C.phone||"No Link"})," "]}),u.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-xl ${q>75?"bg-green-500/10 text-green-500":"bg-orange-500/10 text-orange-500"}`,children:[" ",u.jsx(E_,{size:12})," ",u.jsxs("span",{className:"text-xs font-black",children:[q,"% Presence"]})," "]})]})]})]}),u.jsxs("div",{className:`p-6 md:p-10 rounded-md md:rounded-3xl ${b.surface} border ${b.border} shadow-sm mb-6`,children:[u.jsxs("h3",{className:`text-lg font-black ${b.textPrimary} mb-6 flex items-center gap-2`,children:[" ",u.jsx(cf,{className:"text-indigo-400",size:20})," Distribution "]}),u.jsxs("div",{className:"flex flex-col items-center justify-center gap-8",children:[u.jsxs("div",{className:"relative w-44 h-44 rounded-full flex items-center justify-center shadow-sm",style:{background:Ge},children:[" ",u.jsxs("div",{className:`w-32 h-32 rounded-full ${b.surface} flex flex-col items-center justify-center shadow-inner`,children:[" ",u.jsxs("span",{className:`text-3xl font-black ${b.textPrimary}`,children:[q,"%"]})," ",u.jsx("span",{className:`text-[8px] font-black uppercase opacity-40 ${b.textSecondary}`,children:"Activity"})," "]})," "]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 w-full",children:[" ",[{label:"Present",count:B,color:"bg-emerald-500"},{label:"Leave",count:te,color:"bg-orange-500"},{label:"Absent",count:Y,color:"bg-red-500"}].map(ne=>u.jsxs("div",{className:"flex flex-col items-center p-3 rounded-2xl bg-gray-500/10 border border-gray-500/10",children:[" ",u.jsx("span",{className:"text-[10px] font-black uppercase opacity-40 mb-1",children:ne.label})," ",u.jsx("span",{className:`text-lg font-black ${b.textPrimary}`,children:ne.count})," "]},ne.label))," "]})]})]}),u.jsxs("div",{className:`p-6 md:p-10 rounded-md md:rounded-3xl ${b.surface} border ${b.border} shadow-sm mb-6`,children:[u.jsxs("h3",{className:`text-lg font-black ${b.textPrimary} mb-6 flex items-center gap-2`,children:[u.jsx(uf,{className:"text-yellow-400",size:20})," Achievements & Badges"]}),u.jsx("div",{className:"flex flex-wrap gap-3 mb-8",children:C.badges&&C.badges.length>0?C.badges.map(ne=>{const pt=ga.find(Dt=>Dt.id===ne);return pt?u.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-white text-[10px] font-black uppercase tracking-widest shadow-md relative pr-8",style:{backgroundColor:pt.color},children:[u.jsx("span",{children:pt.name}),u.jsx("button",{onClick:()=>Us(C.id,ne),className:"absolute right-1 top-1/2 -translate-y-1/2 bg-black/20 hover:bg-black/40 rounded-full p-1 transition-colors",title:"Remove Badge",children:u.jsx(Jn,{size:10,strokeWidth:3})})]},ne):null}):u.jsx("p",{className:`text-xs ${b.textSecondary} opacity-60 italic`,children:"No badges awarded yet."})}),u.jsxs("div",{className:"border-t border-gray-500/10 pt-6",children:[u.jsx("p",{className:`text-[10px] font-black uppercase tracking-widest ${b.textSecondary} mb-4 opacity-50`,children:"Award New Badge"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:ga.map(ne=>{var Dt;const pt=(Dt=C.badges)==null?void 0:Dt.includes(ne.id);return u.jsx("button",{disabled:pt,onClick:()=>Sl(C.id,ne.id),className:`p-3 rounded-2xl border transition-all flex flex-col items-center gap-2 min-w-[100px] ${pt?"opacity-30 grayscale cursor-not-allowed":"hover:scale-105 active:scale-95"}`,style:{borderColor:ne.color+"40",backgroundColor:ne.color+"10"},children:u.jsx("span",{className:"text-sm",style:{color:ne.color},children:ne.name})},ne.id)})})]})]}),u.jsxs("button",{onClick:()=>pi(C),className:`w-full p-4 rounded-lg ${b.surface} border ${b.border} flex items-center justify-center gap-3 hover:bg-white/5 transition-all shadow-lg active:scale-95`,children:[" ",u.jsx(D0,{size:18,className:"text-indigo-500"})," ",u.jsx("span",{className:`text-xs font-black uppercase tracking-widest ${b.textPrimary}`,children:"Update Archive"})," "]})]})})},Dl=()=>su<768?u.jsx("div",{className:"flex flex-col min-h-full bg-transparent overflow-y-auto scrollbar-hide pb-40 w-full",children:u.jsxs("div",{className:"px-4 py-8 w-full",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsxs("div",{children:[u.jsx("h1",{className:`text-3xl font-semibold ${b.textPrimary}`,children:"My Classes"}),u.jsx("p",{className:`text-xs ${b.textSecondary} mt-1`,children:"Guardian Portal"})]}),u.jsx("div",{className:"w-10 h-10 rounded-md bg-slate-800 flex items-center justify-center text-white border border-slate-700 overflow-hidden",children:Ue?u.jsx("img",{src:Ue,className:"w-full h-full object-cover"}):u.jsx(Zi,{size:20})})]}),u.jsx("div",{className:"grid grid-cols-2 gap-4",children:Ae.length===0?[1,2,3,4].map(q=>u.jsx("div",{className:`aspect-[4/5] rounded-2xl ${b.surface} border ${b.border} animate-pulse`},q)):Ae.map((q,O)=>{const B=[S0,Zi,Fi,Sc,uf,Tr],Y=B[O%B.length];return u.jsxs("button",{onClick:()=>un(q),className:`flex flex-col items-start p-5 rounded-2xl ${b.surface} border ${b.border} hover:shadow-md transition-all text-left aspect-[4/5]`,children:[u.jsx("div",{className:`p-3 rounded-md ${b.accent} text-white mb-4`,children:u.jsx(Y,{size:20})}),u.jsxs("h3",{className:`text-lg font-semibold ${b.textPrimary} leading-tight`,children:["Class ",q]})]},q)})})]})}):u.jsx("div",{className:"flex flex-col h-full pt-8 px-6 md:px-10 pb-32 overflow-y-auto w-full scrollbar-hide",children:u.jsxs("div",{className:"max-w-7xl mx-auto w-full",children:[u.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h1",{className:`text-3xl md:text-4xl font-semibold ${b.textPrimary} mb-1`,children:"IJ Education"}),u.jsxs("p",{className:`${b.textSecondary} text-sm`,children:["Institution Portal  ",N==null?void 0:N.name]})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs("div",{onClick:()=>$(!Ye),className:`flex items-center gap-2 text-xs px-3 py-1.5 rounded-md border ${b.border} cursor-pointer transition-colors ${Ye?"text-green-600 border-green-200 bg-green-50":"text-orange-600 border-orange-200 bg-orange-50"}`,children:[u.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${Ye?"bg-green-500":"bg-orange-500"}`}),Ye?"Online":"Offline"]})})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:Ae.length===0?[1,2,3].map(q=>u.jsx("div",{className:`h-40 rounded-2xl ${b.surface} border ${b.border} animate-pulse`},q)):Ae.map((q,O)=>{const B=[S0,Zi,Fi,Sc,uf,Tr],Y=B[O%B.length];return u.jsxs("button",{onClick:()=>un(q),className:`flex flex-col p-6 rounded-2xl ${b.surface} border ${b.border} hover:shadow-md transition-all text-left h-40 group`,children:[u.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[u.jsx("div",{className:`p-3 rounded-md ${b.accent} text-white`,children:u.jsx(Y,{size:24})}),u.jsx("div",{children:u.jsxs("h2",{className:`text-2xl font-semibold ${b.textPrimary}`,children:["Class ",q]})})]}),u.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[u.jsx("span",{className:`text-xs ${b.textSecondary}`,children:"View Details"}),u.jsx(cl,{size:18,className:`${b.textSecondary} group-hover:translate-x-1 transition-transform`})]})]},q)})})]})}),au=()=>{const C=w&&V?{total:V.length,present:V.filter(O=>w[O.id]==="present"||w[O.id]===!0).length}:{total:0,present:0},q=C.total>0?C.present/C.total*100:0;return u.jsxs("div",{className:"flex flex-col h-full relative w-full",children:[u.jsxs("div",{className:`px-4 md:px-6 pt-6 pb-4 flex items-center justify-between border-b ${b.border}`,children:[u.jsx("button",{onClick:()=>R("home"),className:`p-2 -ml-2 rounded-md hover:bg-gray-500/10 transition-colors ${b.textPrimary}`,children:u.jsx(js,{size:20})}),u.jsx("div",{className:"flex flex-col items-center",children:u.jsx(Nf,{value:ie||"",options:Ae,onChange:un,theme:b,label:"Current Workspace"})}),u.jsxs("div",{className:"w-10 flex justify-end",children:[" ",!Ye&&u.jsx(M0,{size:18,className:"text-orange-500"})," "]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto pb-32 px-4 md:px-6 scrollbar-hide w-full",children:u.jsxs("div",{className:"max-w-7xl mx-auto w-full py-6",children:[u.jsxs("div",{className:"mb-8 text-center",children:[u.jsx("h3",{className:`text-3xl md:text-4xl font-semibold ${b.textPrimary} mb-1`,children:se.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),u.jsx("p",{className:`text-sm ${b.textSecondary}`,children:new Date().toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})})]}),u.jsx("div",{className:"flex gap-4 mb-6",children:u.jsxs("button",{onClick:()=>R("todo"),className:`flex-1 py-6 flex flex-col items-center justify-center gap-3 rounded-2xl ${b.accent} text-white shadow-xl shadow-indigo-500/20 hover:scale-[1.02] active:scale-95 transition-all group`,children:[u.jsx("div",{className:"p-3 rounded-2xl bg-white/20 group-hover:bg-white/30 transition-colors",children:u.jsx(Qf,{size:32})}),u.jsx("span",{className:"text-sm font-black uppercase tracking-[0.2em]",children:"Strategy & Tasks"})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:[u.jsx("div",{className:`md:col-span-5 flex flex-col items-center justify-center p-6 rounded-2xl ${b.surface} border ${b.border}`,children:u.jsx(gE,{percentage:q,size:window.innerWidth<768?140:180,colorStart:"#2563eb",colorEnd:"#3b82f6"})}),u.jsxs("div",{className:"md:col-span-7 flex flex-col gap-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:`p-5 rounded-2xl ${b.surface} border ${b.border} text-center`,children:[u.jsx("span",{className:"block text-3xl font-semibold text-green-600 mb-1",children:C.present}),u.jsx("span",{className:`text-xs ${b.textSecondary}`,children:"Present"})]}),u.jsxs("div",{className:`p-5 rounded-2xl ${b.surface} border ${b.border} text-center`,children:[u.jsx("span",{className:"block text-3xl font-semibold text-red-600 mb-1",children:C.total-C.present}),u.jsx("span",{className:`text-xs ${b.textSecondary}`,children:"Absent"})]})]}),u.jsxs(Tt,{fullWidth:!0,onClick:()=>R("attendance"),themeAccent:b.accent,className:"py-3",children:["Register Attendance ",u.jsx(E1,{size:18,className:"ml-2"})]}),u.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{id:"timetable",icon:C0,label:"Timeline"},{id:"calculator",icon:A1,label:"Analytics"}].map(O=>u.jsxs("button",{onClick:()=>R(O.id),className:`p-4 rounded-md border ${b.border} ${b.surface} flex flex-col items-center justify-center gap-2 hover:shadow-md transition-all`,children:[u.jsx("div",{className:`p-2 rounded-md ${b.accent} text-white`,children:u.jsx(O.icon,{size:20})}),u.jsx("span",{className:`text-xs font-medium ${b.textPrimary}`,children:O.label})]},O.id))})]})]})]})})]})},Da=()=>{const q=new Date().getDate()>10;return u.jsxs("div",{className:"flex flex-col h-full bg-opacity-50 w-full",children:[u.jsxs("div",{className:`px-4 md:px-6 pt-4 pb-3 flex items-center justify-between z-20 ${b.surface} border-b ${b.border} sticky top-0`,children:[u.jsx("button",{onClick:()=>R("dashboard"),className:`p-2 -ml-2 rounded-md hover:bg-gray-500/10 transition-colors ${b.textPrimary}`,children:u.jsx(js,{size:20})}),u.jsx("div",{className:"flex flex-col items-center",children:u.jsxs("div",{className:"flex items-center gap-2",children:[!Ye&&u.jsx(M0,{size:14,className:"text-orange-500"}),u.jsx("h2",{className:`text-base md:text-lg font-semibold ${b.textPrimary}`,children:"Attendance Registry"})]})}),u.jsx("button",{onClick:Hs,className:`px-4 py-2 rounded-md ${b.accent} text-white text-sm font-medium transition-colors`,children:Ye?"Sync":"Save"})]}),u.jsx("div",{className:`px-4 py-3 ${b.bg}`,children:u.jsxs("div",{className:"relative",children:[u.jsx(Uy,{className:`absolute left-3 top-1/2 -translate-y-1/2 ${b.textSecondary} opacity-50`,size:16}),u.jsx("input",{value:qe,onChange:O=>en(O.target.value),placeholder:"Search student by name or ID...",className:`w-full p-3 pl-10 rounded-2xl ${b.surface} border ${b.border} ${b.textPrimary} text-sm outline-none focus:ring-2 focus:ring-[#2563eb] focus:border-transparent transition-all placeholder:opacity-40`})]})}),u.jsxs("div",{className:`px-4 py-2 flex gap-3 ${b.bg}`,children:[u.jsxs("button",{onClick:()=>us(!0),className:"flex-1 py-3 rounded-xl bg-green-500/10 text-green-600 dark:text-green-400 text-xs font-bold flex items-center justify-center gap-2 border border-green-500/20 hover:bg-green-500/20 transition-all active:scale-95",children:[u.jsx(wc,{size:16})," Mark All Present"]}),u.jsxs("button",{onClick:()=>us(!1),className:"flex-1 py-3 rounded-xl bg-red-500/10 text-red-600 dark:text-red-400 text-xs font-bold flex items-center justify-center gap-2 border border-red-500/20 hover:bg-red-500/20 transition-all active:scale-95",children:[u.jsx(q1,{size:16})," Mark All Absent"]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto px-4 pb-32 pt-3 scrollbar-hide",children:u.jsx("div",{className:"max-w-7xl mx-auto w-full",children:i?V.length===0?u.jsxs("div",{className:"text-center py-20 opacity-50 flex flex-col items-center",children:[u.jsx(Fi,{size:40,className:"mb-4"}),u.jsx("p",{className:`text-sm ${b.textSecondary}`,children:"No students found"})]}):u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:V.filter(O=>qe===""||O.name.toLowerCase().includes(qe.toLowerCase())||O.id.toLowerCase().includes(qe.toLowerCase())).map((O,B)=>{var pt;const Y=w[O.id],te=Y==="present"||Y===!0,X=Y==="leave",Ge=Bt[O.id]||0,ne=q&&!((pt=$s[O.id])!=null&&pt.isPaid);return u.jsxs("div",{className:`flex flex-col p-5 rounded-2xl border transition-all hover:shadow-lg hover:scale-[1.02] ${te?`${b.surface} border-green-500/30`:X?"bg-orange-500/5 border-orange-500/20":"bg-red-500/5 border-red-500/20"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center gap-3 cursor-pointer flex-1",onClick:()=>{Xt(O),Ls("attendance"),R("student-profile")},children:[u.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center border-2 font-black text-xs ${te?"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/20":X?"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-500/20":"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20"}`,children:B+1}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:`font-semibold text-sm ${b.textPrimary} truncate`,children:O.name}),u.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[u.jsxs("span",{className:`text-xs ${Ge>75?"text-green-600":"text-orange-600"}`,children:[Ge,"% attendance"]}),ne&&u.jsx("span",{className:"bg-red-500 text-white px-1.5 py-0.5 rounded text-[10px] font-medium",children:"DEBT"})]})]})]}),u.jsx("button",{onClick:()=>Ea(O.id),className:`w-9 h-9 rounded-md flex items-center justify-center transition-colors ${te?"bg-green-500 text-white hover:bg-green-600":X?"bg-orange-500 text-white hover:bg-orange-600":"bg-red-500 text-white hover:bg-red-600"}`,children:te?u.jsx(Ry,{size:16,strokeWidth:3}):X?u.jsx(M_,{size:16,strokeWidth:2.5}):u.jsx(Jn,{size:16,strokeWidth:3})})]}),u.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-current/10",children:[u.jsxs("span",{className:`text-xs ${b.textSecondary}`,children:["ID: ",O.id.slice(-6).toUpperCase()]}),u.jsx("span",{className:`text-xs font-medium ${te?"text-green-600":X?"text-orange-600":"text-red-600"}`,children:te?"Present":X?"Leave":"Absent"})]})]},O.id)})}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[1,2,3].map(O=>u.jsx("div",{className:`h-24 rounded-2xl ${b.surface} border ${b.border} animate-pulse`},O))})})})]})},Ma=()=>ge?u.jsx("div",{className:"flex flex-col h-full  px-6 pt-12 pb-32 w-full",children:u.jsxs("div",{className:"max-w-7xl mx-auto w-full",children:[u.jsx("h2",{className:`text-3xl font-bold ${b.textPrimary} mb-6`,children:"Attendance History"}),u.jsx("div",{className:"pb-20",children:ge.length===0?u.jsxs("div",{className:`text-center py-20 opacity-50 ${b.textSecondary}`,children:[u.jsx(Pf,{size:64,className:"mx-auto mb-4 opacity-20"}),u.jsx("p",{className:"text-xl font-medium",children:"No records found yet"}),u.jsx("p",{className:"text-sm mt-1",children:"Attendance data will appear here once saved."})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ge.map(C=>{if(!C||!C.date)return null;const q=new Date(C.date),O=C.records||{},B=Object.values(O).filter(Y=>Y===!0||Y==="present").length;return Object.keys(O).length,u.jsxs("div",{onClick:()=>Tl(C),className:`p-6 rounded-3xl ${b.surface} border ${b.border} flex justify-between items-center cursor-pointer hover:border-indigo-500/50 shadow-sm transition-all group`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"p-3 rounded-2xl bg-gray-500/10 group-hover:bg-indigo-500/10 transition-colors",children:u.jsx(ky,{size:20,className:b.textPrimary})}),u.jsxs("div",{children:[u.jsx("h3",{className:`font-black text-sm ${b.textPrimary}`,children:q.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})}),u.jsxs("p",{className:`text-[10px] font-bold uppercase tracking-widest opacity-30 ${b.textSecondary}`,children:["Class ",C.classId]})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:`text-lg font-black ${b.textPrimary}`,children:B}),u.jsx("p",{className:"text-[8px] opacity-30 uppercase font-black tracking-widest",children:"Present"})]}),(N==null?void 0:N.role)==="admin"&&u.jsx("button",{onClick:Y=>uo(Y,C),className:"p-2 rounded-xl bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white transition-all shadow-sm",children:u.jsx(Ki,{size:16})})]})]},C.id||`${C.date}_${C.classId}`)})})})]})}):null,Ml=()=>P?u.jsxs("div",{className:"flex flex-col h-full bg-opacity-50",children:[u.jsxs("div",{className:`px-4 md:px-6 pt-12 pb-4 flex items-center justify-between z-20 ${b.surface} border-b ${b.border}`,children:[u.jsx("button",{onClick:()=>R(Ke),className:`p-2 -ml-2 rounded-full hover:bg-gray-500/10 ${b.textPrimary}`,children:u.jsx(js,{})}),u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("h2",{className:`text-lg font-bold ${b.textPrimary}`,children:new Date(P.date).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})}),u.jsxs("p",{className:`text-[10px] font-black uppercase tracking-widest ${b.textSecondary}`,children:["Class ",P.classId]})]}),u.jsx("div",{className:"w-10"})]}),u.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 py-4 pb-32",children:u.jsx("div",{className:"max-w-3xl mx-auto space-y-4",children:ae.map((C,q)=>{const O=P.records?P.records[C.id]:!1,B=O==="present"||O===!0,Y=O==="leave";return u.jsx("div",{className:`flex flex-col p-4 md:p-5 rounded-3xl border ${b.surface} ${b.border} hover:shadow-lg transition-all gap-3 relative w-full overflow-hidden`,children:u.jsxs("div",{className:"flex items-center justify-between w-full overflow-x-auto scrollbar-hide",children:[u.jsxs("div",{className:"flex items-center gap-4 min-w-[150px]",children:[u.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border ${b.border} text-[10px] font-bold opacity-30 flex-shrink-0`,children:q+1}),u.jsx("span",{className:`font-bold ${b.textPrimary} text-sm md:text-md truncate`,children:C.name})]}),u.jsx("div",{className:"flex items-center gap-1.5 md:gap-2",children:u.jsx("span",{className:`px-3 md:px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest ${B?"bg-emerald-500/10 text-emerald-500":Y?"bg-orange-500/10 text-orange-500":"bg-red-500/10 text-red-500"}`,children:B?"Present":Y?"Leave":"Absent"})})]})},C.id)})})})]}):null,xi=()=>{const C=()=>{const B=Math.max(0,...G.map(Y=>Y.id))+1;K([...G,{id:B,name:"New Period",start:"00:00",end:"00:00"}])},q=B=>{K(G.filter(Y=>Y.id!==B))},O=(B,Y,te)=>{K(G.map(X=>X.id===B?{...X,[Y]:te}:X))};return u.jsx("div",{className:`flex flex-col h-full ${b.bg} overflow-hidden px-4 md:px-10 pt-12 pb-32`,children:u.jsxs("div",{className:"max-w-4xl mx-auto w-full",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsxs("div",{children:[u.jsx("h2",{className:`text-4xl font-black ${b.textPrimary}`,children:"Timeline"}),u.jsx("p",{className:`text-sm ${b.textSecondary} mt-2 opacity-50`,children:"Schedule & Daily Roadmap"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>pe(!fe),className:`p-4 rounded-2xl ${fe?b.accent:"bg-gray-500/10"} ${fe?"text-white":b.textPrimary} transition-all active:scale-95`,children:u.jsx(D0,{size:20})}),u.jsx("button",{onClick:()=>R("dashboard"),className:`p-4 rounded-2xl bg-gray-500/10 ${b.textPrimary} transition-all`,children:u.jsx(Jn,{size:20})})]})]}),u.jsxs("div",{className:"space-y-4",children:[G.map(B=>{const Y=se.getHours()*60+se.getMinutes(),[te,X]=B.start.split(":").map(Number),[Ge,ne]=B.end.split(":").map(Number),pt=te*60+X,Dt=Ge*60+ne,Yt=Y>=pt&&Y<Dt;return u.jsxs("div",{className:`group relative p-5 md:p-6 rounded-md border transition-all duration-300 ${Yt?`${b.accent} text-white shadow-sm scale-[1.02] border-transparent`:`${b.surface} ${b.border} hover:border-white/20 shadow-sm`}`,children:[fe&&u.jsx("button",{onClick:()=>q(B.id),className:"absolute -right-2 -top-2 w-8 h-8 rounded-full bg-red-500 text-white flex items-center justify-center shadow-lg hover:scale-110 active:scale-95 transition-all z-10",children:u.jsx(Ki,{size:14})}),u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex-1",children:[fe?u.jsx("input",{value:B.name,onChange:zn=>O(B.id,"name",zn.target.value),className:`w-full bg-gray-500/10 border ${b.border} rounded-xl px-3 py-2 text-sm font-black ${b.textPrimary} outline-none focus:ring-2 ring-indigo-500/50 mb-2`}):u.jsx("h3",{className:"font-black text-lg tracking-tight",children:B.name}),u.jsxs("div",{className:"flex items-center gap-3 opacity-60",children:[u.jsx(C0,{size:12}),u.jsx("div",{className:"flex items-center gap-2",children:fe?u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"time",value:B.start,onChange:zn=>O(B.id,"start",zn.target.value),className:"bg-transparent border-none p-0 text-[10px] font-bold uppercase tracking-widest outline-none"}),u.jsx("span",{children:"-"}),u.jsx("input",{type:"time",value:B.end,onChange:zn=>O(B.id,"end",zn.target.value),className:"bg-transparent border-none p-0 text-[10px] font-bold uppercase tracking-widest outline-none"})]}):u.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest",children:[B.start," - ",B.end]})})]})]}),fe&&u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-[9px] font-black uppercase opacity-60",children:"Is Break?"}),u.jsx("input",{type:"checkbox",checked:!!B.isBreak,onChange:zn=>O(B.id,"isBreak",zn.target.checked),className:"w-5 h-5 accent-orange-500"})]})]})]},B.id)}),fe&&u.jsxs("button",{onClick:C,className:`w-full p-6 dashed-border rounded-md border-2 border-dashed ${b.border} flex items-center justify-center gap-3 hover:bg-white/5 transition-all text-xs font-black uppercase tracking-widest opacity-60 hover:opacity-100 ${b.textPrimary}`,children:[u.jsx(_c,{size:20})," Add Time Slot"]})]})]})})},mo=()=>u.jsx("div",{className:"flex flex-col h-full  px-6 pt-12 pb-32 w-full items-center justify-center relative",children:u.jsxs("div",{className:"max-w-md w-full",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[u.jsx("button",{onClick:()=>R("dashboard"),className:`p-3 rounded-2xl hover:bg-gray-500/10 ${b.textPrimary} transition-all`,children:u.jsx(js,{size:24})}),u.jsx("h2",{className:`text-4xl font-black ${b.textPrimary}`,children:"Calculator"})]}),u.jsxs("div",{className:`w-full p-8 rounded-3xl ${b.surface} border ${b.border} shadow-sm`,children:[u.jsxs("div",{className:`mb-8 p-10 rounded-md bg-black/10 border ${b.border} text-right overflow-hidden shadow-inner`,children:[u.jsx("div",{className:`text-xs ${b.textSecondary} font-mono mb-2 h-4 opacity-50`,children:fi}),u.jsx("div",{className:`text-5xl font-mono font-bold ${b.textPrimary} tracking-tighter truncate`,children:ao})]}),u.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[u.jsx("button",{onClick:()=>{cn("0"),vn("")},className:"p-6 rounded-2xl bg-red-500/10 text-red-500 font-black text-xl hover:bg-red-500 hover:text-white transition-all",children:"AC"}),u.jsx("button",{onClick:()=>{cn(C=>C.length>1?C.slice(0,-1):"0"),vn(C=>C.length>1?C.slice(0,-1):"")},className:`p-6 rounded-2xl ${b.bg} ${b.textPrimary} font-black text-xl hover:bg-gray-500/20 transition-all`,children:u.jsx(js,{size:24,className:"mx-auto"})}),u.jsx("button",{onClick:()=>Zt("/"),className:"p-6 rounded-2xl bg-indigo-500/10 text-indigo-500 font-black text-xl hover:bg-indigo-500 hover:text-white transition-all",children:""}),u.jsx("button",{onClick:()=>Zt("*"),className:"p-6 rounded-2xl bg-indigo-500/10 text-indigo-500 font-black text-xl hover:bg-indigo-500 hover:text-white transition-all",children:""}),[7,8,9].map(C=>u.jsx("button",{onClick:()=>Zt(String(C)),className:`p-6 rounded-2xl ${b.bg} ${b.textPrimary} font-black text-2xl hover:bg-gray-500/20 transition-all`,children:C},C)),u.jsx("button",{onClick:()=>Zt("-"),className:"p-6 rounded-2xl bg-indigo-500/10 text-indigo-500 font-black text-xl hover:bg-indigo-500 hover:text-white transition-all",children:""}),[4,5,6].map(C=>u.jsx("button",{onClick:()=>Zt(String(C)),className:`p-6 rounded-2xl ${b.bg} ${b.textPrimary} font-black text-2xl hover:bg-gray-500/20 transition-all`,children:C},C)),u.jsx("button",{onClick:()=>Zt("+"),className:"p-6 rounded-2xl bg-indigo-500/10 text-indigo-500 font-black text-xl hover:bg-indigo-500 hover:text-white transition-all",children:"+"}),[1,2,3].map(C=>u.jsx("button",{onClick:()=>Zt(String(C)),className:`p-6 rounded-2xl ${b.bg} ${b.textPrimary} font-black text-2xl hover:bg-gray-500/20 transition-all`,children:C},C)),u.jsx("button",{onClick:()=>Zt("="),className:`p-6 rounded-2xl ${b.accent} text-white font-black text-2xl shadow-sm shadow-indigo-500/20 active:scale-90 transition-all`,children:"="}),u.jsx("button",{onClick:()=>Zt("0"),className:`col-span-2 p-6 rounded-2xl ${b.bg} ${b.textPrimary} font-black text-2xl hover:bg-gray-500/20 transition-all`,children:"0"}),u.jsx("button",{onClick:()=>Zt("."),className:`p-6 rounded-2xl ${b.bg} ${b.textPrimary} font-black text-2xl hover:bg-gray-500/20 transition-all`,children:"."})]})]})]})});return v==="login"?u.jsxs("div",{className:`h-screen w-screen overflow-hidden ${b.bg}`,children:[Os&&u.jsx(Ay,{message:Os.message,type:Os.type,onClose:()=>ls(null)}),u.jsx(xE,{theme:b,onLogin:iu,onToast:ke,logo:Ue})]}):u.jsxs("div",{className:`h-screen w-screen overflow-hidden ${b.bg} ${b.textPrimary} flex flex-col md:flex-row relative transition-colors duration-300`,children:[mt&&u.jsxs("div",{className:"fixed inset-0 z-[300] bg-black/60  flex items-center justify-center flex-col text-white",children:[u.jsx("div",{className:"w-12 h-12 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin mb-4"}),u.jsx("p",{className:"font-bold tracking-wider animate-pulse",children:"Loading Class Data..."})]}),Rs&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 p-6",children:u.jsxs("div",{className:`${b.surface} border ${b.border} w-full max-w-md p-6 rounded-md shadow-sm flex flex-col`,children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:`text-xl font-bold ${b.textPrimary}`,children:"Add Students"}),u.jsx("button",{onClick:()=>Gn(!1),className:`p-2 rounded-full hover:bg-white/5 ${b.textPrimary}`,children:u.jsx(Jn,{size:20})})]}),u.jsxs("p",{className:`text-xs ${b.textSecondary} mb-4`,children:["Enter names (one per line) for ",u.jsxs("strong",{children:["Class ",v==="admin-dashboard"?Ct:ie]}),"."]}),u.jsx("textarea",{value:ns,onChange:C=>Pt(C.target.value),className:`w-full h-32 p-4 rounded-xl bg-gray-500/10 border ${b.border} ${b.textPrimary} outline-none focus:ring-2 focus:ring-indigo-500/50 resize-none mb-4`,placeholder:`Ali, +92 335 1234567
Ahmed, 0300 1234567
Sara...`}),u.jsxs("div",{className:"flex gap-3 mt-auto",children:[u.jsx(Tt,{variant:"secondary",onClick:()=>Gn(!1),fullWidth:!0,className:b.textPrimary,children:"Cancel"}),u.jsx(Tt,{onClick:co,fullWidth:!0,themeAccent:b.accent,children:"Add Students"})]})]})}),hi&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 p-6",children:u.jsxs("div",{className:`${b.surface} border ${b.border} w-full max-w-sm p-8 rounded-md shadow-sm flex flex-col gap-6`,children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h3",{className:`text-2xl font-black ${b.textPrimary}`,children:"Edit Student"}),u.jsx("button",{onClick:()=>Ot(null),className:`p-2 rounded-full hover:bg-white/5 ${b.textPrimary}`,children:u.jsx(Jn,{size:20})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("input",{type:"text",value:Is,onChange:C=>Na(C.target.value),className:`w-full p-4 rounded-2xl bg-gray-500/10 border ${b.border} ${b.textPrimary} outline-none`}),u.jsx("input",{type:"text",value:wl,onChange:C=>cs(C.target.value),className:`w-full p-4 rounded-2xl bg-gray-500/10 border ${b.border} ${b.textPrimary} outline-none`,placeholder:"+92..."})]}),u.jsxs("div",{className:"flex gap-3 mt-4",children:[u.jsx(Tt,{variant:"secondary",onClick:()=>Ot(null),fullWidth:!0,className:b.textPrimary,children:"Cancel"}),u.jsx(Tt,{onClick:fo,fullWidth:!0,themeAccent:b.accent,children:"Save Changes"})]})]})}),Os&&u.jsx(Ay,{message:Os.message,type:Os.type,onClose:()=>ls(null)}),u.jsx(CE,{isOpen:xl.isOpen,title:xl.title,message:xl.message,onConfirm:xl.onConfirm,onCancel:()=>ya(C=>({...C,isOpen:!1})),theme:b}),l?u.jsx(wE,{}):c?u.jsx(EE,{onFinish:Ca,logo:Ue}):u.jsxs(u.Fragment,{children:[u.jsx(yE,{currentView:v,onChangeView:C=>{C==="history"?wa():R(C==="admin-dashboard"?"admin-menu":C)},theme:b,user:N,onLogout:oo,width:Dn,onStartResize:Jr,isResizing:xn,logo:Ue,shouldHide:ro}),u.jsxs("div",{className:"flex-1 h-full min-h-0 relative scrollbar-hide overflow-y-auto overflow-x-auto w-full flex flex-col",children:[v==="home"&&Dl(),v==="dashboard"&&au(),v==="attendance"&&Da(),v==="history"&&Ma(),v==="history-detail"&&Ml(),v==="todo"&&u.jsx(NE,{theme:b,currentUser:N,onToast:ke}),v==="settings"&&u.jsx(bE,{theme:b,themeId:y,onThemeChange:mi,currentUser:N,onUpdateUser:_,onLogout:oo,onToast:ke,enableAnimations:h,onToggleAnimations:p,badges:ga,onSaveBadges:C=>{Qt(C),Ey({badges:C})}}),v==="timetable"&&xi(),v==="calculator"&&mo(),v==="admin-dashboard"&&(N==null?void 0:N.role)==="admin"&&ds(),v==="admin-menu"&&(N==null?void 0:N.role)==="admin"&&gi(),v==="admin-fees"&&(N==null?void 0:N.role)==="admin"&&qt(),v==="admin-users"&&(N==null?void 0:N.role)==="admin"&&ho(),v==="student-directory"&&u.jsx(vE,{theme:b,onBack:()=>R("admin-menu"),availableClasses:Ae,selectedClass:nt,onSelectClass:Vn,students:os,onViewProfile:C=>{Xt(C),Ls("student-directory"),R("student-profile")},attendanceStats:Bt}),v==="student-profile"&&it&&yi(),zs&&v==="home"&&u.jsx(jE,{theme:b,onClose:li})]},v)]})]})}const vv=document.getElementById("root");if(!vv)throw new Error("Could not find root element to mount to");const ME=v1.createRoot(vv);ME.render(u.jsx(Br.StrictMode,{children:u.jsx(AE,{})}));
