(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function s(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(o){if(o.ep)return;o.ep=!0;const f=s(o);fetch(o.href,f)}})();function wx(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var lf={exports:{}},mr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function i1(){if(o0)return mr;o0=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(r,o,f){var h=null;if(f!==void 0&&(h=""+f),o.key!==void 0&&(h=""+o.key),"key"in o){f={};for(var p in o)p!=="key"&&(f[p]=o[p])}else f=o;return o=f.ref,{$$typeof:l,type:r,key:h,ref:o!==void 0?o:null,props:f}}return mr.Fragment=n,mr.jsx=s,mr.jsxs=s,mr}var c0;function r1(){return c0||(c0=1,lf.exports=i1()),lf.exports}var u=r1(),sf={exports:{}},he={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function o1(){if(u0)return he;u0=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),v=Symbol.iterator;function O(w){return w===null||typeof w!="object"?null:(w=v&&w[v]||w["@@iterator"],typeof w=="function"?w:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,re={};function X(w,U,G){this.props=w,this.context=U,this.refs=re,this.updater=G||Y}X.prototype.isReactComponent={},X.prototype.setState=function(w,U){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,U,"setState")},X.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function ce(){}ce.prototype=X.prototype;function ge(w,U,G){this.props=w,this.context=U,this.refs=re,this.updater=G||Y}var le=ge.prototype=new ce;le.constructor=ge,K(le,X.prototype),le.isPureReactComponent=!0;var Ge=Array.isArray;function Ue(){}var ue={H:null,A:null,T:null,S:null},Te=Object.prototype.hasOwnProperty;function rt(w,U,G){var Z=G.ref;return{$$typeof:l,type:w,key:U,ref:Z!==void 0?Z:null,props:G}}function de(w,U){return rt(w.type,U,w.props)}function st(w){return typeof w=="object"&&w!==null&&w.$$typeof===l}function nt(w){var U={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(G){return U[G]})}var be=/\/+/g;function vt(w,U){return typeof w=="object"&&w!==null&&w.key!=null?nt(""+w.key):U.toString(36)}function qt(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(Ue,Ue):(w.status="pending",w.then(function(U){w.status==="pending"&&(w.status="fulfilled",w.value=U)},function(U){w.status==="pending"&&(w.status="rejected",w.reason=U)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function z(w,U,G,Z,ae){var xe=typeof w;(xe==="undefined"||xe==="boolean")&&(w=null);var me=!1;if(w===null)me=!0;else switch(xe){case"bigint":case"string":case"number":me=!0;break;case"object":switch(w.$$typeof){case l:case n:me=!0;break;case N:return me=w._init,z(me(w._payload),U,G,Z,ae)}}if(me)return ae=ae(w),me=Z===""?"."+vt(w,0):Z,Ge(ae)?(G="",me!=null&&(G=me.replace(be,"$&/")+"/"),z(ae,U,G,"",function(Gn){return Gn})):ae!=null&&(st(ae)&&(ae=de(ae,G+(ae.key==null||w&&w.key===ae.key?"":(""+ae.key).replace(be,"$&/")+"/")+me)),U.push(ae)),1;me=0;var ot=Z===""?".":Z+":";if(Ge(w))for(var Je=0;Je<w.length;Je++)Z=w[Je],xe=ot+vt(Z,Je),me+=z(Z,U,G,xe,ae);else if(Je=O(w),typeof Je=="function")for(w=Je.call(w),Je=0;!(Z=w.next()).done;)Z=Z.value,xe=ot+vt(Z,Je++),me+=z(Z,U,G,xe,ae);else if(xe==="object"){if(typeof w.then=="function")return z(qt(w),U,G,Z,ae);throw U=String(w),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return me}function V(w,U,G){if(w==null)return w;var Z=[],ae=0;return z(w,Z,"","",function(xe){return U.call(G,xe,ae++)}),Z}function ee(w){if(w._status===-1){var U=w._result;U=U(),U.then(function(G){(w._status===0||w._status===-1)&&(w._status=1,w._result=G)},function(G){(w._status===0||w._status===-1)&&(w._status=2,w._result=G)}),w._status===-1&&(w._status=0,w._result=U)}if(w._status===1)return w._result.default;throw w._result}var Ae=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},Se={map:V,forEach:function(w,U,G){V(w,function(){U.apply(this,arguments)},G)},count:function(w){var U=0;return V(w,function(){U++}),U},toArray:function(w){return V(w,function(U){return U})||[]},only:function(w){if(!st(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return he.Activity=_,he.Children=Se,he.Component=X,he.Fragment=s,he.Profiler=o,he.PureComponent=ge,he.StrictMode=r,he.Suspense=x,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,he.__COMPILER_RUNTIME={__proto__:null,c:function(w){return ue.H.useMemoCache(w)}},he.cache=function(w){return function(){return w.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(w,U,G){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var Z=K({},w.props),ae=w.key;if(U!=null)for(xe in U.key!==void 0&&(ae=""+U.key),U)!Te.call(U,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&U.ref===void 0||(Z[xe]=U[xe]);var xe=arguments.length-2;if(xe===1)Z.children=G;else if(1<xe){for(var me=Array(xe),ot=0;ot<xe;ot++)me[ot]=arguments[ot+2];Z.children=me}return rt(w.type,ae,Z)},he.createContext=function(w){return w={$$typeof:h,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:f,_context:w},w},he.createElement=function(w,U,G){var Z,ae={},xe=null;if(U!=null)for(Z in U.key!==void 0&&(xe=""+U.key),U)Te.call(U,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ae[Z]=U[Z]);var me=arguments.length-2;if(me===1)ae.children=G;else if(1<me){for(var ot=Array(me),Je=0;Je<me;Je++)ot[Je]=arguments[Je+2];ae.children=ot}if(w&&w.defaultProps)for(Z in me=w.defaultProps,me)ae[Z]===void 0&&(ae[Z]=me[Z]);return rt(w,xe,ae)},he.createRef=function(){return{current:null}},he.forwardRef=function(w){return{$$typeof:p,render:w}},he.isValidElement=st,he.lazy=function(w){return{$$typeof:N,_payload:{_status:-1,_result:w},_init:ee}},he.memo=function(w,U){return{$$typeof:g,type:w,compare:U===void 0?null:U}},he.startTransition=function(w){var U=ue.T,G={};ue.T=G;try{var Z=w(),ae=ue.S;ae!==null&&ae(G,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(Ue,Ae)}catch(xe){Ae(xe)}finally{U!==null&&G.types!==null&&(U.types=G.types),ue.T=U}},he.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},he.use=function(w){return ue.H.use(w)},he.useActionState=function(w,U,G){return ue.H.useActionState(w,U,G)},he.useCallback=function(w,U){return ue.H.useCallback(w,U)},he.useContext=function(w){return ue.H.useContext(w)},he.useDebugValue=function(){},he.useDeferredValue=function(w,U){return ue.H.useDeferredValue(w,U)},he.useEffect=function(w,U){return ue.H.useEffect(w,U)},he.useEffectEvent=function(w){return ue.H.useEffectEvent(w)},he.useId=function(){return ue.H.useId()},he.useImperativeHandle=function(w,U,G){return ue.H.useImperativeHandle(w,U,G)},he.useInsertionEffect=function(w,U){return ue.H.useInsertionEffect(w,U)},he.useLayoutEffect=function(w,U){return ue.H.useLayoutEffect(w,U)},he.useMemo=function(w,U){return ue.H.useMemo(w,U)},he.useOptimistic=function(w,U){return ue.H.useOptimistic(w,U)},he.useReducer=function(w,U,G){return ue.H.useReducer(w,U,G)},he.useRef=function(w){return ue.H.useRef(w)},he.useState=function(w){return ue.H.useState(w)},he.useSyncExternalStore=function(w,U,G){return ue.H.useSyncExternalStore(w,U,G)},he.useTransition=function(){return ue.H.useTransition()},he.version="19.2.3",he}var d0;function Qf(){return d0||(d0=1,sf.exports=o1()),sf.exports}var D=Qf();const qr=wx(D);var rf={exports:{}},pr={},of={exports:{}},cf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function c1(){return f0||(f0=1,(function(l){function n(z,V){var ee=z.length;z.push(V);e:for(;0<ee;){var Ae=ee-1>>>1,Se=z[Ae];if(0<o(Se,V))z[Ae]=V,z[ee]=Se,ee=Ae;else break e}}function s(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var V=z[0],ee=z.pop();if(ee!==V){z[0]=ee;e:for(var Ae=0,Se=z.length,w=Se>>>1;Ae<w;){var U=2*(Ae+1)-1,G=z[U],Z=U+1,ae=z[Z];if(0>o(G,ee))Z<Se&&0>o(ae,G)?(z[Ae]=ae,z[Z]=ee,Ae=Z):(z[Ae]=G,z[U]=ee,Ae=U);else if(Z<Se&&0>o(ae,ee))z[Ae]=ae,z[Z]=ee,Ae=Z;else break e}}return V}function o(z,V){var ee=z.sortIndex-V.sortIndex;return ee!==0?ee:z.id-V.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;l.unstable_now=function(){return f.now()}}else{var h=Date,p=h.now();l.unstable_now=function(){return h.now()-p}}var x=[],g=[],N=1,_=null,v=3,O=!1,Y=!1,K=!1,re=!1,X=typeof setTimeout=="function"?setTimeout:null,ce=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;function le(z){for(var V=s(g);V!==null;){if(V.callback===null)r(g);else if(V.startTime<=z)r(g),V.sortIndex=V.expirationTime,n(x,V);else break;V=s(g)}}function Ge(z){if(K=!1,le(z),!Y)if(s(x)!==null)Y=!0,Ue||(Ue=!0,nt());else{var V=s(g);V!==null&&qt(Ge,V.startTime-z)}}var Ue=!1,ue=-1,Te=5,rt=-1;function de(){return re?!0:!(l.unstable_now()-rt<Te)}function st(){if(re=!1,Ue){var z=l.unstable_now();rt=z;var V=!0;try{e:{Y=!1,K&&(K=!1,ce(ue),ue=-1),O=!0;var ee=v;try{t:{for(le(z),_=s(x);_!==null&&!(_.expirationTime>z&&de());){var Ae=_.callback;if(typeof Ae=="function"){_.callback=null,v=_.priorityLevel;var Se=Ae(_.expirationTime<=z);if(z=l.unstable_now(),typeof Se=="function"){_.callback=Se,le(z),V=!0;break t}_===s(x)&&r(x),le(z)}else r(x);_=s(x)}if(_!==null)V=!0;else{var w=s(g);w!==null&&qt(Ge,w.startTime-z),V=!1}}break e}finally{_=null,v=ee,O=!1}V=void 0}}finally{V?nt():Ue=!1}}}var nt;if(typeof ge=="function")nt=function(){ge(st)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,vt=be.port2;be.port1.onmessage=st,nt=function(){vt.postMessage(null)}}else nt=function(){X(st,0)};function qt(z,V){ue=X(function(){z(l.unstable_now())},V)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(z){z.callback=null},l.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Te=0<z?Math.floor(1e3/z):5},l.unstable_getCurrentPriorityLevel=function(){return v},l.unstable_next=function(z){switch(v){case 1:case 2:case 3:var V=3;break;default:V=v}var ee=v;v=V;try{return z()}finally{v=ee}},l.unstable_requestPaint=function(){re=!0},l.unstable_runWithPriority=function(z,V){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ee=v;v=z;try{return V()}finally{v=ee}},l.unstable_scheduleCallback=function(z,V,ee){var Ae=l.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Ae+ee:Ae):ee=Ae,z){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=ee+Se,z={id:N++,callback:V,priorityLevel:z,startTime:ee,expirationTime:Se,sortIndex:-1},ee>Ae?(z.sortIndex=ee,n(g,z),s(x)===null&&z===s(g)&&(K?(ce(ue),ue=-1):K=!0,qt(Ge,ee-Ae))):(z.sortIndex=Se,n(x,z),Y||O||(Y=!0,Ue||(Ue=!0,nt()))),z},l.unstable_shouldYield=de,l.unstable_wrapCallback=function(z){var V=v;return function(){var ee=v;v=V;try{return z.apply(this,arguments)}finally{v=ee}}}})(cf)),cf}var h0;function u1(){return h0||(h0=1,of.exports=c1()),of.exports}var uf={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function d1(){if(m0)return Kt;m0=1;var l=Qf();function n(x){var g="https://react.dev/errors/"+x;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var N=2;N<arguments.length;N++)g+="&args[]="+encodeURIComponent(arguments[N])}return"Minified React error #"+x+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(x,g,N){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:x,containerInfo:g,implementation:N}}var h=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(x,g){if(x==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Kt.createPortal=function(x,g){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return f(x,g,null,N)},Kt.flushSync=function(x){var g=h.T,N=r.p;try{if(h.T=null,r.p=2,x)return x()}finally{h.T=g,r.p=N,r.d.f()}},Kt.preconnect=function(x,g){typeof x=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(x,g))},Kt.prefetchDNS=function(x){typeof x=="string"&&r.d.D(x)},Kt.preinit=function(x,g){if(typeof x=="string"&&g&&typeof g.as=="string"){var N=g.as,_=p(N,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;N==="style"?r.d.S(x,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:O}):N==="script"&&r.d.X(x,{crossOrigin:_,integrity:v,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Kt.preinitModule=function(x,g){if(typeof x=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var N=p(g.as,g.crossOrigin);r.d.M(x,{crossOrigin:N,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(x)},Kt.preload=function(x,g){if(typeof x=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var N=g.as,_=p(N,g.crossOrigin);r.d.L(x,N,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Kt.preloadModule=function(x,g){if(typeof x=="string")if(g){var N=p(g.as,g.crossOrigin);r.d.m(x,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:N,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(x)},Kt.requestFormReset=function(x){r.d.r(x)},Kt.unstable_batchedUpdates=function(x,g){return x(g)},Kt.useFormState=function(x,g,N){return h.H.useFormState(x,g,N)},Kt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Kt.version="19.2.3",Kt}var p0;function f1(){if(p0)return uf.exports;p0=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),uf.exports=d1(),uf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function h1(){if(g0)return pr;g0=1;var l=u1(),n=Qf(),s=f1();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function x(e){if(f(e)!==e)throw Error(r(188))}function g(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,i=t;;){var c=a.return;if(c===null)break;var d=c.alternate;if(d===null){if(i=c.return,i!==null){a=i;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===a)return x(c),e;if(d===i)return x(c),t;d=d.sibling}throw Error(r(188))}if(a.return!==i.return)a=c,i=d;else{for(var m=!1,y=c.child;y;){if(y===a){m=!0,a=c,i=d;break}if(y===i){m=!0,i=c,a=d;break}y=y.sibling}if(!m){for(y=d.child;y;){if(y===a){m=!0,a=d,i=c;break}if(y===i){m=!0,i=d,a=c;break}y=y.sibling}if(!m)throw Error(r(189))}}if(a.alternate!==i)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function N(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=N(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,v=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),re=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),ce=Symbol.for("react.consumer"),ge=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),Ge=Symbol.for("react.suspense"),Ue=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),rt=Symbol.for("react.activity"),de=Symbol.for("react.memo_cache_sentinel"),st=Symbol.iterator;function nt(e){return e===null||typeof e!="object"?null:(e=st&&e[st]||e["@@iterator"],typeof e=="function"?e:null)}var be=Symbol.for("react.client.reference");function vt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===be?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case K:return"Fragment";case X:return"Profiler";case re:return"StrictMode";case Ge:return"Suspense";case Ue:return"SuspenseList";case rt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Y:return"Portal";case ge:return e.displayName||"Context";case ce:return(e._context.displayName||"Context")+".Consumer";case le:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ue:return t=e.displayName||null,t!==null?t:vt(e.type)||"Memo";case Te:t=e._payload,e=e._init;try{return vt(e(t))}catch{}}return null}var qt=Array.isArray,z=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Ae=[],Se=-1;function w(e){return{current:e}}function U(e){0>Se||(e.current=Ae[Se],Ae[Se]=null,Se--)}function G(e,t){Se++,Ae[Se]=e.current,e.current=t}var Z=w(null),ae=w(null),xe=w(null),me=w(null);function ot(e,t){switch(G(xe,t),G(ae,e),G(Z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Dg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Dg(t),e=Mg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(Z),G(Z,e)}function Je(){U(Z),U(ae),U(xe)}function Gn(e){e.memoizedState!==null&&G(me,e);var t=Z.current,a=Mg(t,e.type);t!==a&&(G(ae,e),G(Z,a))}function Ia(e){ae.current===e&&(U(Z),U(ae)),me.current===e&&(U(me),ur._currentValue=ee)}var Vn,ia;function Jt(e){if(Vn===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Vn=t&&t[1]||"",ia=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vn+e+ia}var Ve=!1;function $(e,t){if(!e||Ve)return"";Ve=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(M){var k=M}Reflect.construct(e,[],H)}else{try{H.call()}catch(M){k=M}e.call(H.prototype)}}else{try{throw Error()}catch(M){k=M}(H=e())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(M){if(M&&k&&typeof M.stack=="string")return[M.stack,k.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=i.DetermineComponentFrameRoot(),m=d[0],y=d[1];if(m&&y){var S=m.split(`
`),A=y.split(`
`);for(c=i=0;i<S.length&&!S[i].includes("DetermineComponentFrameRoot");)i++;for(;c<A.length&&!A[c].includes("DetermineComponentFrameRoot");)c++;if(i===S.length||c===A.length)for(i=S.length-1,c=A.length-1;1<=i&&0<=c&&S[i]!==A[c];)c--;for(;1<=i&&0<=c;i--,c--)if(S[i]!==A[c]){if(i!==1||c!==1)do if(i--,c--,0>c||S[i]!==A[c]){var L=`
`+S[i].replace(" at new "," at ");return e.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",e.displayName)),L}while(1<=i&&0<=c);break}}}finally{Ve=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Jt(a):""}function pt(e,t){switch(e.tag){case 26:case 27:case 5:return Jt(e.type);case 16:return Jt("Lazy");case 13:return e.child!==t&&t!==null?Jt("Suspense Fallback"):Jt("Suspense");case 19:return Jt("SuspenseList");case 0:case 15:return $(e.type,!1);case 11:return $(e.type.render,!1);case 1:return $(e.type,!0);case 31:return Jt("Activity");default:return""}}function He(e){try{var t="",a=null;do t+=pt(e,a),a=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var On=Object.prototype.hasOwnProperty,Yt=l.unstable_scheduleCallback,Sn=l.unstable_cancelCallback,as=l.unstable_shouldYield,nu=l.unstable_requestPaint,Wt=l.unstable_now,au=l.unstable_getCurrentPriorityLevel,Cl=l.unstable_ImmediatePriority,El=l.unstable_UserBlockingPriority,ra=l.unstable_NormalPriority,bi=l.unstable_LowPriority,ls=l.unstable_IdlePriority,Jr=l.log,Pn=l.unstable_setDisableYieldValue,Qn=null,Gt=null;function Rn(e){if(typeof Jr=="function"&&Pn(e),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Qn,e)}catch{}}var en=Math.clz32?Math.clz32:lu,ss=Math.log,_i=Math.LN2;function lu(e){return e>>>=0,e===0?32:31-(ss(e)/_i|0)|0}var is=256,rs=262144,Ha=4194304;function gt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ba(e,t,a){var i=e.pendingLanes;if(i===0)return 0;var c=0,d=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var y=i&134217727;return y!==0?(i=y&~d,i!==0?c=gt(i):(m&=y,m!==0?c=gt(m):a||(a=y&~e,a!==0&&(c=gt(a))))):(y=i&~d,y!==0?c=gt(y):m!==0?c=gt(m):a||(a=i&~e,a!==0&&(c=gt(a)))),c===0?0:t!==0&&t!==c&&(t&d)===0&&(d=c&-c,a=t&-t,d>=a||d===32&&(a&4194048)!==0)?t:c}function Vt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Wr(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function os(){var e=Ha;return Ha<<=1,(Ha&62914560)===0&&(Ha=4194304),e}function eo(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function oa(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function cs(e,t,a,i,c,d){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var y=e.entanglements,S=e.expirationTimes,A=e.hiddenUpdates;for(a=m&~a;0<a;){var L=31-en(a),H=1<<L;y[L]=0,S[L]=-1;var k=A[L];if(k!==null)for(A[L]=null,L=0;L<k.length;L++){var M=k[L];M!==null&&(M.lane&=-536870913)}a&=~H}i!==0&&to(e,i,0),d!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=d&~(m&~t))}function to(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-en(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|a&261930}function ca(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var i=31-en(a),c=1<<i;c&t|e[i]&t&&(e[i]|=t),a&=~c}}function Si(e,t){var a=t&-t;return a=(a&42)!==0?1:qa(a),(a&(e.suspendedLanes|t))!==0?0:a}function qa(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function jl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ot(){var e=V.p;return e!==0?e:(e=window.event,e===void 0?32:t0(e.type))}function us(e,t){var a=V.p;try{return V.p=e,t()}finally{V.p=a}}var sn=Math.random().toString(36).slice(2),ct="__reactFiber$"+sn,tn="__reactProps$"+sn,ua="__reactContainer$"+sn,no="__reactEvents$"+sn,ao="__reactListeners$"+sn,Rh="__reactHandles$"+sn,su="__reactResources$"+sn,Fn="__reactMarker$"+sn;function ds(e){delete e[ct],delete e[tn],delete e[no],delete e[ao],delete e[Rh]}function Xn(e){var t=e[ct];if(t)return t;for(var a=e.parentNode;a;){if(t=a[ua]||a[ct]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Ig(e);e!==null;){if(a=e[ct])return a;e=Ig(e)}return t}e=a,a=e.parentNode}return null}function da(e){if(e=e[ct]||e[ua]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function fa(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function ha(e){var t=e[su];return t||(t=e[su]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ut(e){e[Fn]=!0}var Ni=new Set,wi={};function Kn(e,t){Ya(e,t),Ya(e+"Capture",t)}function Ya(e,t){for(wi[e]=t,e=0;e<t.length;e++)Ni.add(t[e])}var iu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fs={},lo={};function so(e){return On.call(lo,e)?!0:On.call(fs,e)?!1:iu.test(e)?lo[e]=!0:(fs[e]=!0,!1)}function rn(e,t,a){if(so(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Ga(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Rt(e,t,a,i){if(i===null)e.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+i)}}function zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Tl(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hs(e,t,a){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,d=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(m){a=""+m,d.call(this,m)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ms(e){if(!e._valueTracker){var t=Tl(e)?"checked":"value";e._valueTracker=hs(e,t,""+e[t])}}function ps(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),i="";return e&&(i=Tl(e)?e.checked?"true":"false":e.value),e=i,e!==a?(t.setValue(e),!0):!1}function Al(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var b=/[\n"\\]/g;function on(e){return e.replace(b,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Va(e,t,a,i,c,d,m,y){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+zt(t)):e.value!==""+zt(t)&&(e.value=""+zt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?ma(e,m,zt(t)):a!=null?ma(e,m,zt(a)):i!=null&&e.removeAttribute("value"),c==null&&d!=null&&(e.defaultChecked=!!d),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+zt(y):e.removeAttribute("name")}function Ie(e,t,a,i,c,d,m,y){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){ms(e);return}a=a!=null?""+zt(a):"",t=t!=null?""+zt(t):a,y||t===e.value||(e.value=t),e.defaultValue=t}i=i??c,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=y?e.checked:!!i,e.defaultChecked=!!i,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),ms(e)}function ma(e,t,a){t==="number"&&Al(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function zn(e,t,a,i){if(e=e.options,t){t={};for(var c=0;c<a.length;c++)t["$"+a[c]]=!0;for(a=0;a<e.length;a++)c=t.hasOwnProperty("$"+e[a].value),e[a].selected!==c&&(e[a].selected=c),c&&i&&(e[a].defaultSelected=!0)}else{for(a=""+zt(a),t=null,c=0;c<e.length;c++){if(e[c].value===a){e[c].selected=!0,i&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function io(e,t,a){if(t!=null&&(t=""+zt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+zt(a):""}function ro(e,t,a,i){if(t==null){if(i!=null){if(a!=null)throw Error(r(92));if(qt(i)){if(1<i.length)throw Error(r(93));i=i[0]}a=i}a==null&&(a=""),t=a}a=zt(t),e.defaultValue=a,i=e.textContent,i===a&&i!==""&&i!==null&&(e.value=i),ms(e)}function pa(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var ru=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gs(e,t,a){var i=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,a):typeof a!="number"||a===0||ru.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function oo(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var i in a)!a.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var c in t)i=t[c],t.hasOwnProperty(c)&&a[c]!==i&&gs(e,c,i)}else for(var d in t)t.hasOwnProperty(d)&&gs(e,d,t[d])}function Ci(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var co=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ou=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xs(e){return ou.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ln(){}var Ei=null;function ji(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pa=null,Qa=null;function uo(e){var t=da(e);if(t&&(e=t.stateNode)){var a=e[tn]||null;e:switch(e=t.stateNode,t.type){case"input":if(Va(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var i=a[t];if(i!==e&&i.form===e.form){var c=i[tn]||null;if(!c)throw Error(r(90));Va(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<a.length;t++)i=a[t],i.form===e.form&&ps(i)}break e;case"textarea":io(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&zn(e,!!a.multiple,t,!1)}}}var Ti=!1;function fo(e,t,a){if(Ti)return e(t,a);Ti=!0;try{var i=e(t);return i}finally{if(Ti=!1,(Pa!==null||Qa!==null)&&(Ko(),Pa&&(t=Pa,e=Qa,Qa=Pa=null,uo(t),e)))for(t=0;t<e.length;t++)uo(e[t])}}function kl(e,t){var a=e.stateNode;if(a===null)return null;var i=a[tn]||null;if(i===null)return null;a=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ai=!1;if($n)try{var Pt={};Object.defineProperty(Pt,"passive",{get:function(){Ai=!0}}),window.addEventListener("test",Pt,Pt),window.removeEventListener("test",Pt,Pt)}catch{Ai=!1}var Zn=null,ki=null,ys=null;function ho(){if(ys)return ys;var e,t=ki,a=t.length,i,c="value"in Zn?Zn.value:Zn.textContent,d=c.length;for(e=0;e<a&&t[e]===c[e];e++);var m=a-e;for(i=1;i<=m&&t[a-i]===c[d-i];i++);return ys=c.slice(e,1<i?1-i:void 0)}function vs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bs(){return!0}function mo(){return!1}function Qt(e){function t(a,i,c,d,m){this._reactName=a,this._targetInst=c,this.type=i,this.nativeEvent=d,this.target=m,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(a=e[y],this[y]=a?a(d):d[y]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?bs:mo,this.isPropagationStopped=mo,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),t}var ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_s=Qt(ga),Dl=_({},ga,{view:0,detail:0}),E=Qt(Dl),B,R,q,P=_({},Dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==q&&(q&&e.type==="mousemove"?(B=e.screenX-q.screenX,R=e.screenY-q.screenY):R=B=0,q=e),B)},movementY:function(e){return"movementY"in e?e.movementY:R}}),te=Qt(P),F=_({},P,{dataTransfer:0}),ke=Qt(F),pe=_({},Dl,{relatedTarget:0}),Ft=Qt(pe),At=_({},ga,{animationName:0,elapsedTime:0,pseudoElement:0}),Xt=Qt(At),xa=_({},ga,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dv=Qt(xa),fv=_({},ga,{data:0}),zh=Qt(fv),hv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pv[e])?!!t[e]:!1}function cu(){return gv}var xv=_({},Dl,{key:function(e){if(e.key){var t=hv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cu,charCode:function(e){return e.type==="keypress"?vs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yv=Qt(xv),vv=_({},P,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lh=Qt(vv),bv=_({},Dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cu}),_v=Qt(bv),Sv=_({},ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nv=Qt(Sv),wv=_({},P,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cv=Qt(wv),Ev=_({},ga,{newState:0,oldState:0}),jv=Qt(Ev),Tv=[9,13,27,32],uu=$n&&"CompositionEvent"in window,Di=null;$n&&"documentMode"in document&&(Di=document.documentMode);var Av=$n&&"TextEvent"in window&&!Di,$h=$n&&(!uu||Di&&8<Di&&11>=Di),Uh=" ",Ih=!1;function Hh(e,t){switch(e){case"keyup":return Tv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ss=!1;function kv(e,t){switch(e){case"compositionend":return Bh(t);case"keypress":return t.which!==32?null:(Ih=!0,Uh);case"textInput":return e=t.data,e===Uh&&Ih?null:e;default:return null}}function Dv(e,t){if(Ss)return e==="compositionend"||!uu&&Hh(e,t)?(e=ho(),ys=ki=Zn=null,Ss=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $h&&t.locale!=="ko"?null:t.data;default:return null}}var Mv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Mv[e.type]:t==="textarea"}function Yh(e,t,a,i){Pa?Qa?Qa.push(i):Qa=[i]:Pa=i,t=ac(t,"onChange"),0<t.length&&(a=new _s("onChange","change",null,a,i),e.push({event:a,listeners:t}))}var Mi=null,Oi=null;function Ov(e){Cg(e,0)}function po(e){var t=fa(e);if(ps(t))return e}function Gh(e,t){if(e==="change")return t}var Vh=!1;if($n){var du;if($n){var fu="oninput"in document;if(!fu){var Ph=document.createElement("div");Ph.setAttribute("oninput","return;"),fu=typeof Ph.oninput=="function"}du=fu}else du=!1;Vh=du&&(!document.documentMode||9<document.documentMode)}function Qh(){Mi&&(Mi.detachEvent("onpropertychange",Fh),Oi=Mi=null)}function Fh(e){if(e.propertyName==="value"&&po(Oi)){var t=[];Yh(t,Oi,e,ji(e)),fo(Ov,t)}}function Rv(e,t,a){e==="focusin"?(Qh(),Mi=t,Oi=a,Mi.attachEvent("onpropertychange",Fh)):e==="focusout"&&Qh()}function zv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return po(Oi)}function Lv(e,t){if(e==="click")return po(t)}function $v(e,t){if(e==="input"||e==="change")return po(t)}function Uv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pn=typeof Object.is=="function"?Object.is:Uv;function Ri(e,t){if(pn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(i=0;i<a.length;i++){var c=a[i];if(!On.call(t,c)||!pn(e[c],t[c]))return!1}return!0}function Xh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kh(e,t){var a=Xh(e);e=0;for(var i;a;){if(a.nodeType===3){if(i=e+a.textContent.length,e<=t&&i>=t)return{node:a,offset:t-e};e=i}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Xh(a)}}function Zh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Jh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Al(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Al(e.document)}return t}function hu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Iv=$n&&"documentMode"in document&&11>=document.documentMode,Ns=null,mu=null,zi=null,pu=!1;function Wh(e,t,a){var i=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pu||Ns==null||Ns!==Al(i)||(i=Ns,"selectionStart"in i&&hu(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),zi&&Ri(zi,i)||(zi=i,i=ac(mu,"onSelect"),0<i.length&&(t=new _s("onSelect","select",null,t,a),e.push({event:t,listeners:i}),t.target=Ns)))}function Ml(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var ws={animationend:Ml("Animation","AnimationEnd"),animationiteration:Ml("Animation","AnimationIteration"),animationstart:Ml("Animation","AnimationStart"),transitionrun:Ml("Transition","TransitionRun"),transitionstart:Ml("Transition","TransitionStart"),transitioncancel:Ml("Transition","TransitionCancel"),transitionend:Ml("Transition","TransitionEnd")},gu={},em={};$n&&(em=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function Ol(e){if(gu[e])return gu[e];if(!ws[e])return e;var t=ws[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in em)return gu[e]=t[a];return e}var tm=Ol("animationend"),nm=Ol("animationiteration"),am=Ol("animationstart"),Hv=Ol("transitionrun"),Bv=Ol("transitionstart"),qv=Ol("transitioncancel"),lm=Ol("transitionend"),sm=new Map,xu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xu.push("scrollEnd");function Un(e,t){sm.set(e,t),Kn(t,[e])}var go=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Nn=[],Cs=0,yu=0;function xo(){for(var e=Cs,t=yu=Cs=0;t<e;){var a=Nn[t];Nn[t++]=null;var i=Nn[t];Nn[t++]=null;var c=Nn[t];Nn[t++]=null;var d=Nn[t];if(Nn[t++]=null,i!==null&&c!==null){var m=i.pending;m===null?c.next=c:(c.next=m.next,m.next=c),i.pending=c}d!==0&&im(a,c,d)}}function yo(e,t,a,i){Nn[Cs++]=e,Nn[Cs++]=t,Nn[Cs++]=a,Nn[Cs++]=i,yu|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function vu(e,t,a,i){return yo(e,t,a,i),vo(e)}function Rl(e,t){return yo(e,null,null,t),vo(e)}function im(e,t,a){e.lanes|=a;var i=e.alternate;i!==null&&(i.lanes|=a);for(var c=!1,d=e.return;d!==null;)d.childLanes|=a,i=d.alternate,i!==null&&(i.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(c=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,c&&t!==null&&(c=31-en(a),e=d.hiddenUpdates,i=e[c],i===null?e[c]=[t]:i.push(t),t.lane=a|536870912),d):null}function vo(e){if(50<ar)throw ar=0,Td=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Es={};function Yv(e,t,a,i){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,t,a,i){return new Yv(e,t,a,i)}function bu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ya(e,t){var a=e.alternate;return a===null?(a=gn(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function rm(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function bo(e,t,a,i,c,d){var m=0;if(i=e,typeof e=="function")bu(e)&&(m=1);else if(typeof e=="string")m=Fb(e,a,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case rt:return e=gn(31,a,t,c),e.elementType=rt,e.lanes=d,e;case K:return zl(a.children,c,d,t);case re:m=8,c|=24;break;case X:return e=gn(12,a,t,c|2),e.elementType=X,e.lanes=d,e;case Ge:return e=gn(13,a,t,c),e.elementType=Ge,e.lanes=d,e;case Ue:return e=gn(19,a,t,c),e.elementType=Ue,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ge:m=10;break e;case ce:m=9;break e;case le:m=11;break e;case ue:m=14;break e;case Te:m=16,i=null;break e}m=29,a=Error(r(130,e===null?"null":typeof e,"")),i=null}return t=gn(m,a,t,c),t.elementType=e,t.type=i,t.lanes=d,t}function zl(e,t,a,i){return e=gn(7,e,i,t),e.lanes=a,e}function _u(e,t,a){return e=gn(6,e,null,t),e.lanes=a,e}function om(e){var t=gn(18,null,null,0);return t.stateNode=e,t}function Su(e,t,a){return t=gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var cm=new WeakMap;function wn(e,t){if(typeof e=="object"&&e!==null){var a=cm.get(e);return a!==void 0?a:(t={value:e,source:t,stack:He(t)},cm.set(e,t),t)}return{value:e,source:t,stack:He(t)}}var js=[],Ts=0,_o=null,Li=0,Cn=[],En=0,Fa=null,Jn=1,Wn="";function va(e,t){js[Ts++]=Li,js[Ts++]=_o,_o=e,Li=t}function um(e,t,a){Cn[En++]=Jn,Cn[En++]=Wn,Cn[En++]=Fa,Fa=e;var i=Jn;e=Wn;var c=32-en(i)-1;i&=~(1<<c),a+=1;var d=32-en(t)+c;if(30<d){var m=c-c%5;d=(i&(1<<m)-1).toString(32),i>>=m,c-=m,Jn=1<<32-en(t)+c|a<<c|i,Wn=d+e}else Jn=1<<d|a<<c|i,Wn=e}function Nu(e){e.return!==null&&(va(e,1),um(e,1,0))}function wu(e){for(;e===_o;)_o=js[--Ts],js[Ts]=null,Li=js[--Ts],js[Ts]=null;for(;e===Fa;)Fa=Cn[--En],Cn[En]=null,Wn=Cn[--En],Cn[En]=null,Jn=Cn[--En],Cn[En]=null}function dm(e,t){Cn[En++]=Jn,Cn[En++]=Wn,Cn[En++]=Fa,Jn=t.id,Wn=t.overflow,Fa=e}var Lt=null,at=null,Oe=!1,Xa=null,jn=!1,Cu=Error(r(519));function Ka(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $i(wn(t,e)),Cu}function fm(e){var t=e.stateNode,a=e.type,i=e.memoizedProps;switch(t[ct]=e,t[tn]=i,a){case"dialog":Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":case"embed":Ee("load",t);break;case"video":case"audio":for(a=0;a<sr.length;a++)Ee(sr[a],t);break;case"source":Ee("error",t);break;case"img":case"image":case"link":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"input":Ee("invalid",t),Ie(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":Ee("invalid",t);break;case"textarea":Ee("invalid",t),ro(t,i.value,i.defaultValue,i.children)}a=i.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||i.suppressHydrationWarning===!0||Ag(t.textContent,a)?(i.popover!=null&&(Ee("beforetoggle",t),Ee("toggle",t)),i.onScroll!=null&&Ee("scroll",t),i.onScrollEnd!=null&&Ee("scrollend",t),i.onClick!=null&&(t.onclick=Ln),t=!0):t=!1,t||Ka(e,!0)}function hm(e){for(Lt=e.return;Lt;)switch(Lt.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Lt=Lt.return}}function As(e){if(e!==Lt)return!1;if(!Oe)return hm(e),Oe=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Yd(e.type,e.memoizedProps)),a=!a),a&&at&&Ka(e),hm(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));at=Ug(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));at=Ug(e)}else t===27?(t=at,ul(e.type)?(e=Fd,Fd=null,at=e):at=t):at=Lt?An(e.stateNode.nextSibling):null;return!0}function Ll(){at=Lt=null,Oe=!1}function Eu(){var e=Xa;return e!==null&&(fn===null?fn=e:fn.push.apply(fn,e),Xa=null),e}function $i(e){Xa===null?Xa=[e]:Xa.push(e)}var ju=w(null),$l=null,ba=null;function Za(e,t,a){G(ju,t._currentValue),t._currentValue=a}function _a(e){e._currentValue=ju.current,U(ju)}function Tu(e,t,a){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===a)break;e=e.return}}function Au(e,t,a,i){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var d=c.dependencies;if(d!==null){var m=c.child;d=d.firstContext;e:for(;d!==null;){var y=d;d=c;for(var S=0;S<t.length;S++)if(y.context===t[S]){d.lanes|=a,y=d.alternate,y!==null&&(y.lanes|=a),Tu(d.return,a,e),i||(m=null);break e}d=y.next}}else if(c.tag===18){if(m=c.return,m===null)throw Error(r(341));m.lanes|=a,d=m.alternate,d!==null&&(d.lanes|=a),Tu(m,a,e),m=null}else m=c.child;if(m!==null)m.return=c;else for(m=c;m!==null;){if(m===e){m=null;break}if(c=m.sibling,c!==null){c.return=m.return,m=c;break}m=m.return}c=m}}function ks(e,t,a,i){e=null;for(var c=t,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var m=c.alternate;if(m===null)throw Error(r(387));if(m=m.memoizedProps,m!==null){var y=c.type;pn(c.pendingProps.value,m.value)||(e!==null?e.push(y):e=[y])}}else if(c===me.current){if(m=c.alternate,m===null)throw Error(r(387));m.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(ur):e=[ur])}c=c.return}e!==null&&Au(t,e,a,i),t.flags|=262144}function So(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ul(e){$l=e,ba=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $t(e){return mm($l,e)}function No(e,t){return $l===null&&Ul(e),mm(e,t)}function mm(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ba===null){if(e===null)throw Error(r(308));ba=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ba=ba.next=t;return a}var Gv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Vv=l.unstable_scheduleCallback,Pv=l.unstable_NormalPriority,bt={$$typeof:ge,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ku(){return{controller:new Gv,data:new Map,refCount:0}}function Ui(e){e.refCount--,e.refCount===0&&Vv(Pv,function(){e.controller.abort()})}var Ii=null,Du=0,Ds=0,Ms=null;function Qv(e,t){if(Ii===null){var a=Ii=[];Du=0,Ds=Rd(),Ms={status:"pending",value:void 0,then:function(i){a.push(i)}}}return Du++,t.then(pm,pm),t}function pm(){if(--Du===0&&Ii!==null){Ms!==null&&(Ms.status="fulfilled");var e=Ii;Ii=null,Ds=0,Ms=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Fv(e,t){var a=[],i={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var c=0;c<a.length;c++)(0,a[c])(t)},function(c){for(i.status="rejected",i.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),i}var gm=z.S;z.S=function(e,t){Wp=Wt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Qv(e,t),gm!==null&&gm(e,t)};var Il=w(null);function Mu(){var e=Il.current;return e!==null?e:Ze.pooledCache}function wo(e,t){t===null?G(Il,Il.current):G(Il,t.pool)}function xm(){var e=Mu();return e===null?null:{parent:bt._currentValue,pool:e}}var Os=Error(r(460)),Ou=Error(r(474)),Co=Error(r(542)),Eo={then:function(){}};function ym(e){return e=e.status,e==="fulfilled"||e==="rejected"}function vm(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Ln,Ln),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_m(e),e;default:if(typeof t.status=="string")t.then(Ln,Ln);else{if(e=Ze,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=i}},function(i){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_m(e),e}throw Bl=t,Os}}function Hl(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Bl=a,Os):a}}var Bl=null;function bm(){if(Bl===null)throw Error(r(459));var e=Bl;return Bl=null,e}function _m(e){if(e===Os||e===Co)throw Error(r(483))}var Rs=null,Hi=0;function jo(e){var t=Hi;return Hi+=1,Rs===null&&(Rs=[]),vm(Rs,e,t)}function Bi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function To(e,t){throw t.$$typeof===v?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Sm(e){function t(j,C){if(e){var T=j.deletions;T===null?(j.deletions=[C],j.flags|=16):T.push(C)}}function a(j,C){if(!e)return null;for(;C!==null;)t(j,C),C=C.sibling;return null}function i(j){for(var C=new Map;j!==null;)j.key!==null?C.set(j.key,j):C.set(j.index,j),j=j.sibling;return C}function c(j,C){return j=ya(j,C),j.index=0,j.sibling=null,j}function d(j,C,T){return j.index=T,e?(T=j.alternate,T!==null?(T=T.index,T<C?(j.flags|=67108866,C):T):(j.flags|=67108866,C)):(j.flags|=1048576,C)}function m(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function y(j,C,T,I){return C===null||C.tag!==6?(C=_u(T,j.mode,I),C.return=j,C):(C=c(C,T),C.return=j,C)}function S(j,C,T,I){var ne=T.type;return ne===K?L(j,C,T.props.children,I,T.key):C!==null&&(C.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===Te&&Hl(ne)===C.type)?(C=c(C,T.props),Bi(C,T),C.return=j,C):(C=bo(T.type,T.key,T.props,null,j.mode,I),Bi(C,T),C.return=j,C)}function A(j,C,T,I){return C===null||C.tag!==4||C.stateNode.containerInfo!==T.containerInfo||C.stateNode.implementation!==T.implementation?(C=Su(T,j.mode,I),C.return=j,C):(C=c(C,T.children||[]),C.return=j,C)}function L(j,C,T,I,ne){return C===null||C.tag!==7?(C=zl(T,j.mode,I,ne),C.return=j,C):(C=c(C,T),C.return=j,C)}function H(j,C,T){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=_u(""+C,j.mode,T),C.return=j,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case O:return T=bo(C.type,C.key,C.props,null,j.mode,T),Bi(T,C),T.return=j,T;case Y:return C=Su(C,j.mode,T),C.return=j,C;case Te:return C=Hl(C),H(j,C,T)}if(qt(C)||nt(C))return C=zl(C,j.mode,T,null),C.return=j,C;if(typeof C.then=="function")return H(j,jo(C),T);if(C.$$typeof===ge)return H(j,No(j,C),T);To(j,C)}return null}function k(j,C,T,I){var ne=C!==null?C.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return ne!==null?null:y(j,C,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case O:return T.key===ne?S(j,C,T,I):null;case Y:return T.key===ne?A(j,C,T,I):null;case Te:return T=Hl(T),k(j,C,T,I)}if(qt(T)||nt(T))return ne!==null?null:L(j,C,T,I,null);if(typeof T.then=="function")return k(j,C,jo(T),I);if(T.$$typeof===ge)return k(j,C,No(j,T),I);To(j,T)}return null}function M(j,C,T,I,ne){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return j=j.get(T)||null,y(C,j,""+I,ne);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case O:return j=j.get(I.key===null?T:I.key)||null,S(C,j,I,ne);case Y:return j=j.get(I.key===null?T:I.key)||null,A(C,j,I,ne);case Te:return I=Hl(I),M(j,C,T,I,ne)}if(qt(I)||nt(I))return j=j.get(T)||null,L(C,j,I,ne,null);if(typeof I.then=="function")return M(j,C,T,jo(I),ne);if(I.$$typeof===ge)return M(j,C,T,No(C,I),ne);To(C,I)}return null}function J(j,C,T,I){for(var ne=null,Re=null,W=C,_e=C=0,Me=null;W!==null&&_e<T.length;_e++){W.index>_e?(Me=W,W=null):Me=W.sibling;var ze=k(j,W,T[_e],I);if(ze===null){W===null&&(W=Me);break}e&&W&&ze.alternate===null&&t(j,W),C=d(ze,C,_e),Re===null?ne=ze:Re.sibling=ze,Re=ze,W=Me}if(_e===T.length)return a(j,W),Oe&&va(j,_e),ne;if(W===null){for(;_e<T.length;_e++)W=H(j,T[_e],I),W!==null&&(C=d(W,C,_e),Re===null?ne=W:Re.sibling=W,Re=W);return Oe&&va(j,_e),ne}for(W=i(W);_e<T.length;_e++)Me=M(W,j,_e,T[_e],I),Me!==null&&(e&&Me.alternate!==null&&W.delete(Me.key===null?_e:Me.key),C=d(Me,C,_e),Re===null?ne=Me:Re.sibling=Me,Re=Me);return e&&W.forEach(function(pl){return t(j,pl)}),Oe&&va(j,_e),ne}function ie(j,C,T,I){if(T==null)throw Error(r(151));for(var ne=null,Re=null,W=C,_e=C=0,Me=null,ze=T.next();W!==null&&!ze.done;_e++,ze=T.next()){W.index>_e?(Me=W,W=null):Me=W.sibling;var pl=k(j,W,ze.value,I);if(pl===null){W===null&&(W=Me);break}e&&W&&pl.alternate===null&&t(j,W),C=d(pl,C,_e),Re===null?ne=pl:Re.sibling=pl,Re=pl,W=Me}if(ze.done)return a(j,W),Oe&&va(j,_e),ne;if(W===null){for(;!ze.done;_e++,ze=T.next())ze=H(j,ze.value,I),ze!==null&&(C=d(ze,C,_e),Re===null?ne=ze:Re.sibling=ze,Re=ze);return Oe&&va(j,_e),ne}for(W=i(W);!ze.done;_e++,ze=T.next())ze=M(W,j,_e,ze.value,I),ze!==null&&(e&&ze.alternate!==null&&W.delete(ze.key===null?_e:ze.key),C=d(ze,C,_e),Re===null?ne=ze:Re.sibling=ze,Re=ze);return e&&W.forEach(function(s1){return t(j,s1)}),Oe&&va(j,_e),ne}function Fe(j,C,T,I){if(typeof T=="object"&&T!==null&&T.type===K&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case O:e:{for(var ne=T.key;C!==null;){if(C.key===ne){if(ne=T.type,ne===K){if(C.tag===7){a(j,C.sibling),I=c(C,T.props.children),I.return=j,j=I;break e}}else if(C.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===Te&&Hl(ne)===C.type){a(j,C.sibling),I=c(C,T.props),Bi(I,T),I.return=j,j=I;break e}a(j,C);break}else t(j,C);C=C.sibling}T.type===K?(I=zl(T.props.children,j.mode,I,T.key),I.return=j,j=I):(I=bo(T.type,T.key,T.props,null,j.mode,I),Bi(I,T),I.return=j,j=I)}return m(j);case Y:e:{for(ne=T.key;C!==null;){if(C.key===ne)if(C.tag===4&&C.stateNode.containerInfo===T.containerInfo&&C.stateNode.implementation===T.implementation){a(j,C.sibling),I=c(C,T.children||[]),I.return=j,j=I;break e}else{a(j,C);break}else t(j,C);C=C.sibling}I=Su(T,j.mode,I),I.return=j,j=I}return m(j);case Te:return T=Hl(T),Fe(j,C,T,I)}if(qt(T))return J(j,C,T,I);if(nt(T)){if(ne=nt(T),typeof ne!="function")throw Error(r(150));return T=ne.call(T),ie(j,C,T,I)}if(typeof T.then=="function")return Fe(j,C,jo(T),I);if(T.$$typeof===ge)return Fe(j,C,No(j,T),I);To(j,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,C!==null&&C.tag===6?(a(j,C.sibling),I=c(C,T),I.return=j,j=I):(a(j,C),I=_u(T,j.mode,I),I.return=j,j=I),m(j)):a(j,C)}return function(j,C,T,I){try{Hi=0;var ne=Fe(j,C,T,I);return Rs=null,ne}catch(W){if(W===Os||W===Co)throw W;var Re=gn(29,W,null,j.mode);return Re.lanes=I,Re.return=j,Re}finally{}}}var ql=Sm(!0),Nm=Sm(!1),Ja=!1;function Ru(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Wa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function el(e,t,a){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,($e&2)!==0){var c=i.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),i.pending=t,t=vo(e),im(e,null,a),t}return yo(e,i,t,a),vo(e)}function qi(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,ca(e,a)}}function Lu(e,t){var a=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,a===i)){var c=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?c=d=m:d=d.next=m,a=a.next}while(a!==null);d===null?c=d=t:d=d.next=t}else c=d=t;a={baseState:i.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:i.shared,callbacks:i.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var $u=!1;function Yi(){if($u){var e=Ms;if(e!==null)throw e}}function Gi(e,t,a,i){$u=!1;var c=e.updateQueue;Ja=!1;var d=c.firstBaseUpdate,m=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var S=y,A=S.next;S.next=null,m===null?d=A:m.next=A,m=S;var L=e.alternate;L!==null&&(L=L.updateQueue,y=L.lastBaseUpdate,y!==m&&(y===null?L.firstBaseUpdate=A:y.next=A,L.lastBaseUpdate=S))}if(d!==null){var H=c.baseState;m=0,L=A=S=null,y=d;do{var k=y.lane&-536870913,M=k!==y.lane;if(M?(De&k)===k:(i&k)===k){k!==0&&k===Ds&&($u=!0),L!==null&&(L=L.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var J=e,ie=y;k=t;var Fe=a;switch(ie.tag){case 1:if(J=ie.payload,typeof J=="function"){H=J.call(Fe,H,k);break e}H=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=ie.payload,k=typeof J=="function"?J.call(Fe,H,k):J,k==null)break e;H=_({},H,k);break e;case 2:Ja=!0}}k=y.callback,k!==null&&(e.flags|=64,M&&(e.flags|=8192),M=c.callbacks,M===null?c.callbacks=[k]:M.push(k))}else M={lane:k,tag:y.tag,payload:y.payload,callback:y.callback,next:null},L===null?(A=L=M,S=H):L=L.next=M,m|=k;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;M=y,y=M.next,M.next=null,c.lastBaseUpdate=M,c.shared.pending=null}}while(!0);L===null&&(S=H),c.baseState=S,c.firstBaseUpdate=A,c.lastBaseUpdate=L,d===null&&(c.shared.lanes=0),sl|=m,e.lanes=m,e.memoizedState=H}}function wm(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Cm(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)wm(a[e],t)}var zs=w(null),Ao=w(0);function Em(e,t){e=ka,G(Ao,e),G(zs,t),ka=e|t.baseLanes}function Uu(){G(Ao,ka),G(zs,zs.current)}function Iu(){ka=Ao.current,U(zs),U(Ao)}var xn=w(null),Tn=null;function tl(e){var t=e.alternate;G(xt,xt.current&1),G(xn,e),Tn===null&&(t===null||zs.current!==null||t.memoizedState!==null)&&(Tn=e)}function Hu(e){G(xt,xt.current),G(xn,e),Tn===null&&(Tn=e)}function jm(e){e.tag===22?(G(xt,xt.current),G(xn,e),Tn===null&&(Tn=e)):nl()}function nl(){G(xt,xt.current),G(xn,xn.current)}function yn(e){U(xn),Tn===e&&(Tn=null),U(xt)}var xt=w(0);function ko(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Pd(a)||Qd(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sa=0,ye=null,Pe=null,_t=null,Do=!1,Ls=!1,Yl=!1,Mo=0,Vi=0,$s=null,Xv=0;function dt(){throw Error(r(321))}function Bu(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!pn(e[a],t[a]))return!1;return!0}function qu(e,t,a,i,c,d){return Sa=d,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?up:ad,Yl=!1,d=a(i,c),Yl=!1,Ls&&(d=Am(t,a,i,c)),Tm(e),d}function Tm(e){z.H=Fi;var t=Pe!==null&&Pe.next!==null;if(Sa=0,_t=Pe=ye=null,Do=!1,Vi=0,$s=null,t)throw Error(r(300));e===null||St||(e=e.dependencies,e!==null&&So(e)&&(St=!0))}function Am(e,t,a,i){ye=e;var c=0;do{if(Ls&&($s=null),Vi=0,Ls=!1,25<=c)throw Error(r(301));if(c+=1,_t=Pe=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}z.H=dp,d=t(a,i)}while(Ls);return d}function Kv(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?Pi(t):t,e=e.useState()[0],(Pe!==null?Pe.memoizedState:null)!==e&&(ye.flags|=1024),t}function Yu(){var e=Mo!==0;return Mo=0,e}function Gu(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Vu(e){if(Do){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Do=!1}Sa=0,_t=Pe=ye=null,Ls=!1,Vi=Mo=0,$s=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?ye.memoizedState=_t=e:_t=_t.next=e,_t}function yt(){if(Pe===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=_t===null?ye.memoizedState:_t.next;if(t!==null)_t=t,Pe=e;else{if(e===null)throw ye.alternate===null?Error(r(467)):Error(r(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},_t===null?ye.memoizedState=_t=e:_t=_t.next=e}return _t}function Oo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pi(e){var t=Vi;return Vi+=1,$s===null&&($s=[]),e=vm($s,e,t),t=ye,(_t===null?t.memoizedState:_t.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?up:ad),e}function Ro(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Pi(e);if(e.$$typeof===ge)return $t(e)}throw Error(r(438,String(e)))}function Pu(e){var t=null,a=ye.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var i=ye.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Oo(),ye.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),i=0;i<e;i++)a[i]=de;return t.index++,a}function Na(e,t){return typeof t=="function"?t(e):t}function zo(e){var t=yt();return Qu(t,Pe,e)}function Qu(e,t,a){var i=e.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=a;var c=e.baseQueue,d=i.pending;if(d!==null){if(c!==null){var m=c.next;c.next=d.next,d.next=m}t.baseQueue=c=d,i.pending=null}if(d=e.baseState,c===null)e.memoizedState=d;else{t=c.next;var y=m=null,S=null,A=t,L=!1;do{var H=A.lane&-536870913;if(H!==A.lane?(De&H)===H:(Sa&H)===H){var k=A.revertLane;if(k===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),H===Ds&&(L=!0);else if((Sa&k)===k){A=A.next,k===Ds&&(L=!0);continue}else H={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},S===null?(y=S=H,m=d):S=S.next=H,ye.lanes|=k,sl|=k;H=A.action,Yl&&a(d,H),d=A.hasEagerState?A.eagerState:a(d,H)}else k={lane:H,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},S===null?(y=S=k,m=d):S=S.next=k,ye.lanes|=H,sl|=H;A=A.next}while(A!==null&&A!==t);if(S===null?m=d:S.next=y,!pn(d,e.memoizedState)&&(St=!0,L&&(a=Ms,a!==null)))throw a;e.memoizedState=d,e.baseState=m,e.baseQueue=S,i.lastRenderedState=d}return c===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Fu(e){var t=yt(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var i=a.dispatch,c=a.pending,d=t.memoizedState;if(c!==null){a.pending=null;var m=c=c.next;do d=e(d,m.action),m=m.next;while(m!==c);pn(d,t.memoizedState)||(St=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),a.lastRenderedState=d}return[d,i]}function km(e,t,a){var i=ye,c=yt(),d=Oe;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=t();var m=!pn((Pe||c).memoizedState,a);if(m&&(c.memoizedState=a,St=!0),c=c.queue,Zu(Om.bind(null,i,c,e),[e]),c.getSnapshot!==t||m||_t!==null&&_t.memoizedState.tag&1){if(i.flags|=2048,Us(9,{destroy:void 0},Mm.bind(null,i,c,a,t),null),Ze===null)throw Error(r(349));d||(Sa&127)!==0||Dm(i,t,a)}return a}function Dm(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ye.updateQueue,t===null?(t=Oo(),ye.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Mm(e,t,a,i){t.value=a,t.getSnapshot=i,Rm(t)&&zm(e)}function Om(e,t,a){return a(function(){Rm(t)&&zm(e)})}function Rm(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!pn(e,a)}catch{return!0}}function zm(e){var t=Rl(e,2);t!==null&&hn(t,e,2)}function Xu(e){var t=nn();if(typeof e=="function"){var a=e;if(e=a(),Yl){Rn(!0);try{a()}finally{Rn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:e},t}function Lm(e,t,a,i){return e.baseState=a,Qu(e,Pe,typeof i=="function"?i:Na)}function Zv(e,t,a,i,c){if(Uo(e))throw Error(r(485));if(e=t.action,e!==null){var d={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){d.listeners.push(m)}};z.T!==null?a(!0):d.isTransition=!1,i(d),a=t.pending,a===null?(d.next=t.pending=d,$m(t,d)):(d.next=a.next,t.pending=a.next=d)}}function $m(e,t){var a=t.action,i=t.payload,c=e.state;if(t.isTransition){var d=z.T,m={};z.T=m;try{var y=a(c,i),S=z.S;S!==null&&S(m,y),Um(e,t,y)}catch(A){Ku(e,t,A)}finally{d!==null&&m.types!==null&&(d.types=m.types),z.T=d}}else try{d=a(c,i),Um(e,t,d)}catch(A){Ku(e,t,A)}}function Um(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(i){Im(e,t,i)},function(i){return Ku(e,t,i)}):Im(e,t,a)}function Im(e,t,a){t.status="fulfilled",t.value=a,Hm(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,$m(e,a)))}function Ku(e,t,a){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=a,Hm(t),t=t.next;while(t!==i)}e.action=null}function Hm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Bm(e,t){return t}function qm(e,t){if(Oe){var a=Ze.formState;if(a!==null){e:{var i=ye;if(Oe){if(at){t:{for(var c=at,d=jn;c.nodeType!==8;){if(!d){c=null;break t}if(c=An(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){at=An(c.nextSibling),i=c.data==="F!";break e}}Ka(i)}i=!1}i&&(t=a[0])}}return a=nn(),a.memoizedState=a.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bm,lastRenderedState:t},a.queue=i,a=rp.bind(null,ye,i),i.dispatch=a,i=Xu(!1),d=nd.bind(null,ye,!1,i.queue),i=nn(),c={state:t,dispatch:null,action:e,pending:null},i.queue=c,a=Zv.bind(null,ye,c,d,a),c.dispatch=a,i.memoizedState=e,[t,a,!1]}function Ym(e){var t=yt();return Gm(t,Pe,e)}function Gm(e,t,a){if(t=Qu(e,t,Bm)[0],e=zo(Na)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Pi(t)}catch(m){throw m===Os?Co:m}else i=t;t=yt();var c=t.queue,d=c.dispatch;return a!==t.memoizedState&&(ye.flags|=2048,Us(9,{destroy:void 0},Jv.bind(null,c,a),null)),[i,d,e]}function Jv(e,t){e.action=t}function Vm(e){var t=yt(),a=Pe;if(a!==null)return Gm(t,a,e);yt(),t=t.memoizedState,a=yt();var i=a.queue.dispatch;return a.memoizedState=e,[t,i,!1]}function Us(e,t,a,i){return e={tag:e,create:a,deps:i,inst:t,next:null},t=ye.updateQueue,t===null&&(t=Oo(),ye.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(i=a.next,a.next=e,e.next=i,t.lastEffect=e),e}function Pm(){return yt().memoizedState}function Lo(e,t,a,i){var c=nn();ye.flags|=e,c.memoizedState=Us(1|t,{destroy:void 0},a,i===void 0?null:i)}function $o(e,t,a,i){var c=yt();i=i===void 0?null:i;var d=c.memoizedState.inst;Pe!==null&&i!==null&&Bu(i,Pe.memoizedState.deps)?c.memoizedState=Us(t,d,a,i):(ye.flags|=e,c.memoizedState=Us(1|t,d,a,i))}function Qm(e,t){Lo(8390656,8,e,t)}function Zu(e,t){$o(2048,8,e,t)}function Wv(e){ye.flags|=4;var t=ye.updateQueue;if(t===null)t=Oo(),ye.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Fm(e){var t=yt().memoizedState;return Wv({ref:t,nextImpl:e}),function(){if(($e&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Xm(e,t){return $o(4,2,e,t)}function Km(e,t){return $o(4,4,e,t)}function Zm(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jm(e,t,a){a=a!=null?a.concat([e]):null,$o(4,4,Zm.bind(null,t,e),a)}function Ju(){}function Wm(e,t){var a=yt();t=t===void 0?null:t;var i=a.memoizedState;return t!==null&&Bu(t,i[1])?i[0]:(a.memoizedState=[e,t],e)}function ep(e,t){var a=yt();t=t===void 0?null:t;var i=a.memoizedState;if(t!==null&&Bu(t,i[1]))return i[0];if(i=e(),Yl){Rn(!0);try{e()}finally{Rn(!1)}}return a.memoizedState=[i,t],i}function Wu(e,t,a){return a===void 0||(Sa&1073741824)!==0&&(De&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=tg(),ye.lanes|=e,sl|=e,a)}function tp(e,t,a,i){return pn(a,t)?a:zs.current!==null?(e=Wu(e,a,i),pn(e,t)||(St=!0),e):(Sa&42)===0||(Sa&1073741824)!==0&&(De&261930)===0?(St=!0,e.memoizedState=a):(e=tg(),ye.lanes|=e,sl|=e,t)}function np(e,t,a,i,c){var d=V.p;V.p=d!==0&&8>d?d:8;var m=z.T,y={};z.T=y,nd(e,!1,t,a);try{var S=c(),A=z.S;if(A!==null&&A(y,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var L=Fv(S,i);Qi(e,t,L,_n(e))}else Qi(e,t,i,_n(e))}catch(H){Qi(e,t,{then:function(){},status:"rejected",reason:H},_n())}finally{V.p=d,m!==null&&y.types!==null&&(m.types=y.types),z.T=m}}function eb(){}function ed(e,t,a,i){if(e.tag!==5)throw Error(r(476));var c=ap(e).queue;np(e,c,t,ee,a===null?eb:function(){return lp(e),a(i)})}function ap(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:ee},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function lp(e){var t=ap(e);t.next===null&&(t=e.alternate.memoizedState),Qi(e,t.next.queue,{},_n())}function td(){return $t(ur)}function sp(){return yt().memoizedState}function ip(){return yt().memoizedState}function tb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=_n();e=Wa(a);var i=el(t,e,a);i!==null&&(hn(i,t,a),qi(i,t,a)),t={cache:ku()},e.payload=t;return}t=t.return}}function nb(e,t,a){var i=_n();a={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Uo(e)?op(t,a):(a=vu(e,t,a,i),a!==null&&(hn(a,e,i),cp(a,t,i)))}function rp(e,t,a){var i=_n();Qi(e,t,a,i)}function Qi(e,t,a,i){var c={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Uo(e))op(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var m=t.lastRenderedState,y=d(m,a);if(c.hasEagerState=!0,c.eagerState=y,pn(y,m))return yo(e,t,c,0),Ze===null&&xo(),!1}catch{}finally{}if(a=vu(e,t,c,i),a!==null)return hn(a,e,i),cp(a,t,i),!0}return!1}function nd(e,t,a,i){if(i={lane:2,revertLane:Rd(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Uo(e)){if(t)throw Error(r(479))}else t=vu(e,a,i,2),t!==null&&hn(t,e,2)}function Uo(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function op(e,t){Ls=Do=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function cp(e,t,a){if((a&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,ca(e,a)}}var Fi={readContext:$t,use:Ro,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};Fi.useEffectEvent=dt;var up={readContext:$t,use:Ro,useCallback:function(e,t){return nn().memoizedState=[e,t===void 0?null:t],e},useContext:$t,useEffect:Qm,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Lo(4194308,4,Zm.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Lo(4194308,4,e,t)},useInsertionEffect:function(e,t){Lo(4,2,e,t)},useMemo:function(e,t){var a=nn();t=t===void 0?null:t;var i=e();if(Yl){Rn(!0);try{e()}finally{Rn(!1)}}return a.memoizedState=[i,t],i},useReducer:function(e,t,a){var i=nn();if(a!==void 0){var c=a(t);if(Yl){Rn(!0);try{a(t)}finally{Rn(!1)}}}else c=t;return i.memoizedState=i.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},i.queue=e,e=e.dispatch=nb.bind(null,ye,e),[i.memoizedState,e]},useRef:function(e){var t=nn();return e={current:e},t.memoizedState=e},useState:function(e){e=Xu(e);var t=e.queue,a=rp.bind(null,ye,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Ju,useDeferredValue:function(e,t){var a=nn();return Wu(a,e,t)},useTransition:function(){var e=Xu(!1);return e=np.bind(null,ye,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var i=ye,c=nn();if(Oe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),Ze===null)throw Error(r(349));(De&127)!==0||Dm(i,t,a)}c.memoizedState=a;var d={value:a,getSnapshot:t};return c.queue=d,Qm(Om.bind(null,i,d,e),[e]),i.flags|=2048,Us(9,{destroy:void 0},Mm.bind(null,i,d,a,t),null),a},useId:function(){var e=nn(),t=Ze.identifierPrefix;if(Oe){var a=Wn,i=Jn;a=(i&~(1<<32-en(i)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Mo++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Xv++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:td,useFormState:qm,useActionState:qm,useOptimistic:function(e){var t=nn();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=nd.bind(null,ye,!0,a),a.dispatch=t,[e,t]},useMemoCache:Pu,useCacheRefresh:function(){return nn().memoizedState=tb.bind(null,ye)},useEffectEvent:function(e){var t=nn(),a={impl:e};return t.memoizedState=a,function(){if(($e&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},ad={readContext:$t,use:Ro,useCallback:Wm,useContext:$t,useEffect:Zu,useImperativeHandle:Jm,useInsertionEffect:Xm,useLayoutEffect:Km,useMemo:ep,useReducer:zo,useRef:Pm,useState:function(){return zo(Na)},useDebugValue:Ju,useDeferredValue:function(e,t){var a=yt();return tp(a,Pe.memoizedState,e,t)},useTransition:function(){var e=zo(Na)[0],t=yt().memoizedState;return[typeof e=="boolean"?e:Pi(e),t]},useSyncExternalStore:km,useId:sp,useHostTransitionStatus:td,useFormState:Ym,useActionState:Ym,useOptimistic:function(e,t){var a=yt();return Lm(a,Pe,e,t)},useMemoCache:Pu,useCacheRefresh:ip};ad.useEffectEvent=Fm;var dp={readContext:$t,use:Ro,useCallback:Wm,useContext:$t,useEffect:Zu,useImperativeHandle:Jm,useInsertionEffect:Xm,useLayoutEffect:Km,useMemo:ep,useReducer:Fu,useRef:Pm,useState:function(){return Fu(Na)},useDebugValue:Ju,useDeferredValue:function(e,t){var a=yt();return Pe===null?Wu(a,e,t):tp(a,Pe.memoizedState,e,t)},useTransition:function(){var e=Fu(Na)[0],t=yt().memoizedState;return[typeof e=="boolean"?e:Pi(e),t]},useSyncExternalStore:km,useId:sp,useHostTransitionStatus:td,useFormState:Vm,useActionState:Vm,useOptimistic:function(e,t){var a=yt();return Pe!==null?Lm(a,Pe,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Pu,useCacheRefresh:ip};dp.useEffectEvent=Fm;function ld(e,t,a,i){t=e.memoizedState,a=a(i,t),a=a==null?t:_({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var sd={enqueueSetState:function(e,t,a){e=e._reactInternals;var i=_n(),c=Wa(i);c.payload=t,a!=null&&(c.callback=a),t=el(e,c,i),t!==null&&(hn(t,e,i),qi(t,e,i))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var i=_n(),c=Wa(i);c.tag=1,c.payload=t,a!=null&&(c.callback=a),t=el(e,c,i),t!==null&&(hn(t,e,i),qi(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=_n(),i=Wa(a);i.tag=2,t!=null&&(i.callback=t),t=el(e,i,a),t!==null&&(hn(t,e,a),qi(t,e,a))}};function fp(e,t,a,i,c,d,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,d,m):t.prototype&&t.prototype.isPureReactComponent?!Ri(a,i)||!Ri(c,d):!0}function hp(e,t,a,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,i),t.state!==e&&sd.enqueueReplaceState(t,t.state,null)}function Gl(e,t){var a=t;if("ref"in t){a={};for(var i in t)i!=="ref"&&(a[i]=t[i])}if(e=e.defaultProps){a===t&&(a=_({},a));for(var c in e)a[c]===void 0&&(a[c]=e[c])}return a}function mp(e){go(e)}function pp(e){console.error(e)}function gp(e){go(e)}function Io(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function xp(e,t,a){try{var i=e.onCaughtError;i(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function id(e,t,a){return a=Wa(a),a.tag=3,a.payload={element:null},a.callback=function(){Io(e,t)},a}function yp(e){return e=Wa(e),e.tag=3,e}function vp(e,t,a,i){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var d=i.value;e.payload=function(){return c(d)},e.callback=function(){xp(t,a,i)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){xp(t,a,i),typeof c!="function"&&(il===null?il=new Set([this]):il.add(this));var y=i.stack;this.componentDidCatch(i.value,{componentStack:y!==null?y:""})})}function ab(e,t,a,i,c){if(a.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=a.alternate,t!==null&&ks(t,a,c,!0),a=xn.current,a!==null){switch(a.tag){case 31:case 13:return Tn===null?Zo():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=c,i===Eo?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([i]):t.add(i),Dd(e,i,c)),!1;case 22:return a.flags|=65536,i===Eo?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([i]):a.add(i)),Dd(e,i,c)),!1}throw Error(r(435,a.tag))}return Dd(e,i,c),Zo(),!1}if(Oe)return t=xn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,i!==Cu&&(e=Error(r(422),{cause:i}),$i(wn(e,a)))):(i!==Cu&&(t=Error(r(423),{cause:i}),$i(wn(t,a))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,i=wn(i,a),c=id(e.stateNode,i,c),Lu(e,c),ft!==4&&(ft=2)),!1;var d=Error(r(520),{cause:i});if(d=wn(d,a),nr===null?nr=[d]:nr.push(d),ft!==4&&(ft=2),t===null)return!0;i=wn(i,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=c&-c,a.lanes|=e,e=id(a.stateNode,i,e),Lu(a,e),!1;case 1:if(t=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(il===null||!il.has(d))))return a.flags|=65536,c&=-c,a.lanes|=c,c=yp(c),vp(c,e,a,i),Lu(a,c),!1}a=a.return}while(a!==null);return!1}var rd=Error(r(461)),St=!1;function Ut(e,t,a,i){t.child=e===null?Nm(t,null,a,i):ql(t,e.child,a,i)}function bp(e,t,a,i,c){a=a.render;var d=t.ref;if("ref"in i){var m={};for(var y in i)y!=="ref"&&(m[y]=i[y])}else m=i;return Ul(t),i=qu(e,t,a,m,d,c),y=Yu(),e!==null&&!St?(Gu(e,t,c),wa(e,t,c)):(Oe&&y&&Nu(t),t.flags|=1,Ut(e,t,i,c),t.child)}function _p(e,t,a,i,c){if(e===null){var d=a.type;return typeof d=="function"&&!bu(d)&&d.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=d,Sp(e,t,d,i,c)):(e=bo(a.type,null,i,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!pd(e,c)){var m=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ri,a(m,i)&&e.ref===t.ref)return wa(e,t,c)}return t.flags|=1,e=ya(d,i),e.ref=t.ref,e.return=t,t.child=e}function Sp(e,t,a,i,c){if(e!==null){var d=e.memoizedProps;if(Ri(d,i)&&e.ref===t.ref)if(St=!1,t.pendingProps=i=d,pd(e,c))(e.flags&131072)!==0&&(St=!0);else return t.lanes=e.lanes,wa(e,t,c)}return od(e,t,a,i,c)}function Np(e,t,a,i){var c=i.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(i=t.child=e.child,c=0;i!==null;)c=c|i.lanes|i.childLanes,i=i.sibling;i=c&~d}else i=0,t.child=null;return wp(e,t,d,a,i)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&wo(t,d!==null?d.cachePool:null),d!==null?Em(t,d):Uu(),jm(t);else return i=t.lanes=536870912,wp(e,t,d!==null?d.baseLanes|a:a,a,i)}else d!==null?(wo(t,d.cachePool),Em(t,d),nl(),t.memoizedState=null):(e!==null&&wo(t,null),Uu(),nl());return Ut(e,t,c,a),t.child}function Xi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function wp(e,t,a,i,c){var d=Mu();return d=d===null?null:{parent:bt._currentValue,pool:d},t.memoizedState={baseLanes:a,cachePool:d},e!==null&&wo(t,null),Uu(),jm(t),e!==null&&ks(e,t,i,!0),t.childLanes=c,null}function Ho(e,t){return t=qo({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Cp(e,t,a){return ql(t,e.child,null,a),e=Ho(t,t.pendingProps),e.flags|=2,yn(t),t.memoizedState=null,e}function lb(e,t,a){var i=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Oe){if(i.mode==="hidden")return e=Ho(t,i),t.lanes=536870912,Xi(null,e);if(Hu(t),(e=at)?(e=$g(e,jn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Fa!==null?{id:Jn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},a=om(e),a.return=t,t.child=a,Lt=t,at=null)):e=null,e===null)throw Ka(t);return t.lanes=536870912,null}return Ho(t,i)}var d=e.memoizedState;if(d!==null){var m=d.dehydrated;if(Hu(t),c)if(t.flags&256)t.flags&=-257,t=Cp(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(St||ks(e,t,a,!1),c=(a&e.childLanes)!==0,St||c){if(i=Ze,i!==null&&(m=Si(i,a),m!==0&&m!==d.retryLane))throw d.retryLane=m,Rl(e,m),hn(i,e,m),rd;Zo(),t=Cp(e,t,a)}else e=d.treeContext,at=An(m.nextSibling),Lt=t,Oe=!0,Xa=null,jn=!1,e!==null&&dm(t,e),t=Ho(t,i),t.flags|=4096;return t}return e=ya(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Bo(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function od(e,t,a,i,c){return Ul(t),a=qu(e,t,a,i,void 0,c),i=Yu(),e!==null&&!St?(Gu(e,t,c),wa(e,t,c)):(Oe&&i&&Nu(t),t.flags|=1,Ut(e,t,a,c),t.child)}function Ep(e,t,a,i,c,d){return Ul(t),t.updateQueue=null,a=Am(t,i,a,c),Tm(e),i=Yu(),e!==null&&!St?(Gu(e,t,d),wa(e,t,d)):(Oe&&i&&Nu(t),t.flags|=1,Ut(e,t,a,d),t.child)}function jp(e,t,a,i,c){if(Ul(t),t.stateNode===null){var d=Es,m=a.contextType;typeof m=="object"&&m!==null&&(d=$t(m)),d=new a(i,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=sd,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=i,d.state=t.memoizedState,d.refs={},Ru(t),m=a.contextType,d.context=typeof m=="object"&&m!==null?$t(m):Es,d.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(ld(t,a,m,i),d.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(m=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),m!==d.state&&sd.enqueueReplaceState(d,d.state,null),Gi(t,i,d,c),Yi(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){d=t.stateNode;var y=t.memoizedProps,S=Gl(a,y);d.props=S;var A=d.context,L=a.contextType;m=Es,typeof L=="object"&&L!==null&&(m=$t(L));var H=a.getDerivedStateFromProps;L=typeof H=="function"||typeof d.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,L||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y||A!==m)&&hp(t,d,i,m),Ja=!1;var k=t.memoizedState;d.state=k,Gi(t,i,d,c),Yi(),A=t.memoizedState,y||k!==A||Ja?(typeof H=="function"&&(ld(t,a,H,i),A=t.memoizedState),(S=Ja||fp(t,a,S,i,k,A,m))?(L||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=A),d.props=i,d.state=A,d.context=m,i=S):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{d=t.stateNode,zu(e,t),m=t.memoizedProps,L=Gl(a,m),d.props=L,H=t.pendingProps,k=d.context,A=a.contextType,S=Es,typeof A=="object"&&A!==null&&(S=$t(A)),y=a.getDerivedStateFromProps,(A=typeof y=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==H||k!==S)&&hp(t,d,i,S),Ja=!1,k=t.memoizedState,d.state=k,Gi(t,i,d,c),Yi();var M=t.memoizedState;m!==H||k!==M||Ja||e!==null&&e.dependencies!==null&&So(e.dependencies)?(typeof y=="function"&&(ld(t,a,y,i),M=t.memoizedState),(L=Ja||fp(t,a,L,i,k,M,S)||e!==null&&e.dependencies!==null&&So(e.dependencies))?(A||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(i,M,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(i,M,S)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=M),d.props=i,d.state=M,d.context=S,i=L):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),i=!1)}return d=i,Bo(e,t),i=(t.flags&128)!==0,d||i?(d=t.stateNode,a=i&&typeof a.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&i?(t.child=ql(t,e.child,null,c),t.child=ql(t,null,a,c)):Ut(e,t,a,c),t.memoizedState=d.state,e=t.child):e=wa(e,t,c),e}function Tp(e,t,a,i){return Ll(),t.flags|=256,Ut(e,t,a,i),t.child}var cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ud(e){return{baseLanes:e,cachePool:xm()}}function dd(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=bn),e}function Ap(e,t,a){var i=t.pendingProps,c=!1,d=(t.flags&128)!==0,m;if((m=d)||(m=e!==null&&e.memoizedState===null?!1:(xt.current&2)!==0),m&&(c=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Oe){if(c?tl(t):nl(),(e=at)?(e=$g(e,jn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Fa!==null?{id:Jn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},a=om(e),a.return=t,t.child=a,Lt=t,at=null)):e=null,e===null)throw Ka(t);return Qd(e)?t.lanes=32:t.lanes=536870912,null}var y=i.children;return i=i.fallback,c?(nl(),c=t.mode,y=qo({mode:"hidden",children:y},c),i=zl(i,c,a,null),y.return=t,i.return=t,y.sibling=i,t.child=y,i=t.child,i.memoizedState=ud(a),i.childLanes=dd(e,m,a),t.memoizedState=cd,Xi(null,i)):(tl(t),fd(t,y))}var S=e.memoizedState;if(S!==null&&(y=S.dehydrated,y!==null)){if(d)t.flags&256?(tl(t),t.flags&=-257,t=hd(e,t,a)):t.memoizedState!==null?(nl(),t.child=e.child,t.flags|=128,t=null):(nl(),y=i.fallback,c=t.mode,i=qo({mode:"visible",children:i.children},c),y=zl(y,c,a,null),y.flags|=2,i.return=t,y.return=t,i.sibling=y,t.child=i,ql(t,e.child,null,a),i=t.child,i.memoizedState=ud(a),i.childLanes=dd(e,m,a),t.memoizedState=cd,t=Xi(null,i));else if(tl(t),Qd(y)){if(m=y.nextSibling&&y.nextSibling.dataset,m)var A=m.dgst;m=A,i=Error(r(419)),i.stack="",i.digest=m,$i({value:i,source:null,stack:null}),t=hd(e,t,a)}else if(St||ks(e,t,a,!1),m=(a&e.childLanes)!==0,St||m){if(m=Ze,m!==null&&(i=Si(m,a),i!==0&&i!==S.retryLane))throw S.retryLane=i,Rl(e,i),hn(m,e,i),rd;Pd(y)||Zo(),t=hd(e,t,a)}else Pd(y)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,at=An(y.nextSibling),Lt=t,Oe=!0,Xa=null,jn=!1,e!==null&&dm(t,e),t=fd(t,i.children),t.flags|=4096);return t}return c?(nl(),y=i.fallback,c=t.mode,S=e.child,A=S.sibling,i=ya(S,{mode:"hidden",children:i.children}),i.subtreeFlags=S.subtreeFlags&65011712,A!==null?y=ya(A,y):(y=zl(y,c,a,null),y.flags|=2),y.return=t,i.return=t,i.sibling=y,t.child=i,Xi(null,i),i=t.child,y=e.child.memoizedState,y===null?y=ud(a):(c=y.cachePool,c!==null?(S=bt._currentValue,c=c.parent!==S?{parent:S,pool:S}:c):c=xm(),y={baseLanes:y.baseLanes|a,cachePool:c}),i.memoizedState=y,i.childLanes=dd(e,m,a),t.memoizedState=cd,Xi(e.child,i)):(tl(t),a=e.child,e=a.sibling,a=ya(a,{mode:"visible",children:i.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function fd(e,t){return t=qo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function qo(e,t){return e=gn(22,e,null,t),e.lanes=0,e}function hd(e,t,a){return ql(t,e.child,null,a),e=fd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kp(e,t,a){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Tu(e.return,t,a)}function md(e,t,a,i,c,d){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:a,tailMode:c,treeForkCount:d}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=i,m.tail=a,m.tailMode=c,m.treeForkCount=d)}function Dp(e,t,a){var i=t.pendingProps,c=i.revealOrder,d=i.tail;i=i.children;var m=xt.current,y=(m&2)!==0;if(y?(m=m&1|2,t.flags|=128):m&=1,G(xt,m),Ut(e,t,i,a),i=Oe?Li:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kp(e,a,t);else if(e.tag===19)kp(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(a=t.child,c=null;a!==null;)e=a.alternate,e!==null&&ko(e)===null&&(c=a),a=a.sibling;a=c,a===null?(c=t.child,t.child=null):(c=a.sibling,a.sibling=null),md(t,!1,c,a,d,i);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&ko(e)===null){t.child=c;break}e=c.sibling,c.sibling=a,a=c,c=e}md(t,!0,a,null,d,i);break;case"together":md(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function wa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),sl|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(ks(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=ya(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ya(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function pd(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&So(e)))}function sb(e,t,a){switch(t.tag){case 3:ot(t,t.stateNode.containerInfo),Za(t,bt,e.memoizedState.cache),Ll();break;case 27:case 5:Gn(t);break;case 4:ot(t,t.stateNode.containerInfo);break;case 10:Za(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Hu(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(tl(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Ap(e,t,a):(tl(t),e=wa(e,t,a),e!==null?e.sibling:null);tl(t);break;case 19:var c=(e.flags&128)!==0;if(i=(a&t.childLanes)!==0,i||(ks(e,t,a,!1),i=(a&t.childLanes)!==0),c){if(i)return Dp(e,t,a);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),G(xt,xt.current),i)break;return null;case 22:return t.lanes=0,Np(e,t,a,t.pendingProps);case 24:Za(t,bt,e.memoizedState.cache)}return wa(e,t,a)}function Mp(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)St=!0;else{if(!pd(e,a)&&(t.flags&128)===0)return St=!1,sb(e,t,a);St=(e.flags&131072)!==0}else St=!1,Oe&&(t.flags&1048576)!==0&&um(t,Li,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=Hl(t.elementType),t.type=e,typeof e=="function")bu(e)?(i=Gl(e,i),t.tag=1,t=jp(null,t,e,i,a)):(t.tag=0,t=od(null,t,e,i,a));else{if(e!=null){var c=e.$$typeof;if(c===le){t.tag=11,t=bp(null,t,e,i,a);break e}else if(c===ue){t.tag=14,t=_p(null,t,e,i,a);break e}}throw t=vt(e)||e,Error(r(306,t,""))}}return t;case 0:return od(e,t,t.type,t.pendingProps,a);case 1:return i=t.type,c=Gl(i,t.pendingProps),jp(e,t,i,c,a);case 3:e:{if(ot(t,t.stateNode.containerInfo),e===null)throw Error(r(387));i=t.pendingProps;var d=t.memoizedState;c=d.element,zu(e,t),Gi(t,i,null,a);var m=t.memoizedState;if(i=m.cache,Za(t,bt,i),i!==d.cache&&Au(t,[bt],a,!0),Yi(),i=m.element,d.isDehydrated)if(d={element:i,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=Tp(e,t,i,a);break e}else if(i!==c){c=wn(Error(r(424)),t),$i(c),t=Tp(e,t,i,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(at=An(e.firstChild),Lt=t,Oe=!0,Xa=null,jn=!0,a=Nm(t,null,i,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ll(),i===c){t=wa(e,t,a);break e}Ut(e,t,i,a)}t=t.child}return t;case 26:return Bo(e,t),e===null?(a=Yg(t.type,null,t.pendingProps,null))?t.memoizedState=a:Oe||(a=t.type,e=t.pendingProps,i=lc(xe.current).createElement(a),i[ct]=t,i[tn]=e,It(i,a,e),ut(i),t.stateNode=i):t.memoizedState=Yg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Gn(t),e===null&&Oe&&(i=t.stateNode=Hg(t.type,t.pendingProps,xe.current),Lt=t,jn=!0,c=at,ul(t.type)?(Fd=c,at=An(i.firstChild)):at=c),Ut(e,t,t.pendingProps.children,a),Bo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Oe&&((c=i=at)&&(i=zb(i,t.type,t.pendingProps,jn),i!==null?(t.stateNode=i,Lt=t,at=An(i.firstChild),jn=!1,c=!0):c=!1),c||Ka(t)),Gn(t),c=t.type,d=t.pendingProps,m=e!==null?e.memoizedProps:null,i=d.children,Yd(c,d)?i=null:m!==null&&Yd(c,m)&&(t.flags|=32),t.memoizedState!==null&&(c=qu(e,t,Kv,null,null,a),ur._currentValue=c),Bo(e,t),Ut(e,t,i,a),t.child;case 6:return e===null&&Oe&&((e=a=at)&&(a=Lb(a,t.pendingProps,jn),a!==null?(t.stateNode=a,Lt=t,at=null,e=!0):e=!1),e||Ka(t)),null;case 13:return Ap(e,t,a);case 4:return ot(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ql(t,null,i,a):Ut(e,t,i,a),t.child;case 11:return bp(e,t,t.type,t.pendingProps,a);case 7:return Ut(e,t,t.pendingProps,a),t.child;case 8:return Ut(e,t,t.pendingProps.children,a),t.child;case 12:return Ut(e,t,t.pendingProps.children,a),t.child;case 10:return i=t.pendingProps,Za(t,t.type,i.value),Ut(e,t,i.children,a),t.child;case 9:return c=t.type._context,i=t.pendingProps.children,Ul(t),c=$t(c),i=i(c),t.flags|=1,Ut(e,t,i,a),t.child;case 14:return _p(e,t,t.type,t.pendingProps,a);case 15:return Sp(e,t,t.type,t.pendingProps,a);case 19:return Dp(e,t,a);case 31:return lb(e,t,a);case 22:return Np(e,t,a,t.pendingProps);case 24:return Ul(t),i=$t(bt),e===null?(c=Mu(),c===null&&(c=Ze,d=ku(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=a),c=d),t.memoizedState={parent:i,cache:c},Ru(t),Za(t,bt,c)):((e.lanes&a)!==0&&(zu(e,t),Gi(t,null,null,a),Yi()),c=e.memoizedState,d=t.memoizedState,c.parent!==i?(c={parent:i,cache:i},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Za(t,bt,i)):(i=d.cache,Za(t,bt,i),i!==c.cache&&Au(t,[bt],a,!0))),Ut(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Ca(e){e.flags|=4}function gd(e,t,a,i,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(sg())e.flags|=8192;else throw Bl=Eo,Ou}else e.flags&=-16777217}function Op(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Fg(t))if(sg())e.flags|=8192;else throw Bl=Eo,Ou}function Yo(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?os():536870912,e.lanes|=t,qs|=t)}function Ki(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,i=0;if(t)for(var c=e.child;c!==null;)a|=c.lanes|c.childLanes,i|=c.subtreeFlags&65011712,i|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)a|=c.lanes|c.childLanes,i|=c.subtreeFlags,i|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=i,e.childLanes=a,t}function ib(e,t,a){var i=t.pendingProps;switch(wu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return lt(t),null;case 3:return a=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),_a(bt),Je(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(As(t)?Ca(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Eu())),lt(t),null;case 26:var c=t.type,d=t.memoizedState;return e===null?(Ca(t),d!==null?(lt(t),Op(t,d)):(lt(t),gd(t,c,null,i,a))):d?d!==e.memoizedState?(Ca(t),lt(t),Op(t,d)):(lt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&Ca(t),lt(t),gd(t,c,e,i,a)),null;case 27:if(Ia(t),a=xe.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Ca(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return lt(t),null}e=Z.current,As(t)?fm(t):(e=Hg(c,i,a),t.stateNode=e,Ca(t))}return lt(t),null;case 5:if(Ia(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Ca(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return lt(t),null}if(d=Z.current,As(t))fm(t);else{var m=lc(xe.current);switch(d){case 1:d=m.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:d=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":d=m.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":d=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":d=m.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof i.is=="string"?m.createElement("select",{is:i.is}):m.createElement("select"),i.multiple?d.multiple=!0:i.size&&(d.size=i.size);break;default:d=typeof i.is=="string"?m.createElement(c,{is:i.is}):m.createElement(c)}}d[ct]=t,d[tn]=i;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)d.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=d;e:switch(It(d,c,i),c){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ca(t)}}return lt(t),gd(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Ca(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(r(166));if(e=xe.current,As(t)){if(e=t.stateNode,a=t.memoizedProps,i=null,c=Lt,c!==null)switch(c.tag){case 27:case 5:i=c.memoizedProps}e[ct]=t,e=!!(e.nodeValue===a||i!==null&&i.suppressHydrationWarning===!0||Ag(e.nodeValue,a)),e||Ka(t,!0)}else e=lc(e).createTextNode(i),e[ct]=t,t.stateNode=e}return lt(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(i=As(t),a!==null){if(e===null){if(!i)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ct]=t}else Ll(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;lt(t),e=!1}else a=Eu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(yn(t),t):(yn(t),null);if((t.flags&128)!==0)throw Error(r(558))}return lt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=As(t),i!==null&&i.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ct]=t}else Ll(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;lt(t),c=!1}else c=Eu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(yn(t),t):(yn(t),null)}return yn(t),(t.flags&128)!==0?(t.lanes=a,t):(a=i!==null,e=e!==null&&e.memoizedState!==null,a&&(i=t.child,c=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(c=i.alternate.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==c&&(i.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Yo(t,t.updateQueue),lt(t),null);case 4:return Je(),e===null&&Ud(t.stateNode.containerInfo),lt(t),null;case 10:return _a(t.type),lt(t),null;case 19:if(U(xt),i=t.memoizedState,i===null)return lt(t),null;if(c=(t.flags&128)!==0,d=i.rendering,d===null)if(c)Ki(i,!1);else{if(ft!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=ko(e),d!==null){for(t.flags|=128,Ki(i,!1),e=d.updateQueue,t.updateQueue=e,Yo(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)rm(a,e),a=a.sibling;return G(xt,xt.current&1|2),Oe&&va(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&Wt()>Fo&&(t.flags|=128,c=!0,Ki(i,!1),t.lanes=4194304)}else{if(!c)if(e=ko(d),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Yo(t,e),Ki(i,!0),i.tail===null&&i.tailMode==="hidden"&&!d.alternate&&!Oe)return lt(t),null}else 2*Wt()-i.renderingStartTime>Fo&&a!==536870912&&(t.flags|=128,c=!0,Ki(i,!1),t.lanes=4194304);i.isBackwards?(d.sibling=t.child,t.child=d):(e=i.last,e!==null?e.sibling=d:t.child=d,i.last=d)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Wt(),e.sibling=null,a=xt.current,G(xt,c?a&1|2:a&1),Oe&&va(t,i.treeForkCount),e):(lt(t),null);case 22:case 23:return yn(t),Iu(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(a&536870912)!==0&&(t.flags&128)===0&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),a=t.updateQueue,a!==null&&Yo(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==a&&(t.flags|=2048),e!==null&&U(Il),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),_a(bt),lt(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function rb(e,t){switch(wu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _a(bt),Je(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ia(t),null;case 31:if(t.memoizedState!==null){if(yn(t),t.alternate===null)throw Error(r(340));Ll()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(yn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Ll()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return U(xt),null;case 4:return Je(),null;case 10:return _a(t.type),null;case 22:case 23:return yn(t),Iu(),e!==null&&U(Il),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return _a(bt),null;case 25:return null;default:return null}}function Rp(e,t){switch(wu(t),t.tag){case 3:_a(bt),Je();break;case 26:case 27:case 5:Ia(t);break;case 4:Je();break;case 31:t.memoizedState!==null&&yn(t);break;case 13:yn(t);break;case 19:U(xt);break;case 10:_a(t.type);break;case 22:case 23:yn(t),Iu(),e!==null&&U(Il);break;case 24:_a(bt)}}function Zi(e,t){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var c=i.next;a=c;do{if((a.tag&e)===e){i=void 0;var d=a.create,m=a.inst;i=d(),m.destroy=i}a=a.next}while(a!==c)}}catch(y){qe(t,t.return,y)}}function al(e,t,a){try{var i=t.updateQueue,c=i!==null?i.lastEffect:null;if(c!==null){var d=c.next;i=d;do{if((i.tag&e)===e){var m=i.inst,y=m.destroy;if(y!==void 0){m.destroy=void 0,c=t;var S=a,A=y;try{A()}catch(L){qe(c,S,L)}}}i=i.next}while(i!==d)}}catch(L){qe(t,t.return,L)}}function zp(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Cm(t,a)}catch(i){qe(e,e.return,i)}}}function Lp(e,t,a){a.props=Gl(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(i){qe(e,t,i)}}function Ji(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof a=="function"?e.refCleanup=a(i):a.current=i}}catch(c){qe(e,t,c)}}function ea(e,t){var a=e.ref,i=e.refCleanup;if(a!==null)if(typeof i=="function")try{i()}catch(c){qe(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){qe(e,t,c)}else a.current=null}function $p(e){var t=e.type,a=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&i.focus();break e;case"img":a.src?i.src=a.src:a.srcSet&&(i.srcset=a.srcSet)}}catch(c){qe(e,e.return,c)}}function xd(e,t,a){try{var i=e.stateNode;Ab(i,e.type,a,t),i[tn]=t}catch(c){qe(e,e.return,c)}}function Up(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ul(e.type)||e.tag===4}function yd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Up(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ul(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vd(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Ln));else if(i!==4&&(i===27&&ul(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(vd(e,t,a),e=e.sibling;e!==null;)vd(e,t,a),e=e.sibling}function Go(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(i!==4&&(i===27&&ul(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Go(e,t,a),e=e.sibling;e!==null;)Go(e,t,a),e=e.sibling}function Ip(e){var t=e.stateNode,a=e.memoizedProps;try{for(var i=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);It(t,i,a),t[ct]=e,t[tn]=a}catch(d){qe(e,e.return,d)}}var Ea=!1,Nt=!1,bd=!1,Hp=typeof WeakSet=="function"?WeakSet:Set,kt=null;function ob(e,t){if(e=e.containerInfo,Bd=dc,e=Jh(e),hu(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var i=a.getSelection&&a.getSelection();if(i&&i.rangeCount!==0){a=i.anchorNode;var c=i.anchorOffset,d=i.focusNode;i=i.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var m=0,y=-1,S=-1,A=0,L=0,H=e,k=null;t:for(;;){for(var M;H!==a||c!==0&&H.nodeType!==3||(y=m+c),H!==d||i!==0&&H.nodeType!==3||(S=m+i),H.nodeType===3&&(m+=H.nodeValue.length),(M=H.firstChild)!==null;)k=H,H=M;for(;;){if(H===e)break t;if(k===a&&++A===c&&(y=m),k===d&&++L===i&&(S=m),(M=H.nextSibling)!==null)break;H=k,k=H.parentNode}H=M}a=y===-1||S===-1?null:{start:y,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(qd={focusedElem:e,selectionRange:a},dc=!1,kt=t;kt!==null;)if(t=kt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,kt=e;else for(;kt!==null;){switch(t=kt,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)c=e[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=t,c=d.memoizedProps,d=d.memoizedState,i=a.stateNode;try{var J=Gl(a.type,c);e=i.getSnapshotBeforeUpdate(J,d),i.__reactInternalSnapshotBeforeUpdate=e}catch(ie){qe(a,a.return,ie)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Vd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Vd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,kt=e;break}kt=t.return}}function Bp(e,t,a){var i=a.flags;switch(a.tag){case 0:case 11:case 15:Ta(e,a),i&4&&Zi(5,a);break;case 1:if(Ta(e,a),i&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){qe(a,a.return,m)}else{var c=Gl(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){qe(a,a.return,m)}}i&64&&zp(a),i&512&&Ji(a,a.return);break;case 3:if(Ta(e,a),i&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Cm(e,t)}catch(m){qe(a,a.return,m)}}break;case 27:t===null&&i&4&&Ip(a);case 26:case 5:Ta(e,a),t===null&&i&4&&$p(a),i&512&&Ji(a,a.return);break;case 12:Ta(e,a);break;case 31:Ta(e,a),i&4&&Gp(e,a);break;case 13:Ta(e,a),i&4&&Vp(e,a),i&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=xb.bind(null,a),$b(e,a))));break;case 22:if(i=a.memoizedState!==null||Ea,!i){t=t!==null&&t.memoizedState!==null||Nt,c=Ea;var d=Nt;Ea=i,(Nt=t)&&!d?Aa(e,a,(a.subtreeFlags&8772)!==0):Ta(e,a),Ea=c,Nt=d}break;case 30:break;default:Ta(e,a)}}function qp(e){var t=e.alternate;t!==null&&(e.alternate=null,qp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ds(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var it=null,cn=!1;function ja(e,t,a){for(a=a.child;a!==null;)Yp(e,t,a),a=a.sibling}function Yp(e,t,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Qn,a)}catch{}switch(a.tag){case 26:Nt||ea(a,t),ja(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||ea(a,t);var i=it,c=cn;ul(a.type)&&(it=a.stateNode,cn=!1),ja(e,t,a),rr(a.stateNode),it=i,cn=c;break;case 5:Nt||ea(a,t);case 6:if(i=it,c=cn,it=null,ja(e,t,a),it=i,cn=c,it!==null)if(cn)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(a.stateNode)}catch(d){qe(a,t,d)}else try{it.removeChild(a.stateNode)}catch(d){qe(a,t,d)}break;case 18:it!==null&&(cn?(e=it,zg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ks(e)):zg(it,a.stateNode));break;case 4:i=it,c=cn,it=a.stateNode.containerInfo,cn=!0,ja(e,t,a),it=i,cn=c;break;case 0:case 11:case 14:case 15:al(2,a,t),Nt||al(4,a,t),ja(e,t,a);break;case 1:Nt||(ea(a,t),i=a.stateNode,typeof i.componentWillUnmount=="function"&&Lp(a,t,i)),ja(e,t,a);break;case 21:ja(e,t,a);break;case 22:Nt=(i=Nt)||a.memoizedState!==null,ja(e,t,a),Nt=i;break;default:ja(e,t,a)}}function Gp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ks(e)}catch(a){qe(t,t.return,a)}}}function Vp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ks(e)}catch(a){qe(t,t.return,a)}}function cb(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Hp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Hp),t;default:throw Error(r(435,e.tag))}}function Vo(e,t){var a=cb(e);t.forEach(function(i){if(!a.has(i)){a.add(i);var c=yb.bind(null,e,i);i.then(c,c)}})}function un(e,t){var a=t.deletions;if(a!==null)for(var i=0;i<a.length;i++){var c=a[i],d=e,m=t,y=m;e:for(;y!==null;){switch(y.tag){case 27:if(ul(y.type)){it=y.stateNode,cn=!1;break e}break;case 5:it=y.stateNode,cn=!1;break e;case 3:case 4:it=y.stateNode.containerInfo,cn=!0;break e}y=y.return}if(it===null)throw Error(r(160));Yp(d,m,c),it=null,cn=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Pp(t,e),t=t.sibling}var In=null;function Pp(e,t){var a=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(t,e),dn(e),i&4&&(al(3,e,e.return),Zi(3,e),al(5,e,e.return));break;case 1:un(t,e),dn(e),i&512&&(Nt||a===null||ea(a,a.return)),i&64&&Ea&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?i:a.concat(i))));break;case 26:var c=In;if(un(t,e),dn(e),i&512&&(Nt||a===null||ea(a,a.return)),i&4){var d=a!==null?a.memoizedState:null;if(i=e.memoizedState,a===null)if(i===null)if(e.stateNode===null){e:{i=e.type,a=e.memoizedProps,c=c.ownerDocument||c;t:switch(i){case"title":d=c.getElementsByTagName("title")[0],(!d||d[Fn]||d[ct]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(i),c.head.insertBefore(d,c.querySelector("head > title"))),It(d,i,a),d[ct]=e,ut(d),i=d;break e;case"link":var m=Pg("link","href",c).get(i+(a.href||""));if(m){for(var y=0;y<m.length;y++)if(d=m[y],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(y,1);break t}}d=c.createElement(i),It(d,i,a),c.head.appendChild(d);break;case"meta":if(m=Pg("meta","content",c).get(i+(a.content||""))){for(y=0;y<m.length;y++)if(d=m[y],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(y,1);break t}}d=c.createElement(i),It(d,i,a),c.head.appendChild(d);break;default:throw Error(r(468,i))}d[ct]=e,ut(d),i=d}e.stateNode=i}else Qg(c,e.type,e.stateNode);else e.stateNode=Vg(c,i,e.memoizedProps);else d!==i?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,i===null?Qg(c,e.type,e.stateNode):Vg(c,i,e.memoizedProps)):i===null&&e.stateNode!==null&&xd(e,e.memoizedProps,a.memoizedProps)}break;case 27:un(t,e),dn(e),i&512&&(Nt||a===null||ea(a,a.return)),a!==null&&i&4&&xd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(un(t,e),dn(e),i&512&&(Nt||a===null||ea(a,a.return)),e.flags&32){c=e.stateNode;try{pa(c,"")}catch(J){qe(e,e.return,J)}}i&4&&e.stateNode!=null&&(c=e.memoizedProps,xd(e,c,a!==null?a.memoizedProps:c)),i&1024&&(bd=!0);break;case 6:if(un(t,e),dn(e),i&4){if(e.stateNode===null)throw Error(r(162));i=e.memoizedProps,a=e.stateNode;try{a.nodeValue=i}catch(J){qe(e,e.return,J)}}break;case 3:if(rc=null,c=In,In=sc(t.containerInfo),un(t,e),In=c,dn(e),i&4&&a!==null&&a.memoizedState.isDehydrated)try{Ks(t.containerInfo)}catch(J){qe(e,e.return,J)}bd&&(bd=!1,Qp(e));break;case 4:i=In,In=sc(e.stateNode.containerInfo),un(t,e),dn(e),In=i;break;case 12:un(t,e),dn(e);break;case 31:un(t,e),dn(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Vo(e,i)));break;case 13:un(t,e),dn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Qo=Wt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Vo(e,i)));break;case 22:c=e.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,A=Ea,L=Nt;if(Ea=A||c,Nt=L||S,un(t,e),Nt=L,Ea=A,dn(e),i&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(a===null||S||Ea||Nt||Vl(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){S=a=t;try{if(d=S.stateNode,c)m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{y=S.stateNode;var H=S.memoizedProps.style,k=H!=null&&H.hasOwnProperty("display")?H.display:null;y.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(J){qe(S,S.return,J)}}}else if(t.tag===6){if(a===null){S=t;try{S.stateNode.nodeValue=c?"":S.memoizedProps}catch(J){qe(S,S.return,J)}}}else if(t.tag===18){if(a===null){S=t;try{var M=S.stateNode;c?Lg(M,!0):Lg(S.stateNode,!1)}catch(J){qe(S,S.return,J)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(a=i.retryQueue,a!==null&&(i.retryQueue=null,Vo(e,a))));break;case 19:un(t,e),dn(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Vo(e,i)));break;case 30:break;case 21:break;default:un(t,e),dn(e)}}function dn(e){var t=e.flags;if(t&2){try{for(var a,i=e.return;i!==null;){if(Up(i)){a=i;break}i=i.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,d=yd(e);Go(e,d,c);break;case 5:var m=a.stateNode;a.flags&32&&(pa(m,""),a.flags&=-33);var y=yd(e);Go(e,y,m);break;case 3:case 4:var S=a.stateNode.containerInfo,A=yd(e);vd(e,A,S);break;default:throw Error(r(161))}}catch(L){qe(e,e.return,L)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Qp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ta(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Bp(e,t.alternate,t),t=t.sibling}function Vl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:al(4,t,t.return),Vl(t);break;case 1:ea(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Lp(t,t.return,a),Vl(t);break;case 27:rr(t.stateNode);case 26:case 5:ea(t,t.return),Vl(t);break;case 22:t.memoizedState===null&&Vl(t);break;case 30:Vl(t);break;default:Vl(t)}e=e.sibling}}function Aa(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,c=e,d=t,m=d.flags;switch(d.tag){case 0:case 11:case 15:Aa(c,d,a),Zi(4,d);break;case 1:if(Aa(c,d,a),i=d,c=i.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(A){qe(i,i.return,A)}if(i=d,c=i.updateQueue,c!==null){var y=i.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)wm(S[c],y)}catch(A){qe(i,i.return,A)}}a&&m&64&&zp(d),Ji(d,d.return);break;case 27:Ip(d);case 26:case 5:Aa(c,d,a),a&&i===null&&m&4&&$p(d),Ji(d,d.return);break;case 12:Aa(c,d,a);break;case 31:Aa(c,d,a),a&&m&4&&Gp(c,d);break;case 13:Aa(c,d,a),a&&m&4&&Vp(c,d);break;case 22:d.memoizedState===null&&Aa(c,d,a),Ji(d,d.return);break;case 30:break;default:Aa(c,d,a)}t=t.sibling}}function _d(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ui(a))}function Sd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ui(e))}function Hn(e,t,a,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Fp(e,t,a,i),t=t.sibling}function Fp(e,t,a,i){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Hn(e,t,a,i),c&2048&&Zi(9,t);break;case 1:Hn(e,t,a,i);break;case 3:Hn(e,t,a,i),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ui(e)));break;case 12:if(c&2048){Hn(e,t,a,i),e=t.stateNode;try{var d=t.memoizedProps,m=d.id,y=d.onPostCommit;typeof y=="function"&&y(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){qe(t,t.return,S)}}else Hn(e,t,a,i);break;case 31:Hn(e,t,a,i);break;case 13:Hn(e,t,a,i);break;case 23:break;case 22:d=t.stateNode,m=t.alternate,t.memoizedState!==null?d._visibility&2?Hn(e,t,a,i):Wi(e,t):d._visibility&2?Hn(e,t,a,i):(d._visibility|=2,Is(e,t,a,i,(t.subtreeFlags&10256)!==0||!1)),c&2048&&_d(m,t);break;case 24:Hn(e,t,a,i),c&2048&&Sd(t.alternate,t);break;default:Hn(e,t,a,i)}}function Is(e,t,a,i,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,m=t,y=a,S=i,A=m.flags;switch(m.tag){case 0:case 11:case 15:Is(d,m,y,S,c),Zi(8,m);break;case 23:break;case 22:var L=m.stateNode;m.memoizedState!==null?L._visibility&2?Is(d,m,y,S,c):Wi(d,m):(L._visibility|=2,Is(d,m,y,S,c)),c&&A&2048&&_d(m.alternate,m);break;case 24:Is(d,m,y,S,c),c&&A&2048&&Sd(m.alternate,m);break;default:Is(d,m,y,S,c)}t=t.sibling}}function Wi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,i=t,c=i.flags;switch(i.tag){case 22:Wi(a,i),c&2048&&_d(i.alternate,i);break;case 24:Wi(a,i),c&2048&&Sd(i.alternate,i);break;default:Wi(a,i)}t=t.sibling}}var er=8192;function Hs(e,t,a){if(e.subtreeFlags&er)for(e=e.child;e!==null;)Xp(e,t,a),e=e.sibling}function Xp(e,t,a){switch(e.tag){case 26:Hs(e,t,a),e.flags&er&&e.memoizedState!==null&&Xb(a,In,e.memoizedState,e.memoizedProps);break;case 5:Hs(e,t,a);break;case 3:case 4:var i=In;In=sc(e.stateNode.containerInfo),Hs(e,t,a),In=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=er,er=16777216,Hs(e,t,a),er=i):Hs(e,t,a));break;default:Hs(e,t,a)}}function Kp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function tr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];kt=i,Jp(i,e)}Kp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Zp(e),e=e.sibling}function Zp(e){switch(e.tag){case 0:case 11:case 15:tr(e),e.flags&2048&&al(9,e,e.return);break;case 3:tr(e);break;case 12:tr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Po(e)):tr(e);break;default:tr(e)}}function Po(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];kt=i,Jp(i,e)}Kp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:al(8,t,t.return),Po(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Po(t));break;default:Po(t)}e=e.sibling}}function Jp(e,t){for(;kt!==null;){var a=kt;switch(a.tag){case 0:case 11:case 15:al(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var i=a.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ui(a.memoizedState.cache)}if(i=a.child,i!==null)i.return=a,kt=i;else e:for(a=e;kt!==null;){i=kt;var c=i.sibling,d=i.return;if(qp(i),i===a){kt=null;break e}if(c!==null){c.return=d,kt=c;break e}kt=d}}}var ub={getCacheForType:function(e){var t=$t(bt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return $t(bt).controller.signal}},db=typeof WeakMap=="function"?WeakMap:Map,$e=0,Ze=null,Ce=null,De=0,Be=0,vn=null,ll=!1,Bs=!1,Nd=!1,ka=0,ft=0,sl=0,Pl=0,wd=0,bn=0,qs=0,nr=null,fn=null,Cd=!1,Qo=0,Wp=0,Fo=1/0,Xo=null,il=null,Ct=0,rl=null,Ys=null,Da=0,Ed=0,jd=null,eg=null,ar=0,Td=null;function _n(){return($e&2)!==0&&De!==0?De&-De:z.T!==null?Rd():Ot()}function tg(){if(bn===0)if((De&536870912)===0||Oe){var e=rs;rs<<=1,(rs&3932160)===0&&(rs=262144),bn=e}else bn=536870912;return e=xn.current,e!==null&&(e.flags|=32),bn}function hn(e,t,a){(e===Ze&&(Be===2||Be===9)||e.cancelPendingCommit!==null)&&(Gs(e,0),ol(e,De,bn,!1)),oa(e,a),(($e&2)===0||e!==Ze)&&(e===Ze&&(($e&2)===0&&(Pl|=a),ft===4&&ol(e,De,bn,!1)),ta(e))}function ng(e,t,a){if(($e&6)!==0)throw Error(r(327));var i=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Vt(e,t),c=i?mb(e,t):kd(e,t,!0),d=i;do{if(c===0){Bs&&!i&&ol(e,t,0,!1);break}else{if(a=e.current.alternate,d&&!fb(a)){c=kd(e,t,!1),d=!1;continue}if(c===2){if(d=t,e.errorRecoveryDisabledLanes&d)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var y=e;c=nr;var S=y.current.memoizedState.isDehydrated;if(S&&(Gs(y,m).flags|=256),m=kd(y,m,!1),m!==2){if(Nd&&!S){y.errorRecoveryDisabledLanes|=d,Pl|=d,c=4;break e}d=fn,fn=c,d!==null&&(fn===null?fn=d:fn.push.apply(fn,d))}c=m}if(d=!1,c!==2)continue}}if(c===1){Gs(e,0),ol(e,t,0,!0);break}e:{switch(i=e,d=c,d){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:ol(i,t,bn,!ll);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(c=Qo+300-Wt(),10<c)){if(ol(i,t,bn,!ll),Ba(i,0,!0)!==0)break e;Da=t,i.timeoutHandle=Og(ag.bind(null,i,a,fn,Xo,Cd,t,bn,Pl,qs,ll,d,"Throttled",-0,0),c);break e}ag(i,a,fn,Xo,Cd,t,bn,Pl,qs,ll,d,null,-0,0)}}break}while(!0);ta(e)}function ag(e,t,a,i,c,d,m,y,S,A,L,H,k,M){if(e.timeoutHandle=-1,H=t.subtreeFlags,H&8192||(H&16785408)===16785408){H={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ln},Xp(t,d,H);var J=(d&62914560)===d?Qo-Wt():(d&4194048)===d?Wp-Wt():0;if(J=Kb(H,J),J!==null){Da=d,e.cancelPendingCommit=J(dg.bind(null,e,t,d,a,i,c,m,y,S,L,H,null,k,M)),ol(e,d,m,!A);return}}dg(e,t,d,a,i,c,m,y,S)}function fb(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var i=0;i<a.length;i++){var c=a[i],d=c.getSnapshot;c=c.value;try{if(!pn(d(),c))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ol(e,t,a,i){t&=~wd,t&=~Pl,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var c=t;0<c;){var d=31-en(c),m=1<<d;i[d]=-1,c&=~m}a!==0&&to(e,a,t)}function Ko(){return($e&6)===0?(lr(0),!1):!0}function Ad(){if(Ce!==null){if(Be===0)var e=Ce.return;else e=Ce,ba=$l=null,Vu(e),Rs=null,Hi=0,e=Ce;for(;e!==null;)Rp(e.alternate,e),e=e.return;Ce=null}}function Gs(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Mb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Da=0,Ad(),Ze=e,Ce=a=ya(e.current,null),De=t,Be=0,vn=null,ll=!1,Bs=Vt(e,t),Nd=!1,qs=bn=wd=Pl=sl=ft=0,fn=nr=null,Cd=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var c=31-en(i),d=1<<c;t|=e[c],i&=~d}return ka=t,xo(),a}function lg(e,t){ye=null,z.H=Fi,t===Os||t===Co?(t=bm(),Be=3):t===Ou?(t=bm(),Be=4):Be=t===rd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,vn=t,Ce===null&&(ft=1,Io(e,wn(t,e.current)))}function sg(){var e=xn.current;return e===null?!0:(De&4194048)===De?Tn===null:(De&62914560)===De||(De&536870912)!==0?e===Tn:!1}function ig(){var e=z.H;return z.H=Fi,e===null?Fi:e}function rg(){var e=z.A;return z.A=ub,e}function Zo(){ft=4,ll||(De&4194048)!==De&&xn.current!==null||(Bs=!0),(sl&134217727)===0&&(Pl&134217727)===0||Ze===null||ol(Ze,De,bn,!1)}function kd(e,t,a){var i=$e;$e|=2;var c=ig(),d=rg();(Ze!==e||De!==t)&&(Xo=null,Gs(e,t)),t=!1;var m=ft;e:do try{if(Be!==0&&Ce!==null){var y=Ce,S=vn;switch(Be){case 8:Ad(),m=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(t=!0);var A=Be;if(Be=0,vn=null,Vs(e,y,S,A),a&&Bs){m=0;break e}break;default:A=Be,Be=0,vn=null,Vs(e,y,S,A)}}hb(),m=ft;break}catch(L){lg(e,L)}while(!0);return t&&e.shellSuspendCounter++,ba=$l=null,$e=i,z.H=c,z.A=d,Ce===null&&(Ze=null,De=0,xo()),m}function hb(){for(;Ce!==null;)og(Ce)}function mb(e,t){var a=$e;$e|=2;var i=ig(),c=rg();Ze!==e||De!==t?(Xo=null,Fo=Wt()+500,Gs(e,t)):Bs=Vt(e,t);e:do try{if(Be!==0&&Ce!==null){t=Ce;var d=vn;t:switch(Be){case 1:Be=0,vn=null,Vs(e,t,d,1);break;case 2:case 9:if(ym(d)){Be=0,vn=null,cg(t);break}t=function(){Be!==2&&Be!==9||Ze!==e||(Be=7),ta(e)},d.then(t,t);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:ym(d)?(Be=0,vn=null,cg(t)):(Be=0,vn=null,Vs(e,t,d,7));break;case 5:var m=null;switch(Ce.tag){case 26:m=Ce.memoizedState;case 5:case 27:var y=Ce;if(m?Fg(m):y.stateNode.complete){Be=0,vn=null;var S=y.sibling;if(S!==null)Ce=S;else{var A=y.return;A!==null?(Ce=A,Jo(A)):Ce=null}break t}}Be=0,vn=null,Vs(e,t,d,5);break;case 6:Be=0,vn=null,Vs(e,t,d,6);break;case 8:Ad(),ft=6;break e;default:throw Error(r(462))}}pb();break}catch(L){lg(e,L)}while(!0);return ba=$l=null,z.H=i,z.A=c,$e=a,Ce!==null?0:(Ze=null,De=0,xo(),ft)}function pb(){for(;Ce!==null&&!as();)og(Ce)}function og(e){var t=Mp(e.alternate,e,ka);e.memoizedProps=e.pendingProps,t===null?Jo(e):Ce=t}function cg(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Ep(a,t,t.pendingProps,t.type,void 0,De);break;case 11:t=Ep(a,t,t.pendingProps,t.type.render,t.ref,De);break;case 5:Vu(t);default:Rp(a,t),t=Ce=rm(t,ka),t=Mp(a,t,ka)}e.memoizedProps=e.pendingProps,t===null?Jo(e):Ce=t}function Vs(e,t,a,i){ba=$l=null,Vu(t),Rs=null,Hi=0;var c=t.return;try{if(ab(e,c,t,a,De)){ft=1,Io(e,wn(a,e.current)),Ce=null;return}}catch(d){if(c!==null)throw Ce=c,d;ft=1,Io(e,wn(a,e.current)),Ce=null;return}t.flags&32768?(Oe||i===1?e=!0:Bs||(De&536870912)!==0?e=!1:(ll=e=!0,(i===2||i===9||i===3||i===6)&&(i=xn.current,i!==null&&i.tag===13&&(i.flags|=16384))),ug(t,e)):Jo(t)}function Jo(e){var t=e;do{if((t.flags&32768)!==0){ug(t,ll);return}e=t.return;var a=ib(t.alternate,t,ka);if(a!==null){Ce=a;return}if(t=t.sibling,t!==null){Ce=t;return}Ce=t=e}while(t!==null);ft===0&&(ft=5)}function ug(e,t){do{var a=rb(e.alternate,e);if(a!==null){a.flags&=32767,Ce=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Ce=e;return}Ce=e=a}while(e!==null);ft=6,Ce=null}function dg(e,t,a,i,c,d,m,y,S){e.cancelPendingCommit=null;do Wo();while(Ct!==0);if(($e&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(d=t.lanes|t.childLanes,d|=yu,cs(e,a,d,m,y,S),e===Ze&&(Ce=Ze=null,De=0),Ys=t,rl=e,Da=a,Ed=d,jd=c,eg=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,vb(ra,function(){return gg(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=z.T,z.T=null,c=V.p,V.p=2,m=$e,$e|=4;try{ob(e,t,a)}finally{$e=m,V.p=c,z.T=i}}Ct=1,fg(),hg(),mg()}}function fg(){if(Ct===1){Ct=0;var e=rl,t=Ys,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=z.T,z.T=null;var i=V.p;V.p=2;var c=$e;$e|=4;try{Pp(t,e);var d=qd,m=Jh(e.containerInfo),y=d.focusedElem,S=d.selectionRange;if(m!==y&&y&&y.ownerDocument&&Zh(y.ownerDocument.documentElement,y)){if(S!==null&&hu(y)){var A=S.start,L=S.end;if(L===void 0&&(L=A),"selectionStart"in y)y.selectionStart=A,y.selectionEnd=Math.min(L,y.value.length);else{var H=y.ownerDocument||document,k=H&&H.defaultView||window;if(k.getSelection){var M=k.getSelection(),J=y.textContent.length,ie=Math.min(S.start,J),Fe=S.end===void 0?ie:Math.min(S.end,J);!M.extend&&ie>Fe&&(m=Fe,Fe=ie,ie=m);var j=Kh(y,ie),C=Kh(y,Fe);if(j&&C&&(M.rangeCount!==1||M.anchorNode!==j.node||M.anchorOffset!==j.offset||M.focusNode!==C.node||M.focusOffset!==C.offset)){var T=H.createRange();T.setStart(j.node,j.offset),M.removeAllRanges(),ie>Fe?(M.addRange(T),M.extend(C.node,C.offset)):(T.setEnd(C.node,C.offset),M.addRange(T))}}}}for(H=[],M=y;M=M.parentNode;)M.nodeType===1&&H.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<H.length;y++){var I=H[y];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}dc=!!Bd,qd=Bd=null}finally{$e=c,V.p=i,z.T=a}}e.current=t,Ct=2}}function hg(){if(Ct===2){Ct=0;var e=rl,t=Ys,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=z.T,z.T=null;var i=V.p;V.p=2;var c=$e;$e|=4;try{Bp(e,t.alternate,t)}finally{$e=c,V.p=i,z.T=a}}Ct=3}}function mg(){if(Ct===4||Ct===3){Ct=0,nu();var e=rl,t=Ys,a=Da,i=eg;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ct=5:(Ct=0,Ys=rl=null,pg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(il=null),jl(a),t=t.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Qn,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=z.T,c=V.p,V.p=2,z.T=null;try{for(var d=e.onRecoverableError,m=0;m<i.length;m++){var y=i[m];d(y.value,{componentStack:y.stack})}}finally{z.T=t,V.p=c}}(Da&3)!==0&&Wo(),ta(e),c=e.pendingLanes,(a&261930)!==0&&(c&42)!==0?e===Td?ar++:(ar=0,Td=e):ar=0,lr(0)}}function pg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ui(t)))}function Wo(){return fg(),hg(),mg(),gg()}function gg(){if(Ct!==5)return!1;var e=rl,t=Ed;Ed=0;var a=jl(Da),i=z.T,c=V.p;try{V.p=32>a?32:a,z.T=null,a=jd,jd=null;var d=rl,m=Da;if(Ct=0,Ys=rl=null,Da=0,($e&6)!==0)throw Error(r(331));var y=$e;if($e|=4,Zp(d.current),Fp(d,d.current,m,a),$e=y,lr(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Qn,d)}catch{}return!0}finally{V.p=c,z.T=i,pg(e,t)}}function xg(e,t,a){t=wn(a,t),t=id(e.stateNode,t,2),e=el(e,t,2),e!==null&&(oa(e,2),ta(e))}function qe(e,t,a){if(e.tag===3)xg(e,e,a);else for(;t!==null;){if(t.tag===3){xg(t,e,a);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(il===null||!il.has(i))){e=wn(a,e),a=yp(2),i=el(t,a,2),i!==null&&(vp(a,i,t,e),oa(i,2),ta(i));break}}t=t.return}}function Dd(e,t,a){var i=e.pingCache;if(i===null){i=e.pingCache=new db;var c=new Set;i.set(t,c)}else c=i.get(t),c===void 0&&(c=new Set,i.set(t,c));c.has(a)||(Nd=!0,c.add(a),e=gb.bind(null,e,t,a),t.then(e,e))}function gb(e,t,a){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ze===e&&(De&a)===a&&(ft===4||ft===3&&(De&62914560)===De&&300>Wt()-Qo?($e&2)===0&&Gs(e,0):wd|=a,qs===De&&(qs=0)),ta(e)}function yg(e,t){t===0&&(t=os()),e=Rl(e,t),e!==null&&(oa(e,t),ta(e))}function xb(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),yg(e,a)}function yb(e,t){var a=0;switch(e.tag){case 31:case 13:var i=e.stateNode,c=e.memoizedState;c!==null&&(a=c.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}i!==null&&i.delete(t),yg(e,a)}function vb(e,t){return Yt(e,t)}var ec=null,Ps=null,Md=!1,tc=!1,Od=!1,cl=0;function ta(e){e!==Ps&&e.next===null&&(Ps===null?ec=Ps=e:Ps=Ps.next=e),tc=!0,Md||(Md=!0,_b())}function lr(e,t){if(!Od&&tc){Od=!0;do for(var a=!1,i=ec;i!==null;){if(e!==0){var c=i.pendingLanes;if(c===0)var d=0;else{var m=i.suspendedLanes,y=i.pingedLanes;d=(1<<31-en(42|e)+1)-1,d&=c&~(m&~y),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Sg(i,d))}else d=De,d=Ba(i,i===Ze?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(d&3)===0||Vt(i,d)||(a=!0,Sg(i,d));i=i.next}while(a);Od=!1}}function bb(){vg()}function vg(){tc=Md=!1;var e=0;cl!==0&&Db()&&(e=cl);for(var t=Wt(),a=null,i=ec;i!==null;){var c=i.next,d=bg(i,t);d===0?(i.next=null,a===null?ec=c:a.next=c,c===null&&(Ps=a)):(a=i,(e!==0||(d&3)!==0)&&(tc=!0)),i=c}Ct!==0&&Ct!==5||lr(e),cl!==0&&(cl=0)}function bg(e,t){for(var a=e.suspendedLanes,i=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var m=31-en(d),y=1<<m,S=c[m];S===-1?((y&a)===0||(y&i)!==0)&&(c[m]=Wr(y,t)):S<=t&&(e.expiredLanes|=y),d&=~y}if(t=Ze,a=De,a=Ba(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,a===0||e===t&&(Be===2||Be===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Sn(i),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Vt(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(i!==null&&Sn(i),jl(a)){case 2:case 8:a=El;break;case 32:a=ra;break;case 268435456:a=ls;break;default:a=ra}return i=_g.bind(null,e),a=Yt(a,i),e.callbackPriority=t,e.callbackNode=a,t}return i!==null&&i!==null&&Sn(i),e.callbackPriority=2,e.callbackNode=null,2}function _g(e,t){if(Ct!==0&&Ct!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Wo()&&e.callbackNode!==a)return null;var i=De;return i=Ba(e,e===Ze?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(ng(e,i,t),bg(e,Wt()),e.callbackNode!=null&&e.callbackNode===a?_g.bind(null,e):null)}function Sg(e,t){if(Wo())return null;ng(e,t,!0)}function _b(){Ob(function(){($e&6)!==0?Yt(Cl,bb):vg()})}function Rd(){if(cl===0){var e=Ds;e===0&&(e=is,is<<=1,(is&261888)===0&&(is=256)),cl=e}return cl}function Ng(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:xs(""+e)}function wg(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Sb(e,t,a,i,c){if(t==="submit"&&a&&a.stateNode===c){var d=Ng((c[tn]||null).action),m=i.submitter;m&&(t=(t=m[tn]||null)?Ng(t.formAction):m.getAttribute("formAction"),t!==null&&(d=t,m=null));var y=new _s("action","action",null,i,c);e.push({event:y,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(cl!==0){var S=m?wg(c,m):new FormData(c);ed(a,{pending:!0,data:S,method:c.method,action:d},null,S)}}else typeof d=="function"&&(y.preventDefault(),S=m?wg(c,m):new FormData(c),ed(a,{pending:!0,data:S,method:c.method,action:d},d,S))},currentTarget:c}]})}}for(var zd=0;zd<xu.length;zd++){var Ld=xu[zd],Nb=Ld.toLowerCase(),wb=Ld[0].toUpperCase()+Ld.slice(1);Un(Nb,"on"+wb)}Un(tm,"onAnimationEnd"),Un(nm,"onAnimationIteration"),Un(am,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(Hv,"onTransitionRun"),Un(Bv,"onTransitionStart"),Un(qv,"onTransitionCancel"),Un(lm,"onTransitionEnd"),Ya("onMouseEnter",["mouseout","mouseover"]),Ya("onMouseLeave",["mouseout","mouseover"]),Ya("onPointerEnter",["pointerout","pointerover"]),Ya("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sr));function Cg(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var i=e[a],c=i.event;i=i.listeners;e:{var d=void 0;if(t)for(var m=i.length-1;0<=m;m--){var y=i[m],S=y.instance,A=y.currentTarget;if(y=y.listener,S!==d&&c.isPropagationStopped())break e;d=y,c.currentTarget=A;try{d(c)}catch(L){go(L)}c.currentTarget=null,d=S}else for(m=0;m<i.length;m++){if(y=i[m],S=y.instance,A=y.currentTarget,y=y.listener,S!==d&&c.isPropagationStopped())break e;d=y,c.currentTarget=A;try{d(c)}catch(L){go(L)}c.currentTarget=null,d=S}}}}function Ee(e,t){var a=t[no];a===void 0&&(a=t[no]=new Set);var i=e+"__bubble";a.has(i)||(Eg(t,e,2,!1),a.add(i))}function $d(e,t,a){var i=0;t&&(i|=4),Eg(a,e,i,t)}var nc="_reactListening"+Math.random().toString(36).slice(2);function Ud(e){if(!e[nc]){e[nc]=!0,Ni.forEach(function(a){a!=="selectionchange"&&(Cb.has(a)||$d(a,!1,e),$d(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[nc]||(t[nc]=!0,$d("selectionchange",!1,t))}}function Eg(e,t,a,i){switch(t0(t)){case 2:var c=Wb;break;case 8:c=e1;break;default:c=Wd}a=c.bind(null,t,a,e),c=void 0,!Ai||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),i?c!==void 0?e.addEventListener(t,a,{capture:!0,passive:c}):e.addEventListener(t,a,!0):c!==void 0?e.addEventListener(t,a,{passive:c}):e.addEventListener(t,a,!1)}function Id(e,t,a,i,c){var d=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var m=i.tag;if(m===3||m===4){var y=i.stateNode.containerInfo;if(y===c)break;if(m===4)for(m=i.return;m!==null;){var S=m.tag;if((S===3||S===4)&&m.stateNode.containerInfo===c)return;m=m.return}for(;y!==null;){if(m=Xn(y),m===null)return;if(S=m.tag,S===5||S===6||S===26||S===27){i=d=m;continue e}y=y.parentNode}}i=i.return}fo(function(){var A=d,L=ji(a),H=[];e:{var k=sm.get(e);if(k!==void 0){var M=_s,J=e;switch(e){case"keypress":if(vs(a)===0)break e;case"keydown":case"keyup":M=yv;break;case"focusin":J="focus",M=Ft;break;case"focusout":J="blur",M=Ft;break;case"beforeblur":case"afterblur":M=Ft;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=te;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=ke;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=_v;break;case tm:case nm:case am:M=Xt;break;case lm:M=Nv;break;case"scroll":case"scrollend":M=E;break;case"wheel":M=Cv;break;case"copy":case"cut":case"paste":M=dv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Lh;break;case"toggle":case"beforetoggle":M=jv}var ie=(t&4)!==0,Fe=!ie&&(e==="scroll"||e==="scrollend"),j=ie?k!==null?k+"Capture":null:k;ie=[];for(var C=A,T;C!==null;){var I=C;if(T=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||T===null||j===null||(I=kl(C,j),I!=null&&ie.push(ir(C,I,T))),Fe)break;C=C.return}0<ie.length&&(k=new M(k,J,null,a,L),H.push({event:k,listeners:ie}))}}if((t&7)===0){e:{if(k=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",k&&a!==Ei&&(J=a.relatedTarget||a.fromElement)&&(Xn(J)||J[ua]))break e;if((M||k)&&(k=L.window===L?L:(k=L.ownerDocument)?k.defaultView||k.parentWindow:window,M?(J=a.relatedTarget||a.toElement,M=A,J=J?Xn(J):null,J!==null&&(Fe=f(J),ie=J.tag,J!==Fe||ie!==5&&ie!==27&&ie!==6)&&(J=null)):(M=null,J=A),M!==J)){if(ie=te,I="onMouseLeave",j="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(ie=Lh,I="onPointerLeave",j="onPointerEnter",C="pointer"),Fe=M==null?k:fa(M),T=J==null?k:fa(J),k=new ie(I,C+"leave",M,a,L),k.target=Fe,k.relatedTarget=T,I=null,Xn(L)===A&&(ie=new ie(j,C+"enter",J,a,L),ie.target=T,ie.relatedTarget=Fe,I=ie),Fe=I,M&&J)t:{for(ie=Eb,j=M,C=J,T=0,I=j;I;I=ie(I))T++;I=0;for(var ne=C;ne;ne=ie(ne))I++;for(;0<T-I;)j=ie(j),T--;for(;0<I-T;)C=ie(C),I--;for(;T--;){if(j===C||C!==null&&j===C.alternate){ie=j;break t}j=ie(j),C=ie(C)}ie=null}else ie=null;M!==null&&jg(H,k,M,ie,!1),J!==null&&Fe!==null&&jg(H,Fe,J,ie,!0)}}e:{if(k=A?fa(A):window,M=k.nodeName&&k.nodeName.toLowerCase(),M==="select"||M==="input"&&k.type==="file")var Re=Gh;else if(qh(k))if(Vh)Re=$v;else{Re=zv;var W=Rv}else M=k.nodeName,!M||M.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?A&&Ci(A.elementType)&&(Re=Gh):Re=Lv;if(Re&&(Re=Re(e,A))){Yh(H,Re,a,L);break e}W&&W(e,k,A),e==="focusout"&&A&&k.type==="number"&&A.memoizedProps.value!=null&&ma(k,"number",k.value)}switch(W=A?fa(A):window,e){case"focusin":(qh(W)||W.contentEditable==="true")&&(Ns=W,mu=A,zi=null);break;case"focusout":zi=mu=Ns=null;break;case"mousedown":pu=!0;break;case"contextmenu":case"mouseup":case"dragend":pu=!1,Wh(H,a,L);break;case"selectionchange":if(Iv)break;case"keydown":case"keyup":Wh(H,a,L)}var _e;if(uu)e:{switch(e){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Ss?Hh(e,a)&&(Me="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&($h&&a.locale!=="ko"&&(Ss||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Ss&&(_e=ho()):(Zn=L,ki="value"in Zn?Zn.value:Zn.textContent,Ss=!0)),W=ac(A,Me),0<W.length&&(Me=new zh(Me,e,null,a,L),H.push({event:Me,listeners:W}),_e?Me.data=_e:(_e=Bh(a),_e!==null&&(Me.data=_e)))),(_e=Av?kv(e,a):Dv(e,a))&&(Me=ac(A,"onBeforeInput"),0<Me.length&&(W=new zh("onBeforeInput","beforeinput",null,a,L),H.push({event:W,listeners:Me}),W.data=_e)),Sb(H,e,A,a,L)}Cg(H,t)})}function ir(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ac(e,t){for(var a=t+"Capture",i=[];e!==null;){var c=e,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=kl(e,a),c!=null&&i.unshift(ir(e,c,d)),c=kl(e,t),c!=null&&i.push(ir(e,c,d))),e.tag===3)return i;e=e.return}return[]}function Eb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function jg(e,t,a,i,c){for(var d=t._reactName,m=[];a!==null&&a!==i;){var y=a,S=y.alternate,A=y.stateNode;if(y=y.tag,S!==null&&S===i)break;y!==5&&y!==26&&y!==27||A===null||(S=A,c?(A=kl(a,d),A!=null&&m.unshift(ir(a,A,S))):c||(A=kl(a,d),A!=null&&m.push(ir(a,A,S)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var jb=/\r\n?/g,Tb=/\u0000|\uFFFD/g;function Tg(e){return(typeof e=="string"?e:""+e).replace(jb,`
`).replace(Tb,"")}function Ag(e,t){return t=Tg(t),Tg(e)===t}function Qe(e,t,a,i,c,d){switch(a){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||pa(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&pa(e,""+i);break;case"className":Ga(e,"class",i);break;case"tabIndex":Ga(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Ga(e,a,i);break;case"style":oo(e,i,d);break;case"data":if(t!=="object"){Ga(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=xs(""+i),e.setAttribute(a,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(t!=="input"&&Qe(e,t,"name",c.name,c,null),Qe(e,t,"formEncType",c.formEncType,c,null),Qe(e,t,"formMethod",c.formMethod,c,null),Qe(e,t,"formTarget",c.formTarget,c,null)):(Qe(e,t,"encType",c.encType,c,null),Qe(e,t,"method",c.method,c,null),Qe(e,t,"target",c.target,c,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=xs(""+i),e.setAttribute(a,i);break;case"onClick":i!=null&&(e.onclick=Ln);break;case"onScroll":i!=null&&Ee("scroll",e);break;case"onScrollEnd":i!=null&&Ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(a=i.__html,a!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}a=xs(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""+i):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":i===!0?e.setAttribute(a,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,i):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(a,i):e.removeAttribute(a);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(a):e.setAttribute(a,i);break;case"popover":Ee("beforetoggle",e),Ee("toggle",e),rn(e,"popover",i);break;case"xlinkActuate":Rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Rt(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Rt(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Rt(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Rt(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":rn(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=co.get(a)||a,rn(e,a,i))}}function Hd(e,t,a,i,c,d){switch(a){case"style":oo(e,i,d);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(a=i.__html,a!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof i=="string"?pa(e,i):(typeof i=="number"||typeof i=="bigint")&&pa(e,""+i);break;case"onScroll":i!=null&&Ee("scroll",e);break;case"onScrollEnd":i!=null&&Ee("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wi.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),t=a.slice(2,c?a.length-7:void 0),d=e[tn]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(t,d,c),typeof i=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,i,c);break e}a in e?e[a]=i:i===!0?e.setAttribute(a,""):rn(e,a,i)}}}function It(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",e),Ee("load",e);var i=!1,c=!1,d;for(d in a)if(a.hasOwnProperty(d)){var m=a[d];if(m!=null)switch(d){case"src":i=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Qe(e,t,d,m,a,null)}}c&&Qe(e,t,"srcSet",a.srcSet,a,null),i&&Qe(e,t,"src",a.src,a,null);return;case"input":Ee("invalid",e);var y=d=m=c=null,S=null,A=null;for(i in a)if(a.hasOwnProperty(i)){var L=a[i];if(L!=null)switch(i){case"name":c=L;break;case"type":m=L;break;case"checked":S=L;break;case"defaultChecked":A=L;break;case"value":d=L;break;case"defaultValue":y=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,t));break;default:Qe(e,t,i,L,a,null)}}Ie(e,d,y,S,A,m,c,!1);return;case"select":Ee("invalid",e),i=m=d=null;for(c in a)if(a.hasOwnProperty(c)&&(y=a[c],y!=null))switch(c){case"value":d=y;break;case"defaultValue":m=y;break;case"multiple":i=y;default:Qe(e,t,c,y,a,null)}t=d,a=m,e.multiple=!!i,t!=null?zn(e,!!i,t,!1):a!=null&&zn(e,!!i,a,!0);return;case"textarea":Ee("invalid",e),d=c=i=null;for(m in a)if(a.hasOwnProperty(m)&&(y=a[m],y!=null))switch(m){case"value":i=y;break;case"defaultValue":c=y;break;case"children":d=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:Qe(e,t,m,y,a,null)}ro(e,i,c,d);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(i=a[S],i!=null))switch(S){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Qe(e,t,S,i,a,null)}return;case"dialog":Ee("beforetoggle",e),Ee("toggle",e),Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":Ee("load",e);break;case"video":case"audio":for(i=0;i<sr.length;i++)Ee(sr[i],e);break;case"image":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"embed":case"source":case"link":Ee("error",e),Ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in a)if(a.hasOwnProperty(A)&&(i=a[A],i!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Qe(e,t,A,i,a,null)}return;default:if(Ci(t)){for(L in a)a.hasOwnProperty(L)&&(i=a[L],i!==void 0&&Hd(e,t,L,i,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(i=a[y],i!=null&&Qe(e,t,y,i,a,null))}function Ab(e,t,a,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,m=null,y=null,S=null,A=null,L=null;for(M in a){var H=a[M];if(a.hasOwnProperty(M)&&H!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":S=H;default:i.hasOwnProperty(M)||Qe(e,t,M,null,i,H)}}for(var k in i){var M=i[k];if(H=a[k],i.hasOwnProperty(k)&&(M!=null||H!=null))switch(k){case"type":d=M;break;case"name":c=M;break;case"checked":A=M;break;case"defaultChecked":L=M;break;case"value":m=M;break;case"defaultValue":y=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,t));break;default:M!==H&&Qe(e,t,k,M,i,H)}}Va(e,m,y,S,A,L,d,c);return;case"select":M=m=y=k=null;for(d in a)if(S=a[d],a.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":M=S;default:i.hasOwnProperty(d)||Qe(e,t,d,null,i,S)}for(c in i)if(d=i[c],S=a[c],i.hasOwnProperty(c)&&(d!=null||S!=null))switch(c){case"value":k=d;break;case"defaultValue":y=d;break;case"multiple":m=d;default:d!==S&&Qe(e,t,c,d,i,S)}t=y,a=m,i=M,k!=null?zn(e,!!a,k,!1):!!i!=!!a&&(t!=null?zn(e,!!a,t,!0):zn(e,!!a,a?[]:"",!1));return;case"textarea":M=k=null;for(y in a)if(c=a[y],a.hasOwnProperty(y)&&c!=null&&!i.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Qe(e,t,y,null,i,c)}for(m in i)if(c=i[m],d=a[m],i.hasOwnProperty(m)&&(c!=null||d!=null))switch(m){case"value":k=c;break;case"defaultValue":M=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==d&&Qe(e,t,m,c,i,d)}io(e,k,M);return;case"option":for(var J in a)if(k=a[J],a.hasOwnProperty(J)&&k!=null&&!i.hasOwnProperty(J))switch(J){case"selected":e.selected=!1;break;default:Qe(e,t,J,null,i,k)}for(S in i)if(k=i[S],M=a[S],i.hasOwnProperty(S)&&k!==M&&(k!=null||M!=null))switch(S){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Qe(e,t,S,k,i,M)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in a)k=a[ie],a.hasOwnProperty(ie)&&k!=null&&!i.hasOwnProperty(ie)&&Qe(e,t,ie,null,i,k);for(A in i)if(k=i[A],M=a[A],i.hasOwnProperty(A)&&k!==M&&(k!=null||M!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,t));break;default:Qe(e,t,A,k,i,M)}return;default:if(Ci(t)){for(var Fe in a)k=a[Fe],a.hasOwnProperty(Fe)&&k!==void 0&&!i.hasOwnProperty(Fe)&&Hd(e,t,Fe,void 0,i,k);for(L in i)k=i[L],M=a[L],!i.hasOwnProperty(L)||k===M||k===void 0&&M===void 0||Hd(e,t,L,k,i,M);return}}for(var j in a)k=a[j],a.hasOwnProperty(j)&&k!=null&&!i.hasOwnProperty(j)&&Qe(e,t,j,null,i,k);for(H in i)k=i[H],M=a[H],!i.hasOwnProperty(H)||k===M||k==null&&M==null||Qe(e,t,H,k,i,M)}function kg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),i=0;i<a.length;i++){var c=a[i],d=c.transferSize,m=c.initiatorType,y=c.duration;if(d&&y&&kg(m)){for(m=0,y=c.responseEnd,i+=1;i<a.length;i++){var S=a[i],A=S.startTime;if(A>y)break;var L=S.transferSize,H=S.initiatorType;L&&kg(H)&&(S=S.responseEnd,m+=L*(S<y?1:(y-A)/(S-A)))}if(--i,t+=8*(d+m)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Bd=null,qd=null;function lc(e){return e.nodeType===9?e:e.ownerDocument}function Dg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Yd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gd=null;function Db(){var e=window.event;return e&&e.type==="popstate"?e===Gd?!1:(Gd=e,!0):(Gd=null,!1)}var Og=typeof setTimeout=="function"?setTimeout:void 0,Mb=typeof clearTimeout=="function"?clearTimeout:void 0,Rg=typeof Promise=="function"?Promise:void 0,Ob=typeof queueMicrotask=="function"?queueMicrotask:typeof Rg<"u"?function(e){return Rg.resolve(null).then(e).catch(Rb)}:Og;function Rb(e){setTimeout(function(){throw e})}function ul(e){return e==="head"}function zg(e,t){var a=t,i=0;do{var c=a.nextSibling;if(e.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(i===0){e.removeChild(c),Ks(t);return}i--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")i++;else if(a==="html")rr(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,rr(a);for(var d=a.firstChild;d;){var m=d.nextSibling,y=d.nodeName;d[Fn]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=m}}else a==="body"&&rr(e.ownerDocument.body);a=c}while(a);Ks(t)}function Lg(e,t){var a=e;e=0;do{var i=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),i&&i.nodeType===8)if(a=i.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=i}while(a)}function Vd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vd(a),ds(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function zb(e,t,a,i){for(;e.nodeType===1;){var c=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Fn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=An(e.nextSibling),e===null)break}return null}function Lb(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=An(e.nextSibling),e===null))return null;return e}function $g(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=An(e.nextSibling),e===null))return null;return e}function Pd(e){return e.data==="$?"||e.data==="$~"}function Qd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function $b(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var i=function(){t(),a.removeEventListener("DOMContentLoaded",i)};a.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function An(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Fd=null;function Ug(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return An(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Ig(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Hg(e,t,a){switch(t=lc(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function rr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ds(e)}var kn=new Map,Bg=new Set;function sc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ma=V.d;V.d={f:Ub,r:Ib,D:Hb,C:Bb,L:qb,m:Yb,X:Vb,S:Gb,M:Pb};function Ub(){var e=Ma.f(),t=Ko();return e||t}function Ib(e){var t=da(e);t!==null&&t.tag===5&&t.type==="form"?lp(t):Ma.r(e)}var Qs=typeof document>"u"?null:document;function qg(e,t,a){var i=Qs;if(i&&typeof t=="string"&&t){var c=on(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Bg.has(c)||(Bg.add(c),e={rel:e,crossOrigin:a,href:t},i.querySelector(c)===null&&(t=i.createElement("link"),It(t,"link",e),ut(t),i.head.appendChild(t)))}}function Hb(e){Ma.D(e),qg("dns-prefetch",e,null)}function Bb(e,t){Ma.C(e,t),qg("preconnect",e,t)}function qb(e,t,a){Ma.L(e,t,a);var i=Qs;if(i&&e&&t){var c='link[rel="preload"][as="'+on(t)+'"]';t==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+on(a.imageSizes)+'"]')):c+='[href="'+on(e)+'"]';var d=c;switch(t){case"style":d=Fs(e);break;case"script":d=Xs(e)}kn.has(d)||(e=_({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),kn.set(d,e),i.querySelector(c)!==null||t==="style"&&i.querySelector(or(d))||t==="script"&&i.querySelector(cr(d))||(t=i.createElement("link"),It(t,"link",e),ut(t),i.head.appendChild(t)))}}function Yb(e,t){Ma.m(e,t);var a=Qs;if(a&&e){var i=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+on(i)+'"][href="'+on(e)+'"]',d=c;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Xs(e)}if(!kn.has(d)&&(e=_({rel:"modulepreload",href:e},t),kn.set(d,e),a.querySelector(c)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(cr(d)))return}i=a.createElement("link"),It(i,"link",e),ut(i),a.head.appendChild(i)}}}function Gb(e,t,a){Ma.S(e,t,a);var i=Qs;if(i&&e){var c=ha(i).hoistableStyles,d=Fs(e);t=t||"default";var m=c.get(d);if(!m){var y={loading:0,preload:null};if(m=i.querySelector(or(d)))y.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},a),(a=kn.get(d))&&Xd(e,a);var S=m=i.createElement("link");ut(S),It(S,"link",e),S._p=new Promise(function(A,L){S.onload=A,S.onerror=L}),S.addEventListener("load",function(){y.loading|=1}),S.addEventListener("error",function(){y.loading|=2}),y.loading|=4,ic(m,t,i)}m={type:"stylesheet",instance:m,count:1,state:y},c.set(d,m)}}}function Vb(e,t){Ma.X(e,t);var a=Qs;if(a&&e){var i=ha(a).hoistableScripts,c=Xs(e),d=i.get(c);d||(d=a.querySelector(cr(c)),d||(e=_({src:e,async:!0},t),(t=kn.get(c))&&Kd(e,t),d=a.createElement("script"),ut(d),It(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},i.set(c,d))}}function Pb(e,t){Ma.M(e,t);var a=Qs;if(a&&e){var i=ha(a).hoistableScripts,c=Xs(e),d=i.get(c);d||(d=a.querySelector(cr(c)),d||(e=_({src:e,async:!0,type:"module"},t),(t=kn.get(c))&&Kd(e,t),d=a.createElement("script"),ut(d),It(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},i.set(c,d))}}function Yg(e,t,a,i){var c=(c=xe.current)?sc(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Fs(a.href),a=ha(c).hoistableStyles,i=a.get(t),i||(i={type:"style",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Fs(a.href);var d=ha(c).hoistableStyles,m=d.get(e);if(m||(c=c.ownerDocument||c,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,m),(d=c.querySelector(or(e)))&&!d._p&&(m.instance=d,m.state.loading=5),kn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(e,a),d||Qb(c,e,a,m.state))),t&&i===null)throw Error(r(528,""));return m}if(t&&i!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Xs(a),a=ha(c).hoistableScripts,i=a.get(t),i||(i={type:"script",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Fs(e){return'href="'+on(e)+'"'}function or(e){return'link[rel="stylesheet"]['+e+"]"}function Gg(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function Qb(e,t,a,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),It(t,"link",a),ut(t),e.head.appendChild(t))}function Xs(e){return'[src="'+on(e)+'"]'}function cr(e){return"script[async]"+e}function Vg(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+on(a.href)+'"]');if(i)return t.instance=i,ut(i),i;var c=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),ut(i),It(i,"style",c),ic(i,a.precedence,e),t.instance=i;case"stylesheet":c=Fs(a.href);var d=e.querySelector(or(c));if(d)return t.state.loading|=4,t.instance=d,ut(d),d;i=Gg(a),(c=kn.get(c))&&Xd(i,c),d=(e.ownerDocument||e).createElement("link"),ut(d);var m=d;return m._p=new Promise(function(y,S){m.onload=y,m.onerror=S}),It(d,"link",i),t.state.loading|=4,ic(d,a.precedence,e),t.instance=d;case"script":return d=Xs(a.src),(c=e.querySelector(cr(d)))?(t.instance=c,ut(c),c):(i=a,(c=kn.get(d))&&(i=_({},a),Kd(i,c)),e=e.ownerDocument||e,c=e.createElement("script"),ut(c),It(c,"link",i),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,ic(i,a.precedence,e));return t.instance}function ic(e,t,a){for(var i=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=i.length?i[i.length-1]:null,d=c,m=0;m<i.length;m++){var y=i[m];if(y.dataset.precedence===t)d=y;else if(d!==c)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Xd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Kd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var rc=null;function Pg(e,t,a){if(rc===null){var i=new Map,c=rc=new Map;c.set(a,i)}else c=rc,i=c.get(a),i||(i=new Map,c.set(a,i));if(i.has(e))return i;for(i.set(e,null),a=a.getElementsByTagName(e),c=0;c<a.length;c++){var d=a[c];if(!(d[Fn]||d[ct]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var m=d.getAttribute(t)||"";m=e+m;var y=i.get(m);y?y.push(d):i.set(m,[d])}}return i}function Qg(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Fb(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Fg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Xb(e,t,a,i){if(a.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=Fs(i.href),d=t.querySelector(or(c));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=oc.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=d,ut(d);return}d=t.ownerDocument||t,i=Gg(i),(c=kn.get(c))&&Xd(i,c),d=d.createElement("link"),ut(d);var m=d;m._p=new Promise(function(y,S){m.onload=y,m.onerror=S}),It(d,"link",i),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=oc.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Zd=0;function Kb(e,t){return e.stylesheets&&e.count===0&&uc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var i=setTimeout(function(){if(e.stylesheets&&uc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&Zd===0&&(Zd=62500*kb());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&uc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Zd?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(c)}}:null}function oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var cc=null;function uc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,cc=new Map,t.forEach(Zb,e),cc=null,oc.call(e))}function Zb(e,t){if(!(t.state.loading&4)){var a=cc.get(e);if(a)var i=a.get(null);else{a=new Map,cc.set(e,a);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var m=c[d];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),i=m)}i&&a.set(null,i)}c=t.instance,m=c.getAttribute("data-precedence"),d=a.get(m)||i,d===i&&a.set(null,c),a.set(m,c),this.count++,i=oc.bind(this),c.addEventListener("load",i),c.addEventListener("error",i),d?d.parentNode.insertBefore(c,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var ur={$$typeof:ge,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function Jb(e,t,a,i,c,d,m,y,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=eo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eo(0),this.hiddenUpdates=eo(null),this.identifierPrefix=i,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Xg(e,t,a,i,c,d,m,y,S,A,L,H){return e=new Jb(e,t,a,m,S,A,L,H,y),t=1,d===!0&&(t|=24),d=gn(3,null,null,t),e.current=d,d.stateNode=e,t=ku(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:i,isDehydrated:a,cache:t},Ru(d),e}function Kg(e){return e?(e=Es,e):Es}function Zg(e,t,a,i,c,d){c=Kg(c),i.context===null?i.context=c:i.pendingContext=c,i=Wa(t),i.payload={element:a},d=d===void 0?null:d,d!==null&&(i.callback=d),a=el(e,i,t),a!==null&&(hn(a,e,t),qi(a,e,t))}function Jg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Jd(e,t){Jg(e,t),(e=e.alternate)&&Jg(e,t)}function Wg(e){if(e.tag===13||e.tag===31){var t=Rl(e,67108864);t!==null&&hn(t,e,67108864),Jd(e,67108864)}}function e0(e){if(e.tag===13||e.tag===31){var t=_n();t=qa(t);var a=Rl(e,t);a!==null&&hn(a,e,t),Jd(e,t)}}var dc=!0;function Wb(e,t,a,i){var c=z.T;z.T=null;var d=V.p;try{V.p=2,Wd(e,t,a,i)}finally{V.p=d,z.T=c}}function e1(e,t,a,i){var c=z.T;z.T=null;var d=V.p;try{V.p=8,Wd(e,t,a,i)}finally{V.p=d,z.T=c}}function Wd(e,t,a,i){if(dc){var c=ef(i);if(c===null)Id(e,t,i,fc,a),n0(e,i);else if(n1(c,e,t,a,i))i.stopPropagation();else if(n0(e,i),t&4&&-1<t1.indexOf(e)){for(;c!==null;){var d=da(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var m=gt(d.pendingLanes);if(m!==0){var y=d;for(y.pendingLanes|=2,y.entangledLanes|=2;m;){var S=1<<31-en(m);y.entanglements[1]|=S,m&=~S}ta(d),($e&6)===0&&(Fo=Wt()+500,lr(0))}}break;case 31:case 13:y=Rl(d,2),y!==null&&hn(y,d,2),Ko(),Jd(d,2)}if(d=ef(i),d===null&&Id(e,t,i,fc,a),d===c)break;c=d}c!==null&&i.stopPropagation()}else Id(e,t,i,null,a)}}function ef(e){return e=ji(e),tf(e)}var fc=null;function tf(e){if(fc=null,e=Xn(e),e!==null){var t=f(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===31){if(e=p(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return fc=e,null}function t0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(au()){case Cl:return 2;case El:return 8;case ra:case bi:return 32;case ls:return 268435456;default:return 32}default:return 32}}var nf=!1,dl=null,fl=null,hl=null,dr=new Map,fr=new Map,ml=[],t1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n0(e,t){switch(e){case"focusin":case"focusout":dl=null;break;case"dragenter":case"dragleave":fl=null;break;case"mouseover":case"mouseout":hl=null;break;case"pointerover":case"pointerout":dr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fr.delete(t.pointerId)}}function hr(e,t,a,i,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:a,eventSystemFlags:i,nativeEvent:d,targetContainers:[c]},t!==null&&(t=da(t),t!==null&&Wg(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function n1(e,t,a,i,c){switch(t){case"focusin":return dl=hr(dl,e,t,a,i,c),!0;case"dragenter":return fl=hr(fl,e,t,a,i,c),!0;case"mouseover":return hl=hr(hl,e,t,a,i,c),!0;case"pointerover":var d=c.pointerId;return dr.set(d,hr(dr.get(d)||null,e,t,a,i,c)),!0;case"gotpointercapture":return d=c.pointerId,fr.set(d,hr(fr.get(d)||null,e,t,a,i,c)),!0}return!1}function a0(e){var t=Xn(e.target);if(t!==null){var a=f(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,us(e.priority,function(){e0(a)});return}}else if(t===31){if(t=p(a),t!==null){e.blockedOn=t,us(e.priority,function(){e0(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=ef(e.nativeEvent);if(a===null){a=e.nativeEvent;var i=new a.constructor(a.type,a);Ei=i,a.target.dispatchEvent(i),Ei=null}else return t=da(a),t!==null&&Wg(t),e.blockedOn=a,!1;t.shift()}return!0}function l0(e,t,a){hc(e)&&a.delete(t)}function a1(){nf=!1,dl!==null&&hc(dl)&&(dl=null),fl!==null&&hc(fl)&&(fl=null),hl!==null&&hc(hl)&&(hl=null),dr.forEach(l0),fr.forEach(l0)}function mc(e,t){e.blockedOn===t&&(e.blockedOn=null,nf||(nf=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,a1)))}var pc=null;function s0(e){pc!==e&&(pc=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){pc===e&&(pc=null);for(var t=0;t<e.length;t+=3){var a=e[t],i=e[t+1],c=e[t+2];if(typeof i!="function"){if(tf(i||a)===null)continue;break}var d=da(a);d!==null&&(e.splice(t,3),t-=3,ed(d,{pending:!0,data:c,method:a.method,action:i},i,c))}}))}function Ks(e){function t(S){return mc(S,e)}dl!==null&&mc(dl,e),fl!==null&&mc(fl,e),hl!==null&&mc(hl,e),dr.forEach(t),fr.forEach(t);for(var a=0;a<ml.length;a++){var i=ml[a];i.blockedOn===e&&(i.blockedOn=null)}for(;0<ml.length&&(a=ml[0],a.blockedOn===null);)a0(a),a.blockedOn===null&&ml.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(i=0;i<a.length;i+=3){var c=a[i],d=a[i+1],m=c[tn]||null;if(typeof d=="function")m||s0(a);else if(m){var y=null;if(d&&d.hasAttribute("formAction")){if(c=d,m=d[tn]||null)y=m.formAction;else if(tf(c)!==null)continue}else y=m.action;typeof y=="function"?a[i+1]=y:(a.splice(i,3),i-=3),s0(a)}}}function i0(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(m){return c=m})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),i||setTimeout(a,20)}function a(){if(!i&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function af(e){this._internalRoot=e}gc.prototype.render=af.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,i=_n();Zg(a,i,e,t,null,null)},gc.prototype.unmount=af.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zg(e.current,2,null,e,null,null),Ko(),t[ua]=null}};function gc(e){this._internalRoot=e}gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ot();e={blockedOn:null,target:e,priority:t};for(var a=0;a<ml.length&&t!==0&&t<ml[a].priority;a++);ml.splice(a,0,e),a===0&&a0(e)}};var r0=n.version;if(r0!=="19.2.3")throw Error(r(527,r0,"19.2.3"));V.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(t),e=e!==null?N(e):null,e=e===null?null:e.stateNode,e};var l1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{Qn=xc.inject(l1),Gt=xc}catch{}}return pr.createRoot=function(e,t){if(!o(e))throw Error(r(299));var a=!1,i="",c=mp,d=pp,m=gp;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=Xg(e,1,!1,null,null,a,i,null,c,d,m,i0),e[ua]=t.current,Ud(e),new af(t)},pr.hydrateRoot=function(e,t,a){if(!o(e))throw Error(r(299));var i=!1,c="",d=mp,m=pp,y=gp,S=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.formState!==void 0&&(S=a.formState)),t=Xg(e,1,!0,t,a??null,i,c,S,d,m,y,i0),t.context=Kg(null),a=t.current,i=_n(),i=qa(i),c=Wa(i),c.callback=null,el(a,c,i),a=i,t.current.lanes=a,oa(t,a),ta(t),e[ua]=t.current,Ud(e),new gc(t)},pr.version="19.2.3",pr}var x0;function m1(){if(x0)return rf.exports;x0=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),rf.exports=h1(),rf.exports}var p1=m1();const g1=wx(p1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),y1=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,s,r)=>r?r.toUpperCase():s.toLowerCase()),y0=l=>{const n=y1(l);return n.charAt(0).toUpperCase()+n.slice(1)},Cx=(...l)=>l.filter((n,s,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===s).join(" ").trim(),v1=l=>{for(const n in l)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var b1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=D.forwardRef(({color:l="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:o="",children:f,iconNode:h,...p},x)=>D.createElement("svg",{ref:x,...b1,width:n,height:n,stroke:l,strokeWidth:r?Number(s)*24/Number(n):s,className:Cx("lucide",o),...!f&&!v1(p)&&{"aria-hidden":"true"},...p},[...h.map(([g,N])=>D.createElement(g,N)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=(l,n)=>{const s=D.forwardRef(({className:r,...o},f)=>D.createElement(_1,{ref:f,iconNode:n,className:Cx(`lucide-${x1(y0(l))}`,`lucide-${l}`,r),...o}));return s.displayName=y0(l),s};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],N1=se("arrow-right",S1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],C1=se("book-open",w1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],j1=se("calculator",E1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ex=se("calendar",T1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],k1=se("chart-column",A1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],df=se("chart-pie",D1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],bc=se("check",M1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],na=se("chevron-left",O1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gl=se("chevron-right",R1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],v0=se("circle-alert",z1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$1=se("circle-check-big",L1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Sc=se("circle-check",U1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],b0=se("circle-x",I1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_0=se("clock",H1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1waht3"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"11",r:"3",key:"itu57m"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]],q1=se("contact",B1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],G1=se("database",Y1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],P1=se("ellipsis",V1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],F1=se("eye-off",Q1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],K1=se("eye",X1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],S0=se("flag",Z1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],N0=se("folder",J1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],_r=se("graduation-cap",W1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Ff=se("history",e_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],n_=se("house",t_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],jx=se("layout-dashboard",a_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],s_=se("loader-circle",l_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],r_=se("lock",i_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],c_=se("log-in",o_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],w0=se("log-out",u_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],f_=se("message-circle",d_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],m_=se("message-square",h_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],C0=se("panels-top-left",p_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Tx=se("phone",g_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Nc=se("plus",x_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],v_=se("save",y_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],Ax=se("school",b_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],kx=se("search",__);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Dx=se("settings",S_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],wf=se("shield-check",N_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Mx=se("square-check-big",w_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],E_=se("square-pen",C_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],T_=se("star",j_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ws=se("trash-2",A_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],D_=se("trending-up",k_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Yc=se("triangle-alert",M_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],R_=se("upload",O_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],E0=se("user-minus",z_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$_=se("user",L_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Js=se("users",U_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],j0=se("wifi-off",I_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Oa=se("x",H_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Xl=se("zap",B_),q_=[{id:1,name:"1st Period",start:"08:10",end:"09:00"},{id:2,name:"2nd Period",start:"09:00",end:"09:45"},{id:3,name:"3rd Period",start:"09:45",end:"10:30"},{id:4,name:"4th Period",start:"10:30",end:"11:15"},{id:5,name:"Break",start:"11:15",end:"11:30",isBreak:!0},{id:6,name:"5th Period",start:"11:30",end:"12:15"},{id:7,name:"6th Period",start:"12:15",end:"13:00"},{id:8,name:"7th Period",start:"13:00",end:"13:30"}],Cf={corporate:{id:"corporate",name:"Corporate Blue",bg:"bg-slate-50",surface:"bg-white border-slate-200 shadow-xl",navBg:"bg-white/95 border-t border-slate-200",sidebarBg:"bg-white border-r border-slate-200",textPrimary:"text-slate-900 font-bold",textSecondary:"text-slate-500 font-medium",accent:"bg-blue-600 shadow-lg shadow-blue-500/30 text-white",accentText:"text-blue-600",border:"border-slate-200"},midnight:{id:"midnight",name:"Midnight Elite",bg:"bg-[#0f172a]",surface:"bg-[#1e293b] border-white/10 shadow-2xl",navBg:"bg-[#0f172a]/95 border-t border-white/10",sidebarBg:"bg-[#0f172a] border-r border-white/10",textPrimary:"text-slate-50 font-semibold",textSecondary:"text-slate-400 font-medium",accent:"bg-indigo-500 shadow-lg shadow-indigo-500/40 text-white",accentText:"text-indigo-300",border:"border-white/10"},slate:{id:"slate",name:"Classic Slate",bg:"bg-[#f1f5f9]",surface:"bg-white border-slate-300 shadow-lg",navBg:"bg-white/90 border-t border-slate-300",sidebarBg:"bg-slate-100 border-r border-slate-300",textPrimary:"text-slate-800 font-bold",textSecondary:"text-slate-600 font-medium",accent:"bg-slate-800 shadow-md text-white",accentText:"text-slate-800",border:"border-slate-300"},emerald:{id:"emerald",name:"Emerald Pro",bg:"bg-[#f0f9f4]",surface:"bg-white border-emerald-100 shadow-xl",navBg:"bg-white/95 border-t border-emerald-100",sidebarBg:"bg-[#f8fafc] border-r border-emerald-100",textPrimary:"text-emerald-950 font-bold",textSecondary:"text-emerald-700/60 font-medium",accent:"bg-emerald-600 shadow-lg shadow-emerald-500/20 text-white",accentText:"text-emerald-600",border:"border-emerald-100"},burgundy:{id:"burgundy",name:"Burgundy Executive",bg:"bg-[#fafafa]",surface:"bg-white border-rose-100 shadow-xl",navBg:"bg-white/95 border-t border-rose-100",sidebarBg:"bg-white border-r border-rose-100",textPrimary:"text-slate-900 font-bold",textSecondary:"text-slate-500 font-medium",accent:"bg-rose-800 shadow-lg shadow-rose-900/20 text-white",accentText:"text-rose-800",border:"border-rose-100"}},Y_=()=>{};var T0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q=function(l,n){if(!l)throw mi(n)},mi=function(l){return new Error("Firebase Database ("+Ox.SDK_VERSION+") INTERNAL ASSERT FAILED: "+l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=function(l){const n=[];let s=0;for(let r=0;r<l.length;r++){let o=l.charCodeAt(r);o<128?n[s++]=o:o<2048?(n[s++]=o>>6|192,n[s++]=o&63|128):(o&64512)===55296&&r+1<l.length&&(l.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(l.charCodeAt(++r)&1023),n[s++]=o>>18|240,n[s++]=o>>12&63|128,n[s++]=o>>6&63|128,n[s++]=o&63|128):(n[s++]=o>>12|224,n[s++]=o>>6&63|128,n[s++]=o&63|128)}return n},G_=function(l){const n=[];let s=0,r=0;for(;s<l.length;){const o=l[s++];if(o<128)n[r++]=String.fromCharCode(o);else if(o>191&&o<224){const f=l[s++];n[r++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=l[s++],h=l[s++],p=l[s++],x=((o&7)<<18|(f&63)<<12|(h&63)<<6|p&63)-65536;n[r++]=String.fromCharCode(55296+(x>>10)),n[r++]=String.fromCharCode(56320+(x&1023))}else{const f=l[s++],h=l[s++];n[r++]=String.fromCharCode((o&15)<<12|(f&63)<<6|h&63)}}return n.join("")},Xf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(l,n){if(!Array.isArray(l))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<l.length;o+=3){const f=l[o],h=o+1<l.length,p=h?l[o+1]:0,x=o+2<l.length,g=x?l[o+2]:0,N=f>>2,_=(f&3)<<4|p>>4;let v=(p&15)<<2|g>>6,O=g&63;x||(O=64,h||(v=64)),r.push(s[N],s[_],s[v],s[O])}return r.join("")},encodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(l):this.encodeByteArray(Rx(l),n)},decodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(l):G_(this.decodeStringToByteArray(l,n))},decodeStringToByteArray(l,n){this.init_();const s=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<l.length;){const f=s[l.charAt(o++)],p=o<l.length?s[l.charAt(o)]:0;++o;const g=o<l.length?s[l.charAt(o)]:64;++o;const _=o<l.length?s[l.charAt(o)]:64;if(++o,f==null||p==null||g==null||_==null)throw new V_;const v=f<<2|p>>4;if(r.push(v),g!==64){const O=p<<4&240|g>>2;if(r.push(O),_!==64){const Y=g<<6&192|_;r.push(Y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let l=0;l<this.ENCODED_VALS.length;l++)this.byteToCharMap_[l]=this.ENCODED_VALS.charAt(l),this.charToByteMap_[this.byteToCharMap_[l]]=l,this.byteToCharMapWebSafe_[l]=this.ENCODED_VALS_WEBSAFE.charAt(l),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[l]]=l,l>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(l)]=l,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(l)]=l)}}};class V_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zx=function(l){const n=Rx(l);return Xf.encodeByteArray(n,!0)},wc=function(l){return zx(l).replace(/\./g,"")},Ef=function(l){try{return Xf.decodeString(l,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(l){return Lx(void 0,l)}function Lx(l,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const s=n;return new Date(s.getTime());case Object:l===void 0&&(l={});break;case Array:l=[];break;default:return n}for(const s in n)!n.hasOwnProperty(s)||!Q_(s)||(l[s]=Lx(l[s],n[s]));return l}function Q_(l){return l!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=()=>F_().__FIREBASE_DEFAULTS__,K_=()=>{if(typeof process>"u"||typeof T0>"u")return;const l=T0.__FIREBASE_DEFAULTS__;if(l)return JSON.parse(l)},Z_=()=>{if(typeof document>"u")return;let l;try{l=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=l&&Ef(l[1]);return n&&JSON.parse(n)},$x=()=>{try{return Y_()||X_()||K_()||Z_()}catch(l){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${l}`);return}},J_=l=>{var n,s;return(s=(n=$x())==null?void 0:n.emulatorHosts)==null?void 0:s[l]},W_=l=>{const n=J_(l);if(!n)return;const s=n.lastIndexOf(":");if(s<=0||s+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const r=parseInt(n.substring(s+1),10);return n[0]==="["?[n.substring(1,s-1),r]:[n.substring(0,s),r]},Ux=()=>{var l;return(l=$x())==null?void 0:l.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,s)=>{this.resolve=n,this.reject=s})}wrapCallback(n){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(s):n(s,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(l){try{return(l.startsWith("http://")||l.startsWith("https://")?new URL(l).hostname:l).endsWith(".cloudworkstations.dev")}catch{return!1}}async function e2(l){return(await fetch(l,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(l,n){if(l.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=n||"demo-project",o=l.iat||0,f=l.sub||l.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...l};return[wc(JSON.stringify(s)),wc(JSON.stringify(h)),""].join(".")}const Sr={};function n2(){const l={prod:[],emulator:[]};for(const n of Object.keys(Sr))Sr[n]?l.emulator.push(n):l.prod.push(n);return l}function a2(l){let n=document.getElementById(l),s=!1;return n||(n=document.createElement("div"),n.setAttribute("id",l),s=!0),{created:s,element:n}}let A0=!1;function l2(l,n){if(typeof window>"u"||typeof document>"u"||!Kf(window.location.host)||Sr[l]===n||Sr[l]||A0)return;Sr[l]=n;function s(v){return`__firebase__banner__${v}`}const r="__firebase__banner",f=n2().prod.length>0;function h(){const v=document.getElementById(r);v&&v.remove()}function p(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function x(v,O){v.setAttribute("width","24"),v.setAttribute("id",O),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function g(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{A0=!0,h()},v}function N(v,O){v.setAttribute("id",O),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function _(){const v=a2(r),O=s("text"),Y=document.getElementById(O)||document.createElement("span"),K=s("learnmore"),re=document.getElementById(K)||document.createElement("a"),X=s("preprendIcon"),ce=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const ge=v.element;p(ge),N(re,K);const le=g();x(ce,X),ge.append(ce,Y,re,le),document.body.appendChild(ge)}f?(Y.innerText="Preview backend disconnected.",ce.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ce.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ix(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(s2())}function i2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function r2(){return Ox.NODE_ADMIN===!0}function o2(){try{return typeof indexedDB=="object"}catch{return!1}}function c2(){return new Promise((l,n)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),s||self.indexedDB.deleteDatabase(r),l(!0)},o.onupgradeneeded=()=>{s=!1},o.onerror=()=>{var f;n(((f=o.error)==null?void 0:f.message)||"")}}catch(s){n(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="FirebaseError";class Gr extends Error{constructor(n,s,r){super(s),this.code=n,this.customData=r,this.name=u2,Object.setPrototypeOf(this,Gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hx.prototype.create)}}class Hx{constructor(n,s,r){this.service=n,this.serviceName=s,this.errors=r}create(n,...s){const r=s[0]||{},o=`${this.service}/${n}`,f=this.errors[n],h=f?d2(f,r):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new Gr(o,p,r)}}function d2(l,n){return l.replace(f2,(s,r)=>{const o=n[r];return o!=null?String(o):`<${r}?>`})}const f2=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(l){return JSON.parse(l)}function Tt(l){return JSON.stringify(l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=function(l){let n={},s={},r={},o="";try{const f=l.split(".");n=kr(Ef(f[0])||""),s=kr(Ef(f[1])||""),o=f[2],r=s.d||{},delete s.d}catch{}return{header:n,claims:s,data:r,signature:o}},h2=function(l){const n=Bx(l),s=n.claims;return!!s&&typeof s=="object"&&s.hasOwnProperty("iat")},m2=function(l){const n=Bx(l).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(l,n){return Object.prototype.hasOwnProperty.call(l,n)}function si(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]}function k0(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}function Cc(l,n,s){const r={};for(const o in l)Object.prototype.hasOwnProperty.call(l,o)&&(r[o]=n.call(s,l[o],o,l));return r}function Ec(l,n){if(l===n)return!0;const s=Object.keys(l),r=Object.keys(n);for(const o of s){if(!r.includes(o))return!1;const f=l[o],h=n[o];if(D0(f)&&D0(h)){if(!Ec(f,h))return!1}else if(f!==h)return!1}for(const o of r)if(!s.includes(o))return!1;return!0}function D0(l){return l!==null&&typeof l=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(l){const n=[];for(const[s,r]of Object.entries(l))Array.isArray(r)?r.forEach(o=>{n.push(encodeURIComponent(s)+"="+encodeURIComponent(o))}):n.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return n.length?"&"+n.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,s){s||(s=0);const r=this.W_;if(typeof n=="string")for(let _=0;_<16;_++)r[_]=n.charCodeAt(s)<<24|n.charCodeAt(s+1)<<16|n.charCodeAt(s+2)<<8|n.charCodeAt(s+3),s+=4;else for(let _=0;_<16;_++)r[_]=n[s]<<24|n[s+1]<<16|n[s+2]<<8|n[s+3],s+=4;for(let _=16;_<80;_++){const v=r[_-3]^r[_-8]^r[_-14]^r[_-16];r[_]=(v<<1|v>>>31)&4294967295}let o=this.chain_[0],f=this.chain_[1],h=this.chain_[2],p=this.chain_[3],x=this.chain_[4],g,N;for(let _=0;_<80;_++){_<40?_<20?(g=p^f&(h^p),N=1518500249):(g=f^h^p,N=1859775393):_<60?(g=f&h|p&(f|h),N=2400959708):(g=f^h^p,N=3395469782);const v=(o<<5|o>>>27)+g+x+N+r[_]&4294967295;x=p,p=h,h=(f<<30|f>>>2)&4294967295,f=o,o=v}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+x&4294967295}update(n,s){if(n==null)return;s===void 0&&(s=n.length);const r=s-this.blockSize;let o=0;const f=this.buf_;let h=this.inbuf_;for(;o<s;){if(h===0)for(;o<=r;)this.compress_(n,o),o+=this.blockSize;if(typeof n=="string"){for(;o<s;)if(f[h]=n.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(f),h=0;break}}else for(;o<s;)if(f[h]=n[o],++h,++o,h===this.blockSize){this.compress_(f),h=0;break}}this.inbuf_=h,this.total_+=s}digest(){const n=[];let s=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=s&255,s/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let f=24;f>=0;f-=8)n[r]=this.chain_[o]>>f&255,++r;return n}}function Gc(l,n){return`${l} failed: ${n} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=function(l){const n=[];let s=0;for(let r=0;r<l.length;r++){let o=l.charCodeAt(r);if(o>=55296&&o<=56319){const f=o-55296;r++,Q(r<l.length,"Surrogate pair missing trail surrogate.");const h=l.charCodeAt(r)-56320;o=65536+(f<<10)+h}o<128?n[s++]=o:o<2048?(n[s++]=o>>6|192,n[s++]=o&63|128):o<65536?(n[s++]=o>>12|224,n[s++]=o>>6&63|128,n[s++]=o&63|128):(n[s++]=o>>18|240,n[s++]=o>>12&63|128,n[s++]=o>>6&63|128,n[s++]=o&63|128)}return n},Vc=function(l){let n=0;for(let s=0;s<l.length;s++){const r=l.charCodeAt(s);r<128?n++:r<2048?n+=2:r>=55296&&r<=56319?(n+=4,s++):n+=3}return n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(l){return l&&l._delegate?l._delegate:l}class Dr{constructor(n,s,r){this.name=n,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(n,s){this.name=n,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const s=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(s)){const r=new Yr;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:s});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(n){const s=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),r=(n==null?void 0:n.optional)??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(b2(n))try{this.getOrInitializeService({instanceIdentifier:Ql})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);try{const f=this.getOrInitializeService({instanceIdentifier:o});r.resolve(f)}catch{}}}}clearInstance(n=Ql){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...n.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Ql){return this.instances.has(n)}getOptions(n=Ql){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:s={}}=n,r=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[f,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(f);r===p&&h.resolve(o)}return o}onInit(n,s){const r=this.normalizeInstanceIdentifier(s),o=this.onInitCallbacks.get(r)??new Set;o.add(n),this.onInitCallbacks.set(r,o);const f=this.instances.get(r);return f&&n(f,r),()=>{o.delete(n)}}invokeOnInitCallbacks(n,s){const r=this.onInitCallbacks.get(s);if(r)for(const o of r)try{o(n,s)}catch{}}getOrInitializeService({instanceIdentifier:n,options:s={}}){let r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:v2(n),options:s}),this.instances.set(n,r),this.instancesOptions.set(n,s),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch{}return r||null}normalizeInstanceIdentifier(n=Ql){return this.component?this.component.multipleInstances?n:Ql:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function v2(l){return l===Ql?void 0:l}function b2(l){return l.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const s=this.getProvider(n.name);if(s.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);s.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const s=new y2(n,this);return this.providers.set(n,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(l){l[l.DEBUG=0]="DEBUG",l[l.VERBOSE=1]="VERBOSE",l[l.INFO=2]="INFO",l[l.WARN=3]="WARN",l[l.ERROR=4]="ERROR",l[l.SILENT=5]="SILENT"})(et||(et={}));const S2={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},N2=et.INFO,w2={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},C2=(l,n,...s)=>{if(n<l.logLevel)return;const r=new Date().toISOString(),o=w2[n];if(o)console[o](`[${r}]  ${l.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class qx{constructor(n){this.name=n,this._logLevel=N2,this._logHandler=C2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in et))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?S2[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...n),this._logHandler(this,et.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...n),this._logHandler(this,et.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,et.INFO,...n),this._logHandler(this,et.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,et.WARN,...n),this._logHandler(this,et.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...n),this._logHandler(this,et.ERROR,...n)}}const E2=(l,n)=>n.some(s=>l instanceof s);let M0,O0;function j2(){return M0||(M0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T2(){return O0||(O0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yx=new WeakMap,jf=new WeakMap,Gx=new WeakMap,ff=new WeakMap,Zf=new WeakMap;function A2(l){const n=new Promise((s,r)=>{const o=()=>{l.removeEventListener("success",f),l.removeEventListener("error",h)},f=()=>{s(yl(l.result)),o()},h=()=>{r(l.error),o()};l.addEventListener("success",f),l.addEventListener("error",h)});return n.then(s=>{s instanceof IDBCursor&&Yx.set(s,l)}).catch(()=>{}),Zf.set(n,l),n}function k2(l){if(jf.has(l))return;const n=new Promise((s,r)=>{const o=()=>{l.removeEventListener("complete",f),l.removeEventListener("error",h),l.removeEventListener("abort",h)},f=()=>{s(),o()},h=()=>{r(l.error||new DOMException("AbortError","AbortError")),o()};l.addEventListener("complete",f),l.addEventListener("error",h),l.addEventListener("abort",h)});jf.set(l,n)}let Tf={get(l,n,s){if(l instanceof IDBTransaction){if(n==="done")return jf.get(l);if(n==="objectStoreNames")return l.objectStoreNames||Gx.get(l);if(n==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return yl(l[n])},set(l,n,s){return l[n]=s,!0},has(l,n){return l instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in l}};function D2(l){Tf=l(Tf)}function M2(l){return l===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...s){const r=l.call(hf(this),n,...s);return Gx.set(r,n.sort?n.sort():[n]),yl(r)}:T2().includes(l)?function(...n){return l.apply(hf(this),n),yl(Yx.get(this))}:function(...n){return yl(l.apply(hf(this),n))}}function O2(l){return typeof l=="function"?M2(l):(l instanceof IDBTransaction&&k2(l),E2(l,j2())?new Proxy(l,Tf):l)}function yl(l){if(l instanceof IDBRequest)return A2(l);if(ff.has(l))return ff.get(l);const n=O2(l);return n!==l&&(ff.set(l,n),Zf.set(n,l)),n}const hf=l=>Zf.get(l);function R2(l,n,{blocked:s,upgrade:r,blocking:o,terminated:f}={}){const h=indexedDB.open(l,n),p=yl(h);return r&&h.addEventListener("upgradeneeded",x=>{r(yl(h.result),x.oldVersion,x.newVersion,yl(h.transaction),x)}),s&&h.addEventListener("blocked",x=>s(x.oldVersion,x.newVersion,x)),p.then(x=>{f&&x.addEventListener("close",()=>f()),o&&x.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const z2=["get","getKey","getAll","getAllKeys","count"],L2=["put","add","delete","clear"],mf=new Map;function R0(l,n){if(!(l instanceof IDBDatabase&&!(n in l)&&typeof n=="string"))return;if(mf.get(n))return mf.get(n);const s=n.replace(/FromIndex$/,""),r=n!==s,o=L2.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(o||z2.includes(s)))return;const f=async function(h,...p){const x=this.transaction(h,o?"readwrite":"readonly");let g=x.store;return r&&(g=g.index(p.shift())),(await Promise.all([g[s](...p),o&&x.done]))[0]};return mf.set(n,f),f}D2(l=>({...l,get:(n,s,r)=>R0(n,s)||l.get(n,s,r),has:(n,s)=>!!R0(n,s)||l.has(n,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(U2(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function U2(l){const n=l.getComponent();return(n==null?void 0:n.type)==="VERSION"}const Af="@firebase/app",z0="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=new qx("@firebase/app"),I2="@firebase/app-compat",H2="@firebase/analytics-compat",B2="@firebase/analytics",q2="@firebase/app-check-compat",Y2="@firebase/app-check",G2="@firebase/auth",V2="@firebase/auth-compat",P2="@firebase/database",Q2="@firebase/data-connect",F2="@firebase/database-compat",X2="@firebase/functions",K2="@firebase/functions-compat",Z2="@firebase/installations",J2="@firebase/installations-compat",W2="@firebase/messaging",eS="@firebase/messaging-compat",tS="@firebase/performance",nS="@firebase/performance-compat",aS="@firebase/remote-config",lS="@firebase/remote-config-compat",sS="@firebase/storage",iS="@firebase/storage-compat",rS="@firebase/firestore",oS="@firebase/ai",cS="@firebase/firestore-compat",uS="firebase",dS="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="[DEFAULT]",fS={[Af]:"fire-core",[I2]:"fire-core-compat",[B2]:"fire-analytics",[H2]:"fire-analytics-compat",[Y2]:"fire-app-check",[q2]:"fire-app-check-compat",[G2]:"fire-auth",[V2]:"fire-auth-compat",[P2]:"fire-rtdb",[Q2]:"fire-data-connect",[F2]:"fire-rtdb-compat",[X2]:"fire-fn",[K2]:"fire-fn-compat",[Z2]:"fire-iid",[J2]:"fire-iid-compat",[W2]:"fire-fcm",[eS]:"fire-fcm-compat",[tS]:"fire-perf",[nS]:"fire-perf-compat",[aS]:"fire-rc",[lS]:"fire-rc-compat",[sS]:"fire-gcs",[iS]:"fire-gcs-compat",[rS]:"fire-fst",[cS]:"fire-fst-compat",[oS]:"fire-vertex","fire-js":"fire-js",[uS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new Map,hS=new Map,Df=new Map;function L0(l,n){try{l.container.addComponent(n)}catch(s){La.debug(`Component ${n.name} failed to register with FirebaseApp ${l.name}`,s)}}function jc(l){const n=l.name;if(Df.has(n))return La.debug(`There were multiple attempts to register component ${n}.`),!1;Df.set(n,l);for(const s of Mr.values())L0(s,l);for(const s of hS.values())L0(s,l);return!0}function mS(l,n){const s=l.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),l.container.getProvider(n)}function pS(l){return l==null?!1:l.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vl=new Hx("app","Firebase",gS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(n,s,r){this._isDeleted=!1,this._options={...n},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw vl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=dS;function Vx(l,n={}){let s=l;typeof n!="object"&&(n={name:n});const r={name:kf,automaticDataCollectionEnabled:!0,...n},o=r.name;if(typeof o!="string"||!o)throw vl.create("bad-app-name",{appName:String(o)});if(s||(s=Ux()),!s)throw vl.create("no-options");const f=Mr.get(o);if(f){if(Ec(s,f.options)&&Ec(r,f.config))return f;throw vl.create("duplicate-app",{appName:o})}const h=new _2(o);for(const x of Df.values())h.addComponent(x);const p=new xS(s,r,h);return Mr.set(o,p),p}function Px(l=kf){const n=Mr.get(l);if(!n&&l===kf&&Ux())return Vx();if(!n)throw vl.create("no-app",{appName:l});return n}function vS(){return Array.from(Mr.values())}function ti(l,n,s){let r=fS[l]??l;s&&(r+=`-${s}`);const o=r.match(/\s|\//),f=n.match(/\s|\//);if(o||f){const h=[`Unable to register library "${r}" with version "${n}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&f&&h.push("and"),f&&h.push(`version name "${n}" contains illegal characters (whitespace or "/")`),La.warn(h.join(" "));return}jc(new Dr(`${r}-version`,()=>({library:r,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="firebase-heartbeat-database",_S=1,Or="firebase-heartbeat-store";let pf=null;function Qx(){return pf||(pf=R2(bS,_S,{upgrade:(l,n)=>{switch(n){case 0:try{l.createObjectStore(Or)}catch(s){console.warn(s)}}}}).catch(l=>{throw vl.create("idb-open",{originalErrorMessage:l.message})})),pf}async function SS(l){try{const s=(await Qx()).transaction(Or),r=await s.objectStore(Or).get(Fx(l));return await s.done,r}catch(n){if(n instanceof Gr)La.warn(n.message);else{const s=vl.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});La.warn(s.message)}}}async function $0(l,n){try{const r=(await Qx()).transaction(Or,"readwrite");await r.objectStore(Or).put(n,Fx(l)),await r.done}catch(s){if(s instanceof Gr)La.warn(s.message);else{const r=vl.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});La.warn(r.message)}}}function Fx(l){return`${l.name}!${l.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=1024,wS=30;class CS{constructor(n){this.container=n,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new jS(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var n,s;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=U0();if(((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)==null?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(h=>h.date===f))return;if(this._heartbeatsCache.heartbeats.push({date:f,agent:o}),this._heartbeatsCache.heartbeats.length>wS){const h=TS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){La.warn(r)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=U0(),{heartbeatsToSend:r,unsentEntries:o}=ES(this._heartbeatsCache.heartbeats),f=wc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=s,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(s){return La.warn(s),""}}}function U0(){return new Date().toISOString().substring(0,10)}function ES(l,n=NS){const s=[];let r=l.slice();for(const o of l){const f=s.find(h=>h.agent===o.agent);if(f){if(f.dates.push(o.date),I0(s)>n){f.dates.pop();break}}else if(s.push({agent:o.agent,dates:[o.date]}),I0(s)>n){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class jS{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return o2()?c2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await SS(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return $0(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return $0(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...n.heartbeats]})}else return}}function I0(l){return wc(JSON.stringify({version:2,heartbeats:l})).length}function TS(l){if(l.length===0)return-1;let n=0,s=l[0].date;for(let r=1;r<l.length;r++)l[r].date<s&&(s=l[r].date,n=r);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(l){jc(new Dr("platform-logger",n=>new $2(n),"PRIVATE")),jc(new Dr("heartbeat",n=>new CS(n),"PRIVATE")),ti(Af,z0,l),ti(Af,z0,"esm2020"),ti("fire-js","")}AS("");var kS="firebase",DS="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti(kS,DS,"app");var H0={};const B0="@firebase/database",q0="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xx="";function MS(l){Xx=l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,s){s==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),Tt(s))}get(n){const s=this.domStorage_.getItem(this.prefixedName_(n));return s==null?null:kr(s)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,s){s==null?delete this.cache_[n]:this.cache_[n]=s}get(n){return la(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=function(l){try{if(typeof window<"u"&&typeof window[l]<"u"){const n=window[l];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new OS(n)}}catch{}return new RS},Kl=Kx("localStorage"),zS=Kx("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=new qx("@firebase/database"),LS=(function(){let l=1;return function(){return l++}})(),Zx=function(l){const n=x2(l),s=new g2;s.update(n);const r=s.digest();return Xf.encodeByteArray(r)},Vr=function(...l){let n="";for(let s=0;s<l.length;s++){const r=l[s];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?n+=Vr.apply(null,r):typeof r=="object"?n+=Tt(r):n+=r,n+=" "}return n};let Nr=null,Y0=!0;const $S=function(l,n){Q(!0,"Can't turn on custom loggers persistently."),ni.logLevel=et.VERBOSE,Nr=ni.log.bind(ni)},Ht=function(...l){if(Y0===!0&&(Y0=!1,Nr===null&&zS.get("logging_enabled")===!0&&$S()),Nr){const n=Vr.apply(null,l);Nr(n)}},Pr=function(l){return function(...n){Ht(l,...n)}},Mf=function(...l){const n="FIREBASE INTERNAL ERROR: "+Vr(...l);ni.error(n)},$a=function(...l){const n=`FIREBASE FATAL ERROR: ${Vr(...l)}`;throw ni.error(n),new Error(n)},ln=function(...l){const n="FIREBASE WARNING: "+Vr(...l);ni.warn(n)},US=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ln("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Jf=function(l){return typeof l=="number"&&(l!==l||l===Number.POSITIVE_INFINITY||l===Number.NEGATIVE_INFINITY)},IS=function(l){if(document.readyState==="complete")l();else{let n=!1;const s=function(){if(!document.body){setTimeout(s,Math.floor(10));return}n||(n=!0,l())};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&s()}),window.attachEvent("onload",s))}},ii="[MIN_NAME]",Zl="[MAX_NAME]",ts=function(l,n){if(l===n)return 0;if(l===ii||n===Zl)return-1;if(n===ii||l===Zl)return 1;{const s=G0(l),r=G0(n);return s!==null?r!==null?s-r===0?l.length-n.length:s-r:-1:r!==null?1:l<n?-1:1}},HS=function(l,n){return l===n?0:l<n?-1:1},gr=function(l,n){if(n&&l in n)return n[l];throw new Error("Missing required key ("+l+") in object: "+Tt(n))},Wf=function(l){if(typeof l!="object"||l===null)return Tt(l);const n=[];for(const r in l)n.push(r);n.sort();let s="{";for(let r=0;r<n.length;r++)r!==0&&(s+=","),s+=Tt(n[r]),s+=":",s+=Wf(l[n[r]]);return s+="}",s},Jx=function(l,n){const s=l.length;if(s<=n)return[l];const r=[];for(let o=0;o<s;o+=n)o+n>s?r.push(l.substring(o,s)):r.push(l.substring(o,o+n));return r};function Bt(l,n){for(const s in l)l.hasOwnProperty(s)&&n(s,l[s])}const Wx=function(l){Q(!Jf(l),"Invalid JSON number");const n=11,s=52,r=(1<<n-1)-1;let o,f,h,p,x;l===0?(f=0,h=0,o=1/l===-1/0?1:0):(o=l<0,l=Math.abs(l),l>=Math.pow(2,1-r)?(p=Math.min(Math.floor(Math.log(l)/Math.LN2),r),f=p+r,h=Math.round(l*Math.pow(2,s-p)-Math.pow(2,s))):(f=0,h=Math.round(l/Math.pow(2,1-r-s))));const g=[];for(x=s;x;x-=1)g.push(h%2?1:0),h=Math.floor(h/2);for(x=n;x;x-=1)g.push(f%2?1:0),f=Math.floor(f/2);g.push(o?1:0),g.reverse();const N=g.join("");let _="";for(x=0;x<64;x+=8){let v=parseInt(N.substr(x,8),2).toString(16);v.length===1&&(v="0"+v),_=_+v}return _.toLowerCase()},BS=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},qS=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function YS(l,n){let s="Unknown Error";l==="too_big"?s="The data requested exceeds the maximum size that can be accessed with a single request.":l==="permission_denied"?s="Client doesn't have permission to access the desired data.":l==="unavailable"&&(s="The service is unavailable");const r=new Error(l+" at "+n._path.toString()+": "+s);return r.code=l.toUpperCase(),r}const GS=new RegExp("^-?(0*)\\d{1,10}$"),VS=-2147483648,PS=2147483647,G0=function(l){if(GS.test(l)){const n=Number(l);if(n>=VS&&n<=PS)return n}return null},gi=function(l){try{l()}catch(n){setTimeout(()=>{const s=n.stack||"";throw ln("Exception was thrown by user callback.",s),n},Math.floor(0))}},QS=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},wr=function(l,n){const s=setTimeout(l,n);return typeof s=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(s):typeof s=="object"&&s.unref&&s.unref(),s};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(n,s){this.appCheckProvider=s,this.appName=n.name,pS(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=s==null?void 0:s.getImmediate({optional:!0}),this.appCheck||s==null||s.get().then(r=>this.appCheck=r)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((s,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(s,r):s(null)},0)})}addTokenChangeListener(n){var s;(s=this.appCheckProvider)==null||s.get().then(r=>r.addTokenListener(n))}notifyForInvalidToken(){ln(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(n,s,r){this.appName_=n,this.firebaseOptions_=s,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(s=>s&&s.code==="auth/token-not-initialized"?(Ht("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(s,r):s(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(s=>s.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(s=>s.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ln(n)}}class _c{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}_c.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh="5",ey="v",ty="s",ny="r",ay="f",ly=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,sy="ls",iy="p",Of="ac",ry="websocket",oy="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(n,s,r,o,f=!1,h="",p=!1,x=!1,g=null){this.secure=s,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=f,this.persistenceKey=h,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=x,this.emulatorOptions=g,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Kl.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Kl.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",s=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${s}`}}function KS(l){return l.host!==l.internalHost||l.isCustomHost()||l.includeNamespaceInQueryParams}function uy(l,n,s){Q(typeof n=="string","typeof type must == string"),Q(typeof s=="object","typeof params must == object");let r;if(n===ry)r=(l.secure?"wss://":"ws://")+l.internalHost+"/.ws?";else if(n===oy)r=(l.secure?"https://":"http://")+l.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);KS(l)&&(s.ns=l.namespace);const o=[];return Bt(s,(f,h)=>{o.push(f+"="+h)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(){this.counters_={}}incrementCounter(n,s=1){la(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=s}get(){return P_(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf={},xf={};function th(l){const n=l.toString();return gf[n]||(gf[n]=new ZS),gf[n]}function JS(l,n){const s=l.toString();return xf[s]||(xf[s]=n()),xf[s]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,s){this.closeAfterResponse=n,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,s){for(this.pendingResponses[n]=s;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&gi(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="start",eN="close",tN="pLPCommand",nN="pRTLPCB",dy="id",fy="pw",hy="ser",aN="cb",lN="seg",sN="ts",iN="d",rN="dframe",my=1870,py=30,oN=my-py,cN=25e3,uN=3e4;class ei{constructor(n,s,r,o,f,h,p){this.connId=n,this.repoInfo=s,this.applicationId=r,this.appCheckToken=o,this.authToken=f,this.transportSessionId=h,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Pr(n),this.stats_=th(s),this.urlFn=x=>(this.appCheckToken&&(x[Of]=this.appCheckToken),uy(s,oy,x))}open(n,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new WS(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(uN)),IS(()=>{if(this.isClosed_)return;this.scriptTagHolder=new nh((...f)=>{const[h,p,x,g,N]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===V0)this.id=p,this.password=x;else if(h===eN)p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...f)=>{const[h,p]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(h,p)},()=>{this.onClosed_()},this.urlFn);const r={};r[V0]="t",r[hy]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[aN]=this.scriptTagHolder.uniqueCallbackIdentifier),r[ey]=eh,this.transportSessionId&&(r[ty]=this.transportSessionId),this.lastSessionId&&(r[sy]=this.lastSessionId),this.applicationId&&(r[iy]=this.applicationId),this.appCheckToken&&(r[Of]=this.appCheckToken),typeof location<"u"&&location.hostname&&ly.test(location.hostname)&&(r[ny]=ay);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ei.forceAllow_=!0}static forceDisallow(){ei.forceDisallow_=!0}static isAvailable(){return ei.forceAllow_?!0:!ei.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!BS()&&!qS()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const s=Tt(n);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const r=zx(s),o=Jx(r,oN);for(let f=0;f<o.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[f]),this.curSegmentNum++}addDisconnectPingFrame(n,s){this.myDisconnFrame=document.createElement("iframe");const r={};r[rN]="t",r[dy]=n,r[fy]=s,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const s=Tt(n).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class nh{constructor(n,s,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=LS(),window[tN+this.uniqueCallbackIdentifier]=n,window[nN+this.uniqueCallbackIdentifier]=s,this.myIFrame=nh.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(p){Ht("frame writing exception"),p.stack&&Ht(p.stack),Ht(p)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||Ht("No IE domain setting required")}catch{const r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,s){for(this.myID=n,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[dy]=this.myID,n[fy]=this.myPW,n[hy]=this.currentSerial;let s=this.urlFn(n),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+py+r.length<=my;){const h=this.pendingSegs.shift();r=r+"&"+lN+o+"="+h.seg+"&"+sN+o+"="+h.ts+"&"+iN+o+"="+h.d,o++}return s=s+r,this.addLongPollTag_(s,this.currentSerial),!0}else return!1}enqueueSegment(n,s,r){this.pendingSegs.push({seg:n,ts:s,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,s){this.outstandingRequests.add(s);const r=()=>{this.outstandingRequests.delete(s),this.newRequest_()},o=setTimeout(r,Math.floor(cN)),f=()=>{clearTimeout(o),r()};this.addTag(n,f)}addTag(n,s){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),s())},r.onerror=()=>{Ht("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=16384,fN=45e3;let Tc=null;typeof MozWebSocket<"u"?Tc=MozWebSocket:typeof WebSocket<"u"&&(Tc=WebSocket);class Bn{constructor(n,s,r,o,f,h,p){this.connId=n,this.applicationId=r,this.appCheckToken=o,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Pr(this.connId),this.stats_=th(s),this.connURL=Bn.connectionURL_(s,h,p,o,r),this.nodeAdmin=s.nodeAdmin}static connectionURL_(n,s,r,o,f){const h={};return h[ey]=eh,typeof location<"u"&&location.hostname&&ly.test(location.hostname)&&(h[ny]=ay),s&&(h[ty]=s),r&&(h[sy]=r),o&&(h[Of]=o),f&&(h[iy]=f),uy(n,ry,h)}open(n,s){this.onDisconnect=s,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Kl.set("previous_websocket_failure",!0);try{let r;r2(),this.mySock=new Tc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Bn.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const s=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(s);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&Tc!==null&&!Bn.forceDisallow_}static previouslyFailed(){return Kl.isInMemoryStorage||Kl.get("previous_websocket_failure")===!0}markConnectionHealthy(){Kl.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const r=kr(s);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(Q(this.frames===null,"We already have a frame buffer"),n.length<=6){const s=Number(n);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const s=n.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(s);else{const r=this.extractFrameCount_(s);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();const s=Tt(n);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const r=Jx(s,dN);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(fN))}sendString_(n){try{this.mySock.send(n)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Bn.responsesRequiredToBeHealthy=2;Bn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{static get ALL_TRANSPORTS(){return[ei,Bn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const s=Bn&&Bn.isAvailable();let r=s&&!Bn.previouslyFailed();if(n.webSocketOnly&&(s||ln("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Bn];else{const o=this.transports_=[];for(const f of Rr.ALL_TRANSPORTS)f&&f.isAvailable()&&o.push(f);Rr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Rr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=6e4,mN=5e3,pN=10*1024,gN=100*1024,yf="t",P0="d",xN="s",Q0="r",yN="e",F0="o",X0="a",K0="n",Z0="p",vN="h";class bN{constructor(n,s,r,o,f,h,p,x,g,N){this.id=n,this.repoInfo_=s,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=f,this.onMessage_=h,this.onReady_=p,this.onDisconnect_=x,this.onKill_=g,this.lastSessionId=N,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Pr("c:"+this.id+":"),this.transportManager_=new Rr(s),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,r)},Math.floor(0));const o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=wr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>gN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>pN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return s=>{n===this.conn_?this.onConnectionLost_(s):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return s=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(s):n===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(n){const s={t:"d",d:n};this.sendData_(s)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(yf in n){const s=n[yf];s===X0?this.upgradeIfSecondaryHealthy_():s===Q0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):s===F0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const s=gr("t",n),r=gr("d",n);if(s==="c")this.onSecondaryControl_(r);else if(s==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+s)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Z0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:X0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:K0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const s=gr("t",n),r=gr("d",n);s==="c"?this.onControl_(r):s==="d"&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const s=gr(yf,n);if(P0 in n){const r=n[P0];if(s===vN){const o={...r};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(s===K0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else s===xN?this.onConnectionShutdown_(r):s===Q0?this.onReset_(r):s===yN?Mf("Server Error: "+r):s===F0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Mf("Unknown control packet command: "+s)}}onHandshake_(n){const s=n.ts,r=n.v,o=n.h;this.sessionId=n.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),eh!==r&&ln("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,r),wr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(hN))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,s){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):wr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(mN))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Z0,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Kl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{put(n,s,r,o){}merge(n,s,r,o){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,s,r){}onDisconnectMerge(n,s,r){}onDisconnectCancel(n,s){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(n){this.allowedEvents_=n,this.listeners_={},Q(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...s){if(Array.isArray(this.listeners_[n])){const r=[...this.listeners_[n]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,s)}}on(n,s,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:s,context:r});const o=this.getInitialEvent(n);o&&s.apply(r,o)}off(n,s,r){this.validateEventType_(n);const o=this.listeners_[n]||[];for(let f=0;f<o.length;f++)if(o[f].callback===s&&(!r||r===o[f].context)){o.splice(f,1);return}}validateEventType_(n){Q(this.allowedEvents_.find(s=>s===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends xy{static getInstance(){return new Ac}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ix()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return Q(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=32,W0=768;class Xe{constructor(n,s){if(s===void 0){this.pieces_=n.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=s}toString(){let n="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)this.pieces_[s]!==""&&(n+="/"+this.pieces_[s]);return n||"/"}}function Le(){return new Xe("")}function Ne(l){return l.pieceNum_>=l.pieces_.length?null:l.pieces_[l.pieceNum_]}function Sl(l){return l.pieces_.length-l.pieceNum_}function tt(l){let n=l.pieceNum_;return n<l.pieces_.length&&n++,new Xe(l.pieces_,n)}function ah(l){return l.pieceNum_<l.pieces_.length?l.pieces_[l.pieces_.length-1]:null}function _N(l){let n="";for(let s=l.pieceNum_;s<l.pieces_.length;s++)l.pieces_[s]!==""&&(n+="/"+encodeURIComponent(String(l.pieces_[s])));return n||"/"}function zr(l,n=0){return l.pieces_.slice(l.pieceNum_+n)}function yy(l){if(l.pieceNum_>=l.pieces_.length)return null;const n=[];for(let s=l.pieceNum_;s<l.pieces_.length-1;s++)n.push(l.pieces_[s]);return new Xe(n,0)}function ht(l,n){const s=[];for(let r=l.pieceNum_;r<l.pieces_.length;r++)s.push(l.pieces_[r]);if(n instanceof Xe)for(let r=n.pieceNum_;r<n.pieces_.length;r++)s.push(n.pieces_[r]);else{const r=n.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&s.push(r[o])}return new Xe(s,0)}function je(l){return l.pieceNum_>=l.pieces_.length}function an(l,n){const s=Ne(l),r=Ne(n);if(s===null)return n;if(s===r)return an(tt(l),tt(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+l+")")}function SN(l,n){const s=zr(l,0),r=zr(n,0);for(let o=0;o<s.length&&o<r.length;o++){const f=ts(s[o],r[o]);if(f!==0)return f}return s.length===r.length?0:s.length<r.length?-1:1}function lh(l,n){if(Sl(l)!==Sl(n))return!1;for(let s=l.pieceNum_,r=n.pieceNum_;s<=l.pieces_.length;s++,r++)if(l.pieces_[s]!==n.pieces_[r])return!1;return!0}function Dn(l,n){let s=l.pieceNum_,r=n.pieceNum_;if(Sl(l)>Sl(n))return!1;for(;s<l.pieces_.length;){if(l.pieces_[s]!==n.pieces_[r])return!1;++s,++r}return!0}class NN{constructor(n,s){this.errorPrefix_=s,this.parts_=zr(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Vc(this.parts_[r]);vy(this)}}function wN(l,n){l.parts_.length>0&&(l.byteLength_+=1),l.parts_.push(n),l.byteLength_+=Vc(n),vy(l)}function CN(l){const n=l.parts_.pop();l.byteLength_-=Vc(n),l.parts_.length>0&&(l.byteLength_-=1)}function vy(l){if(l.byteLength_>W0)throw new Error(l.errorPrefix_+"has a key path longer than "+W0+" bytes ("+l.byteLength_+").");if(l.parts_.length>J0)throw new Error(l.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+J0+") or object contains a cycle "+Fl(l))}function Fl(l){return l.parts_.length===0?"":"in property '"+l.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends xy{static getInstance(){return new sh}constructor(){super(["visible"]);let n,s;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(s="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(s="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(s="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(s="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(n){return Q(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr=1e3,EN=300*1e3,ex=30*1e3,jN=1.3,TN=3e4,AN="server_kill",tx=3;class za extends gy{constructor(n,s,r,o,f,h,p,x){if(super(),this.repoInfo_=n,this.applicationId_=s,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=f,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=x,this.id=za.nextPersistentConnectionId_++,this.log_=Pr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xr,this.maxReconnectDelay_=EN,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,x)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");sh.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Ac.getInstance().on("online",this.onOnline_,this)}sendRequest(n,s,r){const o=++this.requestNumber_,f={r:o,a:n,b:s};this.log_(Tt(f)),Q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),r&&(this.requestCBHash_[o]=r)}get(n){this.initConnection_();const s=new Yr,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:h=>{const p=h.d;h.s==="ok"?s.resolve(p):s.reject(p)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),s.promise}listen(n,s,r,o){this.initConnection_();const f=n._queryIdentifier,h=n._path.toString();this.log_("Listen called for "+h+" "+f),this.listens.has(h)||this.listens.set(h,new Map),Q(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Q(!this.listens.get(h).has(f),"listen() called twice for same path/queryId.");const p={onComplete:o,hashFn:s,query:n,tag:r};this.listens.get(h).set(f,p),this.connected_&&this.sendListen_(p)}sendGet_(n){const s=this.outstandingGets_[n];this.sendRequest("g",s.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(r)})}sendListen_(n){const s=n.query,r=s._path.toString(),o=s._queryIdentifier;this.log_("Listen on "+r+" for "+o);const f={p:r},h="q";n.tag&&(f.q=s._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest(h,f,p=>{const x=p.d,g=p.s;za.warnOnListenWarnings_(x,s),(this.listens.get(r)&&this.listens.get(r).get(o))===n&&(this.log_("listen response",p),g!=="ok"&&this.removeListen_(r,o),n.onComplete&&n.onComplete(g,x))})}static warnOnListenWarnings_(n,s){if(n&&typeof n=="object"&&la(n,"w")){const r=si(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+s._queryParams.getIndex().toString()+'"',f=s._path.toString();ln(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||m2(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ex)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,s=h2(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(s,r,o=>{const f=o.s,h=o.d||"error";this.authToken_===n&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const s=n.s,r=n.d||"error";s==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,r)})}unlisten(n,s){const r=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),Q(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,n._queryObject,s)}sendUnlisten_(n,s,r,o){this.log_("Unlisten on "+n+" for "+s);const f={p:n},h="n";o&&(f.q=r,f.t=o),this.sendRequest(h,f)}onDisconnectPut(n,s,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,s,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:s,onComplete:r})}onDisconnectMerge(n,s,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,s,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:s,onComplete:r})}onDisconnectCancel(n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,s):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(n,s,r,o){const f={p:s,d:r};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(n,s,r,o){this.putInternal("p",n,s,r,o)}merge(n,s,r,o){this.putInternal("m",n,s,r,o)}putInternal(n,s,r,o,f){this.initConnection_();const h={p:s,d:r};f!==void 0&&(h.h=f),this.outstandingPuts_.push({action:n,request:h,onComplete:o}),this.outstandingPutCount_++;const p=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(p):this.log_("Buffering put: "+s)}sendPut_(n){const s=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(s,r,f=>{this.log_(s+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(f.s,f.d)})}reportStats(n){if(this.connected_){const s={c:n};this.log_("reportStats",s),this.sendRequest("s",s,r=>{if(r.s!=="ok"){const f=r.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Tt(n));const s=n.r,r=this.requestCBHash_[s];r&&(delete this.requestCBHash_[s],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,s){this.log_("handleServerMessage",n,s),n==="d"?this.onDataUpdate_(s.p,s.d,!1,s.t):n==="m"?this.onDataUpdate_(s.p,s.d,!0,s.t):n==="c"?this.onListenRevoked_(s.p,s.q):n==="ac"?this.onAuthRevoked_(s.s,s.d):n==="apc"?this.onAppCheckRevoked_(s.s,s.d):n==="sd"?this.onSecurityDebugPacket_(s):Mf("Unrecognized action received from server: "+Tt(n)+`
Are you using the latest client?`)}onReady_(n,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){Q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xr,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=xr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>TN&&(this.reconnectDelay_=xr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let s=Math.max(0,this.reconnectDelay_-n);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*jN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),s=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+za.nextConnectionId_++,f=this.lastSessionId;let h=!1,p=null;const x=function(){p?p.close():(h=!0,r())},g=function(_){Q(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(_)};this.realtime_={close:x,sendRequest:g};const N=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,v]=await Promise.all([this.authTokenProvider_.getToken(N),this.appCheckTokenProvider_.getToken(N)]);h?Ht("getToken() completed but was canceled"):(Ht("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=v&&v.token,p=new bN(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,s,r,O=>{ln(O+" ("+this.repoInfo_.toString()+")"),this.interrupt(AN)},f))}catch(_){this.log_("Failed to get token: "+_),h||(this.repoInfo_.nodeAdmin&&ln(_),x())}}}interrupt(n){Ht("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ht("Resuming connection for reason: "+n),delete this.interruptReasons_[n],k0(this.interruptReasons_)&&(this.reconnectDelay_=xr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const s=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const s=this.outstandingPuts_[n];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,s){let r;s?r=s.map(f=>Wf(f)).join("$"):r="default";const o=this.removeListen_(n,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,s){const r=new Xe(n).toString();let o;if(this.listens.has(r)){const f=this.listens.get(r);o=f.get(s),f.delete(s),f.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(n,s){Ht("Auth token revoked: "+n+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=tx&&(this.reconnectDelay_=ex,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,s){Ht("App check token revoked: "+n+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=tx&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const s of n.values())this.sendListen_(s);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let s="js";n["sdk."+s+"."+Xx.replace(/\./g,"-")]=1,Ix()?n["framework.cordova"]=1:i2()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Ac.getInstance().currentlyOnline();return k0(this.interruptReasons_)&&n}}za.nextPersistentConnectionId_=0;za.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(n,s){this.name=n,this.node=s}static Wrap(n,s){return new we(n,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,s){const r=new we(ii,n),o=new we(ii,s);return this.compare(r,o)!==0}minPost(){return we.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yc;class by extends Pc{static get __EMPTY_NODE(){return yc}static set __EMPTY_NODE(n){yc=n}compare(n,s){return ts(n.name,s.name)}isDefinedOn(n){throw mi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,s){return!1}minPost(){return we.MIN}maxPost(){return new we(Zl,yc)}makePost(n,s){return Q(typeof n=="string","KeyIndex indexValue must always be a string."),new we(n,yc)}toString(){return".key"}}const ai=new by;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(n,s,r,o,f=null){this.isReverse_=o,this.resultGenerator_=f,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(n=n,h=s?r(n.key,s):1,o&&(h*=-1),h<0)this.isReverse_?n=n.left:n=n.right;else if(h===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),s;if(this.resultGenerator_?s=this.resultGenerator_(n.key,n.value):s={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class Mt{constructor(n,s,r,o,f){this.key=n,this.value=s,this.color=r??Mt.RED,this.left=o??mn.EMPTY_NODE,this.right=f??mn.EMPTY_NODE}copy(n,s,r,o,f){return new Mt(n??this.key,s??this.value,r??this.color,o??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,s,r){let o=this;const f=r(n,o.key);return f<0?o=o.copy(null,null,null,o.left.insert(n,s,r),null):f===0?o=o.copy(null,s,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,s,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return mn.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,s){let r,o;if(r=this,s(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,s),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),s(n,r.key)===0){if(r.right.isEmpty())return mn.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,s))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,Mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,Mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,s)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}Mt.RED=!0;Mt.BLACK=!1;class kN{copy(n,s,r,o,f){return this}insert(n,s,r){return new Mt(n,s,null)}remove(n,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class mn{constructor(n,s=mn.EMPTY_NODE){this.comparator_=n,this.root_=s}insert(n,s){return new mn(this.comparator_,this.root_.insert(n,s,this.comparator_).copy(null,null,Mt.BLACK,null,null))}remove(n){return new mn(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,Mt.BLACK,null,null))}get(n){let s,r=this.root_;for(;!r.isEmpty();){if(s=this.comparator_(n,r.key),s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}getPredecessorKey(n){let s,r=this.root_,o=null;for(;!r.isEmpty();)if(s=this.comparator_(n,r.key),s===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else s<0?r=r.left:s>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new vc(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,s){return new vc(this.root_,n,this.comparator_,!1,s)}getReverseIteratorFrom(n,s){return new vc(this.root_,n,this.comparator_,!0,s)}getReverseIterator(n){return new vc(this.root_,null,this.comparator_,!0,n)}}mn.EMPTY_NODE=new kN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(l,n){return ts(l.name,n.name)}function ih(l,n){return ts(l,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rf;function MN(l){Rf=l}const _y=function(l){return typeof l=="number"?"number:"+Wx(l):"string:"+l},Sy=function(l){if(l.isLeafNode()){const n=l.val();Q(typeof n=="string"||typeof n=="number"||typeof n=="object"&&la(n,".sv"),"Priority must be a string or number.")}else Q(l===Rf||l.isEmpty(),"priority of unexpected type.");Q(l===Rf||l.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nx;class Dt{static set __childrenNodeConstructor(n){nx=n}static get __childrenNodeConstructor(){return nx}constructor(n,s=Dt.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=s,this.lazyHash_=null,Q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Sy(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new Dt(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:Dt.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return je(n)?this:Ne(n)===".priority"?this.priorityNode_:Dt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,s){return null}updateImmediateChild(n,s){return n===".priority"?this.updatePriority(s):s.isEmpty()&&n!==".priority"?this:Dt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,s).updatePriority(this.priorityNode_)}updateChild(n,s){const r=Ne(n);return r===null?s:s.isEmpty()&&r!==".priority"?this:(Q(r!==".priority"||Sl(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Dt.__childrenNodeConstructor.EMPTY_NODE.updateChild(tt(n),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,s){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+_y(this.priorityNode_.val())+":");const s=typeof this.value_;n+=s+":",s==="number"?n+=Wx(this.value_):n+=this.value_,this.lazyHash_=Zx(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===Dt.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof Dt.__childrenNodeConstructor?-1:(Q(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const s=typeof n.value_,r=typeof this.value_,o=Dt.VALUE_TYPE_ORDER.indexOf(s),f=Dt.VALUE_TYPE_ORDER.indexOf(r);return Q(o>=0,"Unknown leaf type: "+s),Q(f>=0,"Unknown leaf type: "+r),o===f?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const s=n;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}else return!1}}Dt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ny,wy;function ON(l){Ny=l}function RN(l){wy=l}class zN extends Pc{compare(n,s){const r=n.node.getPriority(),o=s.node.getPriority(),f=r.compareTo(o);return f===0?ts(n.name,s.name):f}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,s){return!n.getPriority().equals(s.getPriority())}minPost(){return we.MIN}maxPost(){return new we(Zl,new Dt("[PRIORITY-POST]",wy))}makePost(n,s){const r=Ny(n);return new we(s,new Dt("[PRIORITY-POST]",r))}toString(){return".priority"}}const mt=new zN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=Math.log(2);class $N{constructor(n){const s=f=>parseInt(Math.log(f)/LN,10),r=f=>parseInt(Array(f+1).join("1"),2);this.count=s(n+1),this.current_=this.count-1;const o=r(this.count);this.bits_=n+1&o}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const kc=function(l,n,s,r){l.sort(n);const o=function(x,g){const N=g-x;let _,v;if(N===0)return null;if(N===1)return _=l[x],v=s?s(_):_,new Mt(v,_.node,Mt.BLACK,null,null);{const O=parseInt(N/2,10)+x,Y=o(x,O),K=o(O+1,g);return _=l[O],v=s?s(_):_,new Mt(v,_.node,Mt.BLACK,Y,K)}},f=function(x){let g=null,N=null,_=l.length;const v=function(Y,K){const re=_-Y,X=_;_-=Y;const ce=o(re+1,X),ge=l[re],le=s?s(ge):ge;O(new Mt(le,ge.node,K,null,ce))},O=function(Y){g?(g.left=Y,g=Y):(N=Y,g=Y)};for(let Y=0;Y<x.count;++Y){const K=x.nextBitIsOne(),re=Math.pow(2,x.count-(Y+1));K?v(re,Mt.BLACK):(v(re,Mt.BLACK),v(re,Mt.RED))}return N},h=new $N(l.length),p=f(h);return new mn(r||n,p)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vf;const Zs={};class Ra{static get Default(){return Q(Zs&&mt,"ChildrenNode.ts has not been loaded"),vf=vf||new Ra({".priority":Zs},{".priority":mt}),vf}constructor(n,s){this.indexes_=n,this.indexSet_=s}get(n){const s=si(this.indexes_,n);if(!s)throw new Error("No index defined for "+n);return s instanceof mn?s:null}hasIndex(n){return la(this.indexSet_,n.toString())}addIndex(n,s){Q(n!==ai,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const f=s.getIterator(we.Wrap);let h=f.getNext();for(;h;)o=o||n.isDefinedOn(h.node),r.push(h),h=f.getNext();let p;o?p=kc(r,n.getCompare()):p=Zs;const x=n.toString(),g={...this.indexSet_};g[x]=n;const N={...this.indexes_};return N[x]=p,new Ra(N,g)}addToIndexes(n,s){const r=Cc(this.indexes_,(o,f)=>{const h=si(this.indexSet_,f);if(Q(h,"Missing index implementation for "+f),o===Zs)if(h.isDefinedOn(n.node)){const p=[],x=s.getIterator(we.Wrap);let g=x.getNext();for(;g;)g.name!==n.name&&p.push(g),g=x.getNext();return p.push(n),kc(p,h.getCompare())}else return Zs;else{const p=s.get(n.name);let x=o;return p&&(x=x.remove(new we(n.name,p))),x.insert(n,n.node)}});return new Ra(r,this.indexSet_)}removeFromIndexes(n,s){const r=Cc(this.indexes_,o=>{if(o===Zs)return o;{const f=s.get(n.name);return f?o.remove(new we(n.name,f)):o}});return new Ra(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yr;class oe{static get EMPTY_NODE(){return yr||(yr=new oe(new mn(ih),null,Ra.Default))}constructor(n,s,r){this.children_=n,this.priorityNode_=s,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Sy(this.priorityNode_),this.children_.isEmpty()&&Q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||yr}updatePriority(n){return this.children_.isEmpty()?this:new oe(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const s=this.children_.get(n);return s===null?yr:s}}getChild(n){const s=Ne(n);return s===null?this:this.getImmediateChild(s).getChild(tt(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,s){if(Q(s,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(s);{const r=new we(n,s);let o,f;s.isEmpty()?(o=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(n,s),f=this.indexMap_.addToIndexes(r,this.children_));const h=o.isEmpty()?yr:this.priorityNode_;return new oe(o,h,f)}}updateChild(n,s){const r=Ne(n);if(r===null)return s;{Q(Ne(n)!==".priority"||Sl(n)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(tt(n),s);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const s={};let r=0,o=0,f=!0;if(this.forEachChild(mt,(h,p)=>{s[h]=p.val(n),r++,f&&oe.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):f=!1}),!n&&f&&o<2*r){const h=[];for(const p in s)h[p]=s[p];return h}else return n&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+_y(this.getPriority().val())+":"),this.forEachChild(mt,(s,r)=>{const o=r.hash();o!==""&&(n+=":"+s+":"+o)}),this.lazyHash_=n===""?"":Zx(n)}return this.lazyHash_}getPredecessorChildName(n,s,r){const o=this.resolveIndex_(r);if(o){const f=o.getPredecessorKey(new we(n,s));return f?f.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const s=this.resolveIndex_(n);if(s){const r=s.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){const s=this.getFirstChildName(n);return s?new we(s,this.children_.get(s)):null}getLastChildName(n){const s=this.resolveIndex_(n);if(s){const r=s.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){const s=this.getLastChildName(n);return s?new we(s,this.children_.get(s)):null}forEachChild(n,s){const r=this.resolveIndex_(n);return r?r.inorderTraversal(o=>s(o.name,o.node)):this.children_.inorderTraversal(s)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,s){const r=this.resolveIndex_(s);if(r)return r.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,we.Wrap);let f=o.peek();for(;f!=null&&s.compare(f,n)<0;)o.getNext(),f=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,s){const r=this.resolveIndex_(s);if(r)return r.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,we.Wrap);let f=o.peek();for(;f!=null&&s.compare(f,n)>0;)o.getNext(),f=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Qr?-1:0}withIndex(n){if(n===ai||this.indexMap_.hasIndex(n))return this;{const s=this.indexMap_.addIndex(n,this.children_);return new oe(this.children_,this.priorityNode_,s)}}isIndexed(n){return n===ai||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const s=n;if(this.getPriority().equals(s.getPriority()))if(this.children_.count()===s.children_.count()){const r=this.getIterator(mt),o=s.getIterator(mt);let f=r.getNext(),h=o.getNext();for(;f&&h;){if(f.name!==h.name||!f.node.equals(h.node))return!1;f=r.getNext(),h=o.getNext()}return f===null&&h===null}else return!1;else return!1}}resolveIndex_(n){return n===ai?null:this.indexMap_.get(n.toString())}}oe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class UN extends oe{constructor(){super(new mn(ih),oe.EMPTY_NODE,Ra.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return oe.EMPTY_NODE}isEmpty(){return!1}}const Qr=new UN;Object.defineProperties(we,{MIN:{value:new we(ii,oe.EMPTY_NODE)},MAX:{value:new we(Zl,Qr)}});by.__EMPTY_NODE=oe.EMPTY_NODE;Dt.__childrenNodeConstructor=oe;MN(Qr);RN(Qr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=!0;function Et(l,n=null){if(l===null)return oe.EMPTY_NODE;if(typeof l=="object"&&".priority"in l&&(n=l[".priority"]),Q(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof l=="object"&&".value"in l&&l[".value"]!==null&&(l=l[".value"]),typeof l!="object"||".sv"in l){const s=l;return new Dt(s,Et(n))}if(!(l instanceof Array)&&IN){const s=[];let r=!1;if(Bt(l,(h,p)=>{if(h.substring(0,1)!=="."){const x=Et(p);x.isEmpty()||(r=r||!x.getPriority().isEmpty(),s.push(new we(h,x)))}}),s.length===0)return oe.EMPTY_NODE;const f=kc(s,DN,h=>h.name,ih);if(r){const h=kc(s,mt.getCompare());return new oe(f,Et(n),new Ra({".priority":h},{".priority":mt}))}else return new oe(f,Et(n),Ra.Default)}else{let s=oe.EMPTY_NODE;return Bt(l,(r,o)=>{if(la(l,r)&&r.substring(0,1)!=="."){const f=Et(o);(f.isLeafNode()||!f.isEmpty())&&(s=s.updateImmediateChild(r,f))}}),s.updatePriority(Et(n))}}ON(Et);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN extends Pc{constructor(n){super(),this.indexPath_=n,Q(!je(n)&&Ne(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,s){const r=this.extractChild(n.node),o=this.extractChild(s.node),f=r.compareTo(o);return f===0?ts(n.name,s.name):f}makePost(n,s){const r=Et(n),o=oe.EMPTY_NODE.updateChild(this.indexPath_,r);return new we(s,o)}maxPost(){const n=oe.EMPTY_NODE.updateChild(this.indexPath_,Qr);return new we(Zl,n)}toString(){return zr(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN extends Pc{compare(n,s){const r=n.node.compareTo(s.node);return r===0?ts(n.name,s.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,s){return!n.equals(s)}minPost(){return we.MIN}maxPost(){return we.MAX}makePost(n,s){const r=Et(n);return new we(s,r)}toString(){return".value"}}const qN=new BN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(l){return{type:"value",snapshotNode:l}}function ri(l,n){return{type:"child_added",snapshotNode:n,childName:l}}function Lr(l,n){return{type:"child_removed",snapshotNode:n,childName:l}}function $r(l,n,s){return{type:"child_changed",snapshotNode:n,childName:l,oldSnap:s}}function YN(l,n){return{type:"child_moved",snapshotNode:n,childName:l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(n){this.index_=n}updateChild(n,s,r,o,f,h){Q(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=n.getImmediateChild(s);return p.getChild(o).equals(r.getChild(o))&&p.isEmpty()===r.isEmpty()||(h!=null&&(r.isEmpty()?n.hasChild(s)?h.trackChildChange(Lr(s,p)):Q(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?h.trackChildChange(ri(s,r)):h.trackChildChange($r(s,r,p))),n.isLeafNode()&&r.isEmpty())?n:n.updateImmediateChild(s,r).withIndex(this.index_)}updateFullNode(n,s,r){return r!=null&&(n.isLeafNode()||n.forEachChild(mt,(o,f)=>{s.hasChild(o)||r.trackChildChange(Lr(o,f))}),s.isLeafNode()||s.forEachChild(mt,(o,f)=>{if(n.hasChild(o)){const h=n.getImmediateChild(o);h.equals(f)||r.trackChildChange($r(o,f,h))}else r.trackChildChange(ri(o,f))})),s.withIndex(this.index_)}updatePriority(n,s){return n.isEmpty()?oe.EMPTY_NODE:n.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(n){this.indexedFilter_=new rh(n.getIndex()),this.index_=n.getIndex(),this.startPost_=Ur.getStartPost_(n),this.endPost_=Ur.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const s=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,r=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return s&&r}updateChild(n,s,r,o,f,h){return this.matches(new we(s,r))||(r=oe.EMPTY_NODE),this.indexedFilter_.updateChild(n,s,r,o,f,h)}updateFullNode(n,s,r){s.isLeafNode()&&(s=oe.EMPTY_NODE);let o=s.withIndex(this.index_);o=o.updatePriority(oe.EMPTY_NODE);const f=this;return s.forEachChild(mt,(h,p)=>{f.matches(new we(h,p))||(o=o.updateImmediateChild(h,oe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,o,r)}updatePriority(n,s){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const s=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),s)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const s=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),s)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(n){this.withinDirectionalStart=s=>this.reverse_?this.withinEndPost(s):this.withinStartPost(s),this.withinDirectionalEnd=s=>this.reverse_?this.withinStartPost(s):this.withinEndPost(s),this.withinStartPost=s=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),s);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=s=>{const r=this.index_.compare(s,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ur(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,s,r,o,f,h){return this.rangedFilter_.matches(new we(s,r))||(r=oe.EMPTY_NODE),n.getImmediateChild(s).equals(r)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,s,r,o,f,h):this.fullLimitUpdateChild_(n,s,r,f,h)}updateFullNode(n,s,r){let o;if(s.isLeafNode()||s.isEmpty())o=oe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<s.numChildren()&&s.isIndexed(this.index_)){o=oe.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;f.hasNext()&&h<this.limit_;){const p=f.getNext();if(this.withinDirectionalStart(p))if(this.withinDirectionalEnd(p))o=o.updateImmediateChild(p.name,p.node),h++;else break;else continue}}else{o=s.withIndex(this.index_),o=o.updatePriority(oe.EMPTY_NODE);let f;this.reverse_?f=o.getReverseIterator(this.index_):f=o.getIterator(this.index_);let h=0;for(;f.hasNext();){const p=f.getNext();h<this.limit_&&this.withinDirectionalStart(p)&&this.withinDirectionalEnd(p)?h++:o=o.updateImmediateChild(p.name,oe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,o,r)}updatePriority(n,s){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,s,r,o,f){let h;if(this.reverse_){const _=this.index_.getCompare();h=(v,O)=>_(O,v)}else h=this.index_.getCompare();const p=n;Q(p.numChildren()===this.limit_,"");const x=new we(s,r),g=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),N=this.rangedFilter_.matches(x);if(p.hasChild(s)){const _=p.getImmediateChild(s);let v=o.getChildAfterChild(this.index_,g,this.reverse_);for(;v!=null&&(v.name===s||p.hasChild(v.name));)v=o.getChildAfterChild(this.index_,v,this.reverse_);const O=v==null?1:h(v,x);if(N&&!r.isEmpty()&&O>=0)return f!=null&&f.trackChildChange($r(s,r,_)),p.updateImmediateChild(s,r);{f!=null&&f.trackChildChange(Lr(s,_));const K=p.updateImmediateChild(s,oe.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(f!=null&&f.trackChildChange(ri(v.name,v.node)),K.updateImmediateChild(v.name,v.node)):K}}else return r.isEmpty()?n:N&&h(g,x)>=0?(f!=null&&(f.trackChildChange(Lr(g.name,g.node)),f.trackChildChange(ri(s,r))),p.updateImmediateChild(s,r).updateImmediateChild(g.name,oe.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=mt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ii}hasEnd(){return this.endSet_}getIndexEndValue(){return Q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Zl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===mt}copy(){const n=new oh;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function VN(l){return l.loadsAllData()?new rh(l.getIndex()):l.hasLimit()?new GN(l):new Ur(l)}function ax(l){const n={};if(l.isDefault())return n;let s;if(l.index_===mt?s="$priority":l.index_===qN?s="$value":l.index_===ai?s="$key":(Q(l.index_ instanceof HN,"Unrecognized index type!"),s=l.index_.toString()),n.orderBy=Tt(s),l.startSet_){const r=l.startAfterSet_?"startAfter":"startAt";n[r]=Tt(l.indexStartValue_),l.startNameSet_&&(n[r]+=","+Tt(l.indexStartName_))}if(l.endSet_){const r=l.endBeforeSet_?"endBefore":"endAt";n[r]=Tt(l.indexEndValue_),l.endNameSet_&&(n[r]+=","+Tt(l.indexEndName_))}return l.limitSet_&&(l.isViewFromLeft()?n.limitToFirst=l.limit_:n.limitToLast=l.limit_),n}function lx(l){const n={};if(l.startSet_&&(n.sp=l.indexStartValue_,l.startNameSet_&&(n.sn=l.indexStartName_),n.sin=!l.startAfterSet_),l.endSet_&&(n.ep=l.indexEndValue_,l.endNameSet_&&(n.en=l.indexEndName_),n.ein=!l.endBeforeSet_),l.limitSet_){n.l=l.limit_;let s=l.viewFrom_;s===""&&(l.isViewFromLeft()?s="l":s="r"),n.vf=s}return l.index_!==mt&&(n.i=l.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends gy{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,s){return s!==void 0?"tag$"+s:(Q(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,s,r,o){super(),this.repoInfo_=n,this.onDataUpdate_=s,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=Pr("p:rest:"),this.listens_={}}listen(n,s,r,o){const f=n._path.toString();this.log_("Listen called for "+f+" "+n._queryIdentifier);const h=Dc.getListenId_(n,r),p={};this.listens_[h]=p;const x=ax(n._queryParams);this.restRequest_(f+".json",x,(g,N)=>{let _=N;if(g===404&&(_=null,g=null),g===null&&this.onDataUpdate_(f,_,!1,r),si(this.listens_,h)===p){let v;g?g===401?v="permission_denied":v="rest_error:"+g:v="ok",o(v,null)}})}unlisten(n,s){const r=Dc.getListenId_(n,s);delete this.listens_[r]}get(n){const s=ax(n._queryParams),r=n._path.toString(),o=new Yr;return this.restRequest_(r+".json",s,(f,h)=>{let p=h;f===404&&(p=null,f=null),f===null?(this.onDataUpdate_(r,p,!1,null),o.resolve(p)):o.reject(new Error(p))}),o.promise}refreshAuthToken(n){}restRequest_(n,s={},r){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,f])=>{o&&o.accessToken&&(s.auth=o.accessToken),f&&f.token&&(s.ac=f.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+p2(s);this.log_("Sending REST request for "+h);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(r&&p.readyState===4){this.log_("REST Response for "+h+" received. status:",p.status,"response:",p.responseText);let x=null;if(p.status>=200&&p.status<300){try{x=kr(p.responseText)}catch{ln("Failed to parse JSON response for "+h+": "+p.responseText)}r(null,x)}else p.status!==401&&p.status!==404&&ln("Got unsuccessful REST response for "+h+" Status: "+p.status),r(p.status);r=null}},p.open("GET",h,!0),p.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this.rootNode_=oe.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,s){this.rootNode_=this.rootNode_.updateChild(n,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(){return{value:null,children:new Map}}function Ey(l,n,s){if(je(n))l.value=s,l.children.clear();else if(l.value!==null)l.value=l.value.updateChild(n,s);else{const r=Ne(n);l.children.has(r)||l.children.set(r,Mc());const o=l.children.get(r);n=tt(n),Ey(o,n,s)}}function zf(l,n,s){l.value!==null?s(n,l.value):QN(l,(r,o)=>{const f=new Xe(n.toString()+"/"+r);zf(o,f,s)})}function QN(l,n){l.children.forEach((s,r)=>{n(r,s)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),s={...n};return this.last_&&Bt(this.last_,(r,o)=>{s[r]=s[r]-o}),this.last_=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=10*1e3,XN=30*1e3,KN=300*1e3;class ZN{constructor(n,s){this.server_=s,this.statsToReport_={},this.statsListener_=new FN(n);const r=sx+(XN-sx)*Math.random();wr(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const n=this.statsListener_.get(),s={};let r=!1;Bt(n,(o,f)=>{f>0&&la(this.statsToReport_,o)&&(s[o]=f,r=!0)}),r&&this.server_.reportStats(s),wr(this.reportStats_.bind(this),Math.floor(Math.random()*2*KN))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qn;(function(l){l[l.OVERWRITE=0]="OVERWRITE",l[l.MERGE=1]="MERGE",l[l.ACK_USER_WRITE=2]="ACK_USER_WRITE",l[l.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(qn||(qn={}));function ch(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function uh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function dh(l){return{fromUser:!1,fromServer:!0,queryId:l,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(n,s,r){this.path=n,this.affectedTree=s,this.revert=r,this.type=qn.ACK_USER_WRITE,this.source=ch()}operationForChild(n){if(je(this.path)){if(this.affectedTree.value!=null)return Q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new Xe(n));return new Oc(Le(),s,this.revert)}}else return Q(Ne(this.path)===n,"operationForChild called for unrelated child."),new Oc(tt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(n,s){this.source=n,this.path=s,this.type=qn.LISTEN_COMPLETE}operationForChild(n){return je(this.path)?new Ir(this.source,Le()):new Ir(this.source,tt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(n,s,r){this.source=n,this.path=s,this.snap=r,this.type=qn.OVERWRITE}operationForChild(n){return je(this.path)?new Jl(this.source,Le(),this.snap.getImmediateChild(n)):new Jl(this.source,tt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(n,s,r){this.source=n,this.path=s,this.children=r,this.type=qn.MERGE}operationForChild(n){if(je(this.path)){const s=this.children.subtree(new Xe(n));return s.isEmpty()?null:s.value?new Jl(this.source,Le(),s.value):new oi(this.source,Le(),s)}else return Q(Ne(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new oi(this.source,tt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(n,s,r){this.node_=n,this.fullyInitialized_=s,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(je(n))return this.isFullyInitialized()&&!this.filtered_;const s=Ne(n);return this.isCompleteForChild(s)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function WN(l,n,s,r){const o=[],f=[];return n.forEach(h=>{h.type==="child_changed"&&l.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&f.push(YN(h.childName,h.snapshotNode))}),vr(l,o,"child_removed",n,r,s),vr(l,o,"child_added",n,r,s),vr(l,o,"child_moved",f,r,s),vr(l,o,"child_changed",n,r,s),vr(l,o,"value",n,r,s),o}function vr(l,n,s,r,o,f){const h=r.filter(p=>p.type===s);h.sort((p,x)=>tw(l,p,x)),h.forEach(p=>{const x=ew(l,p,f);o.forEach(g=>{g.respondsTo(p.type)&&n.push(g.createEvent(x,l.query_))})})}function ew(l,n,s){return n.type==="value"||n.type==="child_removed"||(n.prevName=s.getPredecessorChildName(n.childName,n.snapshotNode,l.index_)),n}function tw(l,n,s){if(n.childName==null||s.childName==null)throw mi("Should only compare child_ events.");const r=new we(n.childName,n.snapshotNode),o=new we(s.childName,s.snapshotNode);return l.index_.compare(r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(l,n){return{eventCache:l,serverCache:n}}function Cr(l,n,s,r){return Qc(new Nl(n,s,r),l.serverCache)}function jy(l,n,s,r){return Qc(l.eventCache,new Nl(n,s,r))}function Rc(l){return l.eventCache.isFullyInitialized()?l.eventCache.getNode():null}function Wl(l){return l.serverCache.isFullyInitialized()?l.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf;const nw=()=>(bf||(bf=new mn(HS)),bf);class We{static fromObject(n){let s=new We(null);return Bt(n,(r,o)=>{s=s.set(new Xe(r),o)}),s}constructor(n,s=nw()){this.value=n,this.children=s}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,s){if(this.value!=null&&s(this.value))return{path:Le(),value:this.value};if(je(n))return null;{const r=Ne(n),o=this.children.get(r);if(o!==null){const f=o.findRootMostMatchingPathAndValue(tt(n),s);return f!=null?{path:ht(new Xe(r),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(je(n))return this;{const s=Ne(n),r=this.children.get(s);return r!==null?r.subtree(tt(n)):new We(null)}}set(n,s){if(je(n))return new We(s,this.children);{const r=Ne(n),f=(this.children.get(r)||new We(null)).set(tt(n),s),h=this.children.insert(r,f);return new We(this.value,h)}}remove(n){if(je(n))return this.children.isEmpty()?new We(null):new We(null,this.children);{const s=Ne(n),r=this.children.get(s);if(r){const o=r.remove(tt(n));let f;return o.isEmpty()?f=this.children.remove(s):f=this.children.insert(s,o),this.value===null&&f.isEmpty()?new We(null):new We(this.value,f)}else return this}}get(n){if(je(n))return this.value;{const s=Ne(n),r=this.children.get(s);return r?r.get(tt(n)):null}}setTree(n,s){if(je(n))return s;{const r=Ne(n),f=(this.children.get(r)||new We(null)).setTree(tt(n),s);let h;return f.isEmpty()?h=this.children.remove(r):h=this.children.insert(r,f),new We(this.value,h)}}fold(n){return this.fold_(Le(),n)}fold_(n,s){const r={};return this.children.inorderTraversal((o,f)=>{r[o]=f.fold_(ht(n,o),s)}),s(n,this.value,r)}findOnPath(n,s){return this.findOnPath_(n,Le(),s)}findOnPath_(n,s,r){const o=this.value?r(s,this.value):!1;if(o)return o;if(je(n))return null;{const f=Ne(n),h=this.children.get(f);return h?h.findOnPath_(tt(n),ht(s,f),r):null}}foreachOnPath(n,s){return this.foreachOnPath_(n,Le(),s)}foreachOnPath_(n,s,r){if(je(n))return this;{this.value&&r(s,this.value);const o=Ne(n),f=this.children.get(o);return f?f.foreachOnPath_(tt(n),ht(s,o),r):new We(null)}}foreach(n){this.foreach_(Le(),n)}foreach_(n,s){this.children.inorderTraversal((r,o)=>{o.foreach_(ht(n,r),s)}),this.value&&s(n,this.value)}foreachChild(n){this.children.inorderTraversal((s,r)=>{r.value&&n(s,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(n){this.writeTree_=n}static empty(){return new Yn(new We(null))}}function Er(l,n,s){if(je(n))return new Yn(new We(s));{const r=l.writeTree_.findRootMostValueAndPath(n);if(r!=null){const o=r.path;let f=r.value;const h=an(o,n);return f=f.updateChild(h,s),new Yn(l.writeTree_.set(o,f))}else{const o=new We(s),f=l.writeTree_.setTree(n,o);return new Yn(f)}}}function Lf(l,n,s){let r=l;return Bt(s,(o,f)=>{r=Er(r,ht(n,o),f)}),r}function ix(l,n){if(je(n))return Yn.empty();{const s=l.writeTree_.setTree(n,new We(null));return new Yn(s)}}function $f(l,n){return ns(l,n)!=null}function ns(l,n){const s=l.writeTree_.findRootMostValueAndPath(n);return s!=null?l.writeTree_.get(s.path).getChild(an(s.path,n)):null}function rx(l){const n=[],s=l.writeTree_.value;return s!=null?s.isLeafNode()||s.forEachChild(mt,(r,o)=>{n.push(new we(r,o))}):l.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&n.push(new we(r,o.value))}),n}function bl(l,n){if(je(n))return l;{const s=ns(l,n);return s!=null?new Yn(new We(s)):new Yn(l.writeTree_.subtree(n))}}function Uf(l){return l.writeTree_.isEmpty()}function ci(l,n){return Ty(Le(),l.writeTree_,n)}function Ty(l,n,s){if(n.value!=null)return s.updateChild(l,n.value);{let r=null;return n.children.inorderTraversal((o,f)=>{o===".priority"?(Q(f.value!==null,"Priority writes must always be leaf nodes"),r=f.value):s=Ty(ht(l,o),f,s)}),!s.getChild(l).isEmpty()&&r!==null&&(s=s.updateChild(ht(l,".priority"),r)),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(l,n){return My(n,l)}function aw(l,n,s,r,o){Q(r>l.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),l.allWrites.push({path:n,snap:s,writeId:r,visible:o}),o&&(l.visibleWrites=Er(l.visibleWrites,n,s)),l.lastWriteId=r}function lw(l,n,s,r){Q(r>l.lastWriteId,"Stacking an older merge on top of newer ones"),l.allWrites.push({path:n,children:s,writeId:r,visible:!0}),l.visibleWrites=Lf(l.visibleWrites,n,s),l.lastWriteId=r}function sw(l,n){for(let s=0;s<l.allWrites.length;s++){const r=l.allWrites[s];if(r.writeId===n)return r}return null}function iw(l,n){const s=l.allWrites.findIndex(p=>p.writeId===n);Q(s>=0,"removeWrite called with nonexistent writeId.");const r=l.allWrites[s];l.allWrites.splice(s,1);let o=r.visible,f=!1,h=l.allWrites.length-1;for(;o&&h>=0;){const p=l.allWrites[h];p.visible&&(h>=s&&rw(p,r.path)?o=!1:Dn(r.path,p.path)&&(f=!0)),h--}if(o){if(f)return ow(l),!0;if(r.snap)l.visibleWrites=ix(l.visibleWrites,r.path);else{const p=r.children;Bt(p,x=>{l.visibleWrites=ix(l.visibleWrites,ht(r.path,x))})}return!0}else return!1}function rw(l,n){if(l.snap)return Dn(l.path,n);for(const s in l.children)if(l.children.hasOwnProperty(s)&&Dn(ht(l.path,s),n))return!0;return!1}function ow(l){l.visibleWrites=Ay(l.allWrites,cw,Le()),l.allWrites.length>0?l.lastWriteId=l.allWrites[l.allWrites.length-1].writeId:l.lastWriteId=-1}function cw(l){return l.visible}function Ay(l,n,s){let r=Yn.empty();for(let o=0;o<l.length;++o){const f=l[o];if(n(f)){const h=f.path;let p;if(f.snap)Dn(s,h)?(p=an(s,h),r=Er(r,p,f.snap)):Dn(h,s)&&(p=an(h,s),r=Er(r,Le(),f.snap.getChild(p)));else if(f.children){if(Dn(s,h))p=an(s,h),r=Lf(r,p,f.children);else if(Dn(h,s))if(p=an(h,s),je(p))r=Lf(r,Le(),f.children);else{const x=si(f.children,Ne(p));if(x){const g=x.getChild(tt(p));r=Er(r,Le(),g)}}}else throw mi("WriteRecord should have .snap or .children")}}return r}function ky(l,n,s,r,o){if(!r&&!o){const f=ns(l.visibleWrites,n);if(f!=null)return f;{const h=bl(l.visibleWrites,n);if(Uf(h))return s;if(s==null&&!$f(h,Le()))return null;{const p=s||oe.EMPTY_NODE;return ci(h,p)}}}else{const f=bl(l.visibleWrites,n);if(!o&&Uf(f))return s;if(!o&&s==null&&!$f(f,Le()))return null;{const h=function(g){return(g.visible||o)&&(!r||!~r.indexOf(g.writeId))&&(Dn(g.path,n)||Dn(n,g.path))},p=Ay(l.allWrites,h,n),x=s||oe.EMPTY_NODE;return ci(p,x)}}}function uw(l,n,s){let r=oe.EMPTY_NODE;const o=ns(l.visibleWrites,n);if(o)return o.isLeafNode()||o.forEachChild(mt,(f,h)=>{r=r.updateImmediateChild(f,h)}),r;if(s){const f=bl(l.visibleWrites,n);return s.forEachChild(mt,(h,p)=>{const x=ci(bl(f,new Xe(h)),p);r=r.updateImmediateChild(h,x)}),rx(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}else{const f=bl(l.visibleWrites,n);return rx(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}}function dw(l,n,s,r,o){Q(r||o,"Either existingEventSnap or existingServerSnap must exist");const f=ht(n,s);if($f(l.visibleWrites,f))return null;{const h=bl(l.visibleWrites,f);return Uf(h)?o.getChild(s):ci(h,o.getChild(s))}}function fw(l,n,s,r){const o=ht(n,s),f=ns(l.visibleWrites,o);if(f!=null)return f;if(r.isCompleteForChild(s)){const h=bl(l.visibleWrites,o);return ci(h,r.getNode().getImmediateChild(s))}else return null}function hw(l,n){return ns(l.visibleWrites,n)}function mw(l,n,s,r,o,f,h){let p;const x=bl(l.visibleWrites,n),g=ns(x,Le());if(g!=null)p=g;else if(s!=null)p=ci(x,s);else return[];if(p=p.withIndex(h),!p.isEmpty()&&!p.isLeafNode()){const N=[],_=h.getCompare(),v=f?p.getReverseIteratorFrom(r,h):p.getIteratorFrom(r,h);let O=v.getNext();for(;O&&N.length<o;)_(O,r)!==0&&N.push(O),O=v.getNext();return N}else return[]}function pw(){return{visibleWrites:Yn.empty(),allWrites:[],lastWriteId:-1}}function zc(l,n,s,r){return ky(l.writeTree,l.treePath,n,s,r)}function fh(l,n){return uw(l.writeTree,l.treePath,n)}function ox(l,n,s,r){return dw(l.writeTree,l.treePath,n,s,r)}function Lc(l,n){return hw(l.writeTree,ht(l.treePath,n))}function gw(l,n,s,r,o,f){return mw(l.writeTree,l.treePath,n,s,r,o,f)}function hh(l,n,s){return fw(l.writeTree,l.treePath,n,s)}function Dy(l,n){return My(ht(l.treePath,n),l.writeTree)}function My(l,n){return{treePath:l,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(){this.changeMap=new Map}trackChildChange(n){const s=n.type,r=n.childName;Q(s==="child_added"||s==="child_changed"||s==="child_removed","Only child changes supported for tracking"),Q(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const f=o.type;if(s==="child_added"&&f==="child_removed")this.changeMap.set(r,$r(r,n.snapshotNode,o.snapshotNode));else if(s==="child_removed"&&f==="child_added")this.changeMap.delete(r);else if(s==="child_removed"&&f==="child_changed")this.changeMap.set(r,Lr(r,o.oldSnap));else if(s==="child_changed"&&f==="child_added")this.changeMap.set(r,ri(r,n.snapshotNode));else if(s==="child_changed"&&f==="child_changed")this.changeMap.set(r,$r(r,n.snapshotNode,o.oldSnap));else throw mi("Illegal combination of changes: "+n+" occurred after "+o)}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{getCompleteChild(n){return null}getChildAfterChild(n,s,r){return null}}const Oy=new yw;class mh{constructor(n,s,r=null){this.writes_=n,this.viewCache_=s,this.optCompleteServerCache_=r}getCompleteChild(n){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(n))return s.getNode().getImmediateChild(n);{const r=this.optCompleteServerCache_!=null?new Nl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hh(this.writes_,n,r)}}getChildAfterChild(n,s,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Wl(this.viewCache_),f=gw(this.writes_,o,s,1,r,n);return f.length===0?null:f[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(l){return{filter:l}}function bw(l,n){Q(n.eventCache.getNode().isIndexed(l.filter.getIndex()),"Event snap not indexed"),Q(n.serverCache.getNode().isIndexed(l.filter.getIndex()),"Server snap not indexed")}function _w(l,n,s,r,o){const f=new xw;let h,p;if(s.type===qn.OVERWRITE){const g=s;g.source.fromUser?h=If(l,n,g.path,g.snap,r,o,f):(Q(g.source.fromServer,"Unknown source."),p=g.source.tagged||n.serverCache.isFiltered()&&!je(g.path),h=$c(l,n,g.path,g.snap,r,o,p,f))}else if(s.type===qn.MERGE){const g=s;g.source.fromUser?h=Nw(l,n,g.path,g.children,r,o,f):(Q(g.source.fromServer,"Unknown source."),p=g.source.tagged||n.serverCache.isFiltered(),h=Hf(l,n,g.path,g.children,r,o,p,f))}else if(s.type===qn.ACK_USER_WRITE){const g=s;g.revert?h=Ew(l,n,g.path,r,o,f):h=ww(l,n,g.path,g.affectedTree,r,o,f)}else if(s.type===qn.LISTEN_COMPLETE)h=Cw(l,n,s.path,r,f);else throw mi("Unknown operation type: "+s.type);const x=f.getChanges();return Sw(n,h,x),{viewCache:h,changes:x}}function Sw(l,n,s){const r=n.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),f=Rc(l);(s.length>0||!l.eventCache.isFullyInitialized()||o&&!r.getNode().equals(f)||!r.getNode().getPriority().equals(f.getPriority()))&&s.push(Cy(Rc(n)))}}function Ry(l,n,s,r,o,f){const h=n.eventCache;if(Lc(r,s)!=null)return n;{let p,x;if(je(s))if(Q(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const g=Wl(n),N=g instanceof oe?g:oe.EMPTY_NODE,_=fh(r,N);p=l.filter.updateFullNode(n.eventCache.getNode(),_,f)}else{const g=zc(r,Wl(n));p=l.filter.updateFullNode(n.eventCache.getNode(),g,f)}else{const g=Ne(s);if(g===".priority"){Q(Sl(s)===1,"Can't have a priority with additional path components");const N=h.getNode();x=n.serverCache.getNode();const _=ox(r,s,N,x);_!=null?p=l.filter.updatePriority(N,_):p=h.getNode()}else{const N=tt(s);let _;if(h.isCompleteForChild(g)){x=n.serverCache.getNode();const v=ox(r,s,h.getNode(),x);v!=null?_=h.getNode().getImmediateChild(g).updateChild(N,v):_=h.getNode().getImmediateChild(g)}else _=hh(r,g,n.serverCache);_!=null?p=l.filter.updateChild(h.getNode(),g,_,N,o,f):p=h.getNode()}}return Cr(n,p,h.isFullyInitialized()||je(s),l.filter.filtersNodes())}}function $c(l,n,s,r,o,f,h,p){const x=n.serverCache;let g;const N=h?l.filter:l.filter.getIndexedFilter();if(je(s))g=N.updateFullNode(x.getNode(),r,null);else if(N.filtersNodes()&&!x.isFiltered()){const O=x.getNode().updateChild(s,r);g=N.updateFullNode(x.getNode(),O,null)}else{const O=Ne(s);if(!x.isCompleteForPath(s)&&Sl(s)>1)return n;const Y=tt(s),re=x.getNode().getImmediateChild(O).updateChild(Y,r);O===".priority"?g=N.updatePriority(x.getNode(),re):g=N.updateChild(x.getNode(),O,re,Y,Oy,null)}const _=jy(n,g,x.isFullyInitialized()||je(s),N.filtersNodes()),v=new mh(o,_,f);return Ry(l,_,s,o,v,p)}function If(l,n,s,r,o,f,h){const p=n.eventCache;let x,g;const N=new mh(o,n,f);if(je(s))g=l.filter.updateFullNode(n.eventCache.getNode(),r,h),x=Cr(n,g,!0,l.filter.filtersNodes());else{const _=Ne(s);if(_===".priority")g=l.filter.updatePriority(n.eventCache.getNode(),r),x=Cr(n,g,p.isFullyInitialized(),p.isFiltered());else{const v=tt(s),O=p.getNode().getImmediateChild(_);let Y;if(je(v))Y=r;else{const K=N.getCompleteChild(_);K!=null?ah(v)===".priority"&&K.getChild(yy(v)).isEmpty()?Y=K:Y=K.updateChild(v,r):Y=oe.EMPTY_NODE}if(O.equals(Y))x=n;else{const K=l.filter.updateChild(p.getNode(),_,Y,v,N,h);x=Cr(n,K,p.isFullyInitialized(),l.filter.filtersNodes())}}}return x}function cx(l,n){return l.eventCache.isCompleteForChild(n)}function Nw(l,n,s,r,o,f,h){let p=n;return r.foreach((x,g)=>{const N=ht(s,x);cx(n,Ne(N))&&(p=If(l,p,N,g,o,f,h))}),r.foreach((x,g)=>{const N=ht(s,x);cx(n,Ne(N))||(p=If(l,p,N,g,o,f,h))}),p}function ux(l,n,s){return s.foreach((r,o)=>{n=n.updateChild(r,o)}),n}function Hf(l,n,s,r,o,f,h,p){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let x=n,g;je(s)?g=r:g=new We(null).setTree(s,r);const N=n.serverCache.getNode();return g.children.inorderTraversal((_,v)=>{if(N.hasChild(_)){const O=n.serverCache.getNode().getImmediateChild(_),Y=ux(l,O,v);x=$c(l,x,new Xe(_),Y,o,f,h,p)}}),g.children.inorderTraversal((_,v)=>{const O=!n.serverCache.isCompleteForChild(_)&&v.value===null;if(!N.hasChild(_)&&!O){const Y=n.serverCache.getNode().getImmediateChild(_),K=ux(l,Y,v);x=$c(l,x,new Xe(_),K,o,f,h,p)}}),x}function ww(l,n,s,r,o,f,h){if(Lc(o,s)!=null)return n;const p=n.serverCache.isFiltered(),x=n.serverCache;if(r.value!=null){if(je(s)&&x.isFullyInitialized()||x.isCompleteForPath(s))return $c(l,n,s,x.getNode().getChild(s),o,f,p,h);if(je(s)){let g=new We(null);return x.getNode().forEachChild(ai,(N,_)=>{g=g.set(new Xe(N),_)}),Hf(l,n,s,g,o,f,p,h)}else return n}else{let g=new We(null);return r.foreach((N,_)=>{const v=ht(s,N);x.isCompleteForPath(v)&&(g=g.set(N,x.getNode().getChild(v)))}),Hf(l,n,s,g,o,f,p,h)}}function Cw(l,n,s,r,o){const f=n.serverCache,h=jy(n,f.getNode(),f.isFullyInitialized()||je(s),f.isFiltered());return Ry(l,h,s,r,Oy,o)}function Ew(l,n,s,r,o,f){let h;if(Lc(r,s)!=null)return n;{const p=new mh(r,n,o),x=n.eventCache.getNode();let g;if(je(s)||Ne(s)===".priority"){let N;if(n.serverCache.isFullyInitialized())N=zc(r,Wl(n));else{const _=n.serverCache.getNode();Q(_ instanceof oe,"serverChildren would be complete if leaf node"),N=fh(r,_)}N=N,g=l.filter.updateFullNode(x,N,f)}else{const N=Ne(s);let _=hh(r,N,n.serverCache);_==null&&n.serverCache.isCompleteForChild(N)&&(_=x.getImmediateChild(N)),_!=null?g=l.filter.updateChild(x,N,_,tt(s),p,f):n.eventCache.getNode().hasChild(N)?g=l.filter.updateChild(x,N,oe.EMPTY_NODE,tt(s),p,f):g=x,g.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=zc(r,Wl(n)),h.isLeafNode()&&(g=l.filter.updateFullNode(g,h,f)))}return h=n.serverCache.isFullyInitialized()||Lc(r,Le())!=null,Cr(n,g,h,l.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(n,s){this.query_=n,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new rh(r.getIndex()),f=VN(r);this.processor_=vw(f);const h=s.serverCache,p=s.eventCache,x=o.updateFullNode(oe.EMPTY_NODE,h.getNode(),null),g=f.updateFullNode(oe.EMPTY_NODE,p.getNode(),null),N=new Nl(x,h.isFullyInitialized(),o.filtersNodes()),_=new Nl(g,p.isFullyInitialized(),f.filtersNodes());this.viewCache_=Qc(_,N),this.eventGenerator_=new JN(this.query_)}get query(){return this.query_}}function Tw(l){return l.viewCache_.serverCache.getNode()}function Aw(l){return Rc(l.viewCache_)}function kw(l,n){const s=Wl(l.viewCache_);return s&&(l.query._queryParams.loadsAllData()||!je(n)&&!s.getImmediateChild(Ne(n)).isEmpty())?s.getChild(n):null}function dx(l){return l.eventRegistrations_.length===0}function Dw(l,n){l.eventRegistrations_.push(n)}function fx(l,n,s){const r=[];if(s){Q(n==null,"A cancel should cancel all event registrations.");const o=l.query._path;l.eventRegistrations_.forEach(f=>{const h=f.createCancelEvent(s,o);h&&r.push(h)})}if(n){let o=[];for(let f=0;f<l.eventRegistrations_.length;++f){const h=l.eventRegistrations_[f];if(!h.matches(n))o.push(h);else if(n.hasAnyCallback()){o=o.concat(l.eventRegistrations_.slice(f+1));break}}l.eventRegistrations_=o}else l.eventRegistrations_=[];return r}function hx(l,n,s,r){n.type===qn.MERGE&&n.source.queryId!==null&&(Q(Wl(l.viewCache_),"We should always have a full cache before handling merges"),Q(Rc(l.viewCache_),"Missing event cache, even though we have a server cache"));const o=l.viewCache_,f=_w(l.processor_,o,n,s,r);return bw(l.processor_,f.viewCache),Q(f.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),l.viewCache_=f.viewCache,zy(l,f.changes,f.viewCache.eventCache.getNode(),null)}function Mw(l,n){const s=l.viewCache_.eventCache,r=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(mt,(f,h)=>{r.push(ri(f,h))}),s.isFullyInitialized()&&r.push(Cy(s.getNode())),zy(l,r,s.getNode(),n)}function zy(l,n,s,r){const o=r?[r]:l.eventRegistrations_;return WN(l.eventGenerator_,n,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc;class Ly{constructor(){this.views=new Map}}function Ow(l){Q(!Uc,"__referenceConstructor has already been defined"),Uc=l}function Rw(){return Q(Uc,"Reference.ts has not been loaded"),Uc}function zw(l){return l.views.size===0}function ph(l,n,s,r){const o=n.source.queryId;if(o!==null){const f=l.views.get(o);return Q(f!=null,"SyncTree gave us an op for an invalid query."),hx(f,n,s,r)}else{let f=[];for(const h of l.views.values())f=f.concat(hx(h,n,s,r));return f}}function $y(l,n,s,r,o){const f=n._queryIdentifier,h=l.views.get(f);if(!h){let p=zc(s,o?r:null),x=!1;p?x=!0:r instanceof oe?(p=fh(s,r),x=!1):(p=oe.EMPTY_NODE,x=!1);const g=Qc(new Nl(p,x,!1),new Nl(r,o,!1));return new jw(n,g)}return h}function Lw(l,n,s,r,o,f){const h=$y(l,n,r,o,f);return l.views.has(n._queryIdentifier)||l.views.set(n._queryIdentifier,h),Dw(h,s),Mw(h,s)}function $w(l,n,s,r){const o=n._queryIdentifier,f=[];let h=[];const p=wl(l);if(o==="default")for(const[x,g]of l.views.entries())h=h.concat(fx(g,s,r)),dx(g)&&(l.views.delete(x),g.query._queryParams.loadsAllData()||f.push(g.query));else{const x=l.views.get(o);x&&(h=h.concat(fx(x,s,r)),dx(x)&&(l.views.delete(o),x.query._queryParams.loadsAllData()||f.push(x.query)))}return p&&!wl(l)&&f.push(new(Rw())(n._repo,n._path)),{removed:f,events:h}}function Uy(l){const n=[];for(const s of l.views.values())s.query._queryParams.loadsAllData()||n.push(s);return n}function _l(l,n){let s=null;for(const r of l.views.values())s=s||kw(r,n);return s}function Iy(l,n){if(n._queryParams.loadsAllData())return Xc(l);{const r=n._queryIdentifier;return l.views.get(r)}}function Hy(l,n){return Iy(l,n)!=null}function wl(l){return Xc(l)!=null}function Xc(l){for(const n of l.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic;function Uw(l){Q(!Ic,"__referenceConstructor has already been defined"),Ic=l}function Iw(){return Q(Ic,"Reference.ts has not been loaded"),Ic}let Hw=1;class mx{constructor(n){this.listenProvider_=n,this.syncPointTree_=new We(null),this.pendingWriteTree_=pw(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function By(l,n,s,r,o){return aw(l.pendingWriteTree_,n,s,r,o),o?xi(l,new Jl(ch(),n,s)):[]}function Bw(l,n,s,r){lw(l.pendingWriteTree_,n,s,r);const o=We.fromObject(s);return xi(l,new oi(ch(),n,o))}function xl(l,n,s=!1){const r=sw(l.pendingWriteTree_,n);if(iw(l.pendingWriteTree_,n)){let f=new We(null);return r.snap!=null?f=f.set(Le(),!0):Bt(r.children,h=>{f=f.set(new Xe(h),!0)}),xi(l,new Oc(r.path,f,s))}else return[]}function Fr(l,n,s){return xi(l,new Jl(uh(),n,s))}function qw(l,n,s){const r=We.fromObject(s);return xi(l,new oi(uh(),n,r))}function Yw(l,n){return xi(l,new Ir(uh(),n))}function Gw(l,n,s){const r=xh(l,s);if(r){const o=yh(r),f=o.path,h=o.queryId,p=an(f,n),x=new Ir(dh(h),p);return vh(l,f,x)}else return[]}function Hc(l,n,s,r,o=!1){const f=n._path,h=l.syncPointTree_.get(f);let p=[];if(h&&(n._queryIdentifier==="default"||Hy(h,n))){const x=$w(h,n,s,r);zw(h)&&(l.syncPointTree_=l.syncPointTree_.remove(f));const g=x.removed;if(p=x.events,!o){const N=g.findIndex(v=>v._queryParams.loadsAllData())!==-1,_=l.syncPointTree_.findOnPath(f,(v,O)=>wl(O));if(N&&!_){const v=l.syncPointTree_.subtree(f);if(!v.isEmpty()){const O=Qw(v);for(let Y=0;Y<O.length;++Y){const K=O[Y],re=K.query,X=Vy(l,K);l.listenProvider_.startListening(jr(re),Hr(l,re),X.hashFn,X.onComplete)}}}!_&&g.length>0&&!r&&(N?l.listenProvider_.stopListening(jr(n),null):g.forEach(v=>{const O=l.queryToTagMap.get(Kc(v));l.listenProvider_.stopListening(jr(v),O)}))}Fw(l,g)}return p}function qy(l,n,s,r){const o=xh(l,r);if(o!=null){const f=yh(o),h=f.path,p=f.queryId,x=an(h,n),g=new Jl(dh(p),x,s);return vh(l,h,g)}else return[]}function Vw(l,n,s,r){const o=xh(l,r);if(o){const f=yh(o),h=f.path,p=f.queryId,x=an(h,n),g=We.fromObject(s),N=new oi(dh(p),x,g);return vh(l,h,N)}else return[]}function Bf(l,n,s,r=!1){const o=n._path;let f=null,h=!1;l.syncPointTree_.foreachOnPath(o,(v,O)=>{const Y=an(v,o);f=f||_l(O,Y),h=h||wl(O)});let p=l.syncPointTree_.get(o);p?(h=h||wl(p),f=f||_l(p,Le())):(p=new Ly,l.syncPointTree_=l.syncPointTree_.set(o,p));let x;f!=null?x=!0:(x=!1,f=oe.EMPTY_NODE,l.syncPointTree_.subtree(o).foreachChild((O,Y)=>{const K=_l(Y,Le());K&&(f=f.updateImmediateChild(O,K))}));const g=Hy(p,n);if(!g&&!n._queryParams.loadsAllData()){const v=Kc(n);Q(!l.queryToTagMap.has(v),"View does not exist, but we have a tag");const O=Xw();l.queryToTagMap.set(v,O),l.tagToQueryMap.set(O,v)}const N=Fc(l.pendingWriteTree_,o);let _=Lw(p,n,s,N,f,x);if(!g&&!h&&!r){const v=Iy(p,n);_=_.concat(Kw(l,n,v))}return _}function gh(l,n,s){const o=l.pendingWriteTree_,f=l.syncPointTree_.findOnPath(n,(h,p)=>{const x=an(h,n),g=_l(p,x);if(g)return g});return ky(o,n,f,s,!0)}function Pw(l,n){const s=n._path;let r=null;l.syncPointTree_.foreachOnPath(s,(g,N)=>{const _=an(g,s);r=r||_l(N,_)});let o=l.syncPointTree_.get(s);o?r=r||_l(o,Le()):(o=new Ly,l.syncPointTree_=l.syncPointTree_.set(s,o));const f=r!=null,h=f?new Nl(r,!0,!1):null,p=Fc(l.pendingWriteTree_,n._path),x=$y(o,n,p,f?h.getNode():oe.EMPTY_NODE,f);return Aw(x)}function xi(l,n){return Yy(n,l.syncPointTree_,null,Fc(l.pendingWriteTree_,Le()))}function Yy(l,n,s,r){if(je(l.path))return Gy(l,n,s,r);{const o=n.get(Le());s==null&&o!=null&&(s=_l(o,Le()));let f=[];const h=Ne(l.path),p=l.operationForChild(h),x=n.children.get(h);if(x&&p){const g=s?s.getImmediateChild(h):null,N=Dy(r,h);f=f.concat(Yy(p,x,g,N))}return o&&(f=f.concat(ph(o,l,r,s))),f}}function Gy(l,n,s,r){const o=n.get(Le());s==null&&o!=null&&(s=_l(o,Le()));let f=[];return n.children.inorderTraversal((h,p)=>{const x=s?s.getImmediateChild(h):null,g=Dy(r,h),N=l.operationForChild(h);N&&(f=f.concat(Gy(N,p,x,g)))}),o&&(f=f.concat(ph(o,l,r,s))),f}function Vy(l,n){const s=n.query,r=Hr(l,s);return{hashFn:()=>(Tw(n)||oe.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?Gw(l,s._path,r):Yw(l,s._path);{const f=YS(o,s);return Hc(l,s,null,f)}}}}function Hr(l,n){const s=Kc(n);return l.queryToTagMap.get(s)}function Kc(l){return l._path.toString()+"$"+l._queryIdentifier}function xh(l,n){return l.tagToQueryMap.get(n)}function yh(l){const n=l.indexOf("$");return Q(n!==-1&&n<l.length-1,"Bad queryKey."),{queryId:l.substr(n+1),path:new Xe(l.substr(0,n))}}function vh(l,n,s){const r=l.syncPointTree_.get(n);Q(r,"Missing sync point for query tag that we're tracking");const o=Fc(l.pendingWriteTree_,n);return ph(r,s,o,null)}function Qw(l){return l.fold((n,s,r)=>{if(s&&wl(s))return[Xc(s)];{let o=[];return s&&(o=Uy(s)),Bt(r,(f,h)=>{o=o.concat(h)}),o}})}function jr(l){return l._queryParams.loadsAllData()&&!l._queryParams.isDefault()?new(Iw())(l._repo,l._path):l}function Fw(l,n){for(let s=0;s<n.length;++s){const r=n[s];if(!r._queryParams.loadsAllData()){const o=Kc(r),f=l.queryToTagMap.get(o);l.queryToTagMap.delete(o),l.tagToQueryMap.delete(f)}}}function Xw(){return Hw++}function Kw(l,n,s){const r=n._path,o=Hr(l,n),f=Vy(l,s),h=l.listenProvider_.startListening(jr(n),o,f.hashFn,f.onComplete),p=l.syncPointTree_.subtree(r);if(o)Q(!wl(p.value),"If we're adding a query, it shouldn't be shadowed");else{const x=p.fold((g,N,_)=>{if(!je(g)&&N&&wl(N))return[Xc(N).query];{let v=[];return N&&(v=v.concat(Uy(N).map(O=>O.query))),Bt(_,(O,Y)=>{v=v.concat(Y)}),v}});for(let g=0;g<x.length;++g){const N=x[g];l.listenProvider_.stopListening(jr(N),Hr(l,N))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(n){this.node_=n}getImmediateChild(n){const s=this.node_.getImmediateChild(n);return new bh(s)}node(){return this.node_}}class _h{constructor(n,s){this.syncTree_=n,this.path_=s}getImmediateChild(n){const s=ht(this.path_,n);return new _h(this.syncTree_,s)}node(){return gh(this.syncTree_,this.path_)}}const Zw=function(l){return l=l||{},l.timestamp=l.timestamp||new Date().getTime(),l},px=function(l,n,s){if(!l||typeof l!="object")return l;if(Q(".sv"in l,"Unexpected leaf node or priority contents"),typeof l[".sv"]=="string")return Jw(l[".sv"],n,s);if(typeof l[".sv"]=="object")return Ww(l[".sv"],n);Q(!1,"Unexpected server value: "+JSON.stringify(l,null,2))},Jw=function(l,n,s){switch(l){case"timestamp":return s.timestamp;default:Q(!1,"Unexpected server value: "+l)}},Ww=function(l,n,s){l.hasOwnProperty("increment")||Q(!1,"Unexpected server value: "+JSON.stringify(l,null,2));const r=l.increment;typeof r!="number"&&Q(!1,"Unexpected increment value: "+r);const o=n.node();if(Q(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const h=o.getValue();return typeof h!="number"?r:h+r},Py=function(l,n,s,r){return Sh(n,new _h(s,l),r)},Qy=function(l,n,s){return Sh(l,new bh(n),s)};function Sh(l,n,s){const r=l.getPriority().val(),o=px(r,n.getImmediateChild(".priority"),s);let f;if(l.isLeafNode()){const h=l,p=px(h.getValue(),n,s);return p!==h.getValue()||o!==h.getPriority().val()?new Dt(p,Et(o)):l}else{const h=l;return f=h,o!==h.getPriority().val()&&(f=f.updatePriority(new Dt(o))),h.forEachChild(mt,(p,x)=>{const g=Sh(x,n.getImmediateChild(p),s);g!==x&&(f=f.updateImmediateChild(p,g))}),f}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(n="",s=null,r={children:{},childCount:0}){this.name=n,this.parent=s,this.node=r}}function wh(l,n){let s=n instanceof Xe?n:new Xe(n),r=l,o=Ne(s);for(;o!==null;){const f=si(r.node.children,o)||{children:{},childCount:0};r=new Nh(o,r,f),s=tt(s),o=Ne(s)}return r}function yi(l){return l.node.value}function Fy(l,n){l.node.value=n,qf(l)}function Xy(l){return l.node.childCount>0}function eC(l){return yi(l)===void 0&&!Xy(l)}function Zc(l,n){Bt(l.node.children,(s,r)=>{n(new Nh(s,l,r))})}function Ky(l,n,s,r){s&&n(l),Zc(l,o=>{Ky(o,n,!0)})}function tC(l,n,s){let r=l.parent;for(;r!==null;){if(n(r))return!0;r=r.parent}return!1}function Xr(l){return new Xe(l.parent===null?l.name:Xr(l.parent)+"/"+l.name)}function qf(l){l.parent!==null&&nC(l.parent,l.name,l)}function nC(l,n,s){const r=eC(s),o=la(l.node.children,n);r&&o?(delete l.node.children[n],l.node.childCount--,qf(l)):!r&&!o&&(l.node.children[n]=s.node,l.node.childCount++,qf(l))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=/[\[\].#$\/\u0000-\u001F\u007F]/,lC=/[\[\].#$\u0000-\u001F\u007F]/,_f=10*1024*1024,Ch=function(l){return typeof l=="string"&&l.length!==0&&!aC.test(l)},Zy=function(l){return typeof l=="string"&&l.length!==0&&!lC.test(l)},sC=function(l){return l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),Zy(l)},iC=function(l){return l===null||typeof l=="string"||typeof l=="number"&&!Jf(l)||l&&typeof l=="object"&&la(l,".sv")},rC=function(l,n,s,r){Jc(Gc(l,"value"),n,s)},Jc=function(l,n,s){const r=s instanceof Xe?new NN(s,l):s;if(n===void 0)throw new Error(l+"contains undefined "+Fl(r));if(typeof n=="function")throw new Error(l+"contains a function "+Fl(r)+" with contents = "+n.toString());if(Jf(n))throw new Error(l+"contains "+n.toString()+" "+Fl(r));if(typeof n=="string"&&n.length>_f/3&&Vc(n)>_f)throw new Error(l+"contains a string greater than "+_f+" utf8 bytes "+Fl(r)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let o=!1,f=!1;if(Bt(n,(h,p)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(f=!0,!Ch(h)))throw new Error(l+" contains an invalid key ("+h+") "+Fl(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);wN(r,h),Jc(l,p,r),CN(r)}),o&&f)throw new Error(l+' contains ".value" child '+Fl(r)+" in addition to actual children.")}},oC=function(l,n){let s,r;for(s=0;s<n.length;s++){r=n[s];const f=zr(r);for(let h=0;h<f.length;h++)if(!(f[h]===".priority"&&h===f.length-1)){if(!Ch(f[h]))throw new Error(l+"contains an invalid key ("+f[h]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(SN);let o=null;for(s=0;s<n.length;s++){if(r=n[s],o!==null&&Dn(o,r))throw new Error(l+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}},cC=function(l,n,s,r){const o=Gc(l,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");const f=[];Bt(n,(h,p)=>{const x=new Xe(h);if(Jc(o,p,ht(s,x)),ah(x)===".priority"&&!iC(p))throw new Error(o+"contains an invalid value for '"+x.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");f.push(x)}),oC(o,f)},Jy=function(l,n,s,r){if(!Zy(s))throw new Error(Gc(l,n)+'was an invalid path = "'+s+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},uC=function(l,n,s,r){s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),Jy(l,n,s)},Wy=function(l,n){if(Ne(n)===".info")throw new Error(l+" failed = Can't modify data under /.info/")},dC=function(l,n){const s=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!Ch(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||s.length!==0&&!sC(s))throw new Error(Gc(l,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Wc(l,n){let s=null;for(let r=0;r<n.length;r++){const o=n[r],f=o.getPath();s!==null&&!lh(f,s.path)&&(l.eventLists_.push(s),s=null),s===null&&(s={events:[],path:f}),s.events.push(o)}s&&l.eventLists_.push(s)}function ev(l,n,s){Wc(l,s),tv(l,r=>lh(r,n))}function Mn(l,n,s){Wc(l,s),tv(l,r=>Dn(r,n)||Dn(n,r))}function tv(l,n){l.recursionDepth_++;let s=!0;for(let r=0;r<l.eventLists_.length;r++){const o=l.eventLists_[r];if(o){const f=o.path;n(f)?(hC(l.eventLists_[r]),l.eventLists_[r]=null):s=!1}}s&&(l.eventLists_=[]),l.recursionDepth_--}function hC(l){for(let n=0;n<l.events.length;n++){const s=l.events[n];if(s!==null){l.events[n]=null;const r=s.getEventRunner();Nr&&Ht("event: "+s.toString()),gi(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="repo_interrupt",pC=25;class gC{constructor(n,s,r,o){this.repoInfo_=n,this.forceRestClient_=s,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Mc(),this.transactionQueueTree_=new Nh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function xC(l,n,s){if(l.stats_=th(l.repoInfo_),l.forceRestClient_||QS())l.server_=new Dc(l.repoInfo_,(r,o,f,h)=>{gx(l,r,o,f,h)},l.authTokenProvider_,l.appCheckProvider_),setTimeout(()=>xx(l,!0),0);else{if(typeof s<"u"&&s!==null){if(typeof s!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Tt(s)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}l.persistentConnection_=new za(l.repoInfo_,n,(r,o,f,h)=>{gx(l,r,o,f,h)},r=>{xx(l,r)},r=>{vC(l,r)},l.authTokenProvider_,l.appCheckProvider_,s),l.server_=l.persistentConnection_}l.authTokenProvider_.addTokenChangeListener(r=>{l.server_.refreshAuthToken(r)}),l.appCheckProvider_.addTokenChangeListener(r=>{l.server_.refreshAppCheckToken(r.token)}),l.statsReporter_=JS(l.repoInfo_,()=>new ZN(l.stats_,l.server_)),l.infoData_=new PN,l.infoSyncTree_=new mx({startListening:(r,o,f,h)=>{let p=[];const x=l.infoData_.getNode(r._path);return x.isEmpty()||(p=Fr(l.infoSyncTree_,r._path,x),setTimeout(()=>{h("ok")},0)),p},stopListening:()=>{}}),Eh(l,"connected",!1),l.serverSyncTree_=new mx({startListening:(r,o,f,h)=>(l.server_.listen(r,f,o,(p,x)=>{const g=h(p,x);Mn(l.eventQueue_,r._path,g)}),[]),stopListening:(r,o)=>{l.server_.unlisten(r,o)}})}function yC(l){const s=l.infoData_.getNode(new Xe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+s}function eu(l){return Zw({timestamp:yC(l)})}function gx(l,n,s,r,o){l.dataUpdateCount++;const f=new Xe(n);s=l.interceptServerDataCallback_?l.interceptServerDataCallback_(n,s):s;let h=[];if(o)if(r){const x=Cc(s,g=>Et(g));h=Vw(l.serverSyncTree_,f,x,o)}else{const x=Et(s);h=qy(l.serverSyncTree_,f,x,o)}else if(r){const x=Cc(s,g=>Et(g));h=qw(l.serverSyncTree_,f,x)}else{const x=Et(s);h=Fr(l.serverSyncTree_,f,x)}let p=f;h.length>0&&(p=ui(l,f)),Mn(l.eventQueue_,p,h)}function xx(l,n){Eh(l,"connected",n),n===!1&&NC(l)}function vC(l,n){Bt(n,(s,r)=>{Eh(l,s,r)})}function Eh(l,n,s){const r=new Xe("/.info/"+n),o=Et(s);l.infoData_.updateSnapshot(r,o);const f=Fr(l.infoSyncTree_,r,o);Mn(l.eventQueue_,r,f)}function jh(l){return l.nextWriteId_++}function bC(l,n,s){const r=Pw(l.serverSyncTree_,n);return r!=null?Promise.resolve(r):l.server_.get(n).then(o=>{const f=Et(o).withIndex(n._queryParams.getIndex());Bf(l.serverSyncTree_,n,s,!0);let h;if(n._queryParams.loadsAllData())h=Fr(l.serverSyncTree_,n._path,f);else{const p=Hr(l.serverSyncTree_,n);h=qy(l.serverSyncTree_,n._path,f,p)}return Mn(l.eventQueue_,n._path,h),Hc(l.serverSyncTree_,n,s,null,!0),f},o=>(Kr(l,"get for query "+Tt(n)+" failed: "+o),Promise.reject(new Error(o))))}function _C(l,n,s,r,o){Kr(l,"set",{path:n.toString(),value:s,priority:r});const f=eu(l),h=Et(s,r),p=gh(l.serverSyncTree_,n),x=Qy(h,p,f),g=jh(l),N=By(l.serverSyncTree_,n,x,g,!0);Wc(l.eventQueue_,N),l.server_.put(n.toString(),h.val(!0),(v,O)=>{const Y=v==="ok";Y||ln("set at "+n+" failed: "+v);const K=xl(l.serverSyncTree_,g,!Y);Mn(l.eventQueue_,n,K),Yf(l,o,v,O)});const _=Ah(l,n);ui(l,_),Mn(l.eventQueue_,_,[])}function SC(l,n,s,r){Kr(l,"update",{path:n.toString(),value:s});let o=!0;const f=eu(l),h={};if(Bt(s,(p,x)=>{o=!1,h[p]=Py(ht(n,p),Et(x),l.serverSyncTree_,f)}),o)Ht("update() called with empty data.  Don't do anything."),Yf(l,r,"ok",void 0);else{const p=jh(l),x=Bw(l.serverSyncTree_,n,h,p);Wc(l.eventQueue_,x),l.server_.merge(n.toString(),s,(g,N)=>{const _=g==="ok";_||ln("update at "+n+" failed: "+g);const v=xl(l.serverSyncTree_,p,!_),O=v.length>0?ui(l,n):n;Mn(l.eventQueue_,O,v),Yf(l,r,g,N)}),Bt(s,g=>{const N=Ah(l,ht(n,g));ui(l,N)}),Mn(l.eventQueue_,n,[])}}function NC(l){Kr(l,"onDisconnectEvents");const n=eu(l),s=Mc();zf(l.onDisconnect_,Le(),(o,f)=>{const h=Py(o,f,l.serverSyncTree_,n);Ey(s,o,h)});let r=[];zf(s,Le(),(o,f)=>{r=r.concat(Fr(l.serverSyncTree_,o,f));const h=Ah(l,o);ui(l,h)}),l.onDisconnect_=Mc(),Mn(l.eventQueue_,Le(),r)}function wC(l,n,s){let r;Ne(n._path)===".info"?r=Bf(l.infoSyncTree_,n,s):r=Bf(l.serverSyncTree_,n,s),ev(l.eventQueue_,n._path,r)}function nv(l,n,s){let r;Ne(n._path)===".info"?r=Hc(l.infoSyncTree_,n,s):r=Hc(l.serverSyncTree_,n,s),ev(l.eventQueue_,n._path,r)}function CC(l){l.persistentConnection_&&l.persistentConnection_.interrupt(mC)}function Kr(l,...n){let s="";l.persistentConnection_&&(s=l.persistentConnection_.id+":"),Ht(s,...n)}function Yf(l,n,s,r){n&&gi(()=>{if(s==="ok")n(null);else{const o=(s||"error").toUpperCase();let f=o;r&&(f+=": "+r);const h=new Error(f);h.code=o,n(h)}})}function av(l,n,s){return gh(l.serverSyncTree_,n,s)||oe.EMPTY_NODE}function Th(l,n=l.transactionQueueTree_){if(n||tu(l,n),yi(n)){const s=sv(l,n);Q(s.length>0,"Sending zero length transaction queue"),s.every(o=>o.status===0)&&EC(l,Xr(n),s)}else Xy(n)&&Zc(n,s=>{Th(l,s)})}function EC(l,n,s){const r=s.map(g=>g.currentWriteId),o=av(l,n,r);let f=o;const h=o.hash();for(let g=0;g<s.length;g++){const N=s[g];Q(N.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),N.status=1,N.retryCount++;const _=an(n,N.path);f=f.updateChild(_,N.currentOutputSnapshotRaw)}const p=f.val(!0),x=n;l.server_.put(x.toString(),p,g=>{Kr(l,"transaction put response",{path:x.toString(),status:g});let N=[];if(g==="ok"){const _=[];for(let v=0;v<s.length;v++)s[v].status=2,N=N.concat(xl(l.serverSyncTree_,s[v].currentWriteId)),s[v].onComplete&&_.push(()=>s[v].onComplete(null,!0,s[v].currentOutputSnapshotResolved)),s[v].unwatcher();tu(l,wh(l.transactionQueueTree_,n)),Th(l,l.transactionQueueTree_),Mn(l.eventQueue_,n,N);for(let v=0;v<_.length;v++)gi(_[v])}else{if(g==="datastale")for(let _=0;_<s.length;_++)s[_].status===3?s[_].status=4:s[_].status=0;else{ln("transaction at "+x.toString()+" failed: "+g);for(let _=0;_<s.length;_++)s[_].status=4,s[_].abortReason=g}ui(l,n)}},h)}function ui(l,n){const s=lv(l,n),r=Xr(s),o=sv(l,s);return jC(l,o,r),r}function jC(l,n,s){if(n.length===0)return;const r=[];let o=[];const h=n.filter(p=>p.status===0).map(p=>p.currentWriteId);for(let p=0;p<n.length;p++){const x=n[p],g=an(s,x.path);let N=!1,_;if(Q(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),x.status===4)N=!0,_=x.abortReason,o=o.concat(xl(l.serverSyncTree_,x.currentWriteId,!0));else if(x.status===0)if(x.retryCount>=pC)N=!0,_="maxretry",o=o.concat(xl(l.serverSyncTree_,x.currentWriteId,!0));else{const v=av(l,x.path,h);x.currentInputSnapshot=v;const O=n[p].update(v.val());if(O!==void 0){Jc("transaction failed: Data returned ",O,x.path);let Y=Et(O);typeof O=="object"&&O!=null&&la(O,".priority")||(Y=Y.updatePriority(v.getPriority()));const re=x.currentWriteId,X=eu(l),ce=Qy(Y,v,X);x.currentOutputSnapshotRaw=Y,x.currentOutputSnapshotResolved=ce,x.currentWriteId=jh(l),h.splice(h.indexOf(re),1),o=o.concat(By(l.serverSyncTree_,x.path,ce,x.currentWriteId,x.applyLocally)),o=o.concat(xl(l.serverSyncTree_,re,!0))}else N=!0,_="nodata",o=o.concat(xl(l.serverSyncTree_,x.currentWriteId,!0))}Mn(l.eventQueue_,s,o),o=[],N&&(n[p].status=2,(function(v){setTimeout(v,Math.floor(0))})(n[p].unwatcher),n[p].onComplete&&(_==="nodata"?r.push(()=>n[p].onComplete(null,!1,n[p].currentInputSnapshot)):r.push(()=>n[p].onComplete(new Error(_),!1,null))))}tu(l,l.transactionQueueTree_);for(let p=0;p<r.length;p++)gi(r[p]);Th(l,l.transactionQueueTree_)}function lv(l,n){let s,r=l.transactionQueueTree_;for(s=Ne(n);s!==null&&yi(r)===void 0;)r=wh(r,s),n=tt(n),s=Ne(n);return r}function sv(l,n){const s=[];return iv(l,n,s),s.sort((r,o)=>r.order-o.order),s}function iv(l,n,s){const r=yi(n);if(r)for(let o=0;o<r.length;o++)s.push(r[o]);Zc(n,o=>{iv(l,o,s)})}function tu(l,n){const s=yi(n);if(s){let r=0;for(let o=0;o<s.length;o++)s[o].status!==2&&(s[r]=s[o],r++);s.length=r,Fy(n,s.length>0?s:void 0)}Zc(n,r=>{tu(l,r)})}function Ah(l,n){const s=Xr(lv(l,n)),r=wh(l.transactionQueueTree_,n);return tC(r,o=>{Sf(l,o)}),Sf(l,r),Ky(r,o=>{Sf(l,o)}),s}function Sf(l,n){const s=yi(n);if(s){const r=[];let o=[],f=-1;for(let h=0;h<s.length;h++)s[h].status===3||(s[h].status===1?(Q(f===h-1,"All SENT items should be at beginning of queue."),f=h,s[h].status=3,s[h].abortReason="set"):(Q(s[h].status===0,"Unexpected transaction status in abort"),s[h].unwatcher(),o=o.concat(xl(l.serverSyncTree_,s[h].currentWriteId,!0)),s[h].onComplete&&r.push(s[h].onComplete.bind(null,new Error("set"),!1,null))));f===-1?Fy(n,void 0):s.length=f+1,Mn(l.eventQueue_,Xr(n),o);for(let h=0;h<r.length;h++)gi(r[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(l){let n="";const s=l.split("/");for(let r=0;r<s.length;r++)if(s[r].length>0){let o=s[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}n+="/"+o}return n}function AC(l){const n={};l.charAt(0)==="?"&&(l=l.substring(1));for(const s of l.split("&")){if(s.length===0)continue;const r=s.split("=");r.length===2?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ln(`Invalid query segment '${s}' in query '${l}'`)}return n}const yx=function(l,n){const s=kC(l),r=s.namespace;s.domain==="firebase.com"&&$a(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&s.domain!=="localhost"&&$a("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||US();const o=s.scheme==="ws"||s.scheme==="wss";return{repoInfo:new cy(s.host,s.secure,r,o,n,"",r!==s.subdomain),path:new Xe(s.pathString)}},kC=function(l){let n="",s="",r="",o="",f="",h=!0,p="https",x=443;if(typeof l=="string"){let g=l.indexOf("//");g>=0&&(p=l.substring(0,g-1),l=l.substring(g+2));let N=l.indexOf("/");N===-1&&(N=l.length);let _=l.indexOf("?");_===-1&&(_=l.length),n=l.substring(0,Math.min(N,_)),N<_&&(o=TC(l.substring(N,_)));const v=AC(l.substring(Math.min(l.length,_)));g=n.indexOf(":"),g>=0?(h=p==="https"||p==="wss",x=parseInt(n.substring(g+1),10)):g=n.length;const O=n.slice(0,g);if(O.toLowerCase()==="localhost")s="localhost";else if(O.split(".").length<=2)s=O;else{const Y=n.indexOf(".");r=n.substring(0,Y).toLowerCase(),s=n.substring(Y+1),f=r}"ns"in v&&(f=v.ns)}return{host:n,port:x,domain:s,subdomain:r,secure:h,scheme:p,pathString:o,namespace:f}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(n,s,r,o){this.eventType=n,this.eventRegistration=s,this.snapshot=r,this.prevName=o}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Tt(this.snapshot.exportVal())}}class MC{constructor(n,s,r){this.eventRegistration=n,this.error=s,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(n,s){this.snapshotCallback=n,this.cancelCallback=s}onValue(n,s){this.snapshotCallback.call(null,n,s)}onCancel(n){return Q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(n,s,r,o){this._repo=n,this._path=s,this._queryParams=r,this._orderByCalled=o}get key(){return je(this._path)?null:ah(this._path)}get ref(){return new Ua(this._repo,this._path)}get _queryIdentifier(){const n=lx(this._queryParams),s=Wf(n);return s==="{}"?"default":s}get _queryObject(){return lx(this._queryParams)}isEqual(n){if(n=pi(n),!(n instanceof Dh))return!1;const s=this._repo===n._repo,r=lh(this._path,n._path),o=this._queryIdentifier===n._queryIdentifier;return s&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+_N(this._path)}}class Ua extends Dh{constructor(n,s){super(n,s,new oh,!1)}get parent(){const n=yy(this._path);return n===null?null:new Ua(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class Br{constructor(n,s,r){this._node=n,this.ref=s,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const s=new Xe(n),r=Gf(this.ref,n);return new Br(this._node.getChild(s),r,mt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>n(new Br(o,Gf(this.ref,r),mt)))}hasChild(n){const s=new Xe(n);return!this._node.getChild(s).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ve(l,n){return l=pi(l),l._checkNotDeleted("ref"),n!==void 0?Gf(l._root,n):l._root}function Gf(l,n){return l=pi(l),Ne(l._path)===null?uC("child","path",n):Jy("child","path",n),new Ua(l._repo,ht(l._path,n))}function li(l){return Wy("remove",l._path),wt(l,null)}function wt(l,n){l=pi(l),Wy("set",l._path),rC("set",n,l._path);const s=new Yr;return _C(l._repo,l._path,n,null,s.wrapCallback(()=>{})),s.promise}function vi(l,n){cC("update",n,l._path);const s=new Yr;return SC(l._repo,l._path,n,s.wrapCallback(()=>{})),s.promise}function sa(l){l=pi(l);const n=new kh(()=>{}),s=new Zr(n);return bC(l._repo,l,s).then(r=>new Br(r,new Ua(l._repo,l._path),l._queryParams.getIndex()))}class Zr{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,s){const r=s._queryParams.getIndex();return new DC("value",this,new Br(n.snapshotNode,new Ua(s._repo,s._path),r))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,s){return this.callbackContext.hasCancelCallback?new MC(this,n,s):null}matches(n){return n instanceof Zr?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function OC(l,n,s,r,o){const f=new kh(s,void 0),h=new Zr(f);return wC(l._repo,l,h),()=>nv(l._repo,l,h)}function RC(l,n,s,r){return OC(l,"value",n)}function zC(l,n,s){let r=null;const o=s?new kh(s):null;r=new Zr(o),nv(l._repo,l,r)}Ow(Ua);Uw(Ua);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="FIREBASE_DATABASE_EMULATOR_HOST",Vf={};let $C=!1;function UC(l,n,s,r){const o=n.lastIndexOf(":"),f=n.substring(0,o),h=Kf(f);l.repoInfo_=new cy(n,h,l.repoInfo_.namespace,l.repoInfo_.webSocketOnly,l.repoInfo_.nodeAdmin,l.repoInfo_.persistenceKey,l.repoInfo_.includeNamespaceInQueryParams,!0,s),r&&(l.authTokenProvider_=r)}function IC(l,n,s,r,o){let f=r||l.options.databaseURL;f===void 0&&(l.options.projectId||$a("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ht("Using default host for project ",l.options.projectId),f=`${l.options.projectId}-default-rtdb.firebaseio.com`);let h=yx(f,o),p=h.repoInfo,x;typeof process<"u"&&H0&&(x=H0[LC]),x?(f=`http://${x}?ns=${p.namespace}`,h=yx(f,o),p=h.repoInfo):h.repoInfo.secure;const g=new XS(l.name,l.options,n);dC("Invalid Firebase Database URL",h),je(h.path)||$a("Database URL must point to the root of a Firebase Database (not including a child path).");const N=BC(p,l,g,new FS(l,s));return new qC(N,l)}function HC(l,n){const s=Vf[n];(!s||s[l.key]!==l)&&$a(`Database ${n}(${l.repoInfo_}) has already been deleted.`),CC(l),delete s[l.key]}function BC(l,n,s,r){let o=Vf[n.name];o||(o={},Vf[n.name]=o);let f=o[l.toURLString()];return f&&$a("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new gC(l,$C,s,r),o[l.toURLString()]=f,f}class qC{constructor(n,s){this._repoInternal=n,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(xC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ua(this._repo,Le())),this._rootInternal}_delete(){return this._rootInternal!==null&&(HC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&$a("Cannot call "+n+" on a deleted database.")}}function YC(l=Px(),n){const s=mS(l,"database").getImmediate({identifier:n});if(!s._instanceStarted){const r=W_("database");r&&GC(s,...r)}return s}function GC(l,n,s,r={}){l=pi(l),l._checkNotDeleted("useEmulator");const o=`${n}:${s}`,f=l._repoInternal;if(l._instanceStarted){if(o===l._repoInternal.repoInfo_.host&&Ec(r,f.repoInfo_.emulatorOptions))return;$a("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(f.repoInfo_.nodeAdmin)r.mockUserToken&&$a('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new _c(_c.OWNER);else if(r.mockUserToken){const p=typeof r.mockUserToken=="string"?r.mockUserToken:t2(r.mockUserToken,l.app.options.projectId);h=new _c(p)}Kf(n)&&(e2(n),l2("Database",!0)),UC(f,o,r,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(l){MS(yS),jc(new Dr("database",(n,{instanceIdentifier:s})=>{const r=n.getProvider("app").getImmediate(),o=n.getProvider("auth-internal"),f=n.getProvider("app-check-internal");return IC(r,o,f,s)},"PUBLIC").setMultipleInstances(!0)),ti(B0,q0,l),ti(B0,q0,"esm2020")}za.prototype.simpleListen=function(l,n){this.sendRequest("q",{p:l},n)};za.prototype.echo=function(l,n){this.sendRequest("echo",{d:l},n)};VC();const rv="classtrack_theme_v1",Mh="classtrack_auth_session_v1",Tr="classtrack_logo_cache_v1",Ar="classtrack_classes_cache_v1",aa="classtrack_students_cache_v1",es="classtrack_attendance_cache_v1",di="classtrack_todos_cache_v1",fi="classtrack_projects_cache_v1",ov="classtrack_offline_queue_v1",PC={apiKey:"AIzaSyBwsZ9ZwMq6fBS6t-YfWbV0lLd-ndU5MXs",authDomain:"chatbot-classtrack.firebaseapp.com",projectId:"chatbot-classtrack",storageBucket:"chatbot-classtrack.firebasestorage.app",messagingSenderId:"1056660264918",appId:"1:1056660264918:web:82850292e8583f2ece7677",measurementId:"G-G6ZXY4FBYS",databaseURL:"https://chatbot-classtrack-default-rtdb.asia-southeast1.firebasedatabase.app"};let fe=null;try{const l=vS().length?Px():Vx(PC);fe=YC(l),console.log(" Firebase Connected Successfully")}catch(l){console.warn(" Firebase Init Error:",l)}const Ye=()=>!!fe&&navigator.onLine,Bc=()=>JSON.parse(localStorage.getItem(ov)||"[]"),cv=l=>localStorage.setItem(ov,JSON.stringify(l)),Ke=(l,n)=>{const s=Bc();s.push({id:`sync_${Date.now()}_${Math.random()}`,type:l,payload:n,timestamp:Date.now()}),cv(s)},vx=()=>Bc().length,hi=l=>{let n=0;if(l.length===0)return n.toString();for(let s=0;s<l.length;s++){const r=l.charCodeAt(s);n=(n<<5)-n+r,n=n&n}return n.toString()},QC=async(l,n)=>{if(!Ye())throw new Error("No Internet Connection");try{const s=await sa(ve(fe,"users"));if(s.exists()){const r=Object.values(s.val()),o=hi(n),f=r.find(h=>h.username.toLowerCase()===l.toLowerCase()&&h.password===o);if(f)return f}}catch(s){console.error("Auth DB Error:",s)}return null},FC=async l=>{if(!Ye())return null;try{const n=await sa(ve(fe,"users"));if(n.exists())return Object.values(n.val()).find(o=>o.username.toLowerCase()===l.toLowerCase())||null}catch{return null}return null},XC=async(l,n)=>{if(!Ye())throw new Error("Offline");const s=hi(n);await vi(ve(fe,`users/${l}`),{password:s})},KC=async(l,n,s,r,o)=>{if(!Ye())throw new Error("No Internet Connection");const f=n.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),h={id:r==="admin"?`admin_${f}`:`teacher_${f}`,name:l,username:n,role:r,password:hi(s),bio:o||"",securityQuestion:"What is your favorite food?",securityAnswer:"biryani"};return await wt(ve(fe,`users/${h.id}`),h),h},bx=async(l,n)=>{if(!Ye())throw new Error("No Internet Connection");n.password&&(n.password=hi(n.password)),await vi(ve(fe,`users/${l}`),n)},ZC=async()=>{if(!Ye())return[];try{const l=await sa(ve(fe,"users"));if(l.exists())return Object.values(l.val())}catch{}return[]},JC=async l=>{if(!Ye())throw new Error("Offline");if(["admin_ayan","admin_wahab"].includes(l))throw new Error("Cannot delete core admin");await wt(ve(fe,`users/${l}`),null)},WC=()=>{const l=localStorage.getItem(Mh);return l?JSON.parse(l):null},Pf=l=>{localStorage.setItem(Mh,JSON.stringify(l))},eE=()=>{localStorage.removeItem(Mh)},tE=()=>localStorage.getItem(Tr),nE=async()=>{try{const l=await sa(ve(fe,"school_settings"));if(l.exists()){const n=l.val();return n.logo?localStorage.setItem(Tr,n.logo):localStorage.removeItem(Tr),n}else localStorage.removeItem(Tr)}catch{}return null},_x=async l=>{if(!Ye())throw new Error("Offline");l.logo&&localStorage.setItem(Tr,l.logo),await vi(ve(fe,"school_settings"),l)},aE=(l,n,s)=>{if(!fe)return()=>{};const r=`${l}_${n}`,o=ve(fe,`attendance/${r}`),f=RC(o,h=>{h.exists()?s(h.val()):s(null)});return()=>zC(o,"value",f)},Zt=async l=>{const n=localStorage.getItem(aa);let s=n?JSON.parse(n):[];if(Ye())try{const r=await sa(ve(fe,"students"));r.exists()&&(s=Object.values(r.val()),localStorage.setItem(aa,JSON.stringify(s)))}catch(r){console.error("Firebase Error:",r)}return l?s.filter(r=>r.classId===l):s},lE=async(l,n,s)=>{const r=`s_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,o={id:r,name:l.trim(),classId:n,avatarSeed:r,phone:s},f=JSON.parse(localStorage.getItem(aa)||"[]");if(f.push(o),localStorage.setItem(aa,JSON.stringify(f)),Ye())try{await wt(ve(fe,`students/${r}`),o)}catch{Ke("ADD_STUDENT",o)}else Ke("ADD_STUDENT",o);return o},sE=async(l,n)=>{const r=JSON.parse(localStorage.getItem(aa)||"[]").map(o=>o.id===l?{...o,...n}:o);if(localStorage.setItem(aa,JSON.stringify(r)),Ye())try{await vi(ve(fe,`students/${l}`),n)}catch{Ke("UPDATE_STUDENT",{studentId:l,updates:n})}else Ke("UPDATE_STUDENT",{studentId:l,updates:n})},iE=async(l,n)=>{const r=JSON.parse(localStorage.getItem(aa)||"[]").map(o=>o.id===l?{...o,customFee:n}:o);if(localStorage.setItem(aa,JSON.stringify(r)),Ye())try{await vi(ve(fe,`students/${l}`),{customFee:n})}catch{Ke("UPDATE_STUDENT",{studentId:l,updates:{customFee:n}})}else Ke("UPDATE_STUDENT",{studentId:l,updates:{customFee:n}})},rE=async l=>{const s=JSON.parse(localStorage.getItem(aa)||"[]").filter(r=>r.id!==l);if(localStorage.setItem(aa,JSON.stringify(s)),Ye())try{await wt(ve(fe,`students/${l}`),null)}catch{Ke("DELETE_STUDENT",l)}else Ke("DELETE_STUDENT",l)},br=async()=>{const l=localStorage.getItem(es);let n=l?JSON.parse(l):[];if(Ye())try{const s=await sa(ve(fe,"attendance"));s.exists()&&(n=Object.values(s.val()),localStorage.setItem(es,JSON.stringify(n)))}catch{}return n},oE=async l=>{const n=JSON.parse(localStorage.getItem(es)||"[]"),s=`${l.date}_${l.classId}`,r=n.findIndex(o=>`${o.date}_${o.classId}`===s);if(r>-1?n[r]=l:n.push(l),localStorage.setItem(es,JSON.stringify(n)),Ye())try{await wt(ve(fe,`attendance/${s}`),l)}catch{Ke("SAVE_ATTENDANCE",l)}else Ke("SAVE_ATTENDANCE",l)},cE=async(l,n)=>{const s=`${l}_${n}`,o=JSON.parse(localStorage.getItem(es)||"[]").filter(f=>`${f.date}_${f.classId}`!==s);if(localStorage.setItem(es,JSON.stringify(o)),Ye())try{await wt(ve(fe,`attendance/${s}`),null)}catch{Ke("DELETE_ATTENDANCE",{date:l,classId:n})}else Ke("DELETE_ATTENDANCE",{date:l,classId:n})},uE=async(l,n)=>{const s=`${l}_${n}`,o=JSON.parse(localStorage.getItem(es)||"[]").find(f=>f.date===l&&f.classId===n);if(Ye()&&!o)try{const f=await sa(ve(fe,`attendance/${s}`));if(f.exists())return f.val()}catch{}return o},dE=async l=>{if(Ye())try{await wt(ve(fe,`fees/${l.month}/${l.studentId}`),l)}catch{Ke("SAVE_FEE",l)}else Ke("SAVE_FEE",l)},fE=async(l,n)=>{if(Ye())try{await li(ve(fe,`fees/${l}/${n}`))}catch{Ke("DELETE_FEE",{month:l,studentId:n})}else Ke("DELETE_FEE",{month:l,studentId:n})},hE=()=>localStorage.getItem(rv)||"midnight",mE=l=>localStorage.setItem(rv,l),Oh=async()=>{const l=localStorage.getItem(Ar);if(!Ye())return l?JSON.parse(l):[];try{const n=await sa(ve(fe,"classes"));if(n.exists()){const s=Object.values(n.val());return localStorage.setItem(Ar,JSON.stringify(s)),s.sort((r,o)=>{const f=parseInt(r),h=parseInt(o);return!isNaN(f)&&!isNaN(h)?f-h:r.localeCompare(o)})}else return localStorage.setItem(Ar,JSON.stringify([])),[]}catch(n){return console.error("Error fetching classes",n),l?JSON.parse(l):[]}},pE=async l=>{const n=await Oh();if(n.includes(l))throw new Error("Class already exists");const s=[...n,l];if(localStorage.setItem(Ar,JSON.stringify(s)),Ye())try{await wt(ve(fe,"classes"),s)}catch{Ke("UPDATE_CLASSES",s)}else Ke("UPDATE_CLASSES",s);return s},gE=async l=>{const s=(await Oh()).filter(r=>r!==l);if(localStorage.setItem(Ar,JSON.stringify(s)),Ye())try{await wt(ve(fe,"classes"),s)}catch{Ke("UPDATE_CLASSES",s)}else Ke("UPDATE_CLASSES",s);return s},xE=async l=>{const n=localStorage.getItem(di);let s=n?JSON.parse(n):[],r=s.filter(o=>o.userId===l);if(Ye())try{const o=await sa(ve(fe,`todos/${l}`));if(o.exists()){const f=Object.values(o.val());r=f;const h=s.filter(p=>p.userId!==l);localStorage.setItem(di,JSON.stringify([...h,...f]))}}catch{}return r},Sx=async l=>{const n=JSON.parse(localStorage.getItem(di)||"[]"),s=n.findIndex(r=>r.id===l.id);if(s>-1?n[s]=l:n.push(l),localStorage.setItem(di,JSON.stringify(n)),Ye())try{await wt(ve(fe,`todos/${l.userId}/${l.id}`),l)}catch{Ke("SAVE_TODO",l)}else Ke("SAVE_TODO",l)},yE=async(l,n)=>{const r=JSON.parse(localStorage.getItem(di)||"[]").filter(o=>o.id!==n);if(localStorage.setItem(di,JSON.stringify(r)),Ye())try{await li(ve(fe,`todos/${l}/${n}`))}catch{Ke("DELETE_TODO",{userId:l,todoId:n})}else Ke("DELETE_TODO",{userId:l,todoId:n})},vE=async l=>{const n=localStorage.getItem(fi);let s=n?JSON.parse(n):[],r=s.filter(o=>o.userId===l);if(Ye())try{const o=await sa(ve(fe,`projects/${l}`));if(o.exists()){r=Object.values(o.val());const f=s.filter(h=>h.userId!==l);localStorage.setItem(fi,JSON.stringify([...f,...r]))}}catch{}return r},bE=async l=>{const n=JSON.parse(localStorage.getItem(fi)||"[]"),s=n.findIndex(r=>r.id===l.id);if(s>-1?n[s]=l:n.push(l),localStorage.setItem(fi,JSON.stringify(n)),Ye())try{await wt(ve(fe,`projects/${l.userId}/${l.id}`),l)}catch{Ke("SAVE_PROJECT",l)}else Ke("SAVE_PROJECT",l)},_E=async(l,n)=>{const r=JSON.parse(localStorage.getItem(fi)||"[]").filter(o=>o.id!==n);if(localStorage.setItem(fi,JSON.stringify(r)),Ye())try{await li(ve(fe,`projects/${l}/${n}`))}catch{Ke("DELETE_PROJECT",{userId:l,projectId:n})}else Ke("DELETE_PROJECT",{userId:l,projectId:n})},SE=async l=>{if(!Ye())return;const n=Bc();if(n.length===0)return;l==null||l(`Syncing ${n.length} pending items...`);const s=[];for(const o of n)try{switch(o.type){case"SAVE_ATTENDANCE":const f=o.payload;await wt(ve(fe,`attendance/${f.date}_${f.classId}`),f);break;case"ADD_STUDENT":const h=o.payload;await wt(ve(fe,`students/${h.id}`),h);break;case"UPDATE_STUDENT":await vi(ve(fe,`students/${o.payload.studentId}`),o.payload.updates);break;case"DELETE_STUDENT":await wt(ve(fe,`students/${o.payload}`),null);break;case"DELETE_ATTENDANCE":await wt(ve(fe,`attendance/${o.payload.date}_${o.payload.classId}`),null);break;case"SAVE_FEE":await wt(ve(fe,`fees/${o.payload.month}/${o.payload.studentId}`),o.payload);break;case"DELETE_FEE":await li(ve(fe,`fees/${o.payload.month}/${o.payload.studentId}`));break;case"UPDATE_CLASSES":await wt(ve(fe,"classes"),o.payload);break;case"SAVE_TODO":await wt(ve(fe,`todos/${o.payload.userId}/${o.payload.id}`),o.payload);break;case"DELETE_TODO":await li(ve(fe,`todos/${o.payload.userId}/${o.payload.todoId}`));break;case"SAVE_PROJECT":await wt(ve(fe,`projects/${o.payload.userId}/${o.payload.id}`),o.payload);break;case"DELETE_PROJECT":await li(ve(fe,`projects/${o.payload.userId}/${o.payload.projectId}`));break}s.push(o.id)}catch(f){console.error("Sync item failed, will retry later",o,f)}const r=Bc().filter(o=>!s.includes(o.id));cv(r),s.length>0&&(l==null||l(`Sync complete. ${s.length} items pushed.`))},NE=({percentage:l,size:n=180,strokeWidth:s=15,label:r="",subLabel:o="Present",colorStart:f="#6366f1",colorEnd:h="#a855f7"})=>{const[p,x]=D.useState(0);D.useEffect(()=>{const Y=performance.now(),K=re=>{const X=re-Y,ce=Math.min(X/1200,1),ge=1-Math.pow(1-ce,4);x(ge*l),ce<1&&requestAnimationFrame(K)};requestAnimationFrame(K)},[l]);const g=(n-s)/2,N=g*2*Math.PI,_=N-p/100*N,v="gradient-chart";return u.jsxs("div",{className:"relative flex items-center justify-center p-4",children:[u.jsxs("svg",{width:n,height:n,viewBox:`0 0 ${n} ${n}`,className:"transform -rotate-90 relative z-10",children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:v,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:f}),u.jsx("stop",{offset:"100%",stopColor:h})]})}),u.jsx("circle",{cx:n/2,cy:n/2,r:g,stroke:"currentColor",strokeWidth:s,fill:"transparent",className:"text-slate-200 dark:text-slate-800 opacity-20",strokeLinecap:"round"}),u.jsx("circle",{cx:n/2,cy:n/2,r:g,stroke:`url(#${v})`,strokeWidth:s,fill:"transparent",strokeDasharray:N,strokeDashoffset:_,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.8s ease-out"}})]}),u.jsxs("div",{className:"absolute flex flex-col items-center justify-center text-center z-20",children:[u.jsxs("span",{className:"text-5xl font-bold tracking-tight text-slate-800 dark:text-white",children:[Math.round(p),"%"]}),o&&u.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400 mt-1",children:o})]})]})},jt=({children:l,variant:n="primary",fullWidth:s=!1,themeAccent:r,className:o="",loading:f=!1,...h})=>{const p="px-6 py-3 rounded-xl font-medium transition-all active:scale-95 shadow-lg flex items-center justify-center gap-2";let x="";return n==="primary"?x=`${r||"bg-indigo-500"} text-white hover:opacity-90`:n==="secondary"?x="bg-white/10 text-current border border-white/20 hover:bg-white/20":n==="danger"&&(x="bg-red-500/10 text-red-500 border border-red-500/20"),u.jsx("button",{className:`${p} ${x} ${s?"w-full":""} ${o} ${f?"opacity-70 cursor-not-allowed":""}`,disabled:f||h.disabled,...h,children:f?u.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):l})},wE=({currentView:l,onChangeView:n,theme:s,user:r,onLogout:o,shouldHide:f,width:h,onStartResize:p,isResizing:x,logo:g})=>{const[N,_]=qr.useState(!1),v=h<125,O=()=>{const X=[{id:"home",icon:n_,label:"Home"},{id:"todo",icon:Mx,label:"To-Do"},{id:"history",icon:Ff,label:"History"}];return(r==null?void 0:r.role)==="admin"&&X.push({id:"admin-dashboard",icon:jx,label:"Admin"}),X.push({id:"settings",icon:Dx,label:"Settings"}),X},Y=l==="dashboard"||l==="attendance"?"home":l.startsWith("admin-")||l==="student-directory"||l==="timetable"||l==="calculator"||l==="student-profile"?"admin-dashboard":l,K=()=>f?null:u.jsx("div",{className:`fixed bottom-6 left-6 right-6 ${s.navBg.replace("border-t","").replace("bg-white/95","bg-white")} backdrop-blur-3xl rounded-[2.5rem] p-2.5 flex justify-around items-center z-[200] transition-all duration-300 shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] md:hidden border ${s.border}`,children:O().map(X=>{const ce=Y===X.id,ge=X.icon;return u.jsxs("button",{onClick:()=>{n(X.id)},className:`flex flex-col items-center justify-center p-4 rounded-full transition-all duration-500 relative group min-w-[50px] aspect-square ${ce?`${s.accent} text-white shadow-2xl scale-125 -translate-y-4`:`${s.textSecondary} opacity-30`}`,children:[u.jsx(ge,{size:ce?22:20,strokeWidth:ce?3:2}),ce&&u.jsx("div",{className:"absolute -bottom-1 w-1.5 h-1.5 bg-white rounded-full animate-pulse"})]},X.id)})}),re=()=>u.jsxs("div",{style:{width:`${h}px`},className:`hidden md:flex flex-col h-full ${s.sidebarBg} border-r px-4 py-8 relative group/sidebar transition-none select-none`,children:[u.jsx("div",{onMouseDown:p,className:"absolute top-0 right-0 w-1.5 h-full cursor-col-resize z-50 hover:bg-indigo-500/20 active:bg-indigo-500/40"}),u.jsxs("div",{className:`mb-10 px-2 flex flex-col items-center ${v?"":"items-start"}`,children:[u.jsxs("div",{className:"flex items-center gap-3 w-full mb-8",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-600 flex items-center justify-center text-white shrink-0 shadow-lg shadow-indigo-500/20 overflow-hidden",children:g&&g.length>10?u.jsx("img",{src:g,alt:"Logo",className:"w-full h-full object-cover"}):u.jsx(Ax,{size:20,strokeWidth:2.5})}),!v&&u.jsx("h2",{className:`text-xl font-black ${s.textPrimary} whitespace-nowrap`,children:"IJ Education"})]}),r&&u.jsxs("div",{className:"w-full relative",children:[u.jsxs("button",{onClick:()=>_(!N),className:`w-full p-2 rounded-2xl flex items-center gap-3 ${v?"justify-center font-black":"bg-black/5 hover:bg-black/10"}`,children:[u.jsx("div",{className:`w-10 h-10 rounded-xl ${s.accent} flex items-center justify-center text-white font-bold overflow-hidden shrink-0 shadow-lg active:scale-90 transition-transform`,children:r.avatar&&r.avatar.startsWith("data:image")?u.jsx("img",{src:r.avatar,alt:r.name,className:"w-full h-full object-cover"}):u.jsx("span",{className:"text-sm font-black",children:r.name.charAt(0).toUpperCase()})}),!v&&u.jsxs("div",{className:"text-left flex-1 overflow-hidden",children:[u.jsx("p",{className:`text-sm font-black ${s.textPrimary} truncate leading-tight`,children:r.name}),u.jsx("p",{className:`text-[9px] uppercase font-black ${s.textSecondary} opacity-40 tracking-widest`,children:r.role})]})]}),N&&!v&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-50",onClick:()=>_(!1)}),u.jsx("div",{className:`absolute top-full left-0 right-0 mt-2 p-2 rounded-2xl ${s.surface} border ${s.border} shadow-2xl z-[60]`,children:u.jsxs("button",{onClick:o,className:"w-full flex items-center gap-3 p-3 rounded-xl hover:bg-red-500/10 text-red-500 transition-colors font-black text-[10px] uppercase tracking-[0.2em]",children:[u.jsx(w0,{size:16})," Log OUT"]})})]})]})]}),u.jsx("div",{className:"flex-1 space-y-2 mt-4 overflow-x-hidden",children:O().map(X=>{const ce=Y===X.id,ge=X.icon;return u.jsxs("button",{onClick:()=>n(X.id),className:`w-full flex items-center ${v?"justify-center":"gap-4"} p-3.5 rounded-2xl relative group/item ${ce?`${s.accent} text-white shadow-xl shadow-indigo-500/20`:`hover:bg-white/5 ${s.textSecondary} hover:text-white`}`,children:[u.jsx(ge,{size:22,strokeWidth:ce?3:2,className:`shrink-0 ${ce?"scale-110":"group-hover/item:scale-110"}`}),!v&&u.jsx("span",{className:"font-black text-[11px] uppercase tracking-widest whitespace-nowrap",children:X.label}),v&&u.jsx("div",{className:"absolute left-full ml-6 px-4 py-3 rounded-xl bg-slate-950 border border-white/10 text-white text-[10px] font-black uppercase tracking-[0.3em] opacity-0 group-hover/item:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-[100] shadow-2xl",children:X.label})]},X.id)})}),u.jsxs("button",{onClick:o,className:`w-full flex items-center ${v?"justify-center px-0":"gap-4 px-4"} py-4 rounded-2xl hover:bg-red-500/10 text-red-500 transition-colors mt-auto group relative border border-transparent hover:border-red-500/20`,children:[u.jsx(w0,{size:22,strokeWidth:2.5,className:"shrink-0"}),!v&&u.jsx("span",{className:"font-black text-[11px] uppercase tracking-widest whitespace-nowrap",children:"Log OUT"}),v&&u.jsx("div",{className:"absolute left-full ml-6 px-4 py-3 rounded-xl bg-red-600 text-white text-[10px] font-black uppercase tracking-[0.3em] opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-[100] shadow-xl",children:"Log OUT"})]})]});return u.jsxs(u.Fragment,{children:[u.jsx(K,{}),u.jsx(re,{})]})},qc=({avatar:l,name:n,size:s="md",className:r=""})=>{const o=l||n||"default",f=l!=null&&l.startsWith("http")?l:`https://picsum.photos/seed/${o}/200`;let h="w-10 h-10 text-base";return s==="sm"&&(h="w-8 h-8 text-xs"),s==="lg"&&(h="w-16 h-16 text-2xl"),s==="xl"&&(h="w-32 h-32 text-4xl"),u.jsx("img",{src:f,alt:n,className:`rounded-full object-cover border border-white/10 ${h} ${r}`,onError:p=>{p.target.src=`https://ui-avatars.com/api/?name=${n}&background=random`}})},CE=({theme:l,onLogin:n,onToast:s,logo:r})=>{const[o,f]=D.useState("login"),[h,p]=D.useState(""),[x,g]=D.useState(""),[N,_]=D.useState(null),[v,O]=D.useState(""),[Y,K]=D.useState(""),[re,X]=D.useState(!1),[ce,ge]=D.useState(!1),[le,Ge]=D.useState(0);D.useEffect(()=>{Ge(0);const de=setTimeout(()=>Ge(1),100);return()=>clearTimeout(de)},[o]);const Ue=async de=>{if(de.preventDefault(),!re){X(!0);try{if(o==="login"){const st=await QC(h,x);st?n(st):s("Invalid credentials","error")}}catch{s("System Error or No Internet","error")}finally{X(!1)}}},ue=async()=>{if(!re){X(!0);try{const de=await FC(h);de&&de.securityQuestion?_(de):s("User not identified","error")}finally{X(!1)}}},Te=async()=>{var de;if(!(!N||re)){X(!0);try{((de=N.securityAnswer)==null?void 0:de.toLowerCase().trim())===v.toLowerCase().trim()?(await XC(N.id,Y),s("Access Restored. Please Login.","success"),f("login"),_(null)):s("Verification Failed","error")}finally{X(!1)}}},rt=()=>u.jsxs("div",{className:"hidden lg:flex w-1/2 relative items-center justify-center overflow-hidden bg-slate-950",children:[u.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle at 2px 2px, #fff 1px, transparent 0)",backgroundSize:"32px 32px"}}),u.jsxs("div",{className:`relative z-10 p-20 transition-all duration-1000 ${le?"translate-x-0 opacity-100":"-translate-x-10 opacity-0"}`,children:[u.jsx("div",{className:"w-20 h-20 rounded-2xl bg-white flex items-center justify-center shadow-2xl mb-10",children:r?u.jsx("img",{src:r,className:"w-full h-full object-cover rounded-2xl"}):u.jsx(_r,{size:44,className:"text-slate-900"})}),u.jsxs("h1",{className:"text-7xl font-black text-white tracking-tighter mb-6 leading-none",children:["Class",u.jsx("span",{className:"text-indigo-500",children:"Track."})]}),u.jsx("p",{className:"text-xl text-slate-400 font-medium max-w-md mb-12",children:"The professional ecosystem for elite student personnel management and real-time tracking."}),u.jsx("div",{className:"space-y-6",children:[{icon:wf,label:"Secure Framework",desc:"AES-256 local data encryption"},{icon:k1,label:"Instant Analytics",desc:"Predictive performance indexing"}].map((de,st)=>u.jsxs("div",{className:"flex gap-4 items-center",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/5 flex items-center justify-center text-indigo-400 border border-white/10",children:u.jsx(de.icon,{size:20})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-white font-bold text-sm",children:de.label}),u.jsx("p",{className:"text-slate-500 text-xs",children:de.desc})]})]},st))})]})]});return u.jsxs("div",{className:"flex min-h-screen w-full bg-slate-950 overflow-hidden font-sans",children:[u.jsx(rt,{}),u.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col items-center justify-center p-6 md:p-16 relative",children:[u.jsx("div",{className:"lg:hidden absolute top-0 left-0 w-full h-40 bg-gradient-to-b from-indigo-500/10 to-transparent"}),u.jsxs("div",{className:`w-full max-w-[420px] relative z-10 transition-all duration-1000 delay-150 ${le?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[u.jsxs("div",{className:"mb-10 text-center lg:text-left",children:[u.jsx("h2",{className:"text-4xl font-black text-white mb-2 tracking-tighter",children:o==="login"?"System Login":"Restoration"}),u.jsx("p",{className:"text-slate-400 font-medium",children:"Access your administrative console."})]}),u.jsx("div",{className:"bg-slate-900/50 p-10 rounded-[2.5rem] border border-white/10 shadow-2xl relative overflow-hidden backdrop-blur-3xl",children:u.jsx("form",{onSubmit:Ue,className:"space-y-6 relative z-10",children:o==="login"?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Username"}),u.jsxs("div",{className:"relative",children:[u.jsx($_,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),u.jsx("input",{type:"text",value:h,onChange:de=>p(de.target.value),className:"w-full bg-slate-950/50 border border-slate-800 rounded-2xl py-4 pl-12 pr-4 text-white font-bold focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all",placeholder:"ID Number"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Access Key"}),u.jsx("button",{type:"button",onClick:()=>f("forgot"),className:"text-[10px] font-black text-indigo-500 uppercase tracking-widest",children:"Forgot?"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(r_,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),u.jsx("input",{type:ce?"text":"password",value:x,onChange:de=>g(de.target.value),className:"w-full bg-slate-950/50 border border-slate-800 rounded-2xl py-4 pl-12 pr-12 text-white font-bold focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all",placeholder:""}),u.jsx("button",{type:"button",onClick:()=>ge(!ce),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400",children:ce?u.jsx(F1,{size:18}):u.jsx(K1,{size:18})})]})]}),u.jsx(jt,{type:"submit",fullWidth:!0,themeAccent:"bg-indigo-600 shadow-lg shadow-indigo-500/30 text-white",disabled:re,className:"py-5 font-black uppercase tracking-widest text-sm shadow-2xl active:scale-95 transition-all",children:re?u.jsx(s_,{size:24,className:"animate-spin m-auto"}):"Execute Login"})]}):u.jsxs("div",{className:"space-y-6",children:[N?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"p-4 rounded-xl bg-indigo-500/5 border border-indigo-500/10",children:[u.jsx("p",{className:"text-[9px] font-black text-indigo-500 uppercase mb-1",children:"Passphrase"}),u.jsx("p",{className:"text-sm font-bold text-white",children:N.securityQuestion})]}),u.jsx("input",{type:"text",value:v,onChange:de=>O(de.target.value),className:"w-full bg-slate-950/50 border border-slate-800 rounded-2xl py-4 px-4 text-white font-bold",placeholder:"Your Answer"}),u.jsx("input",{type:"password",value:Y,onChange:de=>K(de.target.value),className:"w-full bg-slate-950/50 border border-slate-800 rounded-2xl py-4 px-4 text-white font-bold",placeholder:"New Access Pin"}),u.jsx(jt,{onClick:Te,fullWidth:!0,themeAccent:"bg-indigo-600 text-white",disabled:re,className:"py-4 font-black text-xs uppercase tracking-widest",children:"Update Master Key"})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsx("input",{type:"text",value:h,onChange:de=>p(de.target.value),className:"w-full bg-slate-950/50 border border-slate-800 rounded-2xl py-4 px-4 text-white font-bold outline-none",placeholder:"Account ID"}),u.jsx(jt,{onClick:ue,fullWidth:!0,themeAccent:"bg-indigo-600 text-white",disabled:re,className:"py-4 font-black text-xs uppercase tracking-widest",children:"Verify ID"})]}),u.jsx("button",{onClick:()=>{f("login"),_(null)},className:"w-full text-[10px] font-black uppercase text-slate-400 hover:text-indigo-500 tracking-widest transition-colors",children:"Return to Terminal"})]})})}),u.jsx("div",{className:"mt-12 text-center",children:u.jsxs("p",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-slate-400",children:["Secure Network Access ",u.jsx("span",{className:"mx-2",children:""})," IJ Terminal v1.0"]})})]})]})]})},EE=({theme:l,onBack:n,availableClasses:s,selectedClass:r,onSelectClass:o,students:f,onViewProfile:h,attendanceStats:p})=>u.jsx("div",{className:"flex flex-col h-full animate-fade-in px-6 pt-12 pb-32 overflow-y-auto w-full",children:u.jsxs("div",{className:"max-w-2xl mx-auto w-full",children:[u.jsx("div",{className:"mb-8 flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:n,className:`p-2 -ml-2 rounded-full hover:bg-black/5 ${l.textPrimary}`,children:u.jsx(na,{})}),u.jsxs("div",{children:[u.jsx("h2",{className:`text-2xl font-black ${l.textPrimary}`,children:"Student Panel"}),u.jsx("p",{className:`text-xs ${l.textSecondary}`,children:"Directory of Students & Contact Numbers"})]})]})}),u.jsx("div",{className:"mb-6 flex gap-2 overflow-x-auto pb-2 scroll-hide",children:s.map(x=>u.jsxs("button",{onClick:()=>o(x),className:`px-6 py-3 rounded-2xl font-bold text-sm transition-all whitespace-nowrap border ${r===x?`${l.accent} text-white border-transparent shadow-lg shadow-indigo-500/20`:`${l.surface} ${l.border} ${l.textSecondary}`}`,children:["Class ",x]},x))}),u.jsx("div",{className:"space-y-3",children:f.length===0?u.jsx("div",{className:`text-center py-20 opacity-50 ${l.textSecondary}`,children:"No students in this class."}):f.sort((x,g)=>x.name.localeCompare(g.name)).map(x=>u.jsxs("div",{onClick:()=>h(x),className:`p-4 rounded-2xl ${l.surface} border ${l.border} flex justify-between items-center group cursor-pointer hover:bg-white/5 transition-all`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(qc,{avatar:x.avatarSeed,name:x.name,size:"md"}),u.jsxs("div",{children:[u.jsx("h3",{className:`font-bold ${l.textPrimary}`,children:x.name}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("p",{className:`text-[10px] ${l.textSecondary} flex items-center gap-1`,children:[u.jsx(Tx,{size:10})," ",x.phone||"No Number"]}),u.jsxs("span",{className:`text-[10px] font-black uppercase ${p[x.id]>75?"text-emerald-500":"text-orange-500"}`,children:["ATT: ",p[x.id]||0,"%"]})]})]})]}),x.phone&&u.jsx("button",{onClick:g=>{var N;g.stopPropagation(),window.open(`https://wa.me/${(N=x.phone)==null?void 0:N.replace(/\D/g,"")}`,"_blank")},className:"p-3 rounded-xl bg-emerald-500/10 text-emerald-500 hover:bg-emerald-500 hover:text-white transition-all transform hover:-translate-y-1",children:u.jsx(f_,{size:18})})]},x.id))})]})}),jE=({theme:l,themeId:n,onThemeChange:s,currentUser:r,onUpdateUser:o,onLogout:f,onToast:h,enableAnimations:p,onToggleAnimations:x})=>{const[g,N]=D.useState("view"),[_,v]=D.useState(""),[O,Y]=D.useState(""),[K,re]=D.useState(""),[X,ce]=D.useState(""),[ge,le]=D.useState(""),[Ge,Ue]=D.useState(""),[ue,Te]=D.useState(""),[rt,de]=D.useState(!1);D.useEffect(()=>{r&&(v(r.bio||""),Y(r.avatar||""),re(r.securityQuestion||""))},[r,g]);const st=async()=>{if(r){de(!0);try{const be={bio:_,avatar:O};X.trim()&&(be.securityQuestion=K,be.securityAnswer=X),await bx(r.id,be);const vt={...r,...be};o(vt),Pf(vt),N("view"),h("Profile Updated!","success")}catch{h("Failed to update profile.","error")}finally{de(!1)}}},nt=async()=>{if(r){if(hi(ge)!==r.password){h("Incorrect current password","error");return}if(Ge!==ue){h("Passwords do not match","error");return}if(Ge.length<3){h("Password too short","error");return}de(!0);try{await bx(r.id,{password:Ge});const be={...r,password:hi(Ge)};o(be),Pf(be),N("view"),le(""),Ue(""),Te(""),h("Password Changed Successfully!","success")}catch{h("Failed to change password.","error")}finally{de(!1)}}};return u.jsx("div",{className:"flex flex-col h-full animate-fade-in px-6 pt-12 pb-32 overflow-y-auto w-full",children:u.jsxs("div",{className:"max-w-4xl mx-auto w-full",children:[u.jsx("h2",{className:`text-3xl font-bold ${l.textPrimary} mb-6`,children:"Settings"}),u.jsxs("div",{className:"flex gap-4 mb-8 border-b border-white/10 pb-2",children:[u.jsxs("button",{onClick:()=>N("view"),className:`pb-2 text-sm font-bold ${g!=="view"?"text-slate-500":l.textPrimary} transition-colors relative`,children:["Appearance",g==="view"&&u.jsx("div",{className:`absolute bottom-0 left-0 w-full h-1 ${l.accent} rounded-full`})]}),u.jsxs("button",{onClick:()=>N("edit"),className:`pb-2 text-sm font-bold ${g!=="edit"?"text-slate-500":l.textPrimary} transition-colors relative`,children:["My Profile",g==="edit"&&u.jsx("div",{className:`absolute bottom-0 left-0 w-full h-1 ${l.accent} rounded-full`})]})]}),g==="view"&&u.jsxs("section",{children:[u.jsx("div",{className:"grid gap-3 md:grid-cols-2 mb-12",children:Object.values(Cf).map(be=>u.jsxs("button",{onClick:()=>s(be.id),className:`p-4 rounded-2xl border ${n===be.id?`${l.accent} text-white border-transparent shadow-lg shadow-indigo-500/20`:`${l.surface} ${l.border} ${l.textPrimary}`} flex items-center justify-between transition-all hover:scale-105 active:scale-95`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-6 h-6 rounded-full border-2 border-white/20 ${be.bg}`}),u.jsx("span",{className:"font-bold",children:be.name})]}),n===be.id&&u.jsx(Sc,{size:20})]},be.id))}),u.jsx("h3",{className:`text-xs font-bold uppercase tracking-widest ${l.textSecondary} mb-4 ml-1`,children:"Performance"}),u.jsxs("div",{className:`p-5 rounded-2xl ${l.surface} border ${l.border} flex items-center justify-between shadow-sm`,children:[u.jsxs("div",{children:[u.jsx("h4",{className:`text-sm font-black ${l.textPrimary}`,children:"Interface Animations"}),u.jsx("p",{className:`text-[10px] ${l.textSecondary} opacity-60`,children:"Toggle transitions and motion effects"})]}),u.jsx("button",{onClick:()=>x(!p),className:`w-12 h-6 rounded-full relative transition-all duration-300 ${p?"bg-indigo-600":"bg-slate-300"}`,children:u.jsx("div",{className:`absolute top-1 w-4 h-4 rounded-full bg-white transition-all duration-300 ${p?"left-7":"left-1"}`})})]})]}),g==="edit"&&u.jsxs("section",{className:"space-y-6 animate-slide-up",children:[u.jsxs("div",{className:`p-6 rounded-[2rem] ${l.surface} border ${l.border} hover:shadow-xl transition-all`,children:[u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsx(qc,{avatar:O||(r==null?void 0:r.avatar),name:(r==null?void 0:r.name)||"?",size:"xl"}),u.jsxs("div",{children:[u.jsx("h3",{className:`text-xl font-bold ${l.textPrimary}`,children:r==null?void 0:r.name}),u.jsxs("p",{className:`text-sm ${l.textSecondary}`,children:["@",r==null?void 0:r.username,"  ",r==null?void 0:r.role]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:`text-xs font-bold uppercase mb-2 block ${l.textSecondary}`,children:"Bio / Description"}),u.jsx("textarea",{value:_,onChange:be=>v(be.target.value),className:`w-full p-4 rounded-2xl bg-black/5 border ${l.border} ${l.textPrimary} outline-none focus:ring-2 focus:ring-indigo-500/50 transition-all`,placeholder:"Tell us about yourself...",rows:3})]}),u.jsxs("div",{className:"border-t border-white/10 pt-4",children:[u.jsx("h4",{className:`text-sm font-bold ${l.textPrimary} mb-4`,children:"Security Recovery"}),u.jsxs("div",{children:[u.jsx("label",{className:`text-xs font-bold uppercase mb-2 block ${l.textSecondary}`,children:"Security Question"}),u.jsx("input",{type:"text",value:K,onChange:be=>re(be.target.value),className:`w-full p-4 mb-4 rounded-2xl bg-black/5 border ${l.border} ${l.textPrimary} outline-none`,placeholder:"e.g. Favorite Pet"})]}),u.jsxs("div",{children:[u.jsx("label",{className:`text-xs font-bold uppercase mb-2 block ${l.textSecondary}`,children:"Security Answer"}),u.jsx("input",{type:"text",value:X,onChange:be=>ce(be.target.value),className:`w-full p-4 rounded-2xl bg-black/5 border ${l.border} ${l.textPrimary} outline-none`,placeholder:"Update Answer"})]})]}),u.jsx(jt,{fullWidth:!0,onClick:st,themeAccent:l.accent,disabled:rt,children:rt?"Saving...":"Save Profile Changes"})]})]}),u.jsxs("div",{className:"p-6 rounded-[2rem] bg-red-500/5 border border-red-500/20 transition-all hover:bg-red-500/10",children:[u.jsx("h3",{className:"font-bold text-red-500 mb-4",children:"Security"}),u.jsx(jt,{variant:"danger",fullWidth:!0,onClick:()=>N("password"),children:"Change Password"})]})]}),g==="password"&&u.jsx("section",{className:"animate-slide-up",children:u.jsxs("div",{className:`p-6 rounded-[2rem] ${l.surface} border ${l.border} space-y-4`,children:[u.jsx("h3",{className:`font-bold ${l.textPrimary} mb-4`,children:"Change Password"}),u.jsx("input",{type:"password",value:ge,onChange:be=>le(be.target.value),placeholder:"Current Password",className:`w-full p-4 rounded-2xl bg-black/5 border ${l.border} ${l.textPrimary} outline-none`}),u.jsx("input",{type:"password",value:Ge,onChange:be=>Ue(be.target.value),placeholder:"New Password",className:`w-full p-4 rounded-2xl bg-black/5 border ${l.border} ${l.textPrimary} outline-none`}),u.jsx("input",{type:"password",value:ue,onChange:be=>Te(be.target.value),placeholder:"Confirm New Password",className:`w-full p-4 rounded-2xl bg-black/5 border ${l.border} ${l.textPrimary} outline-none`}),u.jsxs("div",{className:"flex gap-2 mt-4",children:[u.jsx(jt,{variant:"secondary",onClick:()=>N("edit"),className:l.textPrimary,children:"Cancel"}),u.jsx(jt,{onClick:nt,themeAccent:l.accent,disabled:rt,children:"Update Password"})]})]})}),u.jsx("div",{className:"mt-8",children:u.jsxs("button",{onClick:f,className:"w-full p-4 rounded-2xl bg-red-500 text-white font-bold shadow-lg shadow-red-500/30 hover:scale-[1.02] active:scale-95 transition-transform flex items-center justify-center gap-2",children:[u.jsx(c_,{className:"rotate-180",size:20})," Logout"]})}),u.jsxs("div",{className:"mt-8 text-center space-y-2",children:[u.jsx("p",{className:`text-[10px] ${l.textSecondary} uppercase tracking-widest opacity-60`,children:"App Version 1.0.0  Professional Sync"}),u.jsx("p",{className:`text-[10px] ${l.textPrimary} font-bold opacity-40`,children:"Researched & Developed by M. Ayan & Abdul Wahab"})]})]})})},TE=({value:l})=>u.jsx("div",{className:"w-full h-1.5 bg-black/10 rounded-full overflow-hidden",children:u.jsx("div",{className:`h-full transition-all duration-500 rounded-full ${l>=100?"bg-emerald-500":l>50?"bg-amber-500":"bg-indigo-500"}`,style:{width:`${l}%`}})}),AE=qr.memo(({date:l,setDate:n,todos:s,theme:r})=>{const[o,f]=D.useState(new Date(l));D.useEffect(()=>{f(new Date(l))},[l]);const h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],p=o.getFullYear(),x=o.getMonth(),g=new Date(p,x,1).getDay(),N=new Date(p,x+1,0).getDate();return u.jsxs("div",{className:`p-4 md:p-6 rounded-[2rem] md:rounded-[2.5rem] ${r.surface} border ${r.border} shadow-xl space-y-4 w-full max-w-sm mx-auto flex-shrink-0 mb-6 lg:mb-0`,children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h3",{className:`text-lg font-black ${r.textPrimary}`,children:[h[x]," ",u.jsx("span",{className:"opacity-20",children:p})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:()=>f(new Date(p,x-1)),className:"p-2 rounded-xl bg-black/5 hover:bg-black/10",children:u.jsx(na,{size:16})}),u.jsx("button",{onClick:()=>f(new Date(p,x+1)),className:"p-2 rounded-xl bg-black/5 hover:bg-black/10",children:u.jsx(gl,{size:16})})]})]}),u.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["S","M","T","W","T","F","S"].map(_=>u.jsx("div",{className:"text-center text-[9px] font-black opacity-30 p-1",children:_},_)),Array.from({length:g}).map((_,v)=>u.jsx("div",{},`e-${v}`)),Array.from({length:N}).map((_,v)=>{const O=v+1,Y=`${p}-${String(x+1).padStart(2,"0")}-${String(O).padStart(2,"0")}`,K=l===Y,re=s.some(X=>X.dueDate===Y&&!X.isCompleted);return u.jsxs("button",{onClick:()=>n(Y),className:`aspect-square rounded-xl flex flex-col items-center justify-center relative transition-all duration-200 group ${K?r.accent+" text-white scale-105 shadow-lg z-10":"hover:bg-black/5 "+r.textPrimary}`,children:[u.jsx("span",{className:`text-xs font-bold ${K?"":"opacity-80"}`,children:O}),re&&!K&&u.jsx("div",{className:"absolute bottom-1 w-1 h-1 rounded-full bg-indigo-500 animate-pulse"})]},O)})]})]})}),Nx=qr.memo(({todo:l,project:n,theme:s,onToggle:r,onEdit:o,onDelete:f})=>{const h=l.dueDate&&l.dueDate<new Date().toISOString().split("T")[0]&&!l.isCompleted;return u.jsxs("div",{className:`group flex flex-col p-3 md:p-5 rounded-2xl md:rounded-[2rem] ${s.surface} border ${s.border} hover:shadow-2xl hover:shadow-indigo-500/10 transition-all duration-300 animate-slide-up relative active:scale-[0.98]`,children:[l.isCompleted&&u.jsx("div",{className:"absolute top-0 right-0 p-1.5 md:p-2 bg-emerald-500/10 text-emerald-500 rounded-bl-2xl rounded-tr-2xl md:rounded-tr-[2rem]",children:u.jsx($1,{size:12})}),u.jsxs("div",{className:"flex gap-3 items-start",children:[u.jsx("button",{onClick:()=>r(l),className:`mt-0.5 flex-shrink-0 w-5 h-5 md:w-6 md:h-6 rounded-full border-2 flex items-center justify-center transition-all ${l.isCompleted?"bg-emerald-500 border-emerald-500 text-white":"border-slate-300 hover:border-indigo-500"}`,children:l.isCompleted&&u.jsx(bc,{size:12,strokeWidth:4})}),u.jsxs("div",{className:"flex-1 min-w-0",onClick:()=>o(l),children:[u.jsxs("div",{className:"flex justify-between items-start mb-1 gap-2",children:[u.jsx("h4",{className:`text-sm md:text-lg font-bold truncate leading-tight ${s.textPrimary} ${l.isCompleted?"line-through opacity-40":""}`,children:l.title}),u.jsx("div",{className:"flex gap-1 opacity-100 md:opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx("button",{onClick:p=>{p.stopPropagation(),f(l.id)},className:"p-1.5 text-red-500 hover:bg-red-500/10 rounded-xl",children:u.jsx(Ws,{size:14})})})]}),l.description&&u.jsx("p",{className:`text-[10px] md:text-xs ${s.textSecondary} opacity-80 font-medium line-clamp-2 mb-2 md:mb-3 leading-relaxed`,children:l.description}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-auto",children:[n&&u.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 rounded-full bg-black/5",style:{color:n.color},children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:n.color}}),u.jsx("span",{className:"text-[9px] md:text-[10px] font-black uppercase tracking-widest",children:n.name})]}),u.jsxs("div",{className:`flex items-center gap-1.5 text-[9px] md:text-[10px] font-black uppercase tracking-widest ${h?"text-red-500 animate-pulse":"opacity-40 "+s.textPrimary}`,children:[u.jsx(Ex,{size:12})," ",l.dueDate||"Global"]})]})]})]}),u.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[u.jsx("div",{className:"flex-1",children:u.jsx(TE,{value:l.progress})}),u.jsxs("span",{className:`text-[9px] md:text-[10px] font-black opacity-40 ${s.textPrimary}`,children:[l.progress,"%"]})]})]})}),kE=({theme:l,currentUser:n,onToast:s})=>{const[r,o]=D.useState([]),[f,h]=D.useState([]),[p,x]=D.useState("list"),[g,N]=D.useState("all"),[_,v]=D.useState(""),[O,Y]=D.useState(new Date().toISOString().split("T")[0]),[K,re]=D.useState("pending"),[X,ce]=D.useState("all"),[ge,le]=D.useState("none"),[Ge,Ue]=D.useState(null),[ue,Te]=D.useState(""),[rt,de]=D.useState(""),[st,nt]=D.useState(new Date().toISOString().split("T")[0]),[be,vt]=D.useState("medium"),[qt,z]=D.useState(""),[V,ee]=D.useState(""),[Ae,Se]=D.useState(0),[w,U]=D.useState(""),[G,Z]=D.useState("#6366f1"),ae=D.useCallback(async()=>{if(n)try{const[$,pt]=await Promise.all([xE(n.id),vE(n.id)]);o($.sort((He,On)=>On.createdAt-He.createdAt)),h(pt)}catch{s("Failed to load tasks","error")}},[n,s]);D.useEffect(()=>{ae()},[ae]);const xe=()=>{Ue(null),Te(""),de(""),nt(O),vt("medium"),z(g!=="all"?g:""),ee(""),Se(0),le("add_todo")},me=D.useCallback($=>{Ue($),Te($.title),de($.description||""),nt($.dueDate||""),vt($.priority),z($.projectId||""),ee(($.tags||[]).join(", ")),Se($.progress||0),le("edit_todo")},[]),ot=async()=>{if(!n||!ue.trim()){s("Task title is required","error");return}const $={id:Ge?Ge.id:`todo_${Date.now()}`,userId:n.id,title:ue.trim(),description:rt.trim(),isCompleted:Ae===100,progress:Ae,dueDate:st,priority:be,projectId:qt||void 0,tags:V.split(",").map(pt=>pt.trim()).filter(pt=>pt.length>0),createdAt:Ge?Ge.createdAt:Date.now()};await Sx($),s(Ge?"Task Updated":"Task Created Successfully!","success"),le("none"),ae()},Je=D.useCallback(async $=>{n&&(await yE(n.id,$),s("Task deleted","success"),ae())},[n,s,ae]),Gn=D.useCallback(async $=>{const pt=$.isCompleted?0:100,He={...$,isCompleted:!$.isCompleted,progress:pt};await Sx(He),s(He.isCompleted?"Task Completed! Well done.":"Task marked as pending","success"),ae()},[s,ae]),Ia=async()=>{if(!n||!w.trim())return;const $={id:`proj_${Date.now()}`,name:w.trim(),color:G,userId:n.id};await bE($),U(""),le("none"),s("New Project Added","success"),ae()},Vn=async $=>{n&&(await _E(n.id,$),g===$&&N("all"),s("Board removed","success"),ae())},ia=$=>$.priority==="high"||!!$.dueDate&&new Date($.dueDate)<=new Date(Date.now()+14*864e5)&&new Date($.dueDate)>=new Date(Date.now()-864e5),Jt=D.useMemo(()=>r.filter($=>{var Sn;const pt=$.title.toLowerCase().includes(_.toLowerCase())||((Sn=$.description)==null?void 0:Sn.toLowerCase().includes(_.toLowerCase()))||$.tags.some(as=>as.toLowerCase().includes(_.toLowerCase())),He=g==="all"||$.projectId===g,On=K==="all"?!0:K==="completed"?$.isCompleted:!$.isCompleted,Yt=X==="all"?!0:X==="active"?!$.isCompleted:X==="urgent"?!$.isCompleted&&ia($):X==="overdue"?!$.isCompleted&&$.dueDate&&$.dueDate<new Date().toISOString().split("T")[0]:!0;return p==="calendar"?He&&($.dueDate===O||!$.dueDate):pt&&He&&On&&Yt}),[r,_,g,K,p,O,X]),Ve=D.useMemo(()=>{const $=r.length,pt=r.filter(Yt=>Yt.isCompleted).length,He=r.filter(Yt=>!Yt.isCompleted&&ia(Yt)).length,On=r.filter(Yt=>!Yt.isCompleted&&Yt.dueDate&&Yt.dueDate<new Date().toISOString().split("T")[0]).length;return{total:$,completed:pt,high:He,overdue:On}},[r]);return u.jsxs("div",{className:"flex h-full w-full overflow-hidden bg-opacity-50 relative flex-col lg:flex-row",children:[u.jsxs("div",{className:`hidden lg:flex flex-col w-72 h-full bg-white/5 border-r ${l.border} p-6 transition-all duration-300`,children:[u.jsxs("div",{className:"mb-10",children:[u.jsx("h3",{className:`text-xs font-black uppercase tracking-[0.2em] opacity-30 mb-6 ${l.textPrimary}`,children:"Strategy Room"}),u.jsx("div",{className:"space-y-4",children:[{id:"all",label:"All Operations",icon:C0,value:Ve.total,color:"text-blue-500",active:X==="all"},{id:"active",label:"Active Tasks",icon:Xl,value:Ve.total-Ve.completed,color:"text-amber-500",active:X==="active"},{id:"urgent",label:"Urgent Alert",icon:S0,value:Ve.high,color:"text-rose-500",active:X==="urgent"},{id:"overdue",label:"Overdue Ops",icon:v0,value:Ve.overdue,color:"text-red-600",active:X==="overdue"}].map($=>u.jsxs("div",{onClick:()=>ce($.id),className:`flex items-center justify-between p-3 rounded-2xl transition-all cursor-pointer ${$.active?"bg-white/10 shadow-lg scale-105":"hover:bg-black/5"}`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`p-2 rounded-xl ${$.color} bg-current/10`,children:u.jsx($.icon,{size:18})}),u.jsx("span",{className:`text-sm font-bold ${l.textPrimary}`,children:$.label})]}),u.jsx("span",{className:`text-xs font-black opacity-30 ${l.textPrimary}`,children:$.value})]},$.id))})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-hide",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:`text-xs font-black uppercase tracking-[0.2em] opacity-30 ${l.textPrimary}`,children:"Boards"}),u.jsx("button",{onClick:()=>le("add_project"),className:"p-1 px-2 rounded-lg bg-indigo-500/10 text-indigo-500 hover:bg-indigo-500 hover:text-white transition-all",children:u.jsx(Nc,{size:14})})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs("button",{onClick:()=>N("all"),className:`w-full flex items-center gap-3 p-3 rounded-2xl transition-all ${g==="all"?`bg-indigo-500/10 ${l.textPrimary} font-bold`:`${l.textSecondary} hover:bg-black/5`}`,children:[u.jsx(N0,{size:18,className:"opacity-40"}),u.jsx("span",{className:"text-sm",children:"Global HQ"})]}),f.map($=>u.jsxs("div",{className:`group w-full flex items-center justify-between pr-2 rounded-2xl transition-all ${g===$.id?"bg-indigo-500/10":"hover:bg-black/5"}`,children:[u.jsxs("button",{onClick:()=>N($.id),className:`flex-1 flex items-center gap-3 p-3 ${g===$.id?`${l.textPrimary} font-bold`:`${l.textSecondary}`}`,children:[u.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:$.color}}),u.jsx("span",{className:"text-sm truncate",children:$.name})]}),u.jsx("button",{onClick:pt=>{pt.stopPropagation(),Vn($.id)},className:"opacity-0 group-hover:opacity-100 p-2 text-red-500 hover:bg-red-500/10 rounded-xl transition-all",children:u.jsx(Ws,{size:14})})]},$.id))]})]})]}),u.jsx("div",{className:"flex-1 h-full overflow-hidden flex flex-col p-3 md:p-6 lg:p-10",children:u.jsxs("div",{className:"max-w-5xl mx-auto w-full flex flex-col h-full bg-transparent p-1 md:p-2",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 md:gap-6 mb-6 md:mb-10",children:[u.jsxs("div",{children:[u.jsx("h2",{className:`text-2xl md:text-4xl font-black ${l.textPrimary} tracking-tight mb-1 leading-none`,children:"Manage Tasks"}),u.jsx("p",{className:`text-[10px] md:text-xs ${l.textSecondary} opacity-60 font-medium`,children:"Private Desk  Your tasks are only visible to you."})]}),u.jsxs("div",{className:"flex items-center gap-3 md:gap-4 w-full md:w-auto",children:[u.jsxs("div",{className:`flex flex-1 md:flex-none p-1 rounded-2xl ${l.surface} border ${l.border} shadow-sm justify-between bg-black/10`,children:[u.jsx("button",{onClick:()=>x("list"),className:`flex-1 md:flex-none px-3 md:px-5 py-2 rounded-xl text-[10px] md:text-xs font-black transition-all ${p==="list"?`${l.accent} text-white shadow-lg`:`${l.textSecondary} hover:bg-black/5`}`,children:"List"}),u.jsx("button",{onClick:()=>x("calendar"),className:`flex-1 md:flex-none px-3 md:px-5 py-2 rounded-xl text-[10px] md:text-xs font-black transition-all ${p==="calendar"?`${l.accent} text-white shadow-lg`:`${l.textSecondary} hover:bg-black/5`}`,children:"Calendar"})]}),u.jsxs(jt,{onClick:xe,themeAccent:l.accent,className:"shadow-xl py-3 px-4 md:py-4 flex-1 md:flex-none font-black uppercase tracking-widest text-[10px]",children:[u.jsx(Xl,{size:14,className:"mr-2"})," New Strategy"]})]})]}),u.jsx("div",{className:"lg:hidden flex gap-3 overflow-x-auto mb-6 -mx-2 px-2 pb-4 scrollbar-thin",children:u.jsx("div",{className:"flex gap-3 min-w-max",children:[{id:"all",label:"Total",icon:C0,value:Ve.total,color:"text-blue-500",bg:"bg-blue-500/10",active:X==="all"},{id:"active",label:"Active",icon:Xl,value:Ve.total-Ve.completed,color:"text-amber-500",bg:"bg-amber-500/10",active:X==="active"},{id:"urgent",label:"Urgent",icon:S0,value:Ve.high,color:"text-rose-500",bg:"bg-rose-500/10",active:X==="urgent"},{id:"overdue",label:"Late",icon:v0,value:Ve.overdue,color:"text-red-500",bg:"bg-red-500/10",active:X==="overdue"}].map($=>u.jsxs("div",{onClick:()=>ce($.id),className:`flex-shrink-0 flex items-center gap-3 p-3 rounded-2xl ${l.surface} border ${l.border} shadow-sm min-w-[140px] transition-all border-2 ${$.active?"border-indigo-500/50 scale-105":"border-transparent"}`,children:[u.jsx("div",{className:`p-2 rounded-xl ${$.color} ${$.bg}`,children:u.jsx($.icon,{size:16})}),u.jsxs("div",{children:[u.jsx("span",{className:`block text-[10px] font-bold uppercase tracking-wider opacity-60 ${l.textPrimary}`,children:$.label}),u.jsx("span",{className:`block text-xl font-black ${l.textPrimary}`,children:$.value})]})]},$.id))})}),u.jsxs("div",{className:"flex flex-col md:flex-row gap-3 md:gap-4 mb-6 md:mb-8",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(kx,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 opacity-20"}),u.jsx("input",{type:"text",placeholder:"Search operations...",value:_,onChange:$=>v($.target.value),className:`w-full py-3 md:py-4 pl-12 pr-4 rounded-[1.5rem] md:rounded-[2rem] ${l.surface} border ${l.border} ${l.textPrimary} outline-none focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-[13px] md:text-sm`})]}),u.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-thin",children:u.jsx("div",{className:"flex gap-2 min-w-max px-1",children:["pending","completed","all"].map($=>u.jsx("button",{onClick:()=>re($),className:`flex-shrink-0 px-6 py-2.5 rounded-xl md:rounded-2xl text-[10px] uppercase font-black tracking-widest transition-all ${K===$?`${l.accent} text-white shadow-lg`:`${l.surface} border ${l.border} ${l.textSecondary} hover:bg-black/5`}`,children:$},$))})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-hide pb-32 p-1",children:p==="calendar"?u.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 md:gap-8 items-start h-full",children:[u.jsx(AE,{date:O,setDate:Y,todos:r,theme:l}),u.jsxs("div",{className:"flex-1 space-y-4 w-full pb-40 lg:pb-0",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h4",{className:`text-xs font-black uppercase tracking-widest opacity-30 ${l.textPrimary}`,children:["Date HQ: ",O]}),u.jsxs(jt,{onClick:xe,themeAccent:l.accent,className:"py-2 px-4 shadow-lg text-[10px] font-black uppercase",children:[u.jsx(Nc,{size:14,className:"mr-1"})," Add Op"]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Jt.length===0?u.jsx("p",{className:"md:col-span-2 text-center py-20 opacity-20 text-xs font-black uppercase italic",children:"Zero ops detected."}):Jt.map($=>u.jsx(Nx,{todo:$,project:f.find(pt=>pt.id===$.projectId),theme:l,onToggle:Gn,onEdit:me,onDelete:Je},$.id))})]})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 p-1",children:Jt.length===0?u.jsx("p",{className:"md:col-span-2 text-center py-20 opacity-30 text-lg font-black italic",children:"No matches found"}):Jt.map($=>u.jsx(Nx,{todo:$,project:f.find(pt=>pt.id===$.projectId),theme:l,onToggle:Gn,onEdit:me,onDelete:Je},$.id))})})]})}),(ge==="add_todo"||ge==="edit_todo")&&u.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end md:items-center justify-center sm:p-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-md animate-fade-in",onClick:()=>le("none")}),u.jsxs("div",{className:`${l.surface} border-t md:border border-white/10 w-full max-w-xl p-6 md:p-8 rounded-t-[2.5rem] md:rounded-[3.5rem] shadow-2xl relative animate-slide-up flex flex-col gap-4 md:gap-6 max-h-[85vh] md:max-h-[90vh] overflow-y-auto scrollbar-hide`,onClick:$=>$.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center text-left",children:[u.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[u.jsx("div",{className:`p-3 md:p-4 rounded-2xl md:rounded-3xl ${l.accent} text-white shadow-xl shadow-indigo-500/20`,children:u.jsx(Xl,{size:20})}),u.jsxs("div",{children:[u.jsx("h3",{className:`text-xl md:text-2xl font-black ${l.textPrimary}`,children:ge==="edit_todo"?"Edit Op":"Quick Strategy"}),u.jsx("p",{className:"text-[9px] md:text-[10px] font-black uppercase tracking-widest opacity-30 mt-0.5",children:"Define mission parameters"})]})]}),u.jsx("button",{onClick:()=>le("none"),className:`p-2 rounded-full hover:bg-black/5 ${l.textPrimary}`,children:u.jsx(Oa,{})})]}),u.jsxs("div",{className:"space-y-4 md:space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:`text-[9px] md:text-[10px] font-black uppercase tracking-[0.2em] opacity-30 px-2 ${l.textPrimary}`,children:"Operation Title"}),u.jsx("input",{autoFocus:!0,value:ue,onChange:$=>Te($.target.value),className:`w-full p-4 md:p-5 rounded-2xl md:rounded-3xl bg-black/5 border ${l.border} ${l.textPrimary} focus:ring-4 focus:ring-indigo-500/10 outline-none font-bold text-base md:text-lg placeholder:opacity-20`,placeholder:"E.g. Grade 10th Math Papers..."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:`text-[9px] md:text-[10px] font-black uppercase tracking-[0.2em] opacity-30 px-2 ${l.textPrimary}`,children:"Intel/Context"}),u.jsx("textarea",{value:rt,onChange:$=>de($.target.value),className:`w-full p-4 md:p-5 rounded-2xl md:rounded-3xl bg-black/5 border ${l.border} ${l.textPrimary} focus:ring-4 focus:ring-indigo-500/10 outline-none h-20 md:h-24 resize-none text-[13px] md:text-sm placeholder:opacity-20`,placeholder:"Notes about students, topics etc..."})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[9px] md:text-[10px] font-black uppercase tracking-[0.2em] opacity-30 px-2",children:"Deadline"}),u.jsx("input",{type:"date",value:st,onChange:$=>nt($.target.value),className:`w-full p-4 md:p-5 rounded-2xl md:rounded-3xl bg-black/5 border ${l.border} ${l.textPrimary} outline-none text-[13px] md:text-sm`})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[9px] md:text-[10px] font-black uppercase tracking-[0.2em] opacity-30 px-2",children:"Priority"}),u.jsx("div",{className:"flex gap-2 p-1 bg-black/5 rounded-[1.5rem] md:rounded-[2rem] border border-white/5",children:["low","medium","high"].map($=>u.jsx("button",{onClick:()=>vt($),className:`flex-1 py-2 md:py-3 rounded-xl md:rounded-2xl text-[8px] md:text-[9px] font-black uppercase tracking-widest transition-all ${be===$?`${l.accent} text-white shadow-lg`:l.textSecondary+" opacity-40 hover:opacity-100"}`,children:$},$))})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[9px] md:text-[10px] font-black uppercase tracking-[0.2em] opacity-30 px-2",children:"Sector"}),u.jsxs("select",{value:qt,onChange:$=>z($.target.value),className:`w-full p-4 md:p-5 rounded-2xl md:rounded-3xl bg-black/5 border ${l.border} ${l.textPrimary} outline-none text-[13px] md:text-sm font-bold`,children:[u.jsx("option",{value:"",children:"No Sector"}),f.map($=>u.jsx("option",{value:$.id,children:$.name},$.id))]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[9px] md:text-[10px] font-black uppercase tracking-[0.2em] opacity-30 px-2",children:"Tags (#intel)"}),u.jsx("input",{value:V,onChange:$=>ee($.target.value),className:`w-full p-4 md:p-5 rounded-2xl md:rounded-3xl bg-black/5 border ${l.border} ${l.textPrimary} outline-none text-[13px] md:text-sm`,placeholder:"exams, results..."})]})]}),u.jsxs("div",{className:"space-y-3 md:space-y-4 pt-2",children:[u.jsxs("div",{className:"flex justify-between items-center px-1",children:[u.jsx("label",{className:"text-[9px] md:text-[10px] font-black uppercase tracking-[0.2em] opacity-30",children:"Execution Status"}),u.jsxs("span",{className:`text-lg md:text-xl font-black ${l.accentText}`,children:[Ae,"%"]})]}),u.jsx("input",{type:"range",min:"0",max:"100",step:"10",value:Ae,onChange:$=>Se(parseInt($.target.value)),className:"w-full h-2 md:h-3 bg-black/10 rounded-full appearance-none cursor-pointer accent-indigo-500"})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 md:gap-4 mt-2 md:mt-4",children:[u.jsx(jt,{variant:"secondary",onClick:()=>le("none"),className:"flex-1 py-4 md:py-5 rounded-2xl md:rounded-3xl order-2 sm:order-1",children:"Discard"}),u.jsxs(jt,{onClick:ot,themeAccent:l.accent,className:"flex-1 py-4 md:py-5 rounded-2xl md:rounded-3xl shadow-xl shadow-indigo-500/20 order-1 sm:order-2",children:[u.jsx(v_,{size:16,className:"mr-2"})," ",Ge?"Update System":"Activate Op"]})]})]})]}),ge==="add_project"&&u.jsxs("div",{className:"fixed inset-0 z-[120] flex items-end md:items-center justify-center sm:p-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-xl animate-fade-in",onClick:()=>le("none")}),u.jsxs("div",{className:`${l.surface} border-t md:border border-white/10 w-full max-w-sm p-6 md:p-8 rounded-t-[2rem] md:rounded-[3rem] shadow-2xl relative animate-slide-up flex flex-col gap-4 md:gap-6`,onClick:$=>$.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[u.jsx("div",{className:"p-3 md:p-4 rounded-2xl md:rounded-3xl bg-blue-500 text-white shadow-xl shadow-blue-500/20",children:u.jsx(N0,{size:20})}),u.jsx("h3",{className:`text-xl md:text-2xl font-black ${l.textPrimary}`,children:"Deploy Board"})]}),u.jsxs("div",{className:"space-y-4 md:space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[9px] md:text-[10px] font-black uppercase tracking-widest opacity-30 px-2",children:"Sector Name"}),u.jsx("input",{autoFocus:!0,value:w,onChange:$=>U($.target.value),className:`w-full p-4 md:p-5 rounded-2xl md:rounded-3xl bg-black/5 border ${l.border} ${l.textPrimary} outline-none font-bold`,placeholder:"E.g. Final Exams..."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("label",{className:"text-[9px] md:text-[10px] font-black uppercase tracking-widest opacity-30 px-2",children:"Visual ID"}),u.jsx("div",{className:"grid grid-cols-7 gap-2 md:gap-3",children:["#6366f1","#ec4899","#f59e0b","#10b981","#ef4444","#8b5cf6","#06b6d4"].map($=>u.jsx("button",{onClick:()=>Z($),className:`w-6 h-6 md:w-7 md:h-7 rounded-full transition-all ${G===$?"ring-4 ring-white shadow-lg scale-110":"opacity-40 hover:opacity-100 hover:scale-110"}`,style:{backgroundColor:$}},$))})]})]}),u.jsxs("div",{className:"flex gap-3 md:gap-4 pt-2 md:pt-4",children:[u.jsx(jt,{variant:"secondary",onClick:()=>le("none"),className:"flex-1 py-3 md:py-4 rounded-xl md:rounded-2xl",children:"Cancel"}),u.jsx(jt,{onClick:Ia,themeAccent:l.accent,className:"flex-1 py-3 md:py-4 rounded-xl md:rounded-2xl",children:"Confirm"})]})]})]})]})},Nf=({value:l,options:n,onChange:s,theme:r,label:o})=>{const[f,h]=D.useState(!1);return u.jsxs("div",{className:"relative",children:[o&&u.jsx("label",{className:`text-[9px] font-black uppercase tracking-[0.2em] ${r.textSecondary} mb-1.5 block ml-1 opacity-50`,children:o}),u.jsxs("button",{onClick:()=>h(!f),className:`flex items-center justify-between gap-3 px-5 py-3.5 rounded-2xl ${r.surface} border ${r.border} ${r.textPrimary} font-bold text-sm min-w-[140px] hover:bg-white/5 transition-all shadow-lg`,children:[u.jsxs("span",{className:"truncate",children:["Class ",l]}),u.jsx(gl,{size:16,className:`transition-transform duration-300 ${f?"rotate-90":""}`})]}),f&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-[80]",onClick:()=>h(!1)}),u.jsx("div",{className:`absolute top-full left-0 right-0 mt-2 p-2 rounded-2xl ${r.surface} border ${r.border} shadow-2xl z-[90] animate-slide-up max-h-60 overflow-y-auto scrollbar-hide`,children:n.map(p=>u.jsxs("button",{onClick:()=>{s(p),h(!1)},className:`w-full text-left px-4 py-3 rounded-xl text-sm font-bold ${l===p?`${r.accent} text-white`:`${r.textPrimary} hover:bg-white/5`} transition-all`,children:["Class ",p]},p))})]})]})},DE=({isOpen:l,title:n,message:s,onConfirm:r,onCancel:o,theme:f})=>l?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-fade-in p-6",children:u.jsxs("div",{className:`${f.surface} border ${f.border} w-full max-w-sm p-6 rounded-[2rem] shadow-2xl transform transition-all scale-100 flex flex-col gap-4`,children:[u.jsxs("div",{className:"flex flex-col items-center text-center gap-3",children:[u.jsx("div",{className:"p-4 rounded-full bg-red-500/10 text-red-500 mb-2",children:u.jsx(Yc,{size:32})}),u.jsx("h3",{className:`text-xl font-bold ${f.textPrimary}`,children:n}),u.jsx("p",{className:`text-sm ${f.textSecondary} leading-relaxed`,children:s})]}),u.jsxs("div",{className:"flex gap-3 mt-2",children:[u.jsx("button",{onClick:o,className:`flex-1 py-3.5 rounded-xl font-bold border ${f.border} ${f.textPrimary} hover:opacity-70 transition-opacity`,children:"Cancel"}),u.jsx("button",{onClick:r,className:"flex-1 py-3.5 rounded-xl font-bold bg-red-500 text-white shadow-lg shadow-red-500/30 hover:bg-red-600 transition-colors",children:"Confirm"})]})]})}):null,ME=({message:l,type:n,onClose:s})=>(D.useEffect(()=>{const r=setTimeout(()=>{s()},3e3);return()=>clearTimeout(r)},[]),u.jsxs("div",{className:`fixed top-6 left-1/2 -translate-x-1/2 z-[200] flex items-center gap-3 px-6 py-3 rounded-full shadow-2xl animate-slide-up ${n==="success"?"bg-emerald-500 text-white":"bg-red-500 text-white"}`,children:[n==="success"?u.jsx(Sc,{size:20}):u.jsx(Yc,{size:20}),u.jsx("span",{className:"font-bold text-sm",children:l})]})),OE=({message:l,action:n,onAction:s,onClose:r,theme:o})=>u.jsx("div",{className:"fixed bottom-28 right-6 left-6 md:left-auto md:right-10 md:w-96 z-[250] animate-slide-up",children:u.jsxs("div",{className:`${o.surface} border-2 border-indigo-500/50 p-6 rounded-[2.5rem] shadow-[0_25px_60px_-15px_rgba(0,0,0,0.6)] relative overflow-hidden backdrop-blur-3xl group`,children:[u.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-all",children:u.jsx(Xl,{size:60,className:"text-indigo-400 rotate-12"})}),u.jsxs("div",{className:"flex gap-5 items-start relative z-10",children:[u.jsx("div",{className:`p-4 rounded-2xl ${o.accent} text-white shrink-0 shadow-xl shadow-indigo-500/20`,children:u.jsx(Nc,{size:24,className:"animate-pulse"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:`text-[10px] font-black uppercase tracking-[0.3em] opacity-40 mb-1.5 ${o.textPrimary}`,children:"System Hint"}),u.jsx("p",{className:`text-sm font-black ${o.textPrimary} mb-5 leading-tight tracking-tight`,children:l}),u.jsxs("div",{className:"flex gap-3",children:[n&&u.jsx("button",{onClick:s,className:"px-5 py-2.5 rounded-xl bg-indigo-600 text-white text-[10px] font-black uppercase tracking-widest hover:bg-indigo-700 transition-all shadow-xl shadow-indigo-500/30 active:scale-95",children:n}),u.jsx("button",{onClick:r,className:`px-5 py-2.5 rounded-xl bg-black/5 text-[10px] font-black uppercase tracking-widest hover:bg-black/10 transition-all ${o.textPrimary}`,children:"Got it"})]})]})]})]})}),RE=()=>u.jsxs("div",{className:"fixed inset-0 z-[150] flex flex-col items-center justify-center bg-slate-950",children:[u.jsxs("div",{className:"flex gap-3 mb-8",children:[u.jsx("div",{className:"w-4 h-4 bg-indigo-500 rounded-full animate-bounce [animation-delay:-0.3s]"}),u.jsx("div",{className:"w-4 h-4 bg-purple-500 rounded-full animate-bounce [animation-delay:-0.15s]"}),u.jsx("div",{className:"w-4 h-4 bg-pink-500 rounded-full animate-bounce"})]}),u.jsx("div",{className:"absolute bottom-10 text-xs font-mono text-slate-600 uppercase tracking-widest animate-pulse",children:"System Loading"})]}),zE=({onFinish:l,logo:n})=>{const[s,r]=D.useState(!1),[o,f]=D.useState(!1);return D.useEffect(()=>{r(!0);const h=setTimeout(()=>f(!0),400),p=setTimeout(()=>l(),700);return()=>{clearTimeout(h),clearTimeout(p)}},[]),u.jsxs("div",{className:`fixed inset-0 z-[100] flex flex-col items-center justify-center bg-slate-950 text-white overflow-hidden transition-opacity duration-700 ease-in-out ${o?"opacity-0":"opacity-100"}`,children:[u.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_50%,_rgba(79,70,229,0.15),transparent_70%)] animate-pulse"}),u.jsx("div",{className:`absolute w-96 h-96 bg-indigo-500/10 rounded-full blur-[100px] transition-all duration-1000 ${s?"scale-100 opacity-100":"scale-0 opacity-0"}`}),u.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center",children:[u.jsxs("div",{className:`relative mb-8 transition-all duration-1000 cubic-bezier(0.34, 1.56, 0.64, 1) ${s?"scale-100 opacity-100 translate-y-0":"scale-0 opacity-0 translate-y-20"}`,children:[u.jsx("div",{className:"absolute inset-0 -m-6 border border-indigo-500/20 rounded-full animate-[spin_8s_linear_infinite]"}),u.jsx("div",{className:"absolute inset-0 -m-3 border border-t-indigo-400/50 border-r-transparent border-b-indigo-400/50 border-l-transparent rounded-full animate-[spin_3s_linear_infinite]"}),u.jsx("div",{className:"w-44 h-44 rounded-full bg-slate-900 flex items-center justify-center relative shadow-[0_0_60px_rgba(99,102,241,0.4)] border border-white/10 overflow-hidden",children:n&&n.length>10?u.jsx("img",{src:n,alt:"Logo",className:"w-full h-full object-cover animate-fade-in"}):u.jsx(_r,{size:88,className:"text-indigo-400 drop-shadow-md"})})]}),u.jsxs("div",{className:`text-center transition-all duration-700 delay-300 ${s?"opacity-100":"opacity-0"}`,children:[u.jsx("h1",{className:"text-4xl md:text-5xl font-black tracking-tighter text-white mb-2",children:"IJ EDUCATION"}),u.jsxs("div",{className:"flex items-center justify-center gap-3",children:[u.jsx("div",{className:"h-[1px] w-8 bg-indigo-500/20"}),u.jsx("span",{className:"text-[10px] font-bold uppercase tracking-[0.4em] text-indigo-400 opacity-40",children:"IJ EDUCATION 1.0"}),u.jsx("div",{className:"h-[1px] w-8 bg-indigo-500/20"})]})]})]}),u.jsxs("div",{className:"absolute bottom-16 w-64 md:w-80",children:[u.jsx("div",{className:"h-1.5 w-full bg-slate-800 rounded-full overflow-hidden",children:u.jsx("div",{className:`h-full bg-gradient-to-r from-indigo-600 via-purple-500 to-indigo-600 rounded-full transition-all duration-[4000ms] ease-out ${s?"w-full":"w-0"}`})}),u.jsxs("div",{className:`flex justify-between mt-2 text-[10px] font-mono text-slate-500 uppercase tracking-wider transition-opacity duration-500 delay-700 ${s?"opacity-100":"opacity-0"}`,children:[u.jsx("span",{children:"Initializing..."}),u.jsx("span",{children:"v1.0"})]})]})]})},LE=({theme:l,onClose:n})=>{const[s,r]=D.useState(0),o=[{title:"Welcome to ClassTrack",desc:"Your professional hub for student management. Let's get you started.",icon:Xl},{title:"Master Controls",desc:"Use the bottom dock (mobile) or sidebar (PC) to navigate between Home, Tasks, and Settings.",icon:jx},{title:"Attendance & Records",desc:"Click any Class Card on the home screen to start marking attendance instantly.",icon:Js},{title:"Smart History",desc:"View detailed statistics and past attendance records in the History tab.",icon:Ff},{title:"Strategy Desk",desc:"Manage your personal tasks and to-do lists in the To-Do section.",icon:Mx},{title:"Ready to Start?",desc:"Head to the Admin menu to create your first class and populate your database.",icon:Ax}],f=o[s],h=f.icon;return u.jsxs("div",{className:"fixed inset-0 z-[500] flex items-center justify-center p-6 sm:p-10 pointer-events-none",children:[u.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-md pointer-events-auto",onClick:n}),u.jsxs("div",{className:`${l.surface} border-2 border-indigo-500/30 w-full max-w-lg p-10 rounded-[3.5rem] shadow-[0_50px_100px_-20px_rgba(0,0,0,0.7)] relative animate-scale-up pointer-events-auto overflow-hidden`,children:[u.jsx("div",{className:"absolute -top-20 -right-20 w-64 h-64 bg-indigo-500/10 rounded-full blur-[80px]"}),u.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[u.jsx("div",{className:`w-24 h-24 rounded-3xl ${l.accent} flex items-center justify-center text-white mb-8 shadow-2xl scale-110`,children:u.jsx(h,{size:48,strokeWidth:2.5})}),u.jsxs("div",{className:"mb-2 text-[10px] font-black uppercase tracking-[0.4em] opacity-40 text-indigo-400",children:["Step ",s+1," of ",o.length]}),u.jsx("h2",{className:`text-2xl md:text-4xl font-black ${l.textPrimary} mb-4 tracking-tighter leading-tight`,children:f.title}),u.jsx("p",{className:`text-sm md:text-lg ${l.textSecondary} mb-12 leading-relaxed opacity-70`,children:f.desc}),u.jsxs("div",{className:"flex gap-4 w-full",children:[s>0?u.jsx("button",{onClick:()=>r(s-1),className:`flex-1 py-5 rounded-2xl bg-black/5 font-black uppercase tracking-widest text-[11px] ${l.textPrimary}`,children:"Back"}):u.jsx("button",{onClick:n,className:`flex-1 py-5 rounded-2xl bg-black/5 font-black uppercase tracking-widest text-[11px] ${l.textPrimary}`,children:"Skip"}),u.jsx("button",{onClick:()=>{s<o.length-1?r(s+1):n()},className:`flex-[2] py-5 rounded-2xl ${l.accent} text-white font-black uppercase tracking-widest text-[11px] shadow-xl shadow-indigo-500/30`,children:s===o.length-1?"Start Now":"Continue"})]})]})]})]})};class $E extends qr.Component{constructor(n){super(n),this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,s){console.error("Uncaught error:",n,s)}render(){return this.state.hasError?u.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-slate-950 text-white p-6 text-center",children:[u.jsx(Yc,{size:64,className:"text-red-500 mb-6 animate-bounce"}),u.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Something went wrong."}),u.jsx("p",{className:"text-slate-400 mb-8 max-w-md",children:"The application encountered an unexpected error. Please restart the app."}),u.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 rounded-xl bg-indigo-600 font-bold hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-500/30",children:"Restart Application"})]}):this.props.children}}function UE(){return u.jsx($E,{children:u.jsx(IE,{})})}function IE(){const[l,n]=D.useState(!0),[s,r]=D.useState(!1),[o,f]=D.useState(!0),[h,p]=D.useState(()=>{const E=localStorage.getItem("classtrack_animations_v1");return E===null?!0:E==="true"}),[x,g]=D.useState(()=>{const E=localStorage.getItem("classtrack_theme_v1");return["corporate","midnight","slate","emerald","burgundy"].includes(E)?E:"corporate"});D.useEffect(()=>{h?document.body.classList.remove("disable-animations"):document.body.classList.add("disable-animations"),localStorage.setItem("classtrack_animations_v1",String(h))},[h]);const[N,_]=D.useState(null),[v,O]=D.useState("login"),[Y,K]=D.useState(q_),[re,X]=D.useState(!0),[ce,ge]=D.useState(!1),[le,Ge]=D.useState(null),[Ue,ue]=D.useState(()=>tE()||"./icons/icon-512x512.png"),[Te,rt]=D.useState([]),[de,st]=D.useState(""),[nt,be]=D.useState(""),[vt]=D.useState(()=>new Date().toLocaleDateString("en-CA")),[qt,z]=D.useState(new Date),[V,ee]=D.useState([]),[Ae,Se]=D.useState([]),[w,U]=D.useState({}),[G,Z]=D.useState(null),[ae,xe]=D.useState([]),[me,ot]=D.useState([]),[Je,Gn]=D.useState("history"),[Ia,Vn]=D.useState(!1),[ia,Jt]=D.useState(""),[Ve,$]=D.useState(navigator.onLine),[pt,He]=D.useState(!1),[On,Yt]=D.useState(256),[Sn,as]=D.useState(!1),[nu,Wt]=D.useState(window.innerWidth);D.useEffect(()=>{const E=()=>Wt(window.innerWidth);return window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]);const au=D.useCallback(()=>as(!0),[]),Cl=D.useCallback(()=>as(!1),[]),El=D.useCallback(E=>{if(Sn){const B=E.clientX;B>=80&&B<=400&&Yt(B)}},[Sn]);D.useEffect(()=>(Sn?(window.addEventListener("mousemove",El),window.addEventListener("mouseup",Cl)):(window.removeEventListener("mousemove",El),window.removeEventListener("mouseup",Cl)),()=>{window.removeEventListener("mousemove",El),window.removeEventListener("mouseup",Cl)}),[Sn,El,Cl]);const[ra,bi]=D.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),[ls,Jr]=D.useState(null),[Pn,Qn]=D.useState(null),[Gt,Rn]=D.useState(""),[en,ss]=D.useState(!1),[_i,lu]=D.useState(()=>localStorage.getItem("classtrack_tutorial_seen_v1")===null),is=()=>{localStorage.setItem("classtrack_tutorial_seen_v1","true"),lu(!1)};D.useEffect(()=>{if(!l&&!o&&v==="home"&&Te.length===0&&!_i){const E=setTimeout(()=>ss(!0),1500);return()=>clearTimeout(E)}else ss(!1)},[l,o,v,Te.length,_i]);const[rs,Ha]=D.useState("dashboard"),[gt,Ba]=D.useState("10"),[Vt,Wr]=D.useState(new Date),[os,eo]=D.useState(null),oa=D.useRef(null),[cs,to]=D.useState(()=>new Date().toISOString().slice(0,7)),[ca,Si]=D.useState({}),[qa,jl]=D.useState({}),[Ot,us]=D.useState("10"),[sn,ct]=D.useState([]),[tn,ua]=D.useState(""),[no,ao]=D.useState(0),[Rh,su]=D.useState(!1),[Fn,ds]=D.useState(""),[Xn,da]=D.useState(""),[fa,ha]=D.useState(""),[ut,Ni]=D.useState("teacher"),[wi,Kn]=D.useState(!1),[Ya,iu]=D.useState([]),fs=D.useMemo(()=>{const E={};if(le&&V.length>0){const B=me.filter(R=>R.classId===le);V.forEach(R=>{const q=B.filter(P=>P.records&&P.records[R.id]!==void 0);if(q.length===0)E[R.id]=100;else{const P=q.filter(te=>{const F=te.records[R.id];return F==="present"||F===!0}).length;E[R.id]=Math.round(P/q.length*100)}})}if(sn.length>0){const B=me.filter(R=>R.classId===Ot);sn.forEach(R=>{if(!E[R.id]){const q=B.filter(P=>P.records&&P.records[R.id]!==void 0);if(q.length===0)E[R.id]=100;else{const P=q.filter(te=>{const F=te.records[R.id];return F==="present"||F===!0}).length;E[R.id]=Math.round(P/q.length*100)}}})}return E},[le,me,V,sn,Ot]),lo=D.useMemo(()=>{const E=Vt.getMonth(),B=Vt.getFullYear(),R=me.filter(At=>{const Xt=new Date(At.date);return At.classId===gt&&Xt.getMonth()===E&&Xt.getFullYear()===B}),q=os?R.filter(At=>new Date(At.date).getDate()===os):R;let P=0,te=0,F=0;q.forEach(At=>{At.records&&Object.values(At.records).forEach(Xt=>{Xt==="present"||Xt===!0?P++:Xt==="leave"?F++:te++})});const ke=P+te+F,pe=ke>0?P/ke*100:0,Ft=ke>0?`conic-gradient(#10b981 0% ${pe}%, #f97316 ${pe}% ${pe+F/ke*100}%, #ef4444 ${pe+F/ke*100}% 100%)`:"conic-gradient(#334155 0% 100%)";return{totalPresent:P,totalAbsent:te,totalLeave:F,totalMarks:ke,presentPercentage:pe,gradientStyle:Ft}},[gt,Vt,os,me]),[so,rn]=D.useState("0"),[Ga,Rt]=D.useState(""),[zt,Tl]=D.useState(null),[hs,ms]=D.useState(""),[ps,Al]=D.useState(""),b=Cf[x],on=["group-chat"].includes(v);D.useEffect(()=>{["midnight","forest","crimson","neon"].includes(x)?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[x]);const Va=(E,B,R)=>{bi({isOpen:!0,title:E,message:B,onConfirm:()=>{R(),bi(q=>({...q,isOpen:!1}))}})},Ie=(E,B)=>{Jr({message:E,type:B})},ma=D.useCallback(async()=>{const E=vx();ao(E),navigator.onLine&&E>0&&(await SE(B=>{ua(B),setTimeout(()=>ua(""),3e3)}),ao(vx()),v==="dashboard"&&le&&Zt(le).then(ee),v==="admin-dashboard"&&Zt(gt).then(Se),br().then(ot))},[v,le,gt]),zn=D.useCallback(async()=>{try{const E=await ZC();iu(E)}catch{}},[]);D.useEffect(()=>{v==="admin-users"&&zn()},[v,zn]),D.useEffect(()=>{(async()=>{const P=new Promise(ke=>setTimeout(ke,1200)),te=hE();Cf[te]&&g(te);const F=WC();F&&_(F);try{const[ke,pe,Ft]=await Promise.all([Oh(),nE(),br()]);rt(ke),ke.length>0&&(Ba(ke[0]),us(ke[0]),Zt(ke[0]).then(At=>{Se(At),ct(At),ee(At)})),pe&&(pe.logo&&ue(pe.logo),pe.classFees&&jl(pe.classFees)),ot(Ft.sort((At,Xt)=>Xt.timestamp-At.timestamp))}catch(ke){console.error("Initialization error:",ke)}await P,r(!0),n(!1)})();const B=()=>{$(navigator.onLine)};window.addEventListener("online",B),window.addEventListener("offline",B);const R=setInterval(()=>z(new Date),1e3);let q;return"serviceWorker"in navigator&&(q=P=>{P.data&&P.data.type==="TRIGGER_SYNC"&&(console.log(" Sync triggered by Service Worker"),ma())},navigator.serviceWorker.addEventListener("message",q)),()=>{clearInterval(R),window.removeEventListener("online",B),window.removeEventListener("offline",B),q&&navigator.serviceWorker.removeEventListener("message",q)}},[ma]),D.useEffect(()=>{let E;return Ve&&(ma(),E=setInterval(ma,3e4)),()=>{E&&clearInterval(E)}},[Ve,ma]);const io=D.useCallback(()=>{f(!1),O(N?"home":"login")},[N]),ro=E=>{_(E),Pf(E),O("home")},pa=()=>{eE(),_(null),O("login")},ru=E=>{g(E),mE(E)};D.useEffect(()=>{(v==="admin-dashboard"||v==="admin-menu")&&Zt(gt).then(Se)},[v,gt]),D.useEffect(()=>{(v==="admin-fees"||v==="student-directory")&&Zt(Ot).then(ct)},[v,Ot]),D.useEffect(()=>{v==="dashboard"&&le&&Zt(le).then(ee)},[v,le]);const gs=async E=>{He(!0);try{Ge(E);const B=await uE(vt,E),R=await Zt(E);if(ee(R),B)U(B.records);else{const q={};R.forEach(P=>q[P.id]="present"),U(q)}O("dashboard")}catch(B){console.error("Error loading class",B)}finally{He(!1)}},oo=async()=>{He(!0);try{const E=await br();ot(E.sort((B,R)=>R.timestamp-B.timestamp)),O("history")}finally{He(!1)}},Ci=E=>{navigator.vibrate&&navigator.vibrate(10),U(B=>{const R=B[E];let q;return R==="present"||R===!0?q="absent":R==="absent"||R===!1?q="leave":q="present",{...B,[E]:q}})},co=E=>{const B={};V.forEach(R=>B[R.id]=E?"present":"absent"),U(B),navigator.vibrate&&navigator.vibrate(20)},ou=async()=>{if(le){He(!0);try{const E={id:`${vt}-${le}`,date:vt,classId:le,timestamp:Date.now(),records:w};await oE(E);const B=await br();ot(B.sort((R,q)=>q.timestamp-R.timestamp)),navigator.vibrate&&navigator.vibrate([30,50,30]),Ie(Ve?"Synced to Cloud Database!":"Saved Offline! Syncing when Online.","success"),O("dashboard")}catch{Ie("Failed to save. Action queued.","error"),O("dashboard")}finally{He(!1)}}},xs=async()=>{var R,q;let E=le;if(v==="admin-dashboard"&&(E=gt),(v==="student-directory"||v==="admin-fees")&&(E=Ot),!ia.trim()||!E)return;const B=ia.split(`
`).filter(P=>P.trim().length>0);He(!0);try{for(const te of B){const F=te.split(","),ke=(R=F[0])==null?void 0:R.trim(),pe=(q=F[1])==null?void 0:q.trim();ke&&await lE(ke,E,pe)}Jt(""),Vn(!1),Ie(Ve?"Sync Successful!":"Added Locally! Syncing soon...","success"),(()=>{v==="student-directory"||v==="admin-fees"?Zt(Ot).then(ct):v==="admin-dashboard"?Zt(gt).then(Se):le&&Zt(le).then(ee)})()}catch{Ie("Action queued for sync.","error")}finally{He(!1)}},Ln=async(E,B)=>{E.stopPropagation(),Va("Delete Student?","Are you sure you want to permanently delete this student? This action cannot be undone.",async()=>{await rE(B),navigator.vibrate&&navigator.vibrate(50),Ie(Ve?"Student deleted":"Pending Deletion","success"),v==="admin-dashboard"&&Zt(gt).then(Se)})},Ei=async(E,B)=>{E.stopPropagation(),Va("Delete Record?",`Delete attendance record for ${B.date} (Class ${B.classId})?`,async()=>{await cE(B.date,B.classId);const R=await br();ot(R.sort((q,P)=>P.timestamp-q.timestamp)),Ie(Ve?"Record deleted":"Queued for deletion","success")})},ji=async(E,B="history")=>{He(!0);try{const R=await Zt(E.classId);xe(R),Z(E),Gn(B),O("history-detail")}finally{He(!1)}};D.useEffect(()=>{if(v==="history-detail"&&G){const E=aE(G.date,G.classId,B=>{B&&Z(B)});return()=>E()}},[v,G==null?void 0:G.id]);const Pa=async E=>{var q;const B=(q=E.target.files)==null?void 0:q[0];if(!B)return;const R=new FileReader;R.onloadend=async()=>{if(typeof R.result=="string"){const P=R.result;ue(P),await _x({logo:P}),Ie("School Logo Updated Everywhere!","success")}},R.readAsDataURL(B)},Qa=async E=>{const B=ca[E.id],R=(B==null?void 0:B.isPaid)||!1,q=qa[E.classId]||2e3,P=(B==null?void 0:B.amount)||E.customFee||q,te={id:`${cs}_${E.id}`,studentId:E.id,month:cs,amount:P,isPaid:!R,paidAt:R?void 0:Date.now()};Si(F=>({...F,[E.id]:te}));try{R?await fE(cs,E.id):(await dE(te),navigator.vibrate&&navigator.vibrate(20))}catch{Ie("Failed to update fee status","error"),Si(ke=>({...ke,[E.id]:B}))}},uo=async(E,B)=>{try{await iE(E,B),ct(R=>R.map(q=>q.id===E?{...q,customFee:B}:q)),Ie("Custom fee updated","success")}catch{Ie("Failed to update custom fee","error")}},Ti=async E=>{try{const B={...qa,[Ot]:E};jl(B),await _x({classFees:B}),Ie(`Default Fee for Class ${Ot} Updated`,"success")}catch{Ie("Failed to save settings","error")}},fo=async()=>{if(de.trim()){He(!0);try{const E=await pE(de.trim());rt(E),st(""),Ie(`Class ${de} added!`,"success")}catch(E){Ie(E.message||"Failed to add class","error")}finally{He(!1)}}},kl=async E=>{Va("Delete Class?",`Are you sure you want to delete Class ${E}? This will NOT delete student data but will hide the class.`,async()=>{He(!0);try{const B=await gE(E);rt(B),gt===E&&B.length>0&&Ba(B[0]),Ie(`Class ${E} removed`,"success")}catch{Ie("Failed to remove class","error")}finally{He(!1)}})},$n=E=>{Tl(E),ms(E.name),Al(E.phone||""),Rn(E.classId)},Ai=async()=>{if(!(!zt||!hs.trim())){He(!0);try{await sE(zt.id,{name:hs.trim(),phone:ps.trim(),classId:Gt}),Ie("Student Updated!","success"),Pn&&Pn.id===zt.id&&Qn({...Pn,name:hs.trim(),phone:ps.trim()}),Tl(null),v==="student-directory"||v==="admin-fees"?Zt(Ot).then(ct):v==="admin-dashboard"?Zt(gt).then(Se):le&&Zt(le).then(ee),v==="student-profile"&&Pn&&Zt(Pn.classId).then(ee)}catch{Ie("Update failed","error")}finally{He(!1)}}},Pt=E=>{if(E==="C"){rn("0"),Rt("");return}if(E==="="){try{const R=Function('"use strict";return ('+Ga+")")();rn(String(R)),Rt(String(R))}catch{rn("Error"),Rt("")}return}const B=["+","-","*","/"].includes(E);if(so==="0"&&!B)rn(E),Rt(E);else{if(B)rn(E);else{const R=Ga.slice(-1);["+","-","*","/"].includes(R)?rn(E):rn(q=>q+E)}Rt(R=>R+E)}},Zn=()=>u.jsx("div",{className:"flex flex-col h-full animate-fade-in px-3 md:px-6 pt-4 md:pt-12 pb-32 w-full max-w-7xl mx-auto items-center justify-center",children:u.jsxs("div",{className:"w-full",children:[u.jsxs("div",{className:"text-center mb-6 md:mb-12",children:[u.jsx("h1",{className:`text-xl md:text-4xl font-black ${b.textPrimary} mb-1 md:mb-2`,children:"Admin Center"}),u.jsx("p",{className:`text-[10px] md:text-sm ${b.textSecondary}`,children:"Secure management & oversight panel"})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-4 gap-4 md:gap-6 w-full max-h-[70vh] overflow-y-auto pr-2 scrollbar-hide py-4",children:[u.jsxs("button",{onClick:()=>O("admin-dashboard"),className:`p-6 md:p-8 rounded-[2rem] ${b.surface} border ${b.border} shadow-xl hover:scale-[1.02] active:scale-95 transition-all group text-left relative overflow-hidden flex flex-col items-start min-h-[220px]`,children:[u.jsx("div",{className:"p-4 rounded-2xl bg-blue-500/10 text-blue-500 mb-6 group-hover:bg-blue-500 group-hover:text-white transition-colors",children:u.jsx(Js,{size:24})}),u.jsx("h3",{className:`text-xl font-black ${b.textPrimary} mb-2`,children:"Registry"}),u.jsx("p",{className:`text-xs ${b.textSecondary} leading-relaxed opacity-60`,children:"Manage students, classes, and analytics."}),u.jsxs("div",{className:"mt-auto flex items-center gap-2 text-blue-500 font-bold text-[10px] uppercase tracking-widest",children:["Open ",u.jsx(gl,{size:14})]})]}),u.jsxs("button",{onClick:()=>O("admin-fees"),className:`p-6 md:p-8 rounded-[2rem] ${b.surface} border ${b.border} shadow-xl hover:scale-[1.02] active:scale-95 transition-all group text-left relative overflow-hidden flex flex-col items-start min-h-[220px]`,children:[u.jsx("div",{className:"p-4 rounded-2xl bg-emerald-500/10 text-emerald-500 mb-6 group-hover:bg-emerald-500 group-hover:text-white transition-colors",children:u.jsx(G1,{size:24})}),u.jsx("h3",{className:`text-xl font-black ${b.textPrimary} mb-2`,children:"Fees Desk"}),u.jsx("p",{className:`text-xs ${b.textSecondary} leading-relaxed opacity-60`,children:"Track payments and reports."}),u.jsxs("div",{className:"mt-auto flex items-center gap-2 text-emerald-500 font-bold text-[10px] uppercase tracking-widest",children:["Check ",u.jsx(gl,{size:14})]})]}),u.jsxs("button",{onClick:()=>O("student-directory"),className:`p-6 md:p-8 rounded-[2rem] ${b.surface} border ${b.border} shadow-xl hover:scale-[1.02] active:scale-95 transition-all group text-left relative overflow-hidden flex flex-col items-start min-h-[220px]`,children:[u.jsx("div",{className:"p-4 rounded-2xl bg-purple-500/10 text-purple-500 mb-6 group-hover:bg-purple-500 group-hover:text-white transition-colors",children:u.jsx(q1,{size:24})}),u.jsx("h3",{className:`text-xl font-black ${b.textPrimary} mb-2`,children:"Contacts"}),u.jsx("p",{className:`text-xs ${b.textSecondary} leading-relaxed opacity-60`,children:"Directory & Verification."}),u.jsxs("div",{className:"mt-auto flex items-center gap-2 text-purple-500 font-bold text-[10px] uppercase tracking-widest",children:["View ",u.jsx(gl,{size:14})]})]}),u.jsxs("button",{onClick:()=>O("admin-users"),className:`p-6 md:p-8 rounded-[2rem] ${b.surface} border ${b.border} shadow-xl hover:scale-[1.02] active:scale-95 transition-all group text-left relative overflow-hidden flex flex-col items-start min-h-[220px]`,children:[u.jsx("div",{className:"p-4 rounded-2xl bg-orange-500/10 text-orange-500 mb-6 group-hover:bg-orange-500 group-hover:text-white transition-colors",children:u.jsx(wf,{size:24})}),u.jsx("h3",{className:`text-xl font-black ${b.textPrimary} mb-2`,children:"Access"}),u.jsx("p",{className:`text-xs ${b.textSecondary} leading-relaxed opacity-60`,children:"Manage Admin/Teacher accounts."}),u.jsxs("div",{className:"mt-auto flex items-center gap-2 text-orange-500 font-bold text-[10px] uppercase tracking-widest",children:["Manage ",u.jsx(gl,{size:14})]})]})]}),u.jsx("div",{className:"mt-6 md:mt-12 text-center",children:u.jsx("button",{onClick:()=>O("home"),className:`px-5 md:px-8 py-3 md:py-4 rounded-xl md:rounded-2xl bg-black/5 hover:bg-black/10 ${b.textSecondary} font-black text-[9px] uppercase tracking-[0.2em] transition-all`,children:"Return to Workspace"})})]})}),ki=()=>{const E=async()=>{if(!Fn||!Xn||!fa)return Ie("All fields required","error");Kn(!0);try{await KC(fa,Fn,Xn,ut),Ie(`User ${Fn} Created!`,"success"),ds(""),da(""),ha(""),zn()}catch{Ie("Failed to create user","error")}finally{Kn(!1)}},B=R=>{Va("Delete User?","This user will lose access immediately.",async()=>{try{await JC(R),Ie("User Deleted","success"),zn()}catch(q){Ie(q.message||"Failed","error")}})};return u.jsx("div",{className:"flex flex-col h-full animate-fade-in px-4 md:px-6 pt-6 md:pt-12 pb-32 overflow-y-auto w-full scrollbar-hide",children:u.jsxs("div",{className:"max-w-4xl mx-auto w-full space-y-8",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h1",{className:`text-3xl md:text-5xl font-black ${b.textPrimary} mb-2 tracking-tighter`,children:"Access Control"}),u.jsx("p",{className:`text-[10px] md:text-xs font-bold uppercase tracking-widest ${b.textSecondary} opacity-40`,children:"Admin Tools & Users"})]}),u.jsx("button",{onClick:()=>O("admin-menu"),className:`p-2 rounded-full hover:bg-black/10 ${b.textPrimary}`,children:u.jsx(Oa,{size:28})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8",children:[u.jsxs("div",{className:`p-6 md:p-8 rounded-[2rem] ${b.surface} border ${b.border} shadow-xl flex flex-col gap-6`,children:[u.jsx("h3",{className:`text-lg font-bold ${b.textPrimary} flex items-center gap-2`,children:"Authorize New Account"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:`text-[10px] font-black uppercase tracking-widest ${b.textSecondary} mb-2 block opacity-50`,children:"Display Name"}),u.jsx("input",{value:fa,onChange:R=>ha(R.target.value),className:`w-full p-4 rounded-xl bg-black/10 border ${b.border} ${b.textPrimary} font-bold outline-none focus:ring-2 focus:ring-indigo-500/30 transition-all`,placeholder:"e.g. Sir Daniyal"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:`text-[10px] font-black uppercase tracking-widest ${b.textSecondary} mb-2 block opacity-50`,children:"Username"}),u.jsx("input",{value:Fn,onChange:R=>ds(R.target.value),className:`w-full p-4 rounded-xl bg-black/10 border ${b.border} ${b.textPrimary} font-bold outline-none focus:ring-2 focus:ring-indigo-500/30 transition-all`,placeholder:"Login ID"})]}),u.jsxs("div",{children:[u.jsx("label",{className:`text-[10px] font-black uppercase tracking-widest ${b.textSecondary} mb-2 block opacity-50`,children:"Password"}),u.jsx("input",{value:Xn,onChange:R=>da(R.target.value),type:"text",className:`w-full p-4 rounded-xl bg-black/10 border ${b.border} ${b.textPrimary} font-bold outline-none focus:ring-2 focus:ring-indigo-500/30 transition-all`,placeholder:"Pass"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:`text-[10px] font-black uppercase tracking-widest ${b.textSecondary} mb-2 block opacity-50`,children:"Permission Role"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>Ni("teacher"),className:`flex-1 p-4 rounded-xl border font-black transition-all ${ut==="teacher"?"bg-indigo-600 text-white border-indigo-600":`bg-black/10 border-slate-700 ${b.textSecondary}`}`,children:"Teacher"}),u.jsx("button",{onClick:()=>Ni("admin"),className:`flex-1 p-4 rounded-xl border font-black transition-all ${ut==="admin"?"bg-indigo-600 text-white border-indigo-600":`bg-black/10 border-slate-700 ${b.textSecondary}`}`,children:"Admin"})]})]}),u.jsx(jt,{onClick:E,fullWidth:!0,themeAccent:b.accent,disabled:wi,children:wi?"Creating...":"Create Account"})]})]}),u.jsxs("div",{className:`p-6 md:p-8 rounded-[2rem] ${b.surface} border ${b.border} shadow-xl flex flex-col`,children:[u.jsx("h3",{className:`text-lg font-bold ${b.textPrimary} mb-6 flex items-center gap-2`,children:"Active Accounts"}),u.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2 scrollbar-hide",children:Ya.map(R=>u.jsxs("div",{className:"p-4 rounded-2xl bg-black/5 border border-white/5 flex items-center justify-between group hover:border-white/10 transition-all",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center font-black text-[10px] ${R.role==="admin"?"bg-indigo-500/20 text-indigo-400":"bg-orange-500/20 text-orange-400"}`,children:R.role[0].toUpperCase()}),u.jsxs("div",{children:[u.jsx("h4",{className:`font-black text-xs md:text-sm ${b.textPrimary}`,children:R.name}),u.jsx("p",{className:"text-[8px] md:text-[9px] font-black opacity-30 uppercase tracking-widest",children:R.id})]})]}),!["admin_ayan","admin_wahab"].includes(R.id)&&u.jsx("button",{onClick:()=>B(R.id),className:"p-2 rounded-lg text-red-500 hover:bg-red-500/10 transition-all",children:u.jsx(Ws,{size:16})})]},R.id))})]})]})]})})},ys=()=>{let E=0,B=0,R=0;const q=[...sn].sort((P,te)=>{var pe,Ft;const F=((pe=ca[P.id])==null?void 0:pe.isPaid)||!1,ke=((Ft=ca[te.id])==null?void 0:Ft.isPaid)||!1;return F===ke?P.name.localeCompare(te.name):F?1:-1});return q.forEach(P=>{const te=ca[P.id];te!=null&&te.isPaid?(E+=te.amount,B++):R++}),u.jsx("div",{className:"flex flex-col h-full animate-fade-in px-4 md:px-6 pt-6 md:pt-12 pb-32 overflow-y-auto w-full",children:u.jsxs("div",{className:"max-w-7xl mx-auto w-full",children:[u.jsxs("div",{className:"mb-6 flex flex-col gap-4",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h1",{className:`text-2xl md:text-3xl font-extrabold ${b.textPrimary}`,children:"Fees Manager"}),u.jsx("p",{className:`text-xs md:text-sm ${b.textSecondary}`,children:"Track & Manage Payments"})]}),u.jsx("button",{onClick:()=>O("admin-menu"),className:`p-2 rounded-full hover:bg-black/5 ${b.textPrimary}`,children:u.jsx(Oa,{size:20})})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-end",children:[u.jsxs("div",{className:"w-full sm:w-auto",children:[u.jsx("label",{className:`text-[9px] font-black uppercase tracking-[0.2em] ${b.textSecondary} mb-1.5 block ml-1 opacity-50`,children:"Select Month"}),u.jsx("input",{type:"month",value:cs,onChange:P=>to(P.target.value),className:`w-full sm:w-auto p-3.5 rounded-2xl ${b.surface} border ${b.border} ${b.textPrimary} font-bold outline-none text-sm md:text-base shadow-lg`})]}),u.jsx(Nf,{value:Ot,options:Te,onChange:us,theme:b,label:"Select Class"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4 mb-6 md:mb-8",children:[u.jsxs("div",{className:"p-5 md:p-6 rounded-[1.5rem] md:rounded-[2rem] bg-emerald-500 text-white shadow-xl shadow-emerald-500/20",children:[u.jsx("p",{className:"text-emerald-100 text-[10px] md:text-xs font-bold uppercase tracking-wider mb-1",children:"Total Collected"}),u.jsxs("h3",{className:"text-2xl md:text-3xl font-black",children:["PKR ",E.toLocaleString()]})]}),u.jsxs("div",{className:`p-5 md:p-6 rounded-[1.5rem] md:rounded-[2rem] ${b.surface} border ${b.border} flex items-center justify-between`,children:[u.jsxs("div",{children:[u.jsx("p",{className:`text-[10px] md:text-xs font-bold uppercase tracking-wider ${b.textSecondary} mb-1`,children:"Paid"}),u.jsx("h3",{className:`text-2xl md:text-3xl font-black ${b.textPrimary}`,children:B})]}),u.jsx("div",{className:"p-3 rounded-full bg-emerald-500/10 text-emerald-500",children:u.jsx(Sc,{size:20})})]}),u.jsxs("div",{className:`p-5 md:p-6 rounded-[1.5rem] md:rounded-[2rem] ${b.surface} border ${b.border} flex items-center justify-between`,children:[u.jsxs("div",{children:[u.jsx("p",{className:`text-[10px] md:text-xs font-bold uppercase tracking-wider ${b.textSecondary} mb-1`,children:"Due"}),u.jsx("h3",{className:`text-2xl md:text-3xl font-black ${b.textPrimary}`,children:R})]}),u.jsx("div",{className:"p-3 rounded-full bg-red-500/10 text-red-500",children:u.jsx(Yc,{size:20})})]})]}),u.jsxs("div",{className:`p-4 md:p-6 rounded-[1.5rem] md:rounded-[2rem] ${b.surface} border ${b.border} mb-6 md:mb-8 flex flex-col sm:flex-row items-center justify-between gap-4`,children:[u.jsxs("div",{className:"text-center sm:text-left",children:[u.jsx("h4",{className:`font-bold text-sm md:text-base ${b.textPrimary}`,children:"Default Class Fee"}),u.jsx("p",{className:`text-[10px] md:text-xs ${b.textSecondary}`,children:"Applies to all students unless overridden"})]}),u.jsxs("div",{className:"flex items-center gap-2 bg-black/5 p-2 px-4 rounded-xl border border-white/5",children:[u.jsx("span",{className:`${b.textSecondary} font-black text-xs`,children:"PKR"}),u.jsx("input",{type:"number",value:qa[Ot]||2e3,onChange:P=>jl(te=>({...te,[Ot]:Number(P.target.value)})),onBlur:P=>Ti(Number(P.target.value)),className:`w-20 md:w-24 bg-transparent ${b.textPrimary} font-black outline-none text-right text-sm md:text-base`})]})]}),u.jsx("div",{className:"space-y-3",children:s?q.length===0?u.jsx("div",{className:"text-center py-12 opacity-50",children:u.jsxs("p",{className:"text-sm",children:["No students in Class ",Ot]})}):q.map(P=>{const te=ca[P.id],F=(te==null?void 0:te.isPaid)||!1,ke=P.customFee||qa[P.classId]||2e3;return u.jsx("div",{className:`p-4 rounded-2xl border transition-all ${F?`${b.surface} ${b.border} opacity-50`:`${b.surface} border-red-500/30 shadow-lg`}`,children:u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[u.jsx(qc,{name:P.name,avatar:P.avatarSeed,size:"sm"}),u.jsxs("div",{children:[u.jsx("h3",{className:`font-bold text-sm md:text-base ${b.textPrimary}`,children:P.name}),u.jsxs("p",{className:`text-[9px] md:text-[10px] ${b.textSecondary}`,children:["Class ",P.classId," ",P.phone&&` ${P.phone}`]})]})]}),u.jsxs("div",{className:"flex items-center justify-between md:justify-end gap-3 md:gap-4",children:[u.jsxs("div",{className:"flex flex-col items-end",children:[u.jsx("label",{className:"text-[8px] md:text-[9px] uppercase font-black opacity-30",children:"Amount"}),u.jsx("input",{type:"number",defaultValue:ke,onBlur:pe=>uo(P.id,Number(pe.target.value)),className:`w-16 md:w-20 bg-transparent border-b border-dashed border-slate-500 text-right font-black text-xs md:text-sm ${b.textPrimary} outline-none focus:border-indigo-500`})]}),u.jsxs("button",{onClick:()=>Qa(P),className:`px-4 md:px-6 py-2 md:py-3 rounded-xl font-black text-[10px] md:text-xs flex items-center gap-2 transition-all active:scale-95 ${F?"bg-green-500/10 text-green-600":"bg-red-500 text-white shadow-lg"}`,children:[F?u.jsx(bc,{size:14}):u.jsx(Oa,{size:14})," ",F?"PAID":"UNPAID"]})]})]})},P.id)}):[1,2,3].map(P=>u.jsx("div",{className:`p-6 rounded-2xl ${b.surface} border ${b.border} animate-pulse h-20`},P))})]})})},ho=()=>{const{totalPresent:E,totalAbsent:B,totalLeave:R,totalMarks:q,presentPercentage:P,gradientStyle:te}=lo;return u.jsx("div",{className:"flex flex-col h-full animate-fade-in px-4 md:px-6 pt-6 md:pt-12 pb-32 overflow-y-auto w-full",children:u.jsxs("div",{className:"max-w-7xl mx-auto w-full",children:[u.jsxs("div",{className:"mb-6 flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h1",{className:`text-2xl md:text-4xl font-black ${b.textPrimary}`,children:"Admin Console"}),u.jsx("p",{className:`text-xs md:text-sm ${b.textSecondary}`,children:"Analytics Hub"})]}),u.jsx("button",{onClick:()=>O("admin-menu"),className:`p-2 rounded-full hover:bg-black/10 ${b.textPrimary}`,children:u.jsx(Oa,{size:24})})]}),u.jsxs("div",{className:`p-5 md:p-8 rounded-[1.5rem] md:rounded-[2.5rem] ${b.surface} border ${b.border} mb-6 shadow-xl`,children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6 border-b border-white/5 pb-4",children:[" ",u.jsx("div",{className:"p-2 bg-orange-500/10 rounded-xl",children:u.jsx(Dx,{className:"text-orange-500",size:20})})," ",u.jsx("h3",{className:`font-black text-lg md:text-xl ${b.textPrimary}`,children:"Settings"})," "]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 md:gap-6 p-4 rounded-2xl bg-black/5 border border-white/5",children:[u.jsxs("div",{className:`w-24 h-24 rounded-full border-4 border-dashed ${b.border} flex items-center justify-center cursor-pointer hover:bg-white/5 overflow-hidden relative group transition-all`,onClick:()=>{var F;return(F=oa.current)==null?void 0:F.click()},children:[" ",Ue?u.jsx("img",{src:Ue,className:"w-full h-full object-cover"}):u.jsxs("div",{className:"text-center",children:[u.jsx(R_,{size:24,className:"mx-auto mb-1 opacity-50"}),u.jsx("span",{className:"text-[8px] opacity-50 uppercase tracking-widest font-black",children:"Logo"})]})," "]}),u.jsx("input",{type:"file","min-width":"0",ref:oa,className:"hidden",accept:"image/*",onChange:Pa}),u.jsxs("div",{className:"text-center sm:text-left",children:[" ",u.jsx("h4",{className:`text-base md:text-lg font-black ${b.textPrimary}`,children:"Identity"})," ",u.jsx("p",{className:`text-[10px] ${b.textSecondary} mb-2`,children:"512x512 recommended"})," ",u.jsx("button",{onClick:()=>{var F;return(F=oa.current)==null?void 0:F.click()},className:"px-4 py-2 bg-indigo-500 text-white rounded-xl text-[10px] font-black uppercase transition-all shadow-lg",children:"Change"})," "]})]}),u.jsxs("div",{className:`p-5 md:p-6 rounded-2xl bg-black/5 border ${b.border}`,children:[u.jsx("h4",{className:`text-[10px] font-black ${b.textPrimary} mb-4 uppercase tracking-[0.2em] opacity-40`,children:"Management"}),u.jsxs("div",{className:"flex gap-2 mb-4",children:[u.jsx("input",{type:"text",value:de,onChange:F=>st(F.target.value),placeholder:"Add Class...",className:`flex-1 px-4 py-2 rounded-xl bg-white/5 border ${b.border} ${b.textPrimary} text-xs outline-none focus:ring-2 focus:ring-indigo-500/50`}),u.jsx("button",{onClick:fo,disabled:!de.trim(),className:`px-4 py-2 rounded-xl ${b.accent} text-white font-black text-xs uppercase tracking-widest disabled:opacity-50`,children:"Add"})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:Te.map(F=>u.jsxs("div",{className:`px-3 py-1 rounded-lg border ${b.border} ${b.surface} flex items-center gap-2`,children:[" ",u.jsx("span",{className:`text-[10px] font-black ${b.textPrimary}`,children:F})," ",u.jsx("button",{onClick:()=>kl(F),className:"text-red-400 hover:text-red-500",children:u.jsx(Oa,{size:10})})," "]},F))})]})]})]}),u.jsxs("div",{className:`p-4 md:p-6 rounded-[1.5rem] md:rounded-[2.5rem] ${b.surface} border ${b.border} mb-6`,children:[u.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[u.jsxs("div",{className:"flex items-center justify-between h4 font-black",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[" ",u.jsx(df,{className:"text-emerald-500",size:18})," ",u.jsx("h3",{className:`font-black text-sm md:text-base ${b.textPrimary}`,children:"Performance"})," "]}),u.jsx(Nf,{value:gt,options:Te,onChange:Ba,theme:b,label:"Registry Class"})]}),u.jsxs("div",{className:"flex items-center justify-between bg-black/5 p-2 rounded-xl border border-white/5",children:[u.jsx("button",{onClick:()=>Wr(new Date(Vt.getFullYear(),Vt.getMonth()-1,1)),className:`p-2 rounded-lg hover:bg-black/10 ${b.textPrimary}`,children:u.jsx(na,{size:14})}),u.jsxs("span",{className:`text-[10px] md:text-xs font-black uppercase tracking-widest ${b.textPrimary}`,children:[" ",Vt.toLocaleDateString("en-US",{month:"short",year:"numeric"})," "]}),u.jsx("button",{onClick:()=>Wr(new Date(Vt.getFullYear(),Vt.getMonth()+1,1)),disabled:new Date(Vt.getFullYear(),Vt.getMonth()+1,1)>new Date,className:`p-2 rounded-lg hover:bg-black/10 ${b.textPrimary} disabled:opacity-20`,children:u.jsx(gl,{size:14})})]})]}),u.jsx("div",{className:"flex flex-col lg:flex-row items-center justify-center gap-8 md:gap-12 py-4",children:q===0?u.jsxs("div",{className:"h-40 flex flex-col items-center justify-center opacity-30 text-xs italic",children:[u.jsx(df,{size:32,className:"mb-2"})," No Data"]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"relative w-48 h-48 md:w-64 md:h-64 rounded-full flex items-center justify-center shadow-2xl",style:{background:te},children:u.jsxs("div",{className:`w-36 h-36 md:w-48 md:h-48 rounded-full ${b.surface} flex flex-col items-center justify-center shadow-inner`,children:[u.jsxs("span",{className:`text-4xl md:text-5xl font-black ${b.textPrimary}`,children:[Math.round(P),"%"]}),u.jsx("span",{className:`text-[10px] md:text-xs font-black uppercase opacity-40 ${b.textSecondary}`,children:"Presence"})]})}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-3 w-full max-w-md overflow-x-auto pb-2",children:[{label:"Present",count:E,color:"bg-emerald-500",bg:"bg-emerald-500/5"},{label:"Leave",count:R,color:"bg-orange-500",bg:"bg-orange-500/5"},{label:"Absent",count:B,color:"bg-red-500",bg:"bg-red-500/5"}].map(F=>u.jsxs("div",{className:`flex items-center justify-between p-4 rounded-2xl ${F.bg} border border-white/5 min-w-[200px] hover:scale-[1.02] transition-transform`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-3 h-3 rounded-full ${F.color} shadow-[0_0_10px_rgba(0,0,0,0.2)]`}),u.jsx("span",{className:`text-sm font-black ${b.textPrimary}`,children:F.label})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`text-sm font-black ${b.textSecondary}`,children:F.count}),u.jsx("span",{className:"text-[10px] opacity-30 font-bold",children:"PTS"})]})]},F.label))})]})})]}),u.jsxs("div",{className:`p-5 md:p-8 rounded-[1.5rem] md:rounded-[2.5rem] ${b.surface} border ${b.border} mb-8`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-4 border-b border-white/5 pb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[" ",u.jsx(Js,{className:"text-blue-500",size:18})," ",u.jsx("h3",{className:`font-black text-sm md:text-base ${b.textPrimary}`,children:"Students"})," "]}),u.jsx("button",{onClick:()=>Vn(!0),className:`px-4 py-2 rounded-xl text-[10px] font-black ${b.accent} text-white uppercase tracking-widest shadow-lg active:scale-95 transition-all`,children:"Add New"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 max-h-80 overflow-y-auto pr-1 scrollbar-hide",children:Ae.length===0?u.jsx("div",{className:"col-span-full py-10 opacity-30 text-center text-xs italic",children:"No students detected"}):Ae.map((F,ke)=>u.jsxs("div",{onClick:()=>{Qn(F),Ha("admin-dashboard"),O("student-profile")},className:`flex items-center justify-between p-3 rounded-xl border ${b.border} bg-black/5 hover:bg-white/5 transition-all cursor-pointer`,children:[" ",u.jsxs("div",{className:"flex items-center gap-3",children:[" ",u.jsx("div",{className:"w-6 h-6 rounded-lg bg-white/5 flex items-center justify-center text-[10px] font-black opacity-30",children:ke+1})," ",u.jsx("span",{className:`font-black text-xs md:text-sm ${b.textPrimary} truncate max-w-[120px]`,children:F.name})," "]})," ",u.jsx("button",{onClick:pe=>Ln(pe,F.id),className:"p-1.5 text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",children:u.jsx(Ws,{size:14})})," "]},F.id))})]})]})})},vs=()=>{if(!Pn)return null;const E=Pn,B=fs[E.id]||0,R=me.filter(pe=>pe.classId===E.classId),q=R.filter(pe=>pe.records&&(pe.records[E.id]==="present"||pe.records[E.id]===!0)).length,P=R.filter(pe=>pe.records&&(pe.records[E.id]==="absent"||pe.records[E.id]===!1)).length,te=R.filter(pe=>pe.records&&pe.records[E.id]==="leave").length,F=q+P+te,ke=F>0?`conic-gradient(#10b981 0% ${q/F*100}%, #f97316 ${(q+te)/F*100}% ${(q+te)/F*100}%, #ef4444 ${(q+te)/F*100}% 100%)`:"conic-gradient(#334155 0% 100%)";return u.jsx("div",{className:"flex flex-col h-full animate-fade-in px-4 md:px-6 pt-6 md:pt-12 pb-32 overflow-y-auto w-full",children:u.jsxs("div",{className:"max-w-2xl mx-auto w-full",children:[u.jsx("button",{onClick:()=>O(rs),className:`p-2 -ml-2 mb-2 rounded-full hover:bg-black/5 ${b.textPrimary}`,children:u.jsx(na,{size:24})}),u.jsxs("div",{className:`p-6 md:p-10 rounded-[2rem] md:rounded-[3rem] ${b.surface} border ${b.border} shadow-2xl mb-6 flex flex-col items-center text-center gap-4`,children:[u.jsxs("div",{className:"relative",children:[" ",u.jsx(qc,{avatar:E.avatarSeed,name:E.name,size:"xl"})," ",u.jsx("div",{className:"absolute -bottom-1 -right-1 w-10 h-10 rounded-full bg-indigo-500 border-4 border-slate-900 flex items-center justify-center text-white",children:u.jsx(_r,{size:16})})," "]}),u.jsxs("div",{children:[u.jsx("h2",{className:`text-2xl md:text-3xl font-black ${b.textPrimary} tracking-tight mb-1`,children:E.name}),u.jsxs("p",{className:`${b.textSecondary} font-black uppercase tracking-[0.2em] text-[9px] opacity-40 mb-4`,children:["Class ",E.classId,"  ID: ",E.id.slice(-6).toUpperCase()]}),u.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-black/5 border border-white/5",children:[" ",u.jsx(Tx,{size:12,className:"text-indigo-400"})," ",u.jsx("span",{className:`text-xs font-black ${b.textPrimary}`,children:E.phone||"No Link"})," "]}),u.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-xl ${B>75?"bg-green-500/10 text-green-500":"bg-orange-500/10 text-orange-500"}`,children:[" ",u.jsx(D_,{size:12})," ",u.jsxs("span",{className:"text-xs font-black",children:[B,"% Presence"]})," "]})]})]})]}),u.jsxs("div",{className:`p-6 md:p-10 rounded-[2rem] md:rounded-[3rem] ${b.surface} border ${b.border} shadow-xl mb-6`,children:[u.jsxs("h3",{className:`text-lg font-black ${b.textPrimary} mb-6 flex items-center gap-2`,children:[" ",u.jsx(df,{className:"text-indigo-400",size:20})," Distribution "]}),u.jsxs("div",{className:"flex flex-col items-center justify-center gap-8",children:[u.jsxs("div",{className:"relative w-44 h-44 rounded-full flex items-center justify-center shadow-2xl",style:{background:ke},children:[" ",u.jsxs("div",{className:`w-32 h-32 rounded-full ${b.surface} flex flex-col items-center justify-center shadow-inner`,children:[" ",u.jsxs("span",{className:`text-3xl font-black ${b.textPrimary}`,children:[B,"%"]})," ",u.jsx("span",{className:`text-[8px] font-black uppercase opacity-40 ${b.textSecondary}`,children:"Activity"})," "]})," "]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 w-full",children:[" ",[{label:"Present",count:q,color:"bg-emerald-500"},{label:"Leave",count:te,color:"bg-orange-500"},{label:"Absent",count:P,color:"bg-red-500"}].map(pe=>u.jsxs("div",{className:"flex flex-col items-center p-3 rounded-2xl bg-black/5 border border-white/5",children:[" ",u.jsx("span",{className:"text-[10px] font-black uppercase opacity-40 mb-1",children:pe.label})," ",u.jsx("span",{className:`text-lg font-black ${b.textPrimary}`,children:pe.count})," "]},pe.label))," "]})]})]}),u.jsxs("button",{onClick:()=>$n(E),className:`w-full p-4 rounded-3xl ${b.surface} border ${b.border} flex items-center justify-center gap-3 hover:bg-white/5 transition-all shadow-lg active:scale-95`,children:[" ",u.jsx(E_,{size:18,className:"text-indigo-500"})," ",u.jsx("span",{className:`text-xs font-black uppercase tracking-widest ${b.textPrimary}`,children:"Update Archive"})," "]})]})})},bs=()=>nu<768?u.jsx("div",{className:"flex flex-col min-h-full bg-transparent overflow-y-auto scrollbar-hide pb-40 w-full animate-fade-in",children:u.jsxs("div",{className:"px-6 py-10 w-full",children:[u.jsxs("div",{className:"flex justify-between items-center mb-10",children:[u.jsxs("div",{children:[u.jsx("h1",{className:`text-5xl font-black ${b.textPrimary} tracking-tighter`,children:"My Classes"}),u.jsx("p",{className:`text-[10px] font-black uppercase tracking-[0.3em] opacity-40 ${b.textPrimary} mt-2`,children:"Guardian Portal"})]}),u.jsx("div",{className:"w-12 h-12 rounded-2xl bg-slate-800 flex items-center justify-center text-white border border-white/10 overflow-hidden shadow-2xl",children:Ue?u.jsx("img",{src:Ue,className:"w-full h-full object-cover"}):u.jsx(_r,{size:24})})]}),u.jsx("div",{className:"grid grid-cols-2 gap-5",children:Te.length===0?[1,2,3,4].map(B=>u.jsx("div",{className:`aspect-[4/5] rounded-[2.5rem] ${b.surface} border ${b.border} animate-pulse`},B)):Te.map((B,R)=>{const q=[C1,_r,Js,wf,T_,Xl],P=q[R%q.length];return u.jsxs("button",{onClick:()=>gs(B),className:`relative flex flex-col items-start p-6 rounded-[2.5rem] ${b.surface} border ${b.border} shadow-[0_20px_40px_-15px_rgba(0,0,0,0.3)] active:scale-90 transition-all text-left group overflow-hidden aspect-[4/5]`,children:[u.jsx("div",{className:"absolute top-4 right-4 text-slate-500 opacity-20",children:u.jsx(P1,{size:16})}),u.jsx("div",{className:`p-4 rounded-2xl ${b.accent} text-white mb-6 shadow-xl`,children:u.jsx(P,{size:24})}),u.jsxs("h3",{className:`text-xl font-black ${b.textPrimary} leading-tight`,children:["Class",u.jsx("br",{}),B]}),u.jsx("div",{className:"mt-auto w-full",children:u.jsx("div",{className:"w-full h-1.5 bg-black/10 rounded-full overflow-hidden",children:u.jsx("div",{className:`h-full ${b.accent} w-1/3 opacity-50`})})})]},B)})})]})}):u.jsx("div",{className:"flex flex-col h-full pt-12 animate-fade-in px-10 pb-32 overflow-y-auto w-full scrollbar-hide",children:u.jsxs("div",{className:"max-w-7xl mx-auto w-full",children:[u.jsxs("div",{className:"mb-10 flex justify-between items-end",children:[u.jsxs("div",{children:[u.jsx("h1",{className:`text-5xl font-black ${b.textPrimary} tracking-tighter leading-none mb-2`,children:"IJ EDUCATION"}),u.jsxs("p",{className:`${b.textSecondary} text-sm font-black uppercase tracking-[0.3em] opacity-30`,children:["Institution Portal  ",N==null?void 0:N.name]})]}),u.jsx("div",{className:"flex items-center gap-3",children:u.jsxs("div",{onClick:()=>$(!Ve),className:`flex items-center gap-2 text-[10px] uppercase font-black px-5 py-2.5 rounded-full border glass cursor-pointer transition-all ${Ve?"text-green-400 border-green-500/30":"text-orange-400 border-orange-500/30 shadow-lg"}`,children:[" ",u.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${Ve?"bg-green-500 animate-pulse":"bg-orange-500"}`})," ",Ve?"Network Live":"Offline Mode"," "]})})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8",children:Te.length===0?[1,2,3].map(B=>u.jsx("div",{className:`h-48 rounded-[3rem] ${b.surface} border ${b.border} animate-pulse bg-white/5`},B)):Te.map((B,R)=>{const q=["from-blue-600 to-indigo-700","from-violet-600 to-purple-700","from-fuchsia-600 to-pink-700","from-emerald-600 to-teal-700","from-rose-600 to-red-700","from-amber-500 to-orange-700"];return u.jsxs("div",{onClick:()=>gs(B),className:`group relative overflow-hidden h-52 rounded-[3rem] shadow-2xl transition-all duration-500 hover:scale-[1.02] active:scale-95 cursor-pointer bg-gradient-to-br ${q[R%q.length]} text-white border border-white/10 hover:shadow-indigo-500/20`,children:[u.jsx("div",{className:"absolute inset-0 bg-white/5 mix-blend-overlay"}),u.jsxs("div",{className:"absolute -top-4 -right-4 p-8 opacity-10 transform rotate-12 group-hover:scale-125 group-hover:rotate-6 transition-all duration-700",children:[" ",u.jsx(Js,{size:140})," "]}),u.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-between p-8",children:[u.jsxs("div",{className:"flex items-baseline gap-2",children:[" ",u.jsx("h2",{className:"text-7xl font-black tracking-tighter drop-shadow-2xl",children:B})," ",u.jsx("span",{className:"text-xl font-bold opacity-60 uppercase tracking-[0.2em]",children:"Class"})," "]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] opacity-80 bg-black/20 px-5 py-2.5 rounded-full border border-white/10 group-hover:bg-white/20 transition-all backdrop-blur-sm",children:"Launch Space"}),u.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center group-hover:translate-x-2 group-hover:bg-white text-indigo-600 transition-all shadow-2xl backdrop-blur-md",children:u.jsx(gl,{size:22,strokeWidth:4})})]})]})]},B)})})]})}),mo=()=>{const E=w&&V?{total:V.length,present:V.filter(R=>w[R.id]==="present"||w[R.id]===!0).length}:{total:0,present:0},B=E.total>0?E.present/E.total*100:0;return u.jsxs("div",{className:"flex flex-col h-full animate-fade-in relative w-full",children:[u.jsxs("div",{className:"px-4 md:px-6 pt-6 md:pt-12 pb-4 flex items-center justify-between",children:[u.jsx("button",{onClick:()=>O("home"),className:`p-2 -ml-2 rounded-full hover:bg-white/10 transition-all ${b.textPrimary}`,children:u.jsx(na,{size:24})}),u.jsx("div",{className:"flex flex-col items-center",children:u.jsx(Nf,{value:le||"",options:Te,onChange:gs,theme:b,label:"Current Workspace"})}),u.jsxs("div",{className:"w-10 flex justify-end",children:[" ",!Ve&&u.jsx(j0,{size:18,className:"text-orange-400"})," "]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto pb-32 px-4 md:px-6 scrollbar-hide w-full",children:u.jsxs("div",{className:"max-w-7xl mx-auto w-full",children:[u.jsxs("div",{className:"mb-6 md:mb-10 text-center",children:[u.jsx("h3",{className:`text-4xl md:text-5xl font-black ${b.textPrimary} tracking-tight`,children:qt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),u.jsx("p",{className:`text-[10px] md:text-xs font-black ${b.textSecondary} mt-2 uppercase tracking-[0.3em] opacity-40`,children:new Date().toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 md:gap-8",children:[u.jsx("div",{className:`md:col-span-5 relative flex flex-col items-center justify-center p-6 md:p-8 rounded-[2rem] md:rounded-[3rem] bg-gradient-to-tr from-indigo-500/5 via-purple-500/5 to-pink-500/5 border ${b.border} shadow-inner`,children:u.jsx(NE,{percentage:B,size:window.innerWidth<768?140:180,colorStart:"#6366f1",colorEnd:"#d946ef"})}),u.jsxs("div",{className:"md:col-span-7 flex flex-col gap-4 md:gap-6",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[u.jsxs("div",{className:"p-4 md:p-6 rounded-2xl md:rounded-3xl bg-white/5 border border-white/5 text-center",children:[" ",u.jsx("span",{className:"block text-2xl md:text-3xl font-black text-green-400 mb-1",children:E.present})," ",u.jsx("span",{className:`text-[8px] md:text-[10px] font-black uppercase opacity-40 ${b.textPrimary}`,children:"Present"})," "]}),u.jsxs("div",{className:"p-4 md:p-6 rounded-2xl md:rounded-3xl bg-white/5 border border-white/5 text-center",children:[" ",u.jsx("span",{className:"block text-2xl md:text-3xl font-black text-red-400 mb-1",children:E.total-E.present})," ",u.jsx("span",{className:`text-[8px] md:text-[10px] font-black uppercase opacity-40 ${b.textPrimary}`,children:"Absent"})," "]})]}),u.jsxs(jt,{fullWidth:!0,onClick:()=>O("attendance"),themeAccent:b.accent,className:"shadow-2xl py-4 md:py-5 text-sm md:text-lg rounded-2xl md:rounded-3xl font-black uppercase tracking-widest bg-indigo-600",children:[" Register Attendance ",u.jsx(N1,{size:20,className:"ml-2"})," "]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[" ",[{id:"timetable",icon:_0,label:"Timeline"},{id:"calculator",icon:j1,label:"Analytics"}].map(R=>u.jsxs("button",{onClick:()=>O(R.id),className:"p-4 rounded-3xl border border-white/5 bg-white/5 flex flex-col items-center justify-center gap-2 hover:bg-white/10 active:scale-95 transition-all",children:[" ",u.jsxs("div",{className:"p-3 rounded-2xl bg-white/5 text-indigo-400",children:[" ",u.jsx(R.icon,{size:24})," "]})," ",u.jsx("span",{className:`text-[10px] font-black ${b.textPrimary} uppercase tracking-widest`,children:R.label})," "]},R.id))," "]})]})]})]})})]})},Qt=()=>{const B=new Date().getDate()>10;return u.jsxs("div",{className:"flex flex-col h-full animate-fade-in bg-opacity-50 w-full",children:[u.jsxs("div",{className:`px-4 md:px-6 pt-6 md:pt-12 pb-4 flex items-center justify-between z-20 ${b.surface} border-b ${b.border} backdrop-blur-md sticky top-0`,children:[u.jsx("button",{onClick:()=>O("dashboard"),className:`p-2 -ml-2 rounded-full hover:bg-black/5 ${b.textPrimary}`,children:u.jsx(na,{size:24})}),u.jsx("div",{className:"flex flex-col items-center",children:u.jsxs("div",{className:"flex items-center gap-2",children:[" ",!Ve&&u.jsx(j0,{size:14,className:"text-orange-400"})," ",u.jsx("h2",{className:`text-sm md:text-lg font-black ${b.textPrimary} uppercase tracking-widest`,children:"Registry"})," "]})}),u.jsxs("button",{onClick:ou,className:`px-4 py-2 rounded-xl ${b.accent} text-white text-[10px] font-black uppercase tracking-widest shadow-lg active:scale-95 transition-all`,children:[" ",Ve?"Sync":"Save"," "]})]}),u.jsx("div",{className:`px-4 py-2 ${b.bg}`,children:u.jsxs("div",{className:"relative",children:[u.jsx(kx,{className:`absolute left-4 top-1/2 -translate-y-1/2 opacity-30 ${b.textPrimary}`,size:16}),u.jsx("input",{value:nt,onChange:R=>be(R.target.value),placeholder:"Search student by name or ID...",className:`w-full p-4 pl-12 rounded-2xl ${b.surface} border ${b.border} ${b.textPrimary} font-bold text-sm outline-none focus:ring-4 focus:ring-indigo-500/10 transition-all placeholder:opacity-30`})]})}),u.jsxs("div",{className:`px-4 py-2 flex gap-3 ${b.bg}`,children:[u.jsxs("button",{onClick:()=>co(!0),className:"flex-1 py-3 rounded-xl bg-green-500/10 text-green-600 text-[9px] font-black uppercase tracking-[0.2em] flex items-center justify-center gap-2 border border-green-500/20 active:scale-95 transition-all",children:[u.jsx(Sc,{size:14})," Clear All"]}),u.jsxs("button",{onClick:()=>co(!1),className:"flex-1 py-3 rounded-xl bg-red-500/10 text-red-500 text-[9px] font-black uppercase tracking-[0.2em] flex items-center justify-center gap-2 border border-red-500/20 active:scale-95 transition-all",children:[u.jsx(b0,{size:14})," Mark All"]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto px-4 pb-32 pt-2 scrollbar-hide",children:u.jsx("div",{className:"max-w-7xl mx-auto w-full",children:s?V.length===0?u.jsxs("div",{className:"text-center py-20 opacity-30 flex flex-col items-center",children:[u.jsx(Js,{size:40,className:"mb-4"}),u.jsx("p",{className:"text-sm font-black uppercase tracking-widest",children:"Base Empty"})]}):u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:V.filter(R=>nt===""||R.name.toLowerCase().includes(nt.toLowerCase())||R.id.toLowerCase().includes(nt.toLowerCase())).map((R,q)=>{var Ft;const P=w[R.id],te=P==="present"||P===!0,F=P==="leave",ke=fs[R.id]||0,pe=B&&!((Ft=ca[R.id])!=null&&Ft.isPaid);return u.jsxs("div",{className:`group relative flex flex-col p-4 rounded-[1.5rem] border transition-all ${te?`${b.surface} ${b.border}`:F?"bg-orange-500/5 border-orange-500/20":"bg-red-500/5 border-red-500/20"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>{Qn(R),Ha("attendance"),O("student-profile")},children:[u.jsxs("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center border font-black text-xs ${te?"bg-green-500/10 text-green-500 border-green-500/20":F?"bg-orange-500/10 text-orange-500 border-orange-500/20":"bg-red-500/10 text-red-500 border-red-500/20"}`,children:[" ",q+1," "]}),u.jsxs("div",{children:[" ",u.jsx("h3",{className:`font-black text-sm ${b.textPrimary}`,children:R.name})," ",u.jsxs("div",{className:"flex items-center gap-2",children:[" ",u.jsxs("span",{className:`text-[8px] font-black uppercase ${ke>75?"text-green-500":"text-orange-500"}`,children:["Rate: ",ke,"%"]})," ",pe&&u.jsx("span",{className:"bg-red-500 text-white px-1.5 py-0.5 rounded text-[7px] font-black animate-pulse",children:"DEBT"})," "]})," "]})]}),u.jsx("div",{onClick:()=>Ci(R.id),className:`w-10 h-10 rounded-xl flex items-center justify-center cursor-pointer transition-all shadow-lg active:scale-95 ${te?"bg-green-500 text-white":F?"bg-orange-500 text-white":"bg-red-500 text-white"}`,children:te?u.jsx(bc,{size:18,strokeWidth:4}):F?u.jsx(E0,{size:18,strokeWidth:3}):u.jsx(Oa,{size:18,strokeWidth:4})})]}),u.jsxs("div",{className:"flex items-center justify-between opacity-40",children:[u.jsxs("span",{className:`text-[9px] font-black ${b.textSecondary}`,children:["ID: ",R.id.slice(-6).toUpperCase()]}),u.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest ${te?"text-green-500":F?"text-orange-500":"text-red-500"}`,children:te?"Present":F?"Leave":"Absent"})]})]},R.id)})}):u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[" ",[1,2,3].map(R=>u.jsx("div",{className:`h-32 rounded-3xl ${b.surface} border ${b.border} animate-pulse`},R))," "]})})})]})},ga=()=>me?u.jsx("div",{className:"flex flex-col h-full animate-fade-in px-6 pt-12 pb-32 w-full",children:u.jsxs("div",{className:"max-w-7xl mx-auto w-full",children:[u.jsx("h2",{className:`text-3xl font-bold ${b.textPrimary} mb-6`,children:"Attendance History"}),u.jsx("div",{className:"pb-20",children:me.length===0?u.jsxs("div",{className:`text-center py-20 opacity-50 ${b.textSecondary}`,children:[u.jsx(Ff,{size:64,className:"mx-auto mb-4 opacity-20"}),u.jsx("p",{className:"text-xl font-medium",children:"No records found yet"}),u.jsx("p",{className:"text-sm mt-1",children:"Attendance data will appear here once saved."})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:me.map(E=>{if(!E||!E.date)return null;const B=new Date(E.date),R=E.records||{},q=Object.values(R).filter(te=>te===!0||te==="present").length,P=Object.keys(R).length;return u.jsxs("div",{onClick:()=>ji(E),className:`p-5 rounded-3xl ${b.surface} border ${b.border} flex justify-between items-center cursor-pointer hover:scale-[1.03] active:scale-95 transition-all shadow-sm hover:shadow-xl group`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`p-3 rounded-2xl ${b.bg} group-hover:bg-indigo-500/10 transition-colors`,children:u.jsx(Ex,{size:20,className:b.textSecondary})}),u.jsxs("div",{children:[u.jsx("h3",{className:`font-bold ${b.textPrimary}`,children:B.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})}),u.jsxs("p",{className:`text-xs ${b.textSecondary}`,children:["Class ",E.classId]})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"text-right",children:[u.jsxs("span",{className:`text-lg font-black ${b.accentText}`,children:[q,"/",P]}),u.jsx("p",{className:`text-[10px] ${b.textSecondary} uppercase font-bold tracking-widest`,children:"Present"})]}),(N==null?void 0:N.role)==="admin"&&u.jsx("button",{onClick:te=>Ei(te,E),className:"p-2 rounded-full bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white transition-all transform hover:rotate-12",children:u.jsx(Ws,{size:18})})]})]},E.id)})})})]})}):null,_s=()=>{const E=()=>{const q=Math.max(0,...Y.map(P=>P.id))+1;K([...Y,{id:q,name:"New Period",start:"00:00",end:"00:00"}])},B=q=>{K(Y.filter(P=>P.id!==q))},R=(q,P,te)=>{K(Y.map(F=>F.id===q?{...F,[P]:te}:F))};return u.jsx("div",{className:"flex flex-col h-full animate-fade-in px-4 md:px-12 pt-12 pb-32 overflow-y-auto w-full scrollbar-hide",children:u.jsxs("div",{className:"max-w-xl mx-auto w-full",children:[u.jsxs("div",{className:"mb-10 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:()=>O("dashboard"),className:`p-3 rounded-2xl hover:bg-black/5 ${b.textPrimary} transition-all`,children:u.jsx(na,{size:24})}),u.jsxs("div",{children:[u.jsx("h2",{className:`text-3xl font-black ${b.textPrimary}`,children:"Daily Schedule"}),u.jsx("p",{className:`text-[10px] uppercase font-black tracking-widest opacity-40 ${b.textPrimary}`,children:"Institution Timeline"})]})]}),u.jsx("button",{onClick:()=>ge(!ce),className:`px-5 py-2.5 rounded-xl font-black text-[10px] uppercase tracking-widest transition-all ${ce?"bg-emerald-500 text-white shadow-lg":"bg-black/5 "+b.textPrimary}`,children:ce?"Done Editing":"Manage"})]}),u.jsxs("div",{className:"space-y-4",children:[Y.length===0&&u.jsx("div",{className:"text-center py-20 opacity-20 italic font-bold",children:"No slots scheduled."}),Y.sort((q,P)=>q.start.localeCompare(P.start)).map(q=>{const P=new Date,[te,F]=q.start.split(":").map(Number),[ke,pe]=q.end.split(":").map(Number),Ft=new Date;Ft.setHours(te||0,F||0,0);const At=new Date;At.setHours(ke||0,pe||0,0);const Xt=P>=Ft&&P<=At;return u.jsxs("div",{className:`group relative p-5 md:p-6 rounded-[2rem] border transition-all duration-300 ${Xt?`${b.accent} text-white shadow-2xl scale-[1.02] border-transparent`:`${b.surface} ${b.border} hover:border-white/20 shadow-xl`}`,children:[ce&&u.jsx("button",{onClick:()=>B(q.id),className:"absolute -right-2 -top-2 w-8 h-8 rounded-full bg-red-500 text-white flex items-center justify-center shadow-lg hover:scale-110 active:scale-95 transition-all z-10",children:u.jsx(Ws,{size:14})}),u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex-1",children:[ce?u.jsx("input",{value:q.name,onChange:xa=>R(q.id,"name",xa.target.value),className:`w-full bg-black/5 border ${b.border} rounded-xl px-3 py-2 text-sm font-black ${b.textPrimary} outline-none focus:ring-2 ring-indigo-500/50 mb-2`}):u.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[u.jsx("h3",{className:`text-lg md:text-xl font-black ${Xt?"text-white":b.textPrimary}`,children:q.name}),q.isBreak&&u.jsx("span",{className:"text-[9px] bg-orange-500/20 text-orange-500 px-2.5 py-1 rounded-full font-black uppercase tracking-widest border border-orange-500/20",children:"Break"}),Xt&&u.jsx("span",{className:"text-[9px] bg-white/20 text-white px-2.5 py-1 rounded-full font-black uppercase tracking-widest animate-pulse border border-white/20",children:"Active Now"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(_0,{size:12,className:Xt?"text-white/60":"opacity-40"}),ce?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"time",value:q.start,onChange:xa=>R(q.id,"start",xa.target.value),className:`bg-black/5 border ${b.border} rounded-lg px-2 py-1 text-[10px] font-bold ${b.textPrimary}`}),u.jsx("span",{className:"opacity-30",children:"to"}),u.jsx("input",{type:"time",value:q.end,onChange:xa=>R(q.id,"end",xa.target.value),className:`bg-black/5 border ${b.border} rounded-lg px-2 py-1 text-[10px] font-bold ${b.textPrimary}`})]}):u.jsxs("span",{className:`text-xs font-black uppercase tracking-widest ${Xt?"text-white/80":b.textSecondary+" opacity-60"}`,children:[q.start,"  ",q.end]})]})]}),ce&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("label",{className:`text-[9px] font-black uppercase tracking-widest opacity-40 ${b.textPrimary}`,children:"Break?"}),u.jsx("input",{type:"checkbox",checked:!!q.isBreak,onChange:xa=>R(q.id,"isBreak",xa.target.checked),className:"w-5 h-5 accent-orange-500"})]})]})]},q.id)}),ce&&u.jsxs("button",{onClick:E,className:`w-full p-6 dashed-border rounded-[2rem] border-2 border-dashed ${b.border} flex items-center justify-center gap-3 hover:bg-white/5 transition-all text-xs font-black uppercase tracking-widest opacity-60 hover:opacity-100 ${b.textPrimary}`,children:[u.jsx(Nc,{size:20})," Add Time Slot"]})]})]})})},Dl=()=>u.jsx("div",{className:"flex flex-col h-full animate-fade-in px-6 pt-12 pb-32 w-full items-center justify-center relative",children:u.jsxs("div",{className:"max-w-md w-full",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[u.jsx("button",{onClick:()=>O("dashboard"),className:`p-3 rounded-2xl hover:bg-black/5 ${b.textPrimary} transition-all`,children:u.jsx(na,{size:24})}),u.jsx("h2",{className:`text-4xl font-black ${b.textPrimary}`,children:"Calculator"})]}),u.jsxs("div",{className:`w-full p-8 rounded-[3rem] ${b.surface} border ${b.border} shadow-2xl`,children:[u.jsxs("div",{className:`mb-8 p-10 rounded-[2rem] bg-black/10 border ${b.border} text-right overflow-hidden shadow-inner`,children:[u.jsx("div",{className:`text-xs ${b.textSecondary} font-mono mb-2 h-4 opacity-50`,children:Ga}),u.jsx("div",{className:`text-5xl font-mono font-bold ${b.textPrimary} tracking-tighter truncate`,children:so})]}),u.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[u.jsx("button",{onClick:()=>{rn("0"),Rt("")},className:"p-6 rounded-[1.5rem] bg-red-500/10 text-red-500 font-black text-xl hover:bg-red-500 hover:text-white transition-all",children:"AC"}),u.jsx("button",{onClick:()=>{rn(E=>E.length>1?E.slice(0,-1):"0"),Rt(E=>E.length>1?E.slice(0,-1):"")},className:`p-6 rounded-[1.5rem] ${b.bg} ${b.textPrimary} font-black text-xl hover:bg-black/10 transition-all`,children:u.jsx(na,{size:24,className:"mx-auto"})}),u.jsx("button",{onClick:()=>Pt("/"),className:"p-6 rounded-[1.5rem] bg-indigo-500/10 text-indigo-500 font-black text-xl hover:bg-indigo-500 hover:text-white transition-all",children:""}),u.jsx("button",{onClick:()=>Pt("*"),className:"p-6 rounded-[1.5rem] bg-indigo-500/10 text-indigo-500 font-black text-xl hover:bg-indigo-500 hover:text-white transition-all",children:""}),[7,8,9].map(E=>u.jsx("button",{onClick:()=>Pt(String(E)),className:`p-6 rounded-[1.5rem] ${b.bg} ${b.textPrimary} font-black text-2xl hover:bg-black/10 transition-all`,children:E},E)),u.jsx("button",{onClick:()=>Pt("-"),className:"p-6 rounded-[1.5rem] bg-indigo-500/10 text-indigo-500 font-black text-xl hover:bg-indigo-500 hover:text-white transition-all",children:""}),[4,5,6].map(E=>u.jsx("button",{onClick:()=>Pt(String(E)),className:`p-6 rounded-[1.5rem] ${b.bg} ${b.textPrimary} font-black text-2xl hover:bg-black/10 transition-all`,children:E},E)),u.jsx("button",{onClick:()=>Pt("+"),className:"p-6 rounded-[1.5rem] bg-indigo-500/10 text-indigo-500 font-black text-xl hover:bg-indigo-500 hover:text-white transition-all",children:"+"}),[1,2,3].map(E=>u.jsx("button",{onClick:()=>Pt(String(E)),className:`p-6 rounded-[1.5rem] ${b.bg} ${b.textPrimary} font-black text-2xl hover:bg-black/10 transition-all`,children:E},E)),u.jsx("button",{onClick:()=>Pt("="),className:`p-6 rounded-[1.5rem] ${b.accent} text-white font-black text-2xl shadow-xl shadow-indigo-500/20 active:scale-90 transition-all`,children:"="}),u.jsx("button",{onClick:()=>Pt("0"),className:`col-span-2 p-6 rounded-[1.5rem] ${b.bg} ${b.textPrimary} font-black text-2xl hover:bg-black/10 transition-all`,children:"0"}),u.jsx("button",{onClick:()=>Pt("."),className:`p-6 rounded-[1.5rem] ${b.bg} ${b.textPrimary} font-black text-2xl hover:bg-black/10 transition-all`,children:"."})]})]})]})});return u.jsxs("div",{className:`h-screen w-screen overflow-hidden ${b.bg} flex flex-col md:flex-row relative`,children:[pt&&u.jsxs("div",{className:"fixed inset-0 z-[300] bg-black/60 backdrop-blur-sm flex items-center justify-center flex-col text-white",children:[u.jsx("div",{className:"w-12 h-12 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin mb-4"}),u.jsx("p",{className:"font-bold tracking-wider animate-pulse",children:"Loading Class Data..."})]}),Ia&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-fade-in p-6",children:u.jsxs("div",{className:`${b.surface} border ${b.border} w-full max-w-md p-6 rounded-[2rem] shadow-2xl flex flex-col`,children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:`text-xl font-bold ${b.textPrimary}`,children:"Add Students"}),u.jsx("button",{onClick:()=>Vn(!1),className:`p-2 rounded-full hover:bg-white/5 ${b.textPrimary}`,children:u.jsx(Oa,{size:20})})]}),u.jsxs("p",{className:`text-xs ${b.textSecondary} mb-4`,children:["Enter names (one per line) for ",u.jsxs("strong",{children:["Class ",v==="admin-dashboard"?gt:le]}),"."]}),u.jsx("textarea",{value:ia,onChange:E=>Jt(E.target.value),className:`w-full h-32 p-4 rounded-xl bg-black/5 border ${b.border} ${b.textPrimary} outline-none focus:ring-2 focus:ring-indigo-500/50 resize-none mb-4`,placeholder:`Ali, +92 335 1234567
Ahmed, 0300 1234567
Sara...`}),u.jsxs("div",{className:`p-3 rounded-xl bg-indigo-500/10 border border-indigo-500/20 mb-4 text-[11px] ${b.textSecondary}`,children:[u.jsx("strong",{children:"Format Guide:"}),u.jsx("br",{})," Name only: ",u.jsx("code",{children:"Ali"}),u.jsx("br",{})," Name + Phone: ",u.jsx("code",{children:"Ali, +92 335..."})," (Comma separated)",u.jsx("br",{}),u.jsx("span",{className:"text-indigo-400",children:"Add phone numbers to view in student directory."})]}),u.jsxs("div",{className:"flex gap-3 mt-auto",children:[u.jsx(jt,{variant:"secondary",onClick:()=>Vn(!1),fullWidth:!0,className:b.textPrimary,children:"Cancel"}),u.jsx(jt,{onClick:xs,fullWidth:!0,themeAccent:b.accent,children:"Add Students"})]})]})}),zt&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-fade-in p-6",children:u.jsxs("div",{className:`${b.surface} border ${b.border} w-full max-w-sm p-8 rounded-[2.5rem] shadow-2xl flex flex-col gap-6`,children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h3",{className:`text-2xl font-black ${b.textPrimary}`,children:"Edit Student"}),u.jsx("button",{onClick:()=>Tl(null),className:`p-2 rounded-full hover:bg-white/5 ${b.textPrimary}`,children:u.jsx(Oa,{size:20})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:`text-[10px] font-black uppercase tracking-widest ${b.textSecondary} mb-2 block`,children:"Full Name"}),u.jsx("input",{type:"text",value:hs,onChange:E=>ms(E.target.value),className:`w-full p-4 rounded-2xl bg-black/5 border ${b.border} ${b.textPrimary} outline-none focus:ring-2 focus:ring-indigo-500/50`})]}),u.jsxs("div",{children:[u.jsx("label",{className:`text-[10px] font-black uppercase tracking-widest ${b.textSecondary} mb-2 block`,children:"Phone Number"}),u.jsx("input",{type:"text",value:ps,onChange:E=>Al(E.target.value),className:`w-full p-4 rounded-2xl bg-black/5 border ${b.border} ${b.textPrimary} outline-none focus:ring-2 focus:ring-indigo-500/50`,placeholder:"+92..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:`text-[10px] font-black uppercase tracking-widest ${b.textSecondary} mb-2 block`,children:"Assign Class"}),u.jsx("select",{value:Gt,onChange:E=>Rn(E.target.value),className:`w-full p-4 rounded-2xl bg-black/5 border ${b.border} ${b.textPrimary} outline-none focus:ring-2 focus:ring-indigo-500/50`,children:Te.map(E=>u.jsxs("option",{value:E,children:["Class ",E]},E))})]})]}),u.jsxs("div",{className:"flex gap-3 mt-4",children:[u.jsx(jt,{variant:"secondary",onClick:()=>Tl(null),fullWidth:!0,className:b.textPrimary,children:"Cancel"}),u.jsx(jt,{onClick:Ai,fullWidth:!0,themeAccent:b.accent,children:"Save Changes"})]})]})}),ls&&u.jsx(ME,{message:ls.message,type:ls.type,onClose:()=>Jr(null)}),u.jsx(DE,{isOpen:ra.isOpen,title:ra.title,message:ra.message,onConfirm:ra.onConfirm,onCancel:()=>bi(E=>({...E,isOpen:!1})),theme:b}),l?u.jsx(RE,{}):o?u.jsx(zE,{onFinish:io,logo:Ue}):u.jsx(u.Fragment,{children:v==="login"?u.jsx(CE,{theme:b,onLogin:ro,onToast:Ie,logo:Ue}):u.jsxs(u.Fragment,{children:[u.jsx(wE,{currentView:v,onChangeView:E=>{E==="history"?oo():O(E==="admin-dashboard"?"admin-menu":E)},theme:b,user:N,onLogout:pa,width:On,onStartResize:au,isResizing:Sn,logo:Ue,shouldHide:on}),u.jsxs("div",{className:"flex-1 h-full min-h-0 relative scrollbar-hide overflow-y-auto overflow-x-auto w-full flex flex-col",children:[v==="home"&&bs(),en&&u.jsx(OE,{message:"Welcome! No classes found. Start by creating a class in the admin panel to begin tracking.",action:"Create Class",onAction:()=>{ss(!1),O("admin-menu")},onClose:()=>ss(!1),theme:b}),v==="dashboard"&&mo(),v==="attendance"&&Qt(),v==="history"&&ga(),v==="todo"&&u.jsx(kE,{theme:b,currentUser:N,onToast:Ie}),v==="settings"&&u.jsx(jE,{theme:b,themeId:x,onThemeChange:ru,currentUser:N,onUpdateUser:_,onLogout:pa,onToast:Ie,enableAnimations:h,onToggleAnimations:p}),v==="timetable"&&_s(),v==="calculator"&&Dl(),v==="admin-dashboard"&&(N==null?void 0:N.role)==="admin"&&ho(),v==="admin-menu"&&(N==null?void 0:N.role)==="admin"&&Zn(),v==="admin-fees"&&(N==null?void 0:N.role)==="admin"&&ys(),v==="admin-users"&&(N==null?void 0:N.role)==="admin"&&ki(),v==="student-directory"&&u.jsx(EE,{theme:b,onBack:()=>O("admin-menu"),availableClasses:Te,selectedClass:Ot,onSelectClass:us,students:sn,onViewProfile:E=>{Qn(E),Ha("student-directory"),O("student-profile")},attendanceStats:fs}),v==="student-profile"&&Pn&&vs(),_i&&v==="home"&&u.jsx(LE,{theme:b,onClose:is}),v==="history-detail"&&G&&u.jsxs("div",{className:"flex flex-col h-full animate-fade-in bg-opacity-50",children:[u.jsxs("div",{className:`px-4 md:px-6 pt-12 pb-4 flex items-center justify-between z-20 ${b.surface} border-b ${b.border} backdrop-blur-md`,children:[u.jsx("button",{onClick:()=>O(Je),className:`p-2 -ml-2 rounded-full hover:bg-black/5 ${b.textPrimary}`,children:u.jsx(na,{})}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("h2",{className:`text-lg font-bold ${b.textPrimary}`,children:new Date(G.date).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})}),u.jsxs("p",{className:`text-xs ${b.textSecondary}`,children:["Class ",G.classId]})]}),u.jsx("div",{className:"w-8"})]}),u.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 py-4 pb-32",children:u.jsx("div",{className:"max-w-3xl mx-auto space-y-4",children:ae.map((E,B)=>{const R=G.records?G.records[E.id]:!1;return u.jsxs("div",{className:`flex flex-col p-4 md:p-5 rounded-3xl border ${b.surface} ${b.border} hover:shadow-lg transition-all gap-3 relative w-full overflow-hidden`,children:[u.jsxs("div",{className:"flex items-center justify-between w-full overflow-x-auto scrollbar-hide",children:[u.jsxs("div",{className:"flex items-center gap-4 min-w-[150px]",children:[u.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border ${b.border} text-[10px] font-bold opacity-30 flex-shrink-0`,children:B+1}),u.jsx("span",{className:`font-bold ${b.textPrimary} text-sm md:text-base whitespace-nowrap`,children:E.name})]}),u.jsxs("div",{className:`flex-shrink-0 px-4 md:px-6 py-2 rounded-full text-[10px] md:text-xs font-black uppercase tracking-widest flex items-center gap-2 ${R==="present"||R===!0?"bg-green-500/10 text-green-600":R==="leave"?"bg-orange-500/10 text-orange-600":"bg-red-500/10 text-red-600"}`,children:[R==="present"||R===!0?u.jsx(bc,{size:14,strokeWidth:3}):R==="leave"?u.jsx(E0,{size:14,strokeWidth:3}):u.jsx(b0,{size:14,strokeWidth:3}),R==="present"||R===!0?"Present":R==="leave"?"Leave":"Absent"]})]}),E.phone&&u.jsx("div",{className:"flex items-center justify-between mt-1 pt-2 border-t border-white/5 w-full",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(m_,{size:12,className:"text-slate-500"}),u.jsx("span",{className:"text-[10px] font-mono text-slate-400",children:E.phone})]})})]},E.id)})})})]})]},v)]})})]})}const uv=document.getElementById("root");if(!uv)throw new Error("Could not find root element to mount to");const HE=g1.createRoot(uv);HE.render(u.jsx(qr.StrictMode,{children:u.jsx(UE,{})}));
